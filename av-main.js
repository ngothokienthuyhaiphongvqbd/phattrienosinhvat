var glen={ModuleLevel:{Element:"element",Layout:"layout",Slide:"slide"}},rns={None:"None",Fade:"Fade",Push:"Push",Split:"Split",RandomBars:"RandomBars",Circle:"Circle",Diamond:"Diamond",Plus:"Plus",In:"In",Out:"Out",Zoom:"Zoom",Uncover:"Uncover",Cover:"Cover",Newsflash:"Newsflash",Dissolve:"Dissolve",Checkerboard:"Checkerboard",Blinds:"Blinds",Clock:"Clock",Airplane:"Airplane",Box:"Box",Comb:"Comb",Conveyor:"Conveyor",Crush:"Crush",Cube:"Cube",Curtains:"Curtains",Cut:"Cut",Doors:"Doors",Drape:"Drape",FallOver:"FallOver",FerrisWheel:"FerrisWheel",Flip:"Flip",Fracture:"Fracture",Gallery:"Gallery",Glitter:"Glitter",Honeycomb:"Honeycomb",Morph:"Morph",Orbit:"Orbit",Origami:"Origami",PageCurl:"PageCurl",Pan:"Pan",PeelOff:"PeelOff",Prestige:"Prestige",Reveal:"Reveal",Ripple:"Ripple",Shred:"Shred",Switch:"Switch",Vortex:"Vortex",Wind:"Wind",Window:"Window",Rotate:"Rotate",FlyThrough:"FlyThrough",Circle:"Circle",Diamon:"Diamon",Plus:"Plus"},tsoss={Smoothly:"Smoothly",ThroughBack:"Through Back",Bottom:"Bottom",Left:"Left",Right:"Right",Top:"Top",VerticalIn:"Vertical In",votz:"Vertical Out",vbdz:"Horizontal In",hzj:"Horizontal Out",Vertical:"Vertical",BottomRight:"Bottom Right",BottomLeft:"Bottom Left",TopRight:"Top Right",TopLeft:"Top Left",Clockwise:"Clockwise",Counterclockwise:"Counterclockwise",In:"In",Out:"Out"},annw={None:"None",Fade:"Fade",Grow:"Grow",Fly:"Fly",Float:"Float",Split:"Split",Wipe:"Wipe",Shape:"Shape",Wheel:"Wheel",RandomBars:"RandomBars",Spin:"Spin",SpinGrow:"Spin&Grow",GrowSpin:"Grow&Spin",Zoom:"Zoom",Swivel:"Swivel",Bounce:"Bounce"},antz={Entrance:"Entrance",Emphasis:"Emphasis",Exit:"Exit",MotionPath:"Motion Path"},anffx={Direction:"Direction",Enter:"Enter",Sequence:"Sequence",Amount:"Amount",Shapes:"Shapes"},efps={Clockwise:"Clockwise",Counterclockwise:"Counterclockwise",VerticalIn:"Vertical In",votz:"Vertical Out",vbdz:"Horizontal In",hzj:"Horizontal Out",Horizontal:"Horizontal",Vertical:"Vertical",Bottom:"Bottom",Left:"Left",Right:"Right",Top:"Top",Out:"Out",In:"In",Circle:"Circle",Box:"Box",Diamond:"Diamond",Plus:"Plus",Quarter:"Quarter Spin",Half:"Half Spin",Full:"Full Spin",Two:"Two Spins",Null:null,None:"None",Bottom:"Bottom",BottomLeft:"Bottom Left",Left:"Left",TopLeft:"Top Left",Top:"Top",TopRight:"Top Right",Right:"Right",BottomRight:"Bottom Right",AsOneObject:"One Object",ByParagraph:"Paragraph",Up:"Float Up",Down:"Float Down",ObjectCenter:"Object Center",SlideCenter:"Slide Center"},AnimationModule=function(){return{setAnimations:function(e,t,i){if(null!=e.a&&e.a.length>0)for(var a=0;a<e.a.length;a++)if("ZoomPan"==e.c)this.getZoomPan(e,t,i,(function(){onAnimationCompleted({sA:e.tim.sT,dA:.1},e)}));else if("Gesture"==e.c)this.getGesture(e,t,i,(function(){onAnimationCompleted({sA:e.tim.sT,dA:.1},e)}));else if("Cursor"==e.c)this.getCursorAnimation(e,t,(function(){if(e.clEf)switch(e.clSt){case"None":case"Single":var i=TweenMax.fromTo("#"+e.id+"_circle1",1,{scaleX:0,scaleY:0,x:e.hpX,y:-32+e.hpY,opacity:1},{scaleX:1,scaleY:1,x:e.hpX,y:-32+e.hpY,opacity:0,onComplete:function(){onAnimationCompleted({sA:e.tim.sT,dA:.1},e)}});t.add(i,e.anDu-1+e.tim.sT);break;case"Double":var a=TweenMax.fromTo("#"+e.id+"_circle1",1,{scaleX:0,scaleY:0,x:e.hpX,y:-32+e.hpY,opacity:1},{scaleX:1,scaleY:1,x:e.hpX,y:-32+e.hpY,opacity:0}),r=TweenMax.fromTo("#"+e.id+"_circle2",1,{scaleX:0,scaleY:0,x:e.hpX,y:-32+e.hpY,opacity:1},{scaleX:1,scaleY:1,x:e.hpX,y:-32+e.hpY,opacity:0,onComplete:function(){onAnimationCompleted({sA:e.tim.sT,dA:.1},e)}}).delay(.25);t.add(a,e.anDu-1+e.tim.sT),t.add(r,e.anDu-1+e.tim.sT)}switch(e.clSt){case"Single":case"Double":$("#"+e.id+"_audio")[0]&&$("#"+e.id+"_audio")[0].play()}}));else if(!this.checkTriggerBeginAnimation(e)){let i=e.a[a];this.getAnimation(i,e,t,(function(){onAnimationCompleted(i,e)}))}},checkTriggerBeginAnimation:function(e){var t=!1;return glrs.CurrentLayer&&glrs.CurrentLayer.Elements&&glrs.CurrentLayer.Elements.forEach((function(i){i.Data.tri&&i.Data.tri.forEach((function(i){if("BeginAnimation"===i.A&&i.S===e.id)return t=!0}))})),t},getZoomPan:function(e,t,i,a){var r=0==isMobile?e.topdkt:isTabletLandscape?e.toptls:isTabletPortrait?e.toptpt:isMobileLandscape?e.topmls:isMobilePortrait?e.topmpt:e.T,s=0==isMobile?e.lefdkt:isTabletLandscape?e.leftls:isTabletPortrait?e.leftpt:isMobileLandscape?e.lefmls:isMobilePortrait?e.lefmpt:e.l,n=TweenMax.to("#"+i,e.stD,{scaleX:e.scaX,scaleY:e.scaY,x:-e.scaX*s,y:-e.scaY*r,onComplete:a}),l=TweenMax.to("#"+i,e.stD,{scaleX:1,scaleY:1,x:0,y:0,onComplete:a});if(null!=t){var o=e.tim.dT;o<2&&(o=2),t.add(n,e.tim.sT),t.add(l,o+e.tim.sT-e.enD)}},getAnimation:function(s,n,l,o){switch(s.nm){case annw.Fade:!function(e,t,i,a){let r=null,s=null,n=null,l=null,o=null,h=null,d=null,c=null,p="#"+t.id;switch(e.typ){case antz.Entrance:if(0==$(p).find("text").length){if(r={opacity:0},s={opacity:1,onComplete:a},zahj.sopxz(e.eO,t,r,s),o=TweenMax.fromTo(p,e.dA,r,s),null!=i){let e=t.tim.sT||0;i.add(o,e)}}else if(null!=$(p).find("text"))for(var u=0;u<e.eO.length;u++)if(e.eO[u].grNm==anffx.Sequence)switch(e.eO[u].nm){case efps.AsOneObject:r={opacity:0},s={opacity:1,onComplete:a},zahj.sopxz(e.eO,t,r,s),o=TweenMax.fromTo(p,e.dA,r,s),null!=i&&(d=t.tim.sT||0,i.add(o,d));break;case efps.ByParagraph:var m=$(p).find("text");r={opacity:0},s={opacity:1};let n=$(p).find("path")[0],l=n.attributes[2].nodeValue,h=n.attributes[3].value,c=n.attributes[4].value;if(("0"==l||"transparent"==c)&"transparent"==h){zahj.sevz(e.eO,t,r,s);let n=TweenMax.staggerFromTo(m,e.dA/m.length,r,s,e.dA/m.length,a);null!=i&&(d=t.tim.sT||0,i.add(n,d))}else if(("0"!=l||"transparent"!=c)&"transparent"!=h){zahj.sopxz(e.eO,t,r,s),o=TweenMax.fromTo(p,e.dA/(m.length+1),r,s),zahj.sevz(e.eO,t,r,s);let n=TweenMax.staggerFromTo(m,e.dA/(m.length+1),r,s,e.dA/(m.length+1),a);null!=i&&(d=t.tim.sT||0,i.add(n,d+e.dA/(m.length+1)),i.add(o,d))}break;default:r={opacity:0},s={opacity:1,onComplete:a},zahj.sopxz(e.eO,t,r,s),o=TweenMax.fromTo(p,e.dA,r,s),null!=i&&(d=t.tim.sT||0,i.add(o,d))}break;case antz.Exit:if(null==$(p).find("text"))r={opacity:0},s={opacity:1,onComplete:a},zahj.sopxz(e.eO,t,r,s),h=TweenMax.fromTo(p,e.dA,s,r),null!=i&&(c=t.tim.sT+t.tim.dT-e.dA||0,i.add(h,c));else if(null!=$(p).find("text"))for(u=0;u<e.eO.length;u++)if(e.eO[u].grNm==anffx.Sequence)switch(e.eO[u].nm){case efps.AsOneObject:r={opacity:0,onComplete:a},s={opacity:1},zahj.sopxz(e.eO,t,r,s),h=TweenMax.fromTo(p,e.dA,s,r),null!=i&&(c=t.tim.sT+t.tim.dT-e.dA||0,i.add(h,c));break;case efps.ByParagraph:m=$(p).find("text");r={opacity:1},s={opacity:0};let o=$(p).find("path")[0],d=o.attributes[2].nodeValue,u=o.attributes[3].value,b=o.attributes[4].value,f=o.attributes[4].value,g=o.attributes[5].value,w=null;("0"==d||"transparent"==f)&"transparent"==u?(zahj.sevz(e.eO,t,s,r),w=TweenMax.staggerFromTo(m,e.dA/m.length,r,s,e.dA/m.length,a),null!=i&&(c=t.tim.sT+t.tim.dT-e.dA||0,i.add(w,c))):("0"!=d||"transparent"!=g)&"transparent"!=b&&(n={opacity:0},l={opacity:1},zahj.sopxz(e.eO,t,n,l),h=TweenMax.fromTo(p,e.dA/(m.length+1),l,n),zahj.sevz(e.eO,t,s,r),w=TweenMax.staggerFromTo(m,e.dA/(m.length+1),r,s,e.dA/(m.length+1),a),null!=i&&(c=t.tim.sT+t.tim.dT-e.dA||0,i.add(h,t.tim.dT-.5),i.add(w,c)));break;default:r={opacity:0,onComplete:a},s={opacity:1},zahj.sopxz(e.eO,t,r,s),h=TweenMax.fromTo(p,e.dA,s,r),null!=i&&(c=t.tim.sT+t.tim.dT-e.dA||0,i.add(h,c))}}}(s,n,l,o);break;case annw.Grow:!function(e,t,i,a){let r=null,s=null,n=null,l=null,o=null,h=null,d=null,c=null,p="#"+t.id;var u=0==isMobile?t.widdkt:isTabletLandscape?t.widtls:isTabletPortrait?t.widtpt:isMobileLandscape?t.widmls:isMobilePortrait?t.widmpt:t.w;0==isMobile?t.heidkt:isTabletLandscape?t.heitls:isTabletPortrait?t.heitpt:isMobileLandscape?t.heimls:isMobilePortrait?t.heimpt:t.h;switch(e.typ){case antz.Entrance:if(null==$(p).find("text"))r={scaleX:0,scaleY:0,autoAlpha:0},s={scaleX:1,scaleY:1,autoAlpha:1,onComplete:a},zahj.sopxz(e.eO,t,r,s),o=TweenMax.fromTo(p,e.dA,r,s),null!=i&&(d=t.tim.sT||0,i.add(o,d));else if(null!=$(p).find("text"))for(var m=0;m<e.eO.length;m++)if(e.eO[m].grNm==anffx.Sequence)switch(e.eO[m].nm){case efps.AsOneObject:r={scaleX:0,scaleY:0,autoAlpha:0},s={scaleX:1,scaleY:1,autoAlpha:1,onComplete:a},zahj.sopxz(e.eO,t,r,s),o=TweenMax.fromTo(p,e.dA,r,s),null!=i&&(d=t.tim.sT||0,i.add(o,d));break;case efps.ByParagraph:var b=$(p).find("text");r={autoAlpha:0,scaleX:0,scaleY:0,x:u/2},s={autoAlpha:1,scaleX:1,scaleY:1,x:0};let h=$(p).find("path")[0],c=h.attributes[2].nodeValue,m=h.attributes[3].value,f=h.attributes[4].value;if(("0"==c||"transparent"==f)&"transparent"==m){zahj.sevz(e.eO,t,r,s);let n=TweenMax.staggerFromTo(b,e.dA/b.length,r,s,e.dA/b.length,a);null!=i&&(d=t.tim.sT||0,i.add(n,d))}else if(("0"!=c||"transparent"!=f)&"transparent"!=m){n={scaleX:0,scaleY:0},l={scaleX:1,scaleY:1},zahj.sopxz(e.eO,t,n,l),o=TweenMax.fromTo(p,e.dA/(b.length+1),n,l),zahj.sevz(e.eO,t,r,s);let h=TweenMax.staggerFromTo(b,e.dA/(b.length+1),r,s,e.dA/(b.length+1),a);null!=i&&(d=t.tim.sT||0,i.add(h,d+e.dA/(b.length+1)),i.add(o,d))}break;default:r={scaleX:0,scaleY:0,autoAlpha:0},s={scaleX:1,scaleY:1,autoAlpha:1,onComplete:a},zahj.sopxz(e.eO,t,r,s),o=TweenMax.fromTo(p,e.dA,r,s),null!=i&&(d=t.tim.sT||0,i.add(o,d))}break;case antz.Exit:if(null==$(p).find("text")){if(r={scaleX:0,scaleY:0},s={scaleX:1,scaleY:1,onComplete:a},zahj.sopxz(e.eO,t,s,r),h=TweenMax.fromTo(p,e.dA,s,r),null!=i){let a=t.tim.sT+t.tim.dT-e.dA||0;i.add(h,a)}}else if(null!=$(p).find("text"))for(m=0;m<e.eO.length;m++)if(e.eO[m].grNm==anffx.Sequence)switch(e.eO[m].nm){case efps.AsOneObject:if(r={scaleX:0,scaleY:0,onComplete:a},s={scaleX:1,scaleY:1},zahj.sopxz(e.eO,t,r,s),h=TweenMax.fromTo(p,e.dA,s,r),null!=i){let a=t.tim.sT+t.tim.dT-e.dA||0;i.add(h,a)}break;case efps.ByParagraph:b=$(p).find("text");r={scaleX:0,scaleY:0,x:u/2},s={scaleX:1,scaleY:1,x:0};let o=$(p).find("path")[0],d=o.attributes[2].nodeValue,m=o.attributes[3].value,f=o.attributes[4].value,g=o.attributes[4].value,w=o.attributes[5].value,y=null;("0"==d||"transparent"==g)&"transparent"==m?(zahj.sevz(e.eO,t,r,s),y=TweenMax.staggerFromTo(b,e.dA/b.length,s,r,e.dA/b.length,a),null!=i&&(c=t.tim.sT+t.tim.dT-e.dA||0,i.add(y,c))):("0"!=d||"transparent"!=w)&"transparent"!=f&&(n={scaleX:0,scaleY:0},l={scaleX:1,scaleY:1},zahj.sopxz(e.eO,t,n,l),h=TweenMax.fromTo(p,e.dA/(b.length+1),l,n),zahj.sevz(e.eO,t,r,s),y=TweenMax.staggerFromTo(b,e.dA/(b.length+1),s,r,e.dA/(b.length+1),a),null!=i&&(c=t.tim.sT+t.tim.dT-e.dA||0,i.add(h,t.tim.dT-.5),i.add(y,c)));break;default:if(r={scaleX:0,scaleY:0,onComplete:a},s={scaleX:1,scaleY:1},zahj.sopxz(e.eO,t,r,s),h=TweenMax.fromTo(p,e.dA,s,r),null!=i){let a=t.tim.sT+t.tim.dT-e.dA||0;i.add(h,a)}}}}(s,n,l,o);break;case annw.Fly:!function(e,t,i,a){let r=null,s=null,n=null,l=null,o=null,h=null,d=null,c=null,p="#"+t.id;switch(e.typ){case antz.Entrance:if(null==$(p).find("text")||0==$(p).find("text").length)r={autoAlpha:0},s={autoAlpha:1,onComplete:a},zahj.sopxz(e.eO,t,r,s),r.ease=Power2.easeOut,o=TweenMax.fromTo(p,e.dA,r,s),null!=i&&(d=t.tim.sT||0,i.add(o,d));else if(null!=$(p).find("text"))for(var u=0;u<e.eO.length;u++)if(e.eO[u].grNm==anffx.Sequence)switch(e.eO[u].nm){case efps.AsOneObject:r={autoAlpha:0},s={autoAlpha:1,onComplete:a},zahj.sopxz(e.eO,t,r,s),r.ease=Power2.easeOut,o=TweenMax.fromTo(p,e.dA,r,s),null!=i&&(d=t.tim.sT||0,i.add(o,d));break;case efps.ByParagraph:var m=$(p).find("text");r={autoAlpha:0},s={autoAlpha:1};let n=$(p).find("path")[0],l=n.attributes[2].nodeValue,h=n.attributes[3].value,c=n.attributes[4].value;if(("0"==l||"transparent"==c)&"transparent"==h){zahj.sevz(e.eO,t,r,s);let n=TweenMax.staggerFromTo(m,e.dA/m.length,r,s,e.dA/m.length,a);null!=i&&(d=t.tim.sT||0,i.add(n,d))}else if(("0"!=l||"transparent"!=c)&"transparent"!=h){zahj.sopxz(e.eO,t,r,s),o=TweenMax.fromTo(p,e.dA/(m.length+1),r,s),zahj.sevz(e.eO,t,r,s);let n=TweenMax.staggerFromTo(m,e.dA/(m.length+1),r,s,e.dA/(m.length+1),a);null!=i&&(d=t.tim.sT||0,i.add(n,d+e.dA/(m.length+1)),i.add(o,d))}break;default:r={autoAlpha:0},s={autoAlpha:1,onComplete:a},zahj.sopxz(e.eO,t,r,s),r.ease=Power2.easeOut,o=TweenMax.fromTo(p,e.dA,r,s),null!=i&&(d=t.tim.sT||0,i.add(o,d))}break;case antz.Exit:if(null==$(p).find("text")||0==$(p).find("text").length)r={onComplete:a},s={},zahj.sopxz(e.eO,t,r,s),s.ease=Power2.easeOut,h=TweenMax.fromTo("#"+t.id,e.dA,s,r),null!=i&&(c=t.tim.sT+t.tim.dT-e.dA||0,i.add(h,c));else if(null!=$(p).find("text"))for(u=0;u<e.eO.length;u++)if(e.eO[u].grNm==anffx.Sequence)switch(e.eO[u].nm){case efps.AsOneObject:r={onComplete:a},s={},zahj.sopxz(e.eO,t,r,s),r.ease=Power2.easeOut,h=TweenMax.fromTo("#"+t.id,e.dA,s,r),null!=i&&(c=t.tim.sT+t.tim.dT-e.dA||0,i.add(h,c));break;case efps.ByParagraph:m=$(p).find("text");r={autoAlpha:1},s={autoAlpha:0};let o=$(p).find("path")[0],d=o.attributes[2].nodeValue,u=o.attributes[3].value,b=o.attributes[4].value,f=o.attributes[4].value,g=o.attributes[5].value,w=null;("0"==d||"transparent"==f)&"transparent"==u?(zahj.sevz(e.eO,t,s,r),w=TweenMax.staggerFromTo(m,e.dA/m.length,r,s,e.dA/m.length,a),null!=i&&(c=t.tim.sT+t.tim.dT-e.dA||0,i.add(w,c))):("0"!=d||"transparent"!=g)&"transparent"!=b&&(n={},l={},zahj.sopxz(e.eO,t,n,l),h=TweenMax.fromTo(p,e.dA/(m.length+1),l,n),zahj.sevz(e.eO,t,s,r),w=TweenMax.staggerFromTo(m,e.dA/(m.length+1),r,s,e.dA/(m.length+1),a),null!=i&&(c=t.tim.sT+t.tim.dT-e.dA||0,i.add(h,t.tim.dT-.5),i.add(w,c)));break;default:r={onComplete:a},s={},zahj.sopxz(e.eO,t,r,s),r.ease=Power2.easeOut,h=TweenMax.fromTo("#"+t.id,e.dA,s,r),null!=i&&(c=t.tim.sT+t.tim.dT-e.dA||0,i.add(h,c))}}}(s,n,l,o);break;case annw.Float:!function(e,t,i,a){let r=null,s=null,n=null,l=null,o=null,h=null,d=null,c=null,p="#"+t.id;switch(e.typ){case antz.Entrance:if(null==$(p).find("text")||0==$(p).find("text").length)r={opacity:0},s={opacity:1,onComplete:a},zahj.sopxz(e.eO,t,r,s),o=TweenMax.fromTo(p,e.dA,r,s),null!=i&&(d=t.tim.sT||0,i.add(o,d));else if(null!=$(p).find("text"))for(var u=0;u<e.eO.length;u++)if(e.eO[u].grNm==anffx.Sequence)switch(e.eO[u].nm){case efps.AsOneObject:r={opacity:0},s={opacity:1,onComplete:a},zahj.sopxz(e.eO,t,r,s),o=TweenMax.fromTo(p,e.dA,r,s),null!=i&&(d=t.tim.sT||0,i.add(o,d));break;case efps.ByParagraph:var m=$(p).find("text");r={opacity:0},s={opacity:1};let n=$(p).find("path")[0],l=n.attributes[2].nodeValue,h=n.attributes[3].value,c=n.attributes[4].value;if(("0"==l||"transparent"==c||"1"==l)&"transparent"==h){zahj.sevz(e.eO,t,r,s);let n=TweenMax.staggerFromTo(m,e.dA/m.length,r,s,e.dA/m.length,a);null!=i&&(d=t.tim.sT||0,i.add(n,d))}else if(("0"!=l||"transparent"!=c)&"transparent"!=h){zahj.sopxz(e.eO,t,r,s),o=TweenMax.fromTo(p,e.dA/(m.length+1),r,s),zahj.sevz(e.eO,t,r,s);let n=TweenMax.staggerFromTo(m,e.dA/(m.length+1),r,s,e.dA/(m.length+1),a);null!=i&&(d=t.tim.sT||0,i.add(n,d+e.dA/(m.length+1)),i.add(o,d))}break;default:r={opacity:0},s={opacity:1,onComplete:a},zahj.sopxz(e.eO,t,r,s),o=TweenMax.fromTo(p,e.dA,r,s),null!=i&&(d=t.tim.sT||0,i.add(o,d))}break;case antz.Exit:if(null==$(p).find("text")||0==$(p).find("text").length)r={opacity:0,onComplete:a},s={opacity:1},zahj.sopxz(e.eO,t,s,r),s.ease=Power2.easeOut,h=TweenMax.fromTo(p,e.dA,s,r),null!=i&&(c=t.tim.sT+t.tim.dT-e.dA||0,i.add(h,c));else if(null!=$(p).find("text"))for(u=0;u<e.eO.length;u++)if(e.eO[u].grNm==anffx.Sequence)switch(e.eO[u].nm){case efps.AsOneObject:r={opacity:0,onComplete:a},s={opacity:1},zahj.sopxz(e.eO,t,s,r),s.ease=Power2.easeOut,h=TweenMax.fromTo(p,e.dA,s,r),null!=i&&(c=t.tim.sT+t.tim.dT-e.dA||0,i.add(h,c));break;case efps.ByParagraph:m=$(p).find("text");r={opacity:0},s={opacity:1};let o=$(p).find("path")[0],d=o.attributes[2].nodeValue,u=o.attributes[3].value,b=o.attributes[4].value,f=o.attributes[4].value,g=o.attributes[5].value,w=null;("0"==d||"transparent"==f)&"transparent"==u?(zahj.sevz(e.eO,t,s,r),w=TweenMax.staggerFromTo(m,e.dA/m.length,s,r,e.dA/m.length,a),null!=i&&(c=t.tim.sT+t.tim.dT-e.dA||0,i.add(w,c))):("0"!=d||"transparent"!=g)&"transparent"!=b&&(n={opacity:0},l={opacity:1},zahj.sopxz(e.eO,t,l,n),h=TweenMax.fromTo(p,e.dA/(m.length+1),l,n),zahj.sevz(e.eO,t,s,r),w=TweenMax.staggerFromTo(m,e.dA/(m.length+1),s,r,e.dA/(m.length+1),a),null!=i&&(c=t.tim.sT+t.tim.dT-e.dA||0,i.add(h,t.tim.dT-.5),i.add(w,c)));break;default:r={opacity:0,onComplete:a},s={opacity:1},zahj.sopxz(e.eO,t,s,r),s.ease=Power2.easeOut,h=TweenMax.fromTo(p,e.dA,s,r),null!=i&&(c=t.tim.sT+t.tim.dT-e.dA||0,i.add(h,c))}}}(s,n,l,o);break;case annw.Split:!function(e,t,i,a){let r=null,s=null,n=null,l=null,o=null,h=null,d=null,c=null,p=null,u=null,m=null,b="#"+t.id,f=null;switch(e.typ){case antz.Entrance:if(null==$(b).find("text")||0==$(b).find("text").length)f=splanx(e,t),o={percent:100},h=TweenMax.to(f,e.dA,o),r={autoAlpha:0},s={autoAlpha:1,onComplete:a},zahj.sopxz(e.eO,t,r,s),d=TweenMax.fromTo("#"+t.id,e.dA,r,s),null!=i&&(u=t.tim.sT||0,i.add(h,u),i.add(d,u));else if(null!=$(b).find("text"))for(var g=0;g<e.eO.length;g++)if(e.eO[g].grNm==anffx.Sequence)switch(e.eO[g].nm){case efps.AsOneObject:f=splanx(e,t),o={percent:100},h=TweenMax.to(f,e.dA,o),r={autoAlpha:0},s={autoAlpha:1,onComplete:a},zahj.sopxz(e.eO,t,r,s),d=TweenMax.fromTo("#"+t.id,e.dA,r,s),null!=i&&(u=t.tim.sT||0,i.add(h,u),i.add(d,u));break;case efps.ByParagraph:var w=$(b).find("text");r={},s={},n={autoAlpha:0},l={autoAlpha:1};let c=$(b).find("path")[0],p=c.attributes[2].nodeValue,m=c.attributes[3].value,g=c.attributes[4].value,y=null;("0"==p||"transparent"==g)&"transparent"==m?(f=splanx(e,t),o={percent:100},h=TweenMax.to(f,e.dA,o),zahj.sopxz(e.eO,t,r,s),d=TweenMax.fromTo("#"+t.id,e.dA,r,s),y=TweenMax.staggerFromTo(w,e.dA/w.length,n,l,e.dA/w.length,a),null!=i&&(u=t.tim.sT||0,i.add(h,u),i.add(d,u),i.add(y,u))):("0"!=p||"transparent"!=g)&"transparent"!=m&&(f=splanx(e,t),o={percent:100},h=TweenMax.to(f,e.dA/(w.length+1),o),zahj.sopxz(e.eO,t,r,s),d=TweenMax.fromTo("#"+t.id,e.dA/(w.length+1),r,s),zahj.sevz(e.eO,t,n,l),y=TweenMax.staggerFromTo(w,e.dA/(w.length+1),n,l,e.dA/(w.length+1),a),null!=i&&(u=t.tim.sT||0,i.add(h,u),i.add(d,u),i.add(y,u+e.dA/(w.length+1))));break;default:f=splanx(e,t),o={percent:100},h=TweenMax.to(f,e.dA,o),r={autoAlpha:0},s={autoAlpha:1,onComplete:a},zahj.sopxz(e.eO,t,r,s),d=TweenMax.fromTo("#"+t.id,e.dA,r,s),null!=i&&(u=t.tim.sT||0,i.add(h,u),i.add(d,u))}break;case antz.Exit:if(null==$(b).find("text")||0==$(b).find("text").length)f=splanx(e,t),n={percent:100},l={percent:0},c=TweenMax.fromTo(f,e.dA,n,l),r={},s={onComplete:a},zahj.sopxz(e.eO,t,s,r),p=TweenMax.fromTo("#"+t.id,e.dA,r,s),null!=i&&(m=t.tim.sT+t.tim.dT-e.dA||0,i.add(c,m),i.add(p,m));else if(null!=$(b).find("text"))for(g=0;g<e.eO.length;g++)if(e.eO[g].grNm==anffx.Sequence)switch(e.eO[g].nm){case efps.AsOneObject:f=splanx(e,t),n={percent:100},l={percent:0},c=TweenMax.fromTo(f,e.dA,n,l),r={},s={onComplete:a},zahj.sopxz(e.eO,t,s,r),p=TweenMax.fromTo("#"+t.id,e.dA,r,s),null!=i&&(m=t.tim.sT+t.tim.dT-e.dA||0,i.add(c,m),i.add(p,m));break;case efps.ByParagraph:w=$(b).find("text");r={},s={},n={autoAlpha:1},l={autoAlpha:0};let o=$(b).find("path")[0],h=o.attributes[2].nodeValue,d=o.attributes[3].value,u=o.attributes[4].value,g=o.attributes[4].value,y=o.attributes[5].value,v=null,C=null,T=null;("0"==h||"transparent"==g)&"transparent"==d?(f=splanx(e,t),C={percent:100},T={percent:0},c=TweenMax.fromTo(f,e.dA,C,T),zahj.sopxz(e.eO,t,s,r),p=TweenMax.fromTo(b,e.dA,r,s),v=TweenMax.staggerFromTo(w,e.dA/w.length,n,l,e.dA/w.length,a),null!=i&&(m=t.tim.sT+t.tim.dT-e.dA||0,i.add(c,m),i.add(p,m),i.add(v,m))):("0"!=h||"transparent"!=y)&"transparent"!=u&&(f=splanx(e,t),C={percent:100},T={percent:0},c=TweenMax.fromTo(f,e.dA/(w.length+1),C,T),zahj.sopxz(e.eO,t,s,r),p=TweenMax.fromTo(b,e.dA/(w.length+1),r,s),zahj.sevz(e.eO,t,l,n),v=TweenMax.staggerFromTo(w,e.dA/(w.length+1),n,l,e.dA/(w.length+1),a),null!=i&&(m=t.tim.sT+t.tim.dT-e.dA||0,i.add(c,t.tim.dT-.5),i.add(p,t.tim.dT-.5),i.add(v,m)));break;default:f=splanx(e,t),n={percent:100},l={percent:0},c=TweenMax.fromTo(f,e.dA,n,l),r={},s={onComplete:a},zahj.sopxz(e.eO,t,s,r),p=TweenMax.fromTo("#"+t.id,e.dA,r,s),null!=i&&(m=t.tim.sT+t.tim.dT-e.dA||0,i.add(c,m),i.add(p,m))}}}(s,n,l,o);break;case annw.Wipe:!function(e,t,i,a){let r=null,s=null,n=null,l=null,o=null,h=null,d=null,c=null,p=null,u=null,m=null,b=null,f="#"+t.id;var g=0==isMobile?t.widdkt:isTabletLandscape?t.widtls:isTabletPortrait?t.widtpt:isMobileLandscape?t.widmls:isMobilePortrait?t.widmpt:t.w,w=0==isMobile?t.heidkt:isTabletLandscape?t.heitls:isTabletPortrait?t.heitpt:isMobileLandscape?t.heimls:isMobilePortrait?t.heimpt:t.h;switch(e.typ){case antz.Entrance:if(null==$(f).find("text")||0==$(f).find("text").length)d=wnzx(e,t),h={percent:100},n=TweenMax.to(d,e.dA,h),r={autoAlpha:0},s={autoAlpha:1,onComplete:a},zahj.sopxz(e.eO,t,r,s),l=TweenMax.fromTo("#"+t.id,e.dA,r,s),null!=i&&(b=t.tim.sT||0,i.add(n,b),i.add(l,b));else if(null!=$(f).find("text"))for(var y=0;y<e.eO.length;y++)if(e.eO[y].grNm==anffx.Sequence)switch(e.eO[y].nm){case efps.AsOneObject:d=wnzx(e,t),h={percent:100},n=TweenMax.to(d,e.dA,h),r={autoAlpha:0},s={autoAlpha:1,onComplete:a},zahj.sopxz(e.eO,t,r,s),l=TweenMax.fromTo("#"+t.id,e.dA,r,s),null!=i&&(b=t.tim.sT||0,i.add(n,b),i.add(l,b));break;case efps.ByParagraph:for(y=0;y<e.eO.length;y++){if("Enter"==(C=e.eO[y]).grNm&&"None"!=C.nm&&e){r={autoAlpha:0},s={autoAlpha:1},zahj.sevz(e.eO,t,r,s);var v=$(f).find("text");o=TweenMax.staggerFromTo(v,e.dA/v.length,r,s,e.dA/v.length,a),null!=i&&(b=t.tim.sT||0,i.add(o,b))}else if("Enter"==C.grNm&&"None"==C.nm)d=wnzx(e,t),h={percent:100},n=TweenMax.to(d,e.dA,h),null!=i&&(b=t.tim.sT||0,i.add(n,b));else if("Direction"==C.grNm)switch(C.nm){case"Left":r={autoAlpha:0,x:-g,y:w},s={autoAlpha:1,x:0,y:0};v=$(f).find("text");o=TweenMax.staggerFromTo(v,e.dA/v.length,r,s,e.dA/v.length,a),b=t.tim.sT||0,i.add(o,b);break;case"Right":r={autoAlpha:0,x:g,y:w},s={autoAlpha:1,x:0,y:0};v=$(f).find("text");o=TweenMax.staggerFromTo(v,e.dA/v.length,r,s,e.dA/v.length,a),b=t.tim.sT||0,i.add(o,b)}}break;default:d=wnzx(e,t),h={percent:100},n=TweenMax.to(d,e.dA,h),r={autoAlpha:0},s={autoAlpha:1,onComplete:a},zahj.sopxz(e.eO,t,r,s),l=TweenMax.fromTo("#"+t.id,e.dA,r,s),null!=i&&(b=t.tim.sT||0,i.add(n,b),i.add(l,b))}break;case antz.Exit:if(null==$(f).find("text")||0==$(f).find("text").length)c=wnzx(e,t),c.percent=100,p=TweenMax.to(c,e.dA,{percent:0}),r={},s={onComplete:a},zahj.sopxz(e.eO,t,s,r),u=TweenMax.fromTo("#"+t.id,e.dA,r,s),null!=i&&(m=t.tim.sT+t.tim.dT-e.dA||0,i.add(p,m),i.add(u,m));else if(null!=$(f).find("text"))for(y=0;y<e.eO.length;y++)if(e.eO[y].grNm==anffx.Sequence)switch(e.eO[y].nm){case efps.AsOneObject:c=wnzx(e,t),c.percent=100,p=TweenMax.to(c,e.dA,{percent:0}),r={},s={onComplete:a},zahj.sopxz(e.eO,t,s,r),u=TweenMax.fromTo("#"+t.id,e.dA,r,s),null!=i&&(m=t.tim.sT+t.tim.dT-e.dA||0,i.add(p,m),i.add(u,m));break;case efps.ByParagraph:for(y=0;y<e.eO.length;y++){var C;if("Enter"==(C=e.eO[y]).grNm&&"None"!=C.nm&&e){r={autoAlpha:1},s={autoAlpha:0},zahj.sevz(e.eO,t,r,s);v=$(f).find("text");o=TweenMax.staggerFromTo(v,e.dA/v.length,r,s,e.dA/v.length,a),null!=i&&(m=t.tim.sT+t.tim.dT-e.dA||0,i.add(o,m))}else if("Enter"==C.grNm&&"None"==C.nm)c=wnzx(e,t),c.percent=100,p=TweenMax.to(c,e.dA,{percent:0}),null!=i&&(m=t.tim.sT+t.tim.dT-e.dA||0,i.add(p,m));else if("Direction"==C.grNm)switch(C.nm){case"Left":r={autoAlpha:1,x:0,y:0},s={autoAlpha:0,x:-g,y:w};v=$(f).find("text");o=TweenMax.staggerFromTo(v,e.dA/v.length,r,s,e.dA/v.length,a),null!=i&&(m=t.tim.sT+t.tim.dT-e.dA||0,i.add(o,m));break;case"Right":r={autoAlpha:1,x:0,y:0},s={autoAlpha:0,x:g,y:w};v=$(f).find("text");o=TweenMax.staggerFromTo(v,e.dA/v.length,r,s,e.dA/v.length,a),null!=i&&(m=t.tim.sT+t.tim.dT-e.dA||0,i.add(o,m))}}break;default:c=wnzx(e,t),c.percent=100,p=TweenMax.to(c,e.dA,{percent:0}),r={},s={onComplete:a},zahj.sopxz(e.eO,t,s,r),u=TweenMax.fromTo("#"+t.id,e.dA,r,s),null!=i&&(m=t.tim.sT+t.tim.dT-e.dA||0,i.add(p,m),i.add(u,m))}}}(s,n,l,o);break;case annw.Shape:for(var h=0;h<s.eO.length;h++){let r=s.eO[h];if(r.grNm==anffx.Shapes)switch(r.nm){case efps.Circle:a(s,n,l,o);break;case efps.Box:i(s,n,l,o);break;case efps.Diamond:t(s,n,l,o);break;case efps.Plus:e(s,n,l,o);break;default:a(s,n,l,o)}}break;case annw.Wheel:!function(e,t,i,a){let r=null,s=null,n=null,l=null,o=null,h=null,d=null,c=null,p=null,u=null,m=null,b="#"+t.id;switch(e.typ){case antz.Entrance:if(null==$(b).find("text")||0==$(b).find("text").length)n=weexs(e,t),o={angle:360},h=TweenMax.to(n,e.dA,o),r={},s={onComplete:a},zahj.sopxz(e.eO,t,r,s),d=TweenMax.fromTo(b,e.dA,r,s),null!=i&&(u=t.tim.sT||0,i.add(h,u),i.add(d,u));else if(null!=$(b).find("text"))for(var f=0;f<e.eO.length;f++)if(e.eO[f].grNm==anffx.Sequence)switch(e.eO[f].nm){case efps.AsOneObject:n=weexs(e,t),o={angle:360},h=TweenMax.to(n,e.dA,o),r={scaleX:1,scaleY:1,opacity:1},s={scaleX:1,scaleY:1,opacity:1,onComplete:a},zahj.sopxz(e.eO,t,r,s),d=TweenMax.fromTo(b,e.dA,r,s),null!=i&&(u=t.tim.sT||0,i.add(h,u),i.add(d,u));break;case efps.ByParagraph:var g=$(b).find("text");r={autoAlpha:0},s={autoAlpha:1};let l=$(b).find("path")[0],c=l.attributes[2].nodeValue,p=l.attributes[3].value,m=l.attributes[4].value,f=l.attributes[4].value,w=l.attributes[5].value,y=null;("0"==c||"transparent"==f)&"transparent"==p?(n=weexs(e,t),o={angle:360},h=TweenMax.to(n,e.dA,o),zahj.sopxz(e.eO,t,r,s),d=TweenMax.fromTo(b,e.dA,r,s),y=TweenMax.staggerFromTo(g,e.dA/g.length,r,s,e.dA/g.length,a),null!=i&&(u=t.tim.sT||0,i.add(h,u),i.add(d,u),i.add(y,u))):("0"!=c||"transparent"!=w)&"transparent"!=m&&(n=weexs(e,t),o={angle:360},h=TweenMax.to(n,e.dA/(g.length+1),o),zahj.sopxz(e.eO,t,r,s),d=TweenMax.fromTo(b,e.dA,r,s),y=TweenMax.staggerFromTo(g,e.dA/(g.length+1),r,s,e.dA/(g.length+1)),null!=i&&(u=t.tim.sT||0,i.add(h,u),i.add(d,u),i.add(y,u+e.dA/(g.length+1))));break;default:n=weexs(e,t),o={angle:360},h=TweenMax.to(n,e.dA,o),r={},s={onComplete:a},zahj.sopxz(e.eO,t,r,s),d=TweenMax.fromTo(b,e.dA,r,s),null!=i&&(u=t.tim.sT||0,i.add(h,u),i.add(d,u))}break;case antz.Exit:if(null==$(b).find("text"))l=weexs(e,t),o={angle:360},c=TweenMax.to(l,e.dA,o),r={},s={onComplete:a},zahj.sopxz(e.eO,t,r,s),p=TweenMax.fromTo(b,e.dA,r,s),null!=i&&(m=t.tim.sT+t.tim.dT-e.dA||0,i.add(c,m),i.add(p,m));else if(null!=$(b).find("text")||0==$(b).find("text").length)for(f=0;f<e.eO.length;f++)if(e.eO[f].grNm==anffx.Sequence)switch(e.eO[f].nm){case efps.AsOneObject:l=weexs(e,t),o={angle:360},c=TweenMax.to(l,e.dA,o),r={},s={onComplete:a},zahj.sopxz(e.eO,t,r,s),p=TweenMax.fromTo(b,e.dA,r,s),null!=i&&(m=t.tim.sT+t.tim.dT-e.dA||0,i.add(c,m),i.add(p,m));break;case efps.ByParagraph:g=$(b).find("text");r={autoAlpha:1},s={autoAlpha:0};let h=$(b).find("path")[0],d=h.attributes[2].nodeValue,u=h.attributes[3].value,f=h.attributes[4].value,w=h.attributes[4].value,y=h.attributes[5].value,v=null;("0"==d||"transparent"==w)&"transparent"==u?(n=weexs(e,t),o={angle:360},c=TweenMax.to(n,e.dA,o),zahj.sopxz(e.eO,t,s,r),p=TweenMax.fromTo(b,e.dA,r,s),v=TweenMax.staggerFromTo(g,e.dA/g.length,r,s,e.dA/g.length,a),null!=i&&(m=t.tim.sT+t.tim.dT-e.dA||0,i.add(c,m),i.add(p,m),i.add(v,m))):("0"!=d||"transparent"!=y)&"transparent"!=f&&(n=weexs(e,t),o={angle:360},c=TweenMax.to(n,e.dA/(g.length+1),o),zahj.sopxz(e.eO,t,s,r),p=TweenMax.fromTo(b,e.dA,r,s),s.onComplete=a,zahj.sevz(e.eO,t,s,r),v=TweenMax.staggerFromTo(g,e.dA/(g.length+1),r,s,e.dA/(g.length+1)),null!=i&&(m=t.tim.sT+t.tim.dT-e.dA||0,i.add(c,t.tim.dT-.5),i.add(p,t.tim.dT-.5),i.add(v,m)));break;default:l=weexs(e,t),o={angle:360},c=TweenMax.to(l,e.dA,o),r={},s={onComplete:a},zahj.sopxz(e.eO,t,r,s),p=TweenMax.fromTo(b,e.dA,r,s),null!=i&&(m=t.tim.sT+t.tim.dT-e.dA||0,i.add(c,m),i.add(p,m))}}}(s,n,l,o);break;case annw.RandomBars:!function(e,t,i,a){let r=null,s=null,n=null,l=null,o=null,h=null,d=null,c=null,p=null,u=null,m=null,b=null,f=null,g="#"+t.id;switch(e.typ){case antz.Entrance:if(null==$(g).find("text")){if(o=rbazx(e,t),d={percent:100},c=TweenMax.to(o,e.dA,d),r={autoAlpha:0},s={autoAlpha:1,onComplete:a},zahj.sopxz(e.eO,t,r,s),p=TweenMax.fromTo(g,e.dA,r,s),null!=i){let e=t.tim.sT||0;i.add(c,e),i.add(p,e)}}else if(null!=$(g).find("text"))for(var w=0;w<e.eO.length;w++)if(e.eO[w].grNm==anffx.Sequence)switch(e.eO[w].nm){case efps.AsOneObject:o=rbazx(e,t),d={percent:100},c=TweenMax.to(o,e.dA,d),r={autoAlpha:0},s={autoAlpha:1,onComplete:a},zahj.sopxz(e.eO,t,r,s),p=TweenMax.fromTo(g,e.dA,r,s),null!=i&&(b=t.tim.sT||0,i.add(c,b),i.add(p,b));break;case efps.ByParagraph:var y=$(g).find("text");r={},s={},n={autoAlpha:0},l={autoAlpha:1};let h=$(g).find("path")[0],u=h.attributes[2].nodeValue,m=h.attributes[3].value,f=h.attributes[4].value,w=null;("0"==u||"transparent"==f)&"transparent"==m?(o=rbazx(e,t),d={percent:100},c=TweenMax.to(o,e.dA,d),zahj.sopxz(e.eO,t,r,s),p=TweenMax.fromTo(g,e.dA,r,s),w=TweenMax.staggerFromTo(y,e.dA/y.length,n,l,e.dA/y.length,a),null!=i&&(b=t.tim.sT||0,i.add(c,b),i.add(p,b),i.add(w,b))):("0"!=u||"transparent"!=f)&"transparent"!=m&&(o=rbazx(e,t),d={percent:100},c=TweenMax.to(o,e.dA/(y.length+1),d),zahj.sopxz(e.eO,t,r,s),p=TweenMax.fromTo(g,e.dA/(y.length+1),r,s),zahj.sevz(e.eO,t,n,l),w=TweenMax.staggerFromTo(y,e.dA/(y.length+1),n,l,e.dA/(y.length+1),a),null!=i&&(b=t.tim.sT||0,i.add(c,b),i.add(p,b),i.add(w,b+e.dA/(y.length+1))));break;default:o=rbazx(e,t),d={percent:100},c=TweenMax.to(o,e.dA,d),r={autoAlpha:0},s={autoAlpha:1,onComplete:a},zahj.sopxz(e.eO,t,r,s),p=TweenMax.fromTo(g,e.dA,r,s),null!=i&&(b=t.tim.sT||0,i.add(c,b),i.add(p,b))}break;case antz.Exit:if(null==$(g).find("text"))h=rbazx(e,t),d={percent:100},u=TweenMax.to(h,e.dA,d),r={},s={onComplete:a},zahj.sopxz(e.eO,t,s,r),m=TweenMax.fromTo(g,e.dA,r,s),null!=i&&(f=t.tim.sT+t.tim.dT-e.dA||0,i.add(u,f),i.add(m,f));else if(null!=$(g).find("text"))for(w=0;w<e.eO.length;w++)if(e.eO[w].grNm==anffx.Sequence)switch(e.eO[w].nm){case efps.AsOneObject:h=rbazx(e,t),d={percent:100},u=TweenMax.to(h,e.dA,d),r={},s={onComplete:a},zahj.sopxz(e.eO,t,s,r),m=TweenMax.fromTo(g,e.dA,r,s),null!=i&&(f=t.tim.sT+t.tim.dT-e.dA||0,i.add(u,f),i.add(m,f));break;case efps.ByParagraph:y=$(g).find("text");r={},s={},n={autoAlpha:1},l={autoAlpha:0};let o=$(g).find("path")[0],c=o.attributes[2].nodeValue,p=o.attributes[3].value,b=o.attributes[4].value,w=o.attributes[4].value,v=o.attributes[5].value,C=null;("0"==c||"transparent"==w)&"transparent"==p?(h=rbazx(e,t),h.percent=100,u=TweenMax.to(h,e.dA,{percent:0}),zahj.sopxz(e.eO,t,s,r),m=TweenMax.fromTo(g,e.dA,r,s),C=TweenMax.staggerFromTo(y,e.dA/y.length,n,l,e.dA/y.length,a),null!=i&&(f=t.tim.sT+t.tim.dT-e.dA||0,i.add(u,f),i.add(m,f),i.add(C,f))):("0"!=c||"transparent"!=v)&"transparent"!=b&&(h=rbazx(e,t),h.percent=100,u=TweenMax.to(h,e.dA/(y.length+1),{percent:0}),zahj.sopxz(e.eO,t,s,r),m=TweenMax.fromTo(g,e.dA/(y.length+1),r,s),zahj.sevz(e.eO,t,l,n),C=TweenMax.staggerFromTo(y,e.dA/(y.length+1),n,l,e.dA/(y.length+1),a),null!=i&&(f=t.tim.sT+t.tim.dT-e.dA||0,i.add(u,t.tim.dT-.5),i.add(m,t.tim.dT-.5),i.add(C,f)));break;default:if(h=rbazx(e,t),d={percent:100},u=TweenMax.to(h,e.dA,d),r={},s={onComplete:a},zahj.sopxz(e.eO,t,s,r),m=TweenMax.fromTo(g,e.dA,r,s),null!=i){let a=t.tim.sT+t.tim.dT-e.dA||0;i.add(u,a),i.add(m,a)}}}}(s,n,l,o);break;case annw.Spin:!function(e,t,i,a){let r=null,s=null,n=null,l=null,o=null,h=null,d=null,c=null,p="#"+t.id;switch(e.typ){case antz.Entrance:if(null==$(p).find("text")||0==$(p).find("text").length)r={},s={onComplete:a},zahj.sopxz(e.eO,t,r,s),r.ease=Power2.easeOut,o=TweenMax.fromTo(p,e.dA,r,s),null!=i&&(d=t.tim.sT||0,i.add(o,d)),t.agl=s.rotation;else if(null!=$(p).find("text"))for(var u=0;u<e.eO.length;u++)if(e.eO[u].grNm==anffx.Sequence)switch(e.eO[u].nm){case efps.AsOneObject:r={},s={onComplete:a},zahj.sopxz(e.eO,t,r,s),r.ease=Power2.easeOut,o=TweenMax.fromTo(p,e.dA,r,s),null!=i&&(d=t.tim.sT||0,i.add(o,d)),t.agl=s.rotation;break;case efps.ByParagraph:var m=$(p).find("text");r={},s={};let h=$(p).find("path")[0],c=h.attributes[2].nodeValue,u=h.attributes[3].value,b=h.attributes[4].value;if(("0"==c||"transparent"==b)&"transparent"==u){r={},s={};m=$(p).find("text");zahj.sopxz(e.eO,t,r,s),o=TweenMax.fromTo(p,e.dA,r,s);let n={autoAlpha:0},l={autoAlpha:1,transformOrigin:"50% 50%"},h=TweenMax.staggerFromTo(m,e.dA/m.length,n,l,e.dA/m.length,a);null!=i&&(d=t.tim.sT||0,i.add(o,d),i.add(h,d))}else if(("0"!=c||"transparent"!=b)&"transparent"!=u){zahj.sopxz(e.eO,t,r,s),o=TweenMax.fromTo(p,e.dA/(m.length+1),r,s),n={autoAlpha:0},l={autoAlpha:1};let h=TweenMax.staggerFromTo(m,e.dA/(m.length+1),n,l,e.dA/(m.length+1),a);if(null!=i){let a=t.tim.sT||0;i.add(h,a+e.dA/(m.length+1)),i.add(o,a)}}break;default:r={},s={onComplete:a},zahj.sopxz(e.eO,t,r,s),r.ease=Power2.easeOut,o=TweenMax.fromTo(p,e.dA,r,s),null!=i&&(d=t.tim.sT||0,i.add(o,d))}break;case antz.Emphasis:r={},s={onComplete:a},zahj.sopxz(e.eO,t,r,s),r.ease=Power2.easeOut,o=TweenMax.fromTo(p,e.dA,r,s),null!=i&&(d=t.tim.sT+e.sA||0,i.add(o,d)),t.agl=s.rotation;break;case antz.Exit:if(null==$(p).find("text")||0==$(p).find("text").length){r={},s={onComplete:a},zahj.sopxz(e.eO,t,r,s),r.ease=Power2.easeOut,h=TweenMax.fromTo(p,e.dA,r,s),null!=i&&(c=t.tim.sT+t.tim.dT-e.dA||0,i.add(h,c));break}if(null!=$(p).find("text"))for(u=0;u<e.eO.length;u++)if(e.eO[u].grNm==anffx.Sequence)switch(e.eO[u].nm){case efps.AsOneObject:r={},s={onComplete:a},zahj.sopxz(e.eO,t,r,s),r.ease=Power2.easeOut,h=TweenMax.fromTo(p,e.dA,r,s),null!=i&&(c=t.tim.sT+t.tim.dT-e.dA||0,i.add(h,c));break;case efps.ByParagraph:r={},s={};m=$(p).find("text");zahj.sopxz(e.eO,t,r,s),r.ease=Power2.easeOut,h=TweenMax.fromTo(p,e.dA,r,s);let n={autoAlpha:1,y:10},l={autoAlpha:0,y:0},o=TweenMax.staggerFromTo(m,e.dA/m.length,n,l,e.dA/m.length,a);null!=i&&(c=t.tim.sT+t.tim.dT-e.dA||0,i.add(h,c),i.add(o,c));break;default:r={},s={onComplete:a},zahj.sopxz(e.eO,t,r,s),r.ease=Power2.easeOut,h=TweenMax.fromTo(p,e.dA,r,s),null!=i&&(c=t.tim.sT+t.tim.dT-e.dA||0,i.add(h,c))}}}(s,n,l,o);break;case annw.SpinGrow:!function(e,t,i,a){let r=null,s=null,n=null,l=null,o=null,h=null,d=null,c=null,p="#"+t.id;var u=0==isMobile?t.widdkt:isTabletLandscape?t.widtls:isTabletPortrait?t.widtpt:isMobileLandscape?t.widmls:isMobilePortrait?t.widmpt:t.w;0==isMobile?t.heidkt:isTabletLandscape?t.heitls:isTabletPortrait?t.heitpt:isMobileLandscape?t.heimls:isMobilePortrait?t.heimpt:t.h;switch(e.typ){case antz.Entrance:if(null==$(p).find("text")||0==$(p).find("text").length)r={scaleX:0,scaleY:0},s={scaleX:1,scaleY:1,onComplete:a},zahj.sopxz(e.eO,t,r,s),r.ease=Power2.easeOut,o=TweenMax.fromTo("#"+t.id,e.dA,r,s),null!=i&&(d=t.tim.sT||0,i.add(o,d));else if(null!=$(p).find("text"))for(var m=0;m<e.eO.length;m++)if(e.eO[m].grNm==anffx.Sequence)switch(e.eO[m].nm){case efps.AsOneObject:r={scaleX:0,scaleY:0},s={scaleX:1,scaleY:1,onComplete:a},zahj.sopxz(e.eO,t,r,s),r.ease=Power2.easeOut,o=TweenMax.fromTo("#"+t.id,e.dA,r,s),null!=i&&(d=t.tim.sT||0,i.add(o,d));break;case efps.ByParagraph:var b=$(p).find("text");r={scaleX:0,scaleY:0},s={scaleX:1,scaleY:1};let h=$(p).find("path")[0],c=h.attributes[2].nodeValue,u=h.attributes[3].value,m=h.attributes[4].value;if(("0"==c||"transparent"==m)&"transparent"==u){b=$(p).find("text");zahj.sopxz(e.eO,t,r,s),o=TweenMax.fromTo(p,e.dA,r,s),n={scaleX:0,scaleY:0,opacity:0},l={scaleX:1,scaleY:1,opacity:1};let h=TweenMax.staggerFromTo(b,e.dA/b.length,n,l,e.dA/b.length,a);null!=i&&(d=t.tim.sT||0,i.add(h,d))}else if(("0"!=c||"transparent"!=m)&"transparent"!=u){zahj.sopxz(e.eO,t,r,s),o=TweenMax.fromTo(p,e.dA/(b.length+1),r,s),n={scaleX:0,scaleY:0,opacity:0},l={scaleX:1,scaleY:1,opacity:1},zahj.sevz(e.eO,t,n,l);let h=TweenMax.staggerFromTo(b,e.dA/(b.length+1),n,l,e.dA/(b.length+1),a);null!=i&&(d=t.tim.sT||0,i.add(h,d+e.dA/(b.length+1)),i.add(o,d))}break;default:r={scaleX:0,scaleY:0},s={scaleX:1,scaleY:1,onComplete:a},zahj.sopxz(e.eO,t,r,s),r.ease=Power2.easeOut,o=TweenMax.fromTo("#"+t.id,e.dA,r,s),null!=i&&(d=t.tim.sT||0,i.add(o,d))}break;case antz.Exit:if(null==$(p).find("text")||0==$(p).find("text").length)r={scaleX:1,scaleY:1},s={scaleX:0,scaleY:0,onComplete:a},zahj.sopxz(e.eO,t,r,s),s.ease=Power2.easeOut,h=TweenMax.fromTo("#"+t.id,e.dA,r,s),null!=i&&(c=t.tim.sT+t.tim.dT-e.dA||0,i.add(h,c));else if(null!=$(p).find("text"))for(m=0;m<e.eO.length;m++)if(e.eO[m].grNm==anffx.Sequence)switch(e.eO[m].nm){case efps.AsOneObject:r={scaleX:1,scaleY:1},s={scaleX:0,scaleY:0,onComplete:a},zahj.sopxz(e.eO,t,s,r),h=TweenMax.fromTo("#"+t.id,e.dA,r,s),null!=i&&(c=t.tim.sT+t.tim.dT-e.dA||0,i.add(h,c));break;case efps.ByParagraph:b=$(p).find("text");r={scaleX:1,scaleY:1},s={scaleX:0,scaleY:0,x:u/2};let o=$(p).find("path")[0],d=o.attributes[2].nodeValue,m=o.attributes[3].value,f=o.attributes[4].value,g=o.attributes[4].value,w=o.attributes[5].value,y=null;("0"==d||"transparent"==g)&"transparent"==m?(zahj.sevz(e.eO,t,s,r),y=TweenMax.staggerFromTo(b,e.dA/b.length,r,s,e.dA/b.length,a),null!=i&&(c=t.tim.sT+t.tim.dT-e.dA||0,i.add(y,c))):("0"!=d||"transparent"!=w)&"transparent"!=f&&(n={opacity:0},l={opacity:1},zahj.sopxz(e.eO,t,n,l),h=TweenMax.fromTo(p,e.dA/(b.length+1),l,n),zahj.sevz(e.eO,t,s,r),y=TweenMax.staggerFromTo(b,e.dA/(b.length+1),r,s,e.dA/(b.length+1),a),null!=i&&(c=t.tim.sT+t.tim.dT-e.dA||0,i.add(h,t.tim.dT-.5),i.add(y,c)));break;default:r={scaleX:1,scaleY:1},s={scaleX:0,scaleY:0,onComplete:a},zahj.sopxz(e.eO,t,s,r),h=TweenMax.fromTo("#"+t.id,e.dA,r,s),null!=i&&(c=t.tim.sT+t.tim.dT-e.dA||0,i.add(h,c))}}}(s,n,l,o);break;case annw.GrowSpin:!function(e,t,i,a){let r=null,s=null,n=null,l=null,o=null,h=null,d=null,c=null,p="#"+t.id;var u=0==isMobile?t.widdkt:isTabletLandscape?t.widtls:isTabletPortrait?t.widtpt:isMobileLandscape?t.widmls:isMobilePortrait?t.widmpt:t.w;0==isMobile?t.heidkt:isTabletLandscape?t.heitls:isTabletPortrait?t.heitpt:isMobileLandscape?t.heimls:isMobilePortrait?t.heimpt:t.h;switch(e.typ){case antz.Entrance:if(null==$(p).find("text")||0==$(p).find("text").length)r={scaleX:0,scaleY:0,opacity:0,rotation:t.agl+90},s={scaleX:1,scaleY:1,opacity:1,rotation:t.agl,onComplete:a},zahj.sopxz(e.eO,t,r,s),r.ease=Power2.easeOut,o=TweenMax.fromTo("#"+t.id,e.dA,r,s),null!=i&&(d=t.tim.sT||0,i.add(o,d));else if(null!=$(p).find("text"))for(var m=0;m<e.eO.length;m++)if(e.eO[m].grNm==anffx.Sequence)switch(e.eO[m].nm){case efps.AsOneObject:r={scaleX:0,scaleY:0,opacity:0,rotation:t.agl+90},s={scaleX:1,scaleY:1,opacity:1,rotation:t.agl,onComplete:a},zahj.sopxz(e.eO,t,r,s),r.ease=Power2.easeOut,o=TweenMax.fromTo("#"+t.id,e.dA,r,s),null!=i&&(d=t.tim.sT||0,i.add(o,d));break;case efps.ByParagraph:var b=$(p).find("text");r={scaleX:0,scaleY:0,opacity:0,rotation:t.agl+90},s={scaleX:1,scaleY:1,opacity:1,rotation:t.agl};let h=$(p).find("path")[0],c=h.attributes[2].nodeValue,m=h.attributes[3].value,f=h.attributes[4].value;if(("0"==c||"transparent"==f)&"transparent"==m){n={scaleX:0,scaleY:0,opacity:0,rotation:t.agl+90,x:u/2},l={scaleX:1,scaleY:1,opacity:1,rotation:t.agl,x:0},zahj.sevz(e.eO,t,n,l);let r=TweenMax.staggerFromTo(b,e.dA/b.length,n,l,e.dA/b.length,a);null!=i&&(d=t.tim.sT||0,i.add(r,d))}else if(("0"!=c||"transparent"!=f)&"transparent"!=m){zahj.sopxz(e.eO,t,r,s),o=TweenMax.fromTo(p,e.dA/(b.length+1),r,s),n={scaleX:0,scaleY:0,opacity:0,rotation:t.agl+90,x:u/2},l={scaleX:1,scaleY:1,opacity:1,rotation:t.agl,x:0},zahj.sevz(e.eO,t,n,l);let h=TweenMax.staggerFromTo(b,e.dA/(b.length+1),n,l,e.dA/(b.length+1),a);null!=i&&(d=t.tim.sT||0,i.add(h,d+e.dA/(b.length+1)),i.add(o,d))}break;default:r={scaleX:0,scaleY:0,opacity:0,rotation:t.agl+90},s={scaleX:1,scaleY:1,opacity:1,rotation:t.agl,onComplete:a},zahj.sopxz(e.eO,t,r,s),r.ease=Power2.easeOut,o=TweenMax.fromTo("#"+t.id,e.dA,r,s),null!=i&&(d=t.tim.sT||0,i.add(o,d))}break;case antz.Exit:if(null==$(p).find("text")||0==$(p).find("text").length)r={scaleX:0,scaleY:0,opacity:0,rotation:t.agl+90,onComplete:a},s={scaleX:1,scaleY:1,opacity:1,rotation:t.agl},zahj.sopxz(e.eO,t,r,s),s.ease=Power2.easeOut,h=TweenMax.fromTo("#"+t.id,e.dA,s,r),null!=i&&(c=t.tim.sT+t.tim.dT-e.dA||0,i.add(h,c));else if(null!=$(p).find("text"))for(m=0;m<e.eO.length;m++)if(e.eO[m].grNm==anffx.Sequence)switch(e.eO[m].nm){case efps.AsOneObject:r={scaleX:0,scaleY:0,opacity:0,rotation:t.agl+90,onComplete:a},s={scaleX:1,scaleY:1,opacity:1,rotation:t.agl},zahj.sopxz(e.eO,t,r,s),s.ease=Power2.easeOut,h=TweenMax.fromTo("#"+t.id,e.dA,s,r),null!=i&&(c=t.tim.sT+t.tim.dT-e.dA||0,i.add(h,c));break;case efps.ByParagraph:b=$(p).find("text");r={scaleX:0,scaleY:0,opacity:0,rotation:t.agl+90,x:u/2},s={scaleX:1,scaleY:1,opacity:1,rotation:t.agl,x:0};let o=$(p).find("path")[0],d=o.attributes[2].nodeValue,m=o.attributes[3].value,f=o.attributes[4].value,g=o.attributes[4].value,w=o.attributes[5].value,y=null;("0"==d||"transparent"==g)&"transparent"==m?(zahj.sevz(e.eO,t,r,s),y=TweenMax.staggerFromTo(b,e.dA/b.length,s,r,e.dA/b.length,a),null!=i&&(c=t.tim.sT+t.tim.dT-e.dA||0,i.add(y,c))):("0"!=d||"transparent"!=w)&"transparent"!=f&&(n={scaleX:0,scaleY:0,opacity:0,rotation:t.agl+90},l={scaleX:1,scaleY:1,opacity:1,rotation:t.agl},zahj.sopxz(e.eO,t,n,l),h=TweenMax.fromTo(p,e.dA/(b.length+1),l,n),zahj.sevz(e.eO,t,r,s),y=TweenMax.staggerFromTo(b,e.dA/(b.length+1),s,r,e.dA/(b.length+1),a),null!=i&&(c=t.tim.sT+t.tim.dT-e.dA||0,i.add(h,t.tim.dT-.5),i.add(y,c)));break;default:r={scaleX:0,scaleY:0,opacity:0,rotation:t.agl+90,onComplete:a},s={scaleX:1,scaleY:1,opacity:1,rotation:t.agl},zahj.sopxz(e.eO,t,r,s),s.ease=Power2.easeOut,h=TweenMax.fromTo("#"+t.id,e.dA,s,r),null!=i&&(c=t.tim.sT+t.tim.dT-e.dA||0,i.add(h,c))}}}(s,n,l,o);break;case annw.Zoom:!function(e,t,i,a){let r=null,s=null,n=null,l=null,o=null,h=null,d=null,c=null,p="#"+t.id;var u=0==isMobile?t.widdkt:isTabletLandscape?t.widtls:isTabletPortrait?t.widtpt:isMobileLandscape?t.widmls:isMobilePortrait?t.widmpt:t.w;0==isMobile?t.heidkt:isTabletLandscape?t.heitls:isTabletPortrait?t.heitpt:isMobileLandscape?t.heimls:isMobilePortrait?t.heimpt:t.h;switch(e.typ){case antz.Entrance:if(null==$(p).find("text")||0==$(p).find("text").length)r={scaleX:0,scaleY:0,opacity:0},s={scaleX:1,scaleY:1,opacity:1,onComplete:a},zahj.sopxz(e.eO,t,r,s),o=TweenMax.fromTo(p,e.dA,r,s),null!=i&&(d=t.tim.sT||0,i.add(o,d));else if(null!=$(p).find("text"))for(var m=0;m<e.eO.length;m++)if(e.eO[m].grNm==anffx.Sequence)switch(e.eO[m].nm){case efps.AsOneObject:r={scaleX:0,scaleY:0,opacity:0},s={scaleX:1,scaleY:1,opacity:1,onComplete:a},zahj.sopxz(e.eO,t,r,s),o=TweenMax.fromTo(p,e.dA,r,s),null!=i&&(d=t.tim.sT||0,i.add(o,d));break;case efps.ByParagraph:var b=$(p).find("text");r={scaleX:0,scaleY:0,opacity:0},s={scaleX:1,scaleY:1,opacity:1};let h=$(p).find("path")[0],c=h.attributes[2].nodeValue,u=h.attributes[3].value,m=h.attributes[4].value;if(("0"==c||"transparent"==m)&"transparent"==u){n={scaleX:0,scaleY:0,opacity:0},l={scaleX:1,scaleY:1,opacity:1},zahj.sevz(e.eO,t,n,l);let r=TweenMax.staggerFromTo(b,e.dA/b.length,n,l,e.dA/b.length,a);if(null!=i){let e=t.tim.sT||0;i.add(r,e)}}else if(("0"!=c||"transparent"!=m)&"transparent"!=u){n={scaleX:0,scaleY:0,opacity:0},l={scaleX:1,scaleY:1,opacity:1},zahj.sopxz(e.eO,t,r,s),o=TweenMax.fromTo(p,e.dA/(b.length+1),r,s),zahj.sevz(e.eO,t,n,l);let h=TweenMax.staggerFromTo(b,e.dA/(b.length+1),n,l,e.dA/(b.length+1),a);null!=i&&(d=t.tim.sT||0,i.add(o,d),i.add(h,d+e.dA/(b.length+1)))}break;default:r={scaleX:0,scaleY:0,opacity:0},s={scaleX:1,scaleY:1,opacity:1,onComplete:a},zahj.sopxz(e.eO,t,r,s),o=TweenMax.fromTo(p,e.dA,r,s),null!=i&&(d=t.tim.sT||0,i.add(o,d))}break;case antz.Exit:if(null==$(p).find("text")||0==$(p).find("text").length)r={scaleX:0,scaleY:0,opacity:0,onComplete:a},s={scaleX:1,scaleY:1,opacity:1},zahj.sopxz(e.eO,t,r,s),h=TweenMax.fromTo("#"+t.id,e.dA,s,r),null!=i&&(c=t.tim.sT+t.tim.dT-e.dA||0,i.add(h,c));else if(null!=$(p).find("text"))for(m=0;m<e.eO.length;m++)if(e.eO[m].grNm==anffx.Sequence)switch(e.eO[m].nm){case efps.AsOneObject:r={scaleX:0,scaleY:0,opacity:0,onComplete:a},s={scaleX:1,scaleY:1,opacity:1},zahj.sopxz(e.eO,t,r,s),h=TweenMax.fromTo("#"+t.id,e.dA,s,r),null!=i&&(c=t.tim.sT+t.tim.dT-e.dA||0,i.add(h,c));break;case efps.ByParagraph:b=$(p).find("text");r={scaleX:0,scaleY:0,opacity:0,x:u/2},s={scaleX:1,scaleY:1,opacity:1,x:0};let o=$(p).find("path")[0],d=o.attributes[2].nodeValue,m=o.attributes[3].value,f=o.attributes[4].value,g=o.attributes[4].value,w=o.attributes[5].value,y=null;("0"==d||"transparent"==g)&"transparent"==m?(zahj.sevz(e.eO,t,r,s),y=TweenMax.staggerFromTo(b,e.dA/b.length,s,r,e.dA/b.length,a),null!=i&&(c=t.tim.sT+t.tim.dT-e.dA||0,i.add(y,c))):("0"!=d||"transparent"!=w)&"transparent"!=f&&(n={scaleX:0,scaleY:0,opacity:0,onComplete:a},l={scaleX:1,scaleY:1,opacity:1},zahj.sopxz(e.eO,t,n,l),h=TweenMax.fromTo(p,e.dA/(b.length+1),l,n),zahj.sevz(e.eO,t,r,s),y=TweenMax.staggerFromTo(b,e.dA/(b.length+1),s,r,e.dA/(b.length+1)),null!=i&&(c=t.tim.sT+t.tim.dT-e.dA||0,i.add(h,t.tim.dT-.5),i.add(y,c)));break;default:r={scaleX:0,scaleY:0,opacity:0,onComplete:a},s={scaleX:1,scaleY:1,opacity:1},zahj.sopxz(e.eO,t,r,s),h=TweenMax.fromTo("#"+t.id,e.dA,s,r),null!=i&&(c=t.tim.sT+t.tim.dT-e.dA||0,i.add(h,c))}}}(s,n,l,o);break;case annw.Swivel:!function(e,t,i,a){let r=null,s=null,n=null,l=null,o=null,h=null,d=null,c=null,p=null,u=null,m="#"+t.id;var b=0==isMobile?t.widdkt:isTabletLandscape?t.widtls:isTabletPortrait?t.widtpt:isMobileLandscape?t.widmls:isMobilePortrait?t.widmpt:t.w;0==isMobile?t.heidkt:isTabletLandscape?t.heitls:isTabletPortrait?t.heitpt:isMobileLandscape?t.heimls:isMobilePortrait?t.heimpt:t.h;switch(e.typ){case antz.Entrance:if(null==$(m).find("text")||0==$(m).find("text").length)r={opacity:0},s={opacity:1,onComplete:a},zahj.sopxz(e.eO,t,r,s),d=TweenMax.fromTo(m,e.dA,r,s),o=TweenMax.to(m,e.dA/2,{scaleX:-1}),h=TweenMax.to(m,e.dA/2,{scaleX:1}),null!=i&&(p=t.tim.sT||0,i.add(d,p),i.add(o,p),i.add(h,p+e.dA/2));else if(null!=$(m).find("text"))for(var f=0;f<e.eO.length;f++)if(e.eO[f].grNm==anffx.Sequence)switch(e.eO[f].nm){case efps.AsOneObject:r={opacity:0},s={opacity:1,onComplete:a},zahj.sopxz(e.eO,t,r,s),d=TweenMax.fromTo(m,e.dA,r,s),o=TweenMax.to(m,e.dA/2,{scaleX:-1}),h=TweenMax.to(m,e.dA/2,{scaleX:1}),null!=i&&(p=t.tim.sT||0,i.add(d,p),i.add(o,p),i.add(h,p+e.dA/2));break;case efps.ByParagraph:var g=$(m).find("text");r={opacity:0},s={opacity:1};let c=$(m).find("path")[0],u=c.attributes[2].nodeValue,f=c.attributes[3].value,w=c.attributes[4].value,y=null,v=null;("0"==u||"transparent"==w)&"transparent"==f?(n={opacity:0,x:b/2},l={opacity:1,x:0},zahj.sevz(e.eO,t,n,l),o=TweenMax.staggerFromTo(g,e.dA/2,{scaleX:-1},{scaleX:1},e.dA/g.length),y=TweenMax.staggerFromTo(g,e.dA/g.length,n,l,e.dA/g.length,a),null!=i&&(p=t.tim.sT||0,i.add(y,p),i.add(o,p))):("0"!=u||"transparent"!=w)&"transparent"!=f&&(n={opacity:0,x:b/2},l={opacity:1,x:0},zahj.sopxz(e.eO,t,r,s),d=TweenMax.fromTo(m,e.dA/(g.length+1),r,s),o=TweenMax.to(m,e.dA/(g.length+1),{scaleX:-1}),h=TweenMax.to(m,e.dA/(g.length+1),{scaleX:1}),zahj.sevz(e.eO,t,n,l),v=TweenMax.staggerFromTo(g,e.dA/2,{scaleX:-1},{scaleX:1},e.dA/g.length),y=TweenMax.staggerFromTo(g,e.dA/(g.length+1),n,l,e.dA/(g.length+1),a),null!=i&&(p=t.tim.sT||0,i.add(d,p),i.add(o,p),i.add(h,p+e.dA/(g.length+1)),i.add(y,p+e.dA/(g.length+1)),i.add(v,p+e.dA/(g.length+1)/2)));break;default:r={opacity:0},s={opacity:1,onComplete:a},zahj.sopxz(e.eO,t,r,s),d=TweenMax.fromTo(m,e.dA,r,s),o=TweenMax.to(m,e.dA/2,{scaleX:-1}),h=TweenMax.to(m,e.dA/2,{scaleX:1}),null!=i&&(p=t.tim.sT||0,i.add(d,p),i.add(o,p),i.add(h,p+e.dA/2))}break;case antz.Exit:if(null==$(m).find("text")||0==$(m).find("text").length){r={opacity:0,onComplete:a},s={opacity:1},zahj.sopxz(e.eO,t,r,s),c=TweenMax.fromTo("#"+t.id,e.dA,s,r),o=TweenMax.to(m,e.dA/2,{scaleX:-1}),h=TweenMax.to(m,e.dA/2,{scaleX:1}),null!=i&&(u=t.tim.sT+t.tim.dT-e.dA||0,i.add(c,u),i.add(o,u),i.add(h,u+e.dA/2));break}if(null!=$(m).find("text"))for(f=0;f<e.eO.length;f++)if(e.eO[f].grNm==anffx.Sequence)switch(e.eO[f].nm){case efps.AsOneObject:r={opacity:0,onComplete:a},s={opacity:1},zahj.sopxz(e.eO,t,r,s),c=TweenMax.fromTo("#"+t.id,e.dA,s,r),o=TweenMax.to(m,e.dA/2,{scaleX:-1}),h=TweenMax.to(m,e.dA/2,{scaleX:1}),null!=i&&(u=t.tim.sT+t.tim.dT-e.dA||0,i.add(c,u),i.add(o,u),i.add(h,u+e.dA/2));break;case efps.ByParagraph:g=$(m).find("text");let d=$(m).find("path")[0],p=d.attributes[2].nodeValue,f=d.attributes[3].value,w=d.attributes[4].value,y=d.attributes[4].value,v=d.attributes[5].value;if(("0"==p||"transparent"==y)&"transparent"==f){r={opacity:0,x:b/2},s={opacity:1,x:0},zahj.sevz(e.eO,t,r,s),o=TweenMax.staggerFromTo(g,e.dA/g.length,{scaleX:1},{scaleX:-1},e.dA/g.length);let n=TweenMax.staggerFromTo(g,e.dA/g.length,s,r,e.dA/g.length,a);null!=i&&(u=t.tim.sT+t.tim.dT-e.dA||0,i.add(n,u),i.add(o,u))}else if(("0"!=p||"transparent"!=v)&"transparent"!=w){r={opacity:0,x:b/2},s={opacity:1,x:0},n={opacity:0,onComplete:a},l={opacity:1},zahj.sopxz(e.eO,t,n,l),c=TweenMax.fromTo("#"+t.id,e.dA/g.length,l,n),h=TweenMax.to(m,e.dA/g.length,{scaleX:-1});let d=TweenMax.to(m,e.dA/g.length,{scaleX:1});zahj.sevz(e.eO,t,r,s),o=TweenMax.staggerFromTo(g,e.dA/g.length,{scaleX:1},{scaleX:-1},e.dA/g.length);let p=TweenMax.staggerFromTo(g,e.dA/g.length,s,r,e.dA/g.length,a);null!=i&&(u=t.tim.sT+t.tim.dT-e.dA||0,i.add(p,u),i.add(o,u),i.add(c,t.tim.dT-.5),i.add(h,t.tim.dT-.5),i.add(d,(t.tim.dT-.5)/2))}break;default:r={opacity:0,onComplete:a},s={opacity:1},zahj.sopxz(e.eO,t,r,s),c=TweenMax.fromTo("#"+t.id,e.dA,s,r),o=TweenMax.to(m,e.dA/2,{scaleX:-1}),h=TweenMax.to(m,e.dA/2,{scaleX:1}),null!=i&&(u=t.tim.sT+t.tim.dT-e.dA||0,i.add(c,u),i.add(o,u),i.add(h,u+e.dA/2))}}}(s,n,l,o);break;case annw.Bounce:!function(e,t,i,a){let r=null,s=null,n=null,l=null,o=null,h=null,d=null,c=null,p=null,u=null,m="#"+t.id;var b=0==isMobile?t.topdkt:isTabletLandscape?t.toptls:isTabletPortrait?t.toptpt:isMobileLandscape?t.topmls:isMobilePortrait?t.topmpt:t.T,f=0==isMobile?t.lefdkt:isTabletLandscape?t.leftls:isTabletPortrait?t.leftpt:isMobileLandscape?t.lefmls:isMobilePortrait?t.lefmpt:t.l;switch(e.typ){case antz.Entrance:if(null==$(m).find("text")||0==$(m).find("text").length)r={autoAlpha:0,top:b-250},s={autoAlpha:1,top:b,onComplete:a},s.ease=Bounce.easeOut,o=TweenMax.fromTo(m,e.dA,r,s),d=TweenMax.fromTo(m,e.dA,{left:f-250},{left:f}),null!=i&&(p=t.tim.sT||0,i.add(o,p),i.add(d,p));else if(null!=$(m).find("text"))for(var g=0;g<e.eO.length;g++)if(e.eO[g].grNm==anffx.Sequence)switch(e.eO[g].nm){case efps.AsOneObject:r={autoAlpha:0,top:b-250},s={autoAlpha:1,top:b,onComplete:a},s.ease=Bounce.easeOut,o=TweenMax.fromTo(m,e.dA,r,s),d=TweenMax.fromTo(m,e.dA,{left:f-450},{left:f}),null!=i&&(p=t.tim.sT||0,i.add(o,p),i.add(d,p));break;case efps.ByParagraph:var w=$(m).find("text");r={autoAlpha:0,top:b-250},s={autoAlpha:1,top:b},s.ease=Bounce.easeOut;let h=$(m).find("path")[0],c=h.attributes[2].nodeValue,u=h.attributes[3].value,g=h.attributes[4].value,y=null,v=null;if(("0"==c||"transparent"==g)&"transparent"==u){if(n={autoAlpha:0,x:-250,y:-250},l={autoAlpha:1,x:0,y:0},l.ease=Bounce.easeOut,y=TweenMax.staggerFromTo(w,e.dA/w.length,n,l,e.dA/w.length,a),v=TweenMax.staggerFromTo(w,e.dA/w.length,{x:f-450},{x:0},e.dA/w.length),null!=i){let e=t.tim.sT||0;i.add(y,e),i.add(v,e)}}else if(("0"!=c||"transparent"!=g)&"transparent"!=u&&(s.ease=Bounce.easeOut,o=TweenMax.fromTo(m,e.dA/(w.length+1),r,s),d=TweenMax.fromTo(m,e.dA/(w.length+1),{left:f-450},{left:f}),n={autoAlpha:0,x:-250,y:-250},l={autoAlpha:1,x:0,y:0},l.ease=Bounce.easeOut,y=TweenMax.staggerFromTo(w,e.dA/(w.length+1),n,l,e.dA/(w.length+1),a),v=TweenMax.staggerFromTo(w,e.dA/(w.length+1),{x:f-450},{x:0},e.dA/(w.length+1)),null!=i)){let a=t.tim.sT||0;i.add(o,a),i.add(d,a),i.add(y,a+e.dA/(w.length+1)),i.add(v,a+e.dA/(w.length+1))}break;default:r={autoAlpha:0,top:b-250},s={autoAlpha:1,top:b,onComplete:a},s.ease=Bounce.easeOut,o=TweenMax.fromTo(m,e.dA,r,s),d=TweenMax.fromTo(m,e.dA,{left:f-450},{left:f}),null!=i&&(p=t.tim.sT||0,i.add(o,p),i.add(d,p))}break;case antz.Exit:if(null==$(m).find("text")||0==$(m).find("text").length)r={top:b},s={top:b+250,onComplete:a},s.ease=Bounce.easeOut,h=TweenMax.fromTo("#"+t.id,e.dA,r,s),c=TweenMax.fromTo(m,e.dA,{left:f},{left:f+450}),null!=i&&(u=t.tim.sT+t.tim.dT-e.dA||0,i.add(h,u),i.add(c,u));else if(null!=$(m).find("text"))for(g=0;g<e.eO.length;g++)if(e.eO[g].grNm==anffx.Sequence)switch(e.eO[g].nm){case efps.AsOneObject:r={top:b},s={top:b+250,onComplete:a},s.ease=Bounce.easeOut,h=TweenMax.fromTo(m,e.dA,r,s),c=TweenMax.fromTo(m,e.dA,{left:f},{left:f+250}),null!=i&&(u=t.tim.sT+t.tim.dT-e.dA||0,i.add(h,u),i.add(c,u));break;case efps.ByParagraph:w=$(m).find("text");r={top:b},s={top:b+250},s.ease=Bounce.easeOut;let o=$(m).find("path")[0],d=o.attributes[2].nodeValue,p=o.attributes[3].value,g=o.attributes[4].value,y=null,v=null;if(("0"==d||"transparent"==g)&"transparent"==p)n={x:0,y:0},l={x:250,y:250},l.ease=Bounce.easeOut,y=TweenMax.staggerFromTo(w,e.dA/w.length,n,l,e.dA/w.length,a),v=TweenMax.staggerFromTo(w,e.dA/w.length,{x:0},{x:f+250},e.dA/w.length),null!=i&&(u=t.tim.sT+t.tim.dT-e.dA||0,i.add(y,u),i.add(v,u));else if(("0"!=d||"transparent"!=g)&"transparent"!=p){s.ease=Bounce.easeOut,h=TweenMax.fromTo(m,e.dA/(w.length+1),r,s),c=TweenMax.fromTo(m,e.dA/(w.length+1),{left:f},{left:f+250,onComplete:a}),n={x:0,y:0},l={x:250,y:250},l.ease=Bounce.easeOut,y=TweenMax.staggerFromTo(w,e.dA/(w.length+1),n,l,e.dA/(w.length+1)),v=TweenMax.staggerFromTo(w,e.dA/(w.length+1),{x:0},{x:f+250,onComplete:function(){}},e.dA/(w.length+1)),null!=i&&(u=t.tim.sT+t.tim.dT-e.dA||0,i.add(y,u),i.add(v,u),i.add(h,t.tim.dT-.5),i.add(c,t.tim.dT-.5))}break;default:r={top:b},s={top:b+250,onComplete:a},s.ease=Bounce.easeOut,h=TweenMax.fromTo(m,e.dA,r,s),c=TweenMax.fromTo(m,e.dA,{left:f},{left:f+250}),null!=i&&(u=t.tim.sT+t.tim.dT-e.dA||0,i.add(h,u),i.add(c,u))}}}(s,n,l,o);break;case"Pinwheel":!function(e,t,i,a){let r=null,s=null,n=null,l=null,o=null,h=0,d="#"+t.id;var c=0==isMobile?t.widdkt:isTabletLandscape?t.widtls:isTabletPortrait?t.widtpt:isMobileLandscape?t.widmls:isMobilePortrait?t.widmpt:t.w;0==isMobile?t.heidkt:isTabletLandscape?t.heitls:isTabletPortrait?t.heitpt:isMobileLandscape?t.heimls:isMobilePortrait?t.heimpt:t.h;switch(e.typ){case antz.Entrance:if(null==$(d).find("text"))h+=720,r={scale:0,opacity:0,rotation:0},s={scale:1,opacity:1,rotation:-h,onComplete:a},zahj.sopxz(e.eO,t,s,r),n=TweenMax.fromTo(d,e.dA,r,s),null!=i&&(l=t.tim.sT||0,i.add(n,l));else if(null!=$(d).find("text"))for(var p=0;p<e.eO.length;p++)if(e.eO[p].grNm==anffx.Sequence)switch(e.eO[p].nm){case efps.AsOneObject:h+=720,r={scale:0,opacity:0,rotation:0},s={scale:1,opacity:1,rotation:-h,onComplete:a},n=TweenMax.fromTo(d,e.dA,r,s),null!=i&&(l=t.tim.sT||0,i.add(n,l));break;case efps.ByParagraph:h+=720,r={scale:0,opacity:0,rotation:0,x:c/2},s={scale:1,opacity:1,rotation:-h,x:0};var u=$(d).find("text");let o=TweenMax.staggerFromTo(u,t.tim.dT/u.length,r,s,t.tim.dT/u.length,a);null!=i&&(l=t.tim.sT||0,i.add(o,l));break;default:h+=720,r={scale:0,opacity:0,rotation:0},s={scale:1,opacity:1,rotation:-h,onComplete:a},n=TweenMax.fromTo(d,e.dA,r,s),null!=i&&(l=t.tim.sT||0,i.add(n,l))}break;case antz.Exit:if(null==$(d).find("text"))h+=720,r={scale:1,opacity:1,rotation:0},s={scale:0,opacity:0,rotation:-h,onComplete:a},zahj.sopxz(e.eO,t,s,r),n=TweenMax.fromTo(d,e.dA,r,s),null!=i&&(o=t.tim.sT+t.tim.dT-e.dA||0,i.add(n,o));else if(null!=$(d).find("text"))for(p=0;p<e.eO.length;p++)if(e.eO[p].grNm==anffx.Sequence)switch(e.eO[p].nm){case efps.AsOneObject:h+=720,r={scale:1,opacity:1,rotation:0},s={scale:0,opacity:0,rotation:-h,onComplete:a},zahj.sopxz(e.eO,t,s,r),n=TweenMax.fromTo(d,e.dA,r,s),null!=i&&(o=t.tim.sT+t.tim.dT-e.dA||0,i.add(n,o));break;case efps.ByParagraph:h+=720,r={scale:1,opacity:1,rotation:0,x:0},s={scale:0,opacity:0,rotation:-h,x:c/2};u=$(d).find("text");let l=TweenMax.staggerFromTo(u,t.tim.dT/u.length,r,s,t.tim.dT/u.length,a);null!=i&&(o=t.tim.sT+t.tim.dT-e.dA||0,i.add(l,o));break;default:h+=720,r={scale:1,opacity:1,rotation:0},s={scale:0,opacity:0,rotation:-h,onComplete:a},zahj.sopxz(e.eO,t,s,r),n=TweenMax.fromTo(d,e.dA,r,s),null!=i&&(o=t.tim.sT+t.tim.dT-e.dA||0,i.add(n,o))}}}(s,n,l,o);break;case"Pulse":!function(e,t,i,a){let r=null,s=null,n=null,l=null,o=null,h=null,d=null,c="#"+t.id;r={scaleX:1,scaleY:1,opacity:1},s={scaleX:1.25,scaleY:1.25,opacity:.5},n={scaleX:1,scaleY:1,opacity:1,onComplete:a},zahj.sopxz(e.eO,t,r,n),l=TweenMax.fromTo(c,e.dA/2,r,s),o=TweenMax.fromTo(c,e.dA/2,s,n),null!=i?(h=t.tim.sT+e.sA||0,i.add(l,h),d=t.tim.sT+e.sA+e.dA/2||0,i.add(o,d)):o.delay(e.dA/2);o&&o.eventCallback("onComplete",a)}(s,n,l,o);break;case"ColorPulse":case"Desaturate":case"Darken":case"Lighten":r(s,n,l,o);break;case"ObjectColor":!function(e,t,i,a){let r=null,s=null,n=null,l=null,o=null,h=null,d="#"+t.id,c=$(d)[0].getElementsByTagName("path"),p=$(d)[0].getElementsByTagName("tspan");r={scaleX:1,scaleY:1,opacity:1},s={scaleX:1.25,scaleY:1.25,opacity:.5},n={scaleX:1,scaleY:1,opacity:1,onComplete:a},zahj.sopxz(e.eO,t,r,n),null!=e.col&&(l=TweenMax.to(c,e.dA,{fill:e.col.col}),o=TweenMax.to(p,e.dA,{fill:e.col.col}),null!=i&&(h=t.tim.sT+e.sA||0,i.add(l,h),i.add(o,h)),l&&l.eventCallback("onComplete",a))}(s,n,l,o);break;case"LineColor":!function(e,t,i,a){let r=null,s=null,n=null,l=null,o=null,h="#"+t.id,d=$(h)[0].getElementsByTagName("path");$(h)[0].getElementsByTagName("tspan");r={scaleX:1,scaleY:1,opacity:1},s={scaleX:1.25,scaleY:1.25,opacity:.5},n={scaleX:1,scaleY:1,opacity:1,onComplete:a},zahj.sopxz(e.eO,t,r,n),null!=e.col&&(l=TweenMax.to(d,e.dA,{stroke:e.col.col}),null!=i&&(o=t.tim.sT+e.sA||0,i.add(l,o)),l&&l.eventCallback("onComplete",a))}(s,n,l,o);break;case"FillColor":!function(e,t,i,a){let r=null,s=null,n=null,l=null,o=null,h="#"+t.id,d=$(h)[0].getElementsByTagName("path");$(h)[0].getElementsByTagName("tspan");r={scaleX:1,scaleY:1,opacity:1},s={scaleX:1.25,scaleY:1.25,opacity:.5},n={scaleX:1,scaleY:1,opacity:1,onComplete:a},zahj.sopxz(e.eO,t,r,n),null!=e.col&&(l=TweenMax.to(d,e.dA,{fill:e.col.col}),null!=i&&(o=t.tim.sT+e.sA||0,i.add(l,o)),l&&l.eventCallback("onComplete",a))}(s,n,l,o);break;case"FontColor":!function(e,t,i,a){let r=null,s=null,n=null,l=null,o="#"+t.id,h=$(o)[0].getElementsByTagName("tspan");r={opacity:1},s={opacity:1,onComplete:a},null!=e.col&&(n=TweenMax.to(h,e.dA,{fill:e.col.col}),null!=i&&(l=t.tim.sT+e.sA||0,i.add(n,l)),n&&n.eventCallback("onComplete",a))}(s,n,l,o);break;case"Teeter":!function(e,t,i,a){let r=null,s=null,n=null,l=null,o="#"+t.id;r={rotation:t.agl},s={rotation:t.agl+6.25,onComplete:a},n=TweenMax.fromTo(o,e.dA/8,r,s),null!=i&&(l=t.tim.sT+e.sA||0,i.add(n,l));r={rotation:t.agl+6.25},s={rotation:t.agl-6.25,onComplete:a},n=TweenMax.fromTo(o,e.dA/8*2,r,s),null!=i?(l=t.tim.sT+e.sA+e.dA/8||0,i.add(n,l)):n.delay(e.dA/8);r={rotation:t.agl-6.25},s={rotation:t.agl+6.25,onComplete:a},n=TweenMax.fromTo(o,e.dA/8*2,r,s),null!=i?(l=t.tim.sT+e.sA+e.dA/8*3||0,i.add(n,l)):n.delay(e.dA/8*3);r={rotation:t.agl+6.25},s={rotation:t.agl-6.25,onComplete:a},n=TweenMax.fromTo(o,e.dA/8*2,r,s),null!=i?(l=t.tim.sT+e.sA+e.dA/8*5||0,i.add(n,l)):n.delay(e.dA/8*5);r={rotation:t.agl-6.25},s={rotation:t.agl,onComplete:a},n=TweenMax.fromTo(o,e.dA/8,r,s),null!=i?(l=t.tim.sT+e.sA+e.dA/8*7||0,i.add(n,l)):n.delay(e.dA/8*7);n&&n.eventCallback("onComplete",a)}(s,n,l,o);break;case"BrushColor":!function(e,t,i,a){let r=null,s=null,n=null,l="#"+t.id,o=null,h=$(l)[0].getElementsByTagName("path");$(l)[0].getElementsByTagName("tspan");if(null==e.col)return;if(null!=$(l).find("text")){var d=$(l).find("tspan");boxAnimation=TextAnimation(e,t),s={fill:e.col.col},null!=i&&(o=t.tim.sT+e.sA||0),n=TweenMax.to(h,e.dA/d.length,s,e.dA/d.length,a),i.add(n,o),r={fill:"red",webkitClipPath:"polygon(0% 0%, 50% 0%, 0% 100%,0% 100%)"},s={fill:e.col.col},n=TweenMax.staggerTo(d,e.dA/d.length,s,e.dA/d.length,a),o=t.tim.sT+e.sA+e.dA/d.length||0,i.add(n,o),n&&n.eventCallback("onComplete",a)}}(s,n,l,o);break;case"Underline":!function(e,t,i,a){let r=null,s=null,n=null,l="#"+t.id,o=null;$(l)[0].getElementsByTagName("tspan");if(null!=$(l).find("text")){var h=$(l).find("tspan");r={textDecoration:"none"},s={textDecoration:"underline"},n=TweenMax.staggerFromTo(h,e.dA/4,r,s,e.dA/4,a),null!=i&&(o=t.tim.sT+e.sA||0,i.add(n,o))}}(s,n,l,o);break;case"BoldFlash":!function(e,t,i,a){let r,s,n=null,l=null,o=null,h="#"+t.id,d=null,c=$(h)[0].getElementsByTagName("tspan");if(null!=$(h).find("text")){$(h).find("tspan");n={fontWeight:"none"},l={fontWeight:"bold"},o=TweenMax.to(c,Math.min(e.dA/3,2),l,a),null!=i&&(d=t.tim.sT+e.sA+e.dA/3||0,i.add(o,d)),r=TweenMax.to(c,Math.min(e.dA/3,.5),l,a),null!=i&&(s=t.tim.sT+e.sA+e.dA/3+Math.min(e.dA/3,2)||0,r=r.reverse(s),i.add(r,s)),r&&r.eventCallback("onComplete",a)}}(s,n,l,o);break;case"BoldReveal":!function(e,t,i,a){let r=null,s=null,n=null,l="#"+t.id,o=null,h=$(l)[0].getElementsByTagName("tspan");if(null!=$(l).find("text")){var d=$(l).find("tspan");r={fontWeight:"none"},s={fontWeight:"bold"},n=TweenMax.staggerTo(h,e.dA/d.length,s,e.dA/d.length,a),null!=i&&(o=t.tim.sT+e.sA||0,i.add(n,o))}}(s,n,l,o)}},getGesture:function(e,t,i,a){var r=0==isMobile?e.widdkt:isTabletLandscape?e.widtls:isTabletPortrait?e.widtpt:isMobileLandscape?e.widmls:isMobilePortrait?e.widmpt:e.w,s=0==isMobile?e.heidkt:isTabletLandscape?e.heitls:isTabletPortrait?e.heitpt:isMobileLandscape?e.heimls:isMobilePortrait?e.heimpt:e.h;if("Hold"===e.gMode){let i=WheelGesture(e),r={angle:360,onComplete:a},s=TweenMax.fromTo("#"+e.id+"_svg",.5,{opacity:0},{opacity:1}),n=TweenMax.fromTo("#"+e.id+"_svg",.5,{opacity:1},{opacity:0}),l=TweenMax.to(i,e.tim.dT,r);t.add(l,e.tim.sT),t.add(s,e.tim.sT),t.add(n,e.tim.dT+e.tim.sT-.5)}else if("TwoFingerSingleTap"===e.gMode){let i=new FingerTapGesture(e,"_path1"),r={scale:.3},s={scale:1,onComplete:a},n=TweenMax.fromTo(i,e.tim.dT,r,s),l=TweenMax.fromTo("#"+e.id+"_svg",.5,{opacity:0},{opacity:1}),o=TweenMax.fromTo("#"+e.id+"_svg",.5,{opacity:1},{opacity:0});t.add(n,e.tim.sT),t.add(l,e.tim.sT),t.add(o,e.tim.dT+e.tim.sT-.5)}else if("TwoFingerDoubleTap"===e.gMode){let i=new FingerTapGesture(e,"_path1"),r=new FingerTapGesture(e,"_path2"),s={scale:.3},n={scale:1,onComplete:a},l=TweenMax.fromTo(i,e.tim.dT-.5,s,n),o=TweenMax.fromTo(r,e.tim.dT-.5,s,n),h=TweenMax.fromTo("#"+e.id+"_path1",.5,{opacity:0},{opacity:1}),d=TweenMax.fromTo("#"+e.id+"_path1",.5,{opacity:1},{opacity:0}),c=TweenMax.fromTo("#"+e.id+"_path2",.5,{opacity:0},{opacity:1}),p=TweenMax.fromTo("#"+e.id+"_path2",.5,{opacity:1},{opacity:0});t.add(l,e.tim.sT),t.add(o,e.tim.sT+.5),t.add(h,e.tim.sT),t.add(d,e.tim.dT+e.tim.sT-.5),t.add(c,e.tim.sT),t.add(p,e.tim.dT+e.tim.sT-.5)}else if("SingleTap"===e.gMode){let i=TweenMax.fromTo("#"+e.id+"_circle",e.tim.dT,{opacity:1,scale:0},{opacity:0,scale:1,onComplete:a});t.add(i,e.tim.sT)}else if("DoubleTap"===e.gMode){let i=TweenMax.fromTo("#"+e.id+"_circle1",e.tim.dT-.5,{opacity:1,scale:0},{opacity:0,scale:1}),r=TweenMax.fromTo("#"+e.id+"_circle2",e.tim.dT-.5,{opacity:1,scale:0},{opacity:0,scale:1,onComplete:a});t.add(i,e.tim.sT),t.add(r,e.tim.sT+.5)}else if("SwipeUp"===e.gMode){let i=TweenMax.fromTo("#"+e.id+"_svg",e.tim.dT,{y:.3*s},{y:.3*-s}),r=TweenMax.fromTo("#"+e.id+"_svg",.5,{opacity:0},{opacity:1}),n=TweenMax.fromTo("#"+e.id+"_svg",.5,{opacity:1},{opacity:0,onComplete:a});t.add(i,e.tim.sT),t.add(r,e.tim.sT),t.add(n,e.tim.dT+e.tim.sT-.5)}else if("SwipeDown"===e.gMode){let i=TweenMax.fromTo("#"+e.id+"_svg",e.tim.dT,{y:.3*-s},{y:.3*s}),r=TweenMax.fromTo("#"+e.id+"_svg",.5,{opacity:0},{opacity:1}),n=TweenMax.fromTo("#"+e.id+"_svg",.5,{opacity:1},{opacity:0,onComplete:a});t.add(i,e.tim.sT),t.add(r,e.tim.sT),t.add(n,e.tim.dT+e.tim.sT-.5)}else if("SwipeLeft"===e.gMode){let i=TweenMax.fromTo("#"+e.id+"_svg",e.tim.dT,{x:.3*r},{x:.3*-r}),s=TweenMax.fromTo("#"+e.id+"_svg",.5,{opacity:0},{opacity:1}),n=TweenMax.fromTo("#"+e.id+"_svg",.5,{opacity:1},{opacity:0,onComplete:a});t.add(i,e.tim.sT),t.add(s,e.tim.sT),t.add(n,e.tim.dT+e.tim.sT-.5)}else if("SwipeRight"===e.gMode){let i=TweenMax.fromTo("#"+e.id+"_svg",e.tim.dT,{x:.3*-r},{x:.3*r}),s=TweenMax.fromTo("#"+e.id+"_svg",.5,{opacity:0},{opacity:1}),n=TweenMax.fromTo("#"+e.id+"_svg",.5,{opacity:1},{opacity:0,onComplete:a});t.add(i,e.tim.sT),t.add(s,e.tim.sT),t.add(n,e.tim.dT+e.tim.sT-.5)}else if("RotateLeft"===e.gMode){let i=TweenMax.fromTo("#"+e.id+"_svg",e.tim.dT,{rotation:0},{rotation:-45}),r=TweenMax.fromTo("#"+e.id+"_svg",.5,{opacity:0},{opacity:1}),s=TweenMax.fromTo("#"+e.id+"_svg",.5,{opacity:1},{opacity:0,onComplete:a});t.add(i,e.tim.sT),t.add(r,e.tim.sT),t.add(s,e.tim.dT+e.tim.sT-.5)}else if("RotateRight"===e.gMode){let i=TweenMax.fromTo("#"+e.id+"_svg",e.tim.dT,{rotation:0},{rotation:45}),r=TweenMax.fromTo("#"+e.id+"_svg",.5,{opacity:0},{opacity:1}),s=TweenMax.fromTo("#"+e.id+"_svg",.5,{opacity:1},{opacity:0,onComplete:a});t.add(i,e.tim.sT),t.add(r,e.tim.sT),t.add(s,e.tim.dT+e.tim.sT-.5)}else if("PinchIn"===e.gMode){let i,r;glhp.checkIEBrower()?(i=TweenMax.fromTo("#"+e.id+"_path1",e.tim.dT,{rotation:-45,x:18,y:-36},{rotation:-45,x:-15,y:10}),r=TweenMax.fromTo("#"+e.id+"_path2",e.tim.dT,{rotation:-45,x:-17,y:108},{rotation:-45,x:18,y:78,onComplete:a})):(i=TweenMax.fromTo("#"+e.id+"_path1",e.tim.dT,{transform:"rotate(-45deg)translateX(50px)"},{transform:"rotate(-45deg)translateX(0px)"}),r=TweenMax.fromTo("#"+e.id+"_path2",e.tim.dT,{transform:"rotate(-45deg)translateX(-50px)"},{transform:"rotate(-45deg)translateX(0px)",onComplete:a}));let s=TweenMax.fromTo("#"+e.id+"_svg",.5,{opacity:0},{opacity:1}),n=TweenMax.fromTo("#"+e.id+"_svg",.5,{opacity:1},{opacity:0,onComplete:a});t.add(i,e.tim.sT),t.add(r,e.tim.sT),t.add(s,e.tim.sT),t.add(n,e.tim.dT+e.tim.sT-.5)}else if("PinchOut"===e.gMode){let i=TweenMax.fromTo("#"+e.id+"_path1",e.tim.dT,{transform:"rotate(-45deg)translateX(0px)"},{transform:"rotate(-45deg)translateX(50px)"}),r=TweenMax.fromTo("#"+e.id+"_path2",e.tim.dT,{transform:"rotate(-45deg)translateX(0px)"},{transform:"rotate(-45deg)translateX(-50px)"}),s=TweenMax.fromTo("#"+e.id+"_svg",.5,{opacity:0},{opacity:1}),n=TweenMax.fromTo("#"+e.id+"_svg",.5,{opacity:1},{opacity:0,onComplete:a});t.add(i,e.tim.sT),t.add(r,e.tim.sT),t.add(s,e.tim.sT),t.add(n,e.tim.dT+e.tim.sT-.5)}},getCursorAnimation:function(e,t,i){let a=MotionPathCursor(e,i);t.add(a,e.tim.sT)},checkBeginAnimation:function(e){var t=!0;return glrs.CurrentLayer&&glrs.CurrentLayer.Elements&&glrs.CurrentLayer.Elements.forEach((function(i){i.Data.tri.forEach((function(i){if("BeginAnimation"===i.A&&i.S===e.id)return t=!1}))})),t},TriggerAnimation:function(e,t){let i=function(e){for(let i=0;i<glrs.crsl.Data.lts.length;i++){var t=glrs.crsl.Data.lts[i];for(let i=0;i<t.e.length;i++)if(t.e[i].id==e)return t.e[i]}}(e);if(null!=i)switch(t){case"Entrance":this.getAnimation(i.a[0],i,s(e).timeline);break;case"Exit":this.getAnimation(i.a[2],i,s(e).timeline);break;case"Emphasis":this.getAnimation(i.a[1],i,s(e).timeline)}}};function e(e,t,i,a){let r=null,s=null,n=null,l=null,o=null,h=null,d=null,c=null,p=null,u=null,m=null,b=null,f=null,g="#"+t.id;switch(e.typ){case antz.Entrance:if(null==$(g).find("text")||0==$(g).find("text").length)o=pgaz(e,t),d={percent:100},c=TweenMax.to(o,e.dA,d),r={},s={onComplete:a},zahj.sopxz(e.eO,t,r,s),p=TweenMax.fromTo(g,e.dA,r,s),null!=i&&(b=t.tim.sT||0,i.add(c,b),i.add(p,b));else if(null!=$(g).find("text"))for(var w=0;w<e.eO.length;w++)if(e.eO[w].grNm==anffx.Sequence)switch(e.eO[w].nm){case efps.AsOneObject:o=pgaz(e,t),d={percent:100},c=TweenMax.to(o,e.dA,d),r={},s={onComplete:a},zahj.sopxz(e.eO,t,r,s),p=TweenMax.fromTo(g,e.dA,r,s),null!=i&&(b=t.tim.sT||0,i.add(c,b),i.add(p,b));break;case efps.ByParagraph:var y=$(g).find("text");r={},s={},n={autoAlpha:0},l={autoAlpha:1};let h=$(g).find("path")[0],u=h.attributes[2].nodeValue,m=h.attributes[3].value,f=h.attributes[4].value,w=null;("0"==u||"transparent"==f)&"transparent"==m?(o=pgaz(e,t),d={percent:100},c=TweenMax.to(o,e.dA,d),zahj.sopxz(e.eO,t,r,s),s.onComplete=a,p=TweenMax.fromTo(g,e.dA,r,s),w=TweenMax.staggerFromTo(y,e.dA/y.length,n,l,e.dA/y.length,a),null!=i&&(b=t.tim.sT||0,i.add(c,b),i.add(p,b),i.add(w,b))):("0"!=u||"transparent"!=f)&"transparent"!=m&&(o=pgaz(e,t),d={percent:100},c=TweenMax.to(o,e.dA/(y.length+1),d),zahj.sopxz(e.eO,t,r,s),s.onComplete=a,p=TweenMax.fromTo(g,e.dA/(y.length+1),r,s),w=TweenMax.staggerFromTo(y,e.dA/(y.length+1),n,l,e.dA/(y.length+1)),null!=i&&(b=t.tim.sT||0,i.add(c,b),i.add(p,b),i.add(w,b+e.dA/(y.length+1))));break;default:o=pgaz(e,t),d={percent:100},c=TweenMax.to(o,e.dA,d),r={},s={onComplete:a},zahj.sopxz(e.eO,t,r,s),p=TweenMax.fromTo(g,e.dA,r,s),null!=i&&(b=t.tim.sT||0,i.add(c,b),i.add(p,b))}break;case antz.Exit:if(null==$(g).find("text")||0==$(g).find("text").length)h=pgaz(e,t),h.percent=100,u=TweenMax.to(h,e.dA,{percent:0}),r={},s={onComplete:a},zahj.sopxz(e.eO,t,r,s),m=TweenMax.fromTo(g,e.dA,r,s),null!=i&&(f=t.tim.sT+t.tim.dT-e.dA||0,i.add(u,f),i.add(m,f));else if(null!=$(g).find("text"))for(w=0;w<e.eO.length;w++)if(e.eO[w].grNm==anffx.Sequence)switch(e.eO[w].nm){case efps.AsOneObject:h=pgaz(e,t),h.percent=100,u=TweenMax.to(h,e.dA,{percent:0}),r={},s={onComplete:a},zahj.sopxz(e.eO,t,s,r),m=TweenMax.fromTo(g,e.dA,r,s),null!=i&&(f=t.tim.sT+t.tim.dT-e.dA||0,i.add(u,f),i.add(m,f));break;case efps.ByParagraph:y=$(g).find("text");r={},s={},n={autoAlpha:1},l={autoAlpha:0};let o=$(g).find("path")[0],d=o.attributes[2].nodeValue,c=o.attributes[3].value,p=o.attributes[4].value,b=o.attributes[4].value,w=o.attributes[5].value,v=null;("0"==d||"transparent"==b)&"transparent"==c?(h=pgaz(e,t),h.percent=100,u=TweenMax.to(h,e.dA,{percent:0}),zahj.sopxz(e.eO,t,s,r),s.onComplete=a,m=TweenMax.fromTo(g,e.dA,r,s),null!=i&&(f=t.tim.sT+t.tim.dT-e.dA||0,i.add(u,f),i.add(m,f))):("0"!=d||"transparent"!=w)&"transparent"!=p&&(h=pgaz(e,t),h.percent=100,u=TweenMax.to(h,e.dA/(y.length+1),{percent:0}),zahj.sopxz(e.eO,t,s,r),s.onComplete=a,m=TweenMax.fromTo(g,e.dA/(y.length+1),r,s),zahj.sevz(e.eO,t,l,n),v=TweenMax.staggerFromTo(y,e.dA/(y.length+1),n,l,e.dA/(y.length+1),a),null!=i&&(f=t.tim.sT+t.tim.dT-e.dA||0,i.add(u,t.tim.dT),i.add(m,t.tim.dT),i.add(v,f)));break;default:h=pgaz(e,t),h.percent=100,u=TweenMax.to(h,e.dA,{percent:0}),r={},s={onComplete:a},zahj.sopxz(e.eO,t,r,s),m=TweenMax.fromTo(g,e.dA,r,s),null!=i&&(f=t.tim.sT+t.tim.dT-e.dA||0,i.add(u,f),i.add(m,f))}}}function t(e,t,i,a){let r=null,s=null,n=null,l=null,o=null,h=null,d=null,c=null,p=null,u=null,m=null,b=null,f=null,g="#"+t.id;switch(e.typ){case antz.Entrance:if(null==$(g).find("text")||0==$(g).find("text").length)o=dsaz(e,t),d={percent:100},c=TweenMax.to(o,e.dA,d),r={},s={onComplete:a},zahj.sopxz(e.eO,t,r,s),p=TweenMax.fromTo("#"+t.id,e.dA,r,s),null!=i&&(b=t.tim.sT||0,i.add(c,b),i.add(p,b));else if(null!=$(g).find("text"))for(var w=0;w<e.eO.length;w++)if(e.eO[w].grNm==anffx.Sequence)switch(e.eO[w].nm){case efps.AsOneObject:o=dsaz(e,t),d={percent:100},c=TweenMax.to(o,e.dA,d),r={},s={onComplete:a},zahj.sopxz(e.eO,t,r,s),p=TweenMax.fromTo("#"+t.id,e.dA,r,s),null!=i&&(b=t.tim.sT||0,i.add(c,b),i.add(p,b));break;case efps.ByParagraph:var y=$(g).find("text");r={},s={},n={opacity:0},l={opacity:1};let h=$(g).find("path")[0],u=h.attributes[2].nodeValue,m=h.attributes[3].value,f=h.attributes[4].value,w=null;("0"==u||"transparent"==f)&"transparent"==m?(o=dsaz(e,t),d={percent:100},c=TweenMax.to(o,e.dA,d),zahj.sopxz(e.eO,t,r,s),p=TweenMax.fromTo("#"+t.id,e.dA,r,s),w=TweenMax.staggerFromTo(y,e.dA/y.length,n,l,e.dA/y.length,a),null!=i&&(b=t.tim.sT||0,i.add(c,b),i.add(p,b),i.add(w,b))):("0"!=u||"transparent"!=f)&"transparent"!=m&&(o=dsaz(e,t),d={percent:100},c=TweenMax.to(o,e.dA/(y.length+1),d),zahj.sopxz(e.eO,t,r,s),p=TweenMax.fromTo("#"+t.id,e.dA/(y.length+1),r,s),zahj.sevz(e.eO,t,n,l),w=TweenMax.staggerFromTo(y,e.dA/(y.length+1),n,l,e.dA/(y.length+1),a),null!=i&&(b=t.tim.sT||0,i.add(c,b),i.add(p,b),i.add(w,b+e.dA/(y.length+1))));break;default:o=dsaz(e,t),d={percent:100},c=TweenMax.to(o,e.dA,d),r={},s={onComplete:a},zahj.sopxz(e.eO,t,r,s),p=TweenMax.fromTo("#"+t.id,e.dA,r,s),null!=i&&(b=t.tim.sT||0,i.add(c,b),i.add(p,b))}break;case antz.Exit:if(null==$(g).find("text")||0==$(g).find("text").length)h=dsaz(e,t),h.percent=100,u=TweenMax.to(h,e.dA,{percent:0}),r={},s={onComplete:a},zahj.sopxz(e.eO,t,r,s),m=TweenMax.fromTo("#"+t.id,e.dA,r,s),null!=i&&(f=t.tim.sT+t.tim.dT-e.dA||0,i.add(u,f),i.add(m,f));else if(null!=$(g).find("text"))for(w=0;w<e.eO.length;w++)if(e.eO[w].grNm==anffx.Sequence)switch(e.eO[w].nm){case efps.AsOneObject:h=dsaz(e,t),h.percent=100,u=TweenMax.to(h,e.dA,{percent:0}),r={},s={onComplete:a},zahj.sopxz(e.eO,t,r,s),m=TweenMax.fromTo("#"+t.id,e.dA,r,s),null!=i&&(f=t.tim.sT+t.tim.dT-e.dA||0,i.add(u,f),i.add(m,f));break;case efps.ByParagraph:y=$(g).find("text");r={},s={},n={autoAlpha:1},l={autoAlpha:0};let o=$(g).find("path")[0],d=o.attributes[2].nodeValue,c=o.attributes[3].value,p=o.attributes[4].value,b=o.attributes[4].value,w=o.attributes[5].value,v=null;("0"==d||"transparent"==b)&"transparent"==c?(h=dsaz(e,t),h.percent=100,u=TweenMax.to(h,e.dA,{percent:0}),zahj.sopxz(e.eO,t,s,r),m=TweenMax.fromTo(g,e.dA,r,s),v=TweenMax.staggerFromTo(y,e.dA/y.length,n,l,e.dA/y.length,a),null!=i&&(f=t.tim.sT+t.tim.dT-e.dA||0,i.add(u,f),i.add(m,f),i.add(v,f))):("0"!=d||"transparent"!=w)&"transparent"!=p&&(h=dsaz(e,t),h.percent=100,u=TweenMax.to(h,e.dA/(y.length+1),{percent:0}),zahj.sopxz(e.eO,t,s,r),m=TweenMax.fromTo(g,e.dA/(y.length+1),r,s),zahj.sevz(e.eO,t,l,n),v=TweenMax.staggerFromTo(y,e.dA/(y.length+1),n,l,e.dA/(y.length+1),a),null!=i&&(f=t.tim.sT+t.tim.dT-e.dA||0,i.add(u,t.tim.dT-.5),i.add(m,t.tim.dT-.5),i.add(v,f)));break;default:h=dsaz(e,t),h.percent=100,u=TweenMax.to(h,e.dA,{percent:0}),r={},s={onComplete:a},zahj.sopxz(e.eO,t,r,s),m=TweenMax.fromTo("#"+t.id,e.dA,r,s),null!=i&&(f=t.tim.sT+t.tim.dT-e.dA||0,i.add(u,f),i.add(m,f))}}}function i(e,t,i,a){let r=null,s=null,n=null,l=null,o=null,h=null,d=null,c=null,p=null,u=null,m=null,b=null,f=null,g="#"+t.id;switch(e.typ){case antz.Entrance:if(null==$(g).find("text")||0==$(g).find("text").length)o=BoxAnimation(e,t),d={percent:100},c=TweenMax.to(o,e.dA,d),r={},s={onComplete:a},zahj.sopxz(e.eO,t,r,s),p=TweenMax.fromTo("#"+t.id,e.dA,r,s),null!=i&&(b=t.tim.sT||0,i.add(c,b),i.add(p,b));else if(null!=$(g).find("text"))for(var w=0;w<e.eO.length;w++)if(e.eO[w].grNm==anffx.Sequence)switch(e.eO[w].nm){case efps.AsOneObject:o=BoxAnimation(e,t),d={percent:100},c=TweenMax.to(o,e.dA,d),r={},s={onComplete:a},zahj.sopxz(e.eO,t,r,s),p=TweenMax.fromTo("#"+t.id,e.dA,r,s),null!=i&&(b=t.tim.sT||0,i.add(c,b),i.add(p,b));break;case efps.ByParagraph:var y=$(g).find("text");r={},s={},n={autoAlpha:0},l={autoAlpha:1};let h=$(g).find("path")[0],u=h.attributes[2].nodeValue,m=h.attributes[3].value,f=h.attributes[4].value,w=null;("0"==u||"transparent"==f)&"transparent"==m?(o=BoxAnimation(e,t),d={percent:100},c=TweenMax.to(o,e.dA,d),zahj.sopxz(e.eO,t,r,s),p=TweenMax.fromTo("#"+t.id,e.dA,r,s),w=TweenMax.staggerFromTo(y,e.dA/y.length,n,l,e.dA/y.length,a),null!=i&&(b=t.tim.sT||0,i.add(c,b),i.add(p,b),i.add(w,b))):("0"!=u||"transparent"!=f)&"transparent"!=m&&(o=BoxAnimation(e,t),d={percent:100},c=TweenMax.to(o,e.dA/(y.length+1),d),zahj.sopxz(e.eO,t,r,s),s.onComplete=a,p=TweenMax.fromTo("#"+t.id,e.dA/(y.length+1),r,s),w=TweenMax.staggerFromTo(y,e.dA/(y.length+1),n,l,e.dA/(y.length+1)),null!=i&&(b=t.tim.sT||0,i.add(c,b),i.add(p,b),i.add(w,b+e.dA/(y.length+1))));break;default:o=BoxAnimation(e,t),d={percent:100},c=TweenMax.to(o,e.dA,d),r={},s={onComplete:a},zahj.sopxz(e.eO,t,r,s),p=TweenMax.fromTo("#"+t.id,e.dA,r,s),null!=i&&(b=t.tim.sT||0,i.add(c,b),i.add(p,b))}break;case antz.Exit:if(null==$(g).find("text")||0==$(g).find("text").length)h=BoxAnimation(e,t),h.percent=100,u=TweenMax.to(h,e.dA,{percent:0}),r={},s={onComplete:a},zahj.sopxz(e.eO,t,r,s),m=TweenMax.fromTo("#"+t.id,e.dA,r,s),null!=i&&(f=t.tim.sT+t.tim.dT-e.dA||0,i.add(u,f),i.add(m,f));else if(null!=$(g).find("text"))for(w=0;w<e.eO.length;w++)if(e.eO[w].grNm==anffx.Sequence)switch(e.eO[w].nm){case efps.AsOneObject:h=BoxAnimation(e,t),h.percent=100,u=TweenMax.to(h,e.dA,{percent:0}),r={},s={onComplete:a},zahj.sopxz(e.eO,t,r,s),m=TweenMax.fromTo("#"+t.id,e.dA,r,s),null!=i&&(f=t.tim.sT+t.tim.dT-e.dA||0,i.add(u,f),i.add(m,f));break;case efps.ByParagraph:y=$(g).find("text");r={},s={},n={opacity:1},l={opacity:0};let o=$(g).find("path")[0],d=o.attributes[2].nodeValue,c=o.attributes[3].value,p=o.attributes[4].value,b=o.attributes[4].value,w=o.attributes[5].value,v=null;("0"==d||"transparent"==b)&"transparent"==c?(h=BoxAnimation(e,t),h.percent=100,u=TweenMax.to(h,e.dA,{percent:0}),zahj.sopxz(e.eO,t,s,r),m=TweenMax.fromTo("#"+t.id,e.dA,r,s),v=TweenMax.staggerFromTo(y,e.dA/y.length,n,l,e.dA/y.length,a),null!=i&&(f=t.tim.sT+t.tim.dT-e.dA||0,i.add(u,f),i.add(m,f),i.add(v,f))):("0"!=d||"transparent"!=w)&"transparent"!=p&&(h=BoxAnimation(e,t),h.percent=100,u=TweenMax.to(h,e.dA/(y.length+1),{percent:0}),zahj.sopxz(e.eO,t,s,r),m=TweenMax.fromTo("#"+t.id,e.dA/(y.length+1),r,s),zahj.sevz(e.eO,t,l,n),v=TweenMax.staggerFromTo(y,e.dA/(y.length+1),n,l,e.dA/(y.length+1),a),null!=i&&(f=t.tim.sT+t.tim.dT-e.dA||0,i.add(u,t.tim.dT-.5),i.add(m,t.tim.dT-.5),i.add(v,f)));break;default:h=BoxAnimation(e,t),h.percent=100,u=TweenMax.to(h,e.dA,{percent:0}),r={},s={onComplete:a},zahj.sopxz(e.eO,t,r,s),m=TweenMax.fromTo("#"+t.id,e.dA,r,s),null!=i&&(f=t.tim.sT+t.tim.dT-e.dA||0,i.add(u,f),i.add(m,f))}}}function a(e,t,i,a){let r=null,s=null,n=null,l=null,o=null,h=null,d=null,c=null,p=null,u=null,m=null,b=null,f=null,g="#"+t.id;switch(e.typ){case antz.Entrance:if(null==$(g).find("text")||0==$(g).find("text").length)o=EllipseAnimation(e,t),d={percent:100},c=TweenMax.to(o,2*e.dA,d),r={autoAlpha:0},s={autoAlpha:1,onComplete:a},zahj.sopxz(e.eO,t,r,s),p=TweenMax.fromTo(g,2*e.dA,r,s),null!=i&&(b=t.tim.sT||0,i.add(c,b),i.add(p,b));else if(null!=$(g).find("text"))for(var w=0;w<e.eO.length;w++)if(e.eO[w].grNm==anffx.Sequence)switch(e.eO[w].nm){case efps.AsOneObject:o=EllipseAnimation(e,t),d={percent:100},c=TweenMax.to(o,2*e.dA,d),r={autoAlpha:0},s={autoAlpha:1,onComplete:a},zahj.sopxz(e.eO,t,r,s),p=TweenMax.fromTo(g,2*e.dA,r,s),null!=i&&(b=t.tim.sT||0,i.add(c,b),i.add(p,b));break;case efps.ByParagraph:var y=$(g).find("text");r={},s={},n={opacity:0},l={opacity:1};let h=$(g).find("path")[0],u=h.attributes[2].nodeValue,m=h.attributes[3].value,f=h.attributes[4].value,w=null;("0"==u||"transparent"==f)&"transparent"==m?(o=EllipseAnimation(e,t),d={percent:100},c=TweenMax.to(o,2*e.dA,d),zahj.sopxz(e.eO,t,r,s),p=TweenMax.fromTo(g,2*e.dA,r,s),w=TweenMax.staggerFromTo(y,e.dA/y.length,n,l,e.dA/y.length,a),null!=i&&(b=t.tim.sT||0,i.add(c,b),i.add(p,b),i.add(w,b))):("0"!=u||"transparent"!=f)&"transparent"!=m&&(o=EllipseAnimation(e,t),d={percent:100},c=TweenMax.to(o,e.dA/(y.length+1),d),zahj.sopxz(e.eO,t,r,s),p=TweenMax.fromTo(g,e.dA/(y.length+1),r,s),zahj.sevz(e.eO,t,n,l),w=TweenMax.staggerFromTo(y,e.dA/(y.length+1),n,l,e.dA/(y.length+1),a),null!=i&&(b=t.tim.sT||0,i.add(c,b),i.add(p,b),i.add(w,b+e.dA/(y.length+1))));break;default:o=EllipseAnimation(e,t),d={percent:100},c=TweenMax.to(o,e.dA,d),r={autoAlpha:0},s={autoAlpha:1,onComplete:a},zahj.sopxz(e.eO,t,r,s),p=TweenMax.fromTo(g,e.dA,r,s),null!=i&&(b=t.tim.sT||0,i.add(c,b),i.add(p,b))}break;case antz.Exit:if(null==$(g).find("text")||0==$(g).find("text").length)h=EllipseAnimation(e,t),h.percent=100,u=TweenMax.to(h,2*e.dA,{percent:0}),r={},s={onComplete:a},zahj.sopxz(e.eO,t,r,s),m=TweenMax.fromTo(g,2*e.dA,r,s),null!=i&&(f=t.tim.sT+t.tim.dT-e.dA||0,i.add(u,f),i.add(m,f));else if(null!=$(g).find("text"))for(w=0;w<e.eO.length;w++)if(e.eO[w].grNm==anffx.Sequence)switch(e.eO[w].nm){case efps.AsOneObject:h=EllipseAnimation(e,t),h.percent=100,u=TweenMax.to(h,e.dA,{percent:0}),r={},s={onComplete:a},zahj.sopxz(e.eO,t,r,s),m=TweenMax.fromTo(g,e.dA,r,s),null!=i&&(f=t.tim.sT+t.tim.dT-e.dA||0,i.add(u,f),i.add(m,f));break;case efps.ByParagraph:y=$(g).find("text");r={},s={},n={opacity:1},l={opacity:0};let o=$(g).find("path")[0],d=o.attributes[2].nodeValue,c=o.attributes[3].value,p=o.attributes[4].value,b=o.attributes[4].value,w=o.attributes[5].value,v=null;("0"==d||"transparent"==b)&"transparent"==c?(h=EllipseAnimation(e,t),h.percent=100,u=TweenMax.to(h,e.dA,{percent:0}),zahj.sopxz(e.eO,t,s,r),m=TweenMax.fromTo(g,e.dA,r,s),v=TweenMax.staggerFromTo(y,e.dA/y.length,n,l,e.dA/y.length,a),null!=i&&(f=t.tim.sT+t.tim.dT-e.dA||0,i.add(u,f),i.add(m,f),i.add(v,f))):("0"!=d||"transparent"!=w)&"transparent"!=p&&(h=EllipseAnimation(e,t),h.percent=100,u=TweenMax.to(h,e.dA/(y.length+1),{percent:0}),zahj.sopxz(e.eO,t,s,r),m=TweenMax.fromTo(g,e.dA/(y.length+1),r,s),zahj.sevz(e.eO,t,l,n),v=TweenMax.staggerFromTo(y,e.dA/(y.length+1),n,l,e.dA/(y.length+1),a),null!=i&&(f=t.tim.sT+t.tim.dT-e.dA||0,i.add(u,t.tim.dT-.5),i.add(m,t.tim.dT-.5),i.add(v,f)));break;default:h=EllipseAnimation(e,t),h.percent=100,u=TweenMax.to(h,e.dA,{percent:0}),r={},s={onComplete:a},zahj.sopxz(e.eO,t,r,s),m=TweenMax.fromTo(g,e.dA,r,s),null!=i&&(f=t.tim.sT+t.tim.dT-e.dA||0,i.add(u,f),i.add(m,f))}}}function r(e,t,i,a){let r=null,s=null,n=null,l=null,o=null,h=null,d=null,c=null,p=null,u="#"+t.id,m=$(u)[0].getElementsByTagName("path"),b=$(u)[0].getElementsByTagName("tspan");if(r={scaleX:1,scaleY:1,opacity:1},s={scaleX:1.25,scaleY:1.25,opacity:.5},n={scaleX:1,scaleY:1,opacity:1,onComplete:a},zahj.sopxz(e.eO,t,r,n),null!=e.col&&m&&b){if(m[0]){var f=m[0].getAttribute("fill");l=TweenMax.fromTo(m,e.dA/2,{fill:f},{fill:e.col.col}),o=TweenMax.to(m,e.dA/2,{fill:f})}if(b[0]){var g=b[0].getAttribute("fill");h=TweenMax.fromTo(b,e.dA/2,{fill:g},{fill:e.col.col}),d=TweenMax.to(b,e.dA/2,{fill:g})}null!=i?(c=t.tim.sT+e.sA||0,l&&i.add(l,c),h&&i.add(h,c),p=t.tim.sT+e.sA+e.dA/2||0,o&&i.add(o,p),d&&i.add(d,p)):(o&&o.delay(e.dA/2),d&&d.delay(e.dA/2))}o&&o.eventCallback("onComplete",a)}function s(e){for(let i=0;i<glrs.crsl.Data.lts.length;i++){var t=glrs.crsl.Data.lts[i];for(let i=0;i<t.e.length;i++)if(t.e[i].id==e)return t}}}();function checkAndExecuteTrigger(e,t){if(e&&t&&!(["Entrance","Exit","Emphasis"].indexOf(e)<0))for(var i=0;i<t.length;i++){let a=t[i],{tD:r}=a;if(!r)continue;let{oI:s}=r;glhp.areStringsEqualIgnoreCase(s,e)&&tzacmd.getTriggerAction(a)}}function pauseTimelineIfNeeded(e,t){let i=glrs.crsl;if(!(e&&t&&i&&DOC.isPresentation))return;let a=i.MainTimeline;var r=i.StartTimeStack.lastIndexOf(e.sA);if(!(i.StackCursor>r)&&(i.StackCursor<0&&(i.StackCursor=r),i.DurationStack[e.sA]==e.dA)){a&&a.pause();for(let t=0;t<i.StartTimeStack.length;t++){if(i.StartTimeStack[t]>=e.sA+e.dA){i.StackCursor=Math.max(0,t-1);break}}}}function onAnimationCompleted(e,t){if(t){if(e){if("Exit"==e.typ){let e=t.id;glhp.loopThroughSlideObject(e,e=>{let t=e.querySelector("video");t&&t.pause(),e.style.display="none"})}setTimeout((function(){let i=t.tri,{typ:a}=e;checkAndExecuteTrigger(a,i)}),50)}pauseTimelineIfNeeded(e,t)}}var zahj=function(){function e(){return null!=glrs.crsl?glrs.crsl.Data:null}return{sopxz:function(t,i,a,r){null!=t&&t.forEach((function(t){"Enter"==t.grNm&&4!=i.a.length?function(t,i,a,r){let s=e(),n={w:s.w||0,h:s.h||0};var l=0==isMobile?i.topdkt:isTabletLandscape?i.toptls:isTabletPortrait?i.toptpt:isMobileLandscape?i.topmls:isMobilePortrait?i.topmpt:i.T,o=0==isMobile?i.lefdkt:isTabletLandscape?i.leftls:isTabletPortrait?i.leftpt:isMobileLandscape?i.lefmls:isMobilePortrait?i.lefmpt:i.l,h=0==isMobile?i.widdkt:isTabletLandscape?i.widtls:isTabletPortrait?i.widtpt:isMobileLandscape?i.widmls:isMobilePortrait?i.widmpt:i.w,d=0==isMobile?i.heidkt:isTabletLandscape?i.heitls:isTabletPortrait?i.heitpt:isMobileLandscape?i.heimls:isMobilePortrait?i.heimpt:i.h;switch(t){case efps.Left:a.left=-h,r.left=o;break;case efps.Right:a.left=n.w,r.left=o;break;case efps.Top:a.top=-d,r.top=l;break;case efps.TopLeft:a.top=-d,r.top=l,a.left=-h,r.left=o;break;case efps.TopRight:a.top=-d,r.top=l,a.left=n.w,r.left=o;break;case efps.Bottom:a.top=n.h+2,r.top=l;break;case efps.BottomLeft:a.top=n.h,r.top=l,a.left=-h,r.left=o;break;case efps.BottomRight:a.top=n.h,r.top=l,a.left=n.w,r.left=o}}(t.nm,i,a,r):"Amount"==t.grNm?function(t,i,a,r){let s=e(),n=(s.w,s.h,r.rotation);switch(t){case efps.Quarter:for(var l=0;l<i.a.length;l++)"Spin&Grow"==i.a[l].nm&&"Exit"==i.a[l].typ?(r.rotation=i.agl,a.rotation=i.agl+90*n):(a.rotation=i.agl,r.rotation=i.agl+90*n);break;case efps.Half:for(l=0;l<i.a.length;l++)"Spin&Grow"==i.a[l].nm&&"Exit"==i.a[l].typ?(r.rotation=i.agl,a.rotation=i.agl+180*n):(a.rotation=i.agl,r.rotation=i.agl+180*n);break;case efps.Full:for(l=0;l<i.a.length;l++)"Spin&Grow"==i.a[l].nm&&"Exit"==i.a[l].typ?(r.rotation=i.agl,a.rotation=i.agl+360*n):(a.rotation=i.agl,r.rotation=i.agl+360*n);break;case efps.Two:for(l=0;l<i.a.length;l++)"Spin&Grow"==i.a[l].nm&&"Exit"==i.a[l].typ?(r.rotation=i.agl,a.rotation=i.agl+720*n):(a.rotation=i.agl,r.rotation=i.agl+720*n)}}(t.nm,i,a,r):"Direction"==t.grNm?function(t,i,a,r){let s=e();var n=0==isMobile?i.topdkt:isTabletLandscape?i.toptls:isTabletPortrait?i.toptpt:isMobileLandscape?i.topmls:isMobilePortrait?i.topmpt:i.T;switch(s.w,s.h,t){case efps.Up:for(var l=0;l<i.a.length;l++)"Float"==i.a[l].nm&&"Exit"==i.a[l].typ?(a.top=n,r.top=n-50):(a.top=n+50,r.top=n);break;case efps.Down:for(l=0;l<i.a.length;l++)"Float"==i.a[l].nm&&"Exit"==i.a[l].typ?(a.top=n,r.top=n+50):(a.top=n-50,r.top=n);break;case efps.Clockwise:null==r.rotation&&(r.rotation=1);break;case efps.Counterclockwise:null==r.rotation&&(r.rotation=1,r.rotation=-(i.agl+(r.rotation-i.agl)))}}(t.nm,i,a,r):"VanishingPoint"==t.grNm?function(t,i,a,r){let s=e();s.w,s.h;var n=0==isMobile?i.lefdkt:isTabletLandscape?i.leftls:isTabletPortrait?i.leftpt:isMobileLandscape?i.lefmls:isMobilePortrait?i.lefmpt:i.l,l=0==isMobile?i.widdkt:isTabletLandscape?i.widtls:isTabletPortrait?i.widtpt:isMobileLandscape?i.widmls:isMobilePortrait?i.widmpt:i.w;switch(t){case efps.SlideCenter:a.left=n-l,r.left=n}}(t.nm,i,a,r):"Zoom"==t.grNm&&function(t,i,a,r){let s=e();s.w,s.h;var n=0==isMobile?i.topdkt:isTabletLandscape?i.toptls:isTabletPortrait?i.toptpt:isMobileLandscape?i.topmls:isMobilePortrait?i.topmpt:i.T,l=0==isMobile?i.lefdkt:isTabletLandscape?i.leftls:isTabletPortrait?i.leftpt:isMobileLandscape?i.lefmls:isMobilePortrait?i.lefmpt:i.l,o=0==isMobile?i.widdkt:isTabletLandscape?i.widtls:isTabletPortrait?i.widtpt:isMobileLandscape?i.widmls:isMobilePortrait?i.widmpt:i.w,h=0==isMobile?i.heidkt:isTabletLandscape?i.heitls:isTabletPortrait?i.heitpt:isMobileLandscape?i.heimls:isMobilePortrait?i.heimpt:i.h;switch(t){case efps.SlideCenter:a.left=s.w/2-o/2,a.top=s.h/2-h/2,r.left=l,r.top=n}}(t.nm,i,a,r)}))},sevz:function(t,i,a,r){let s=e(),n={w:s.w||0,h:s.h||0};var l=0==isMobile?i.widdkt:isTabletLandscape?i.widtls:isTabletPortrait?i.widtpt:isMobileLandscape?i.widmls:isMobilePortrait?i.widmpt:i.w;0==isMobile?i.heidkt:isTabletLandscape?i.heitls:isTabletPortrait?i.heitpt:isMobileLandscape?i.heimls:isMobilePortrait?i.heimpt:i.h;null!=t&&t.forEach((function(e){if("Enter"==e.grNm)switch(e.nm){case efps.Left:a.x=-n.w,r.x=0;break;case efps.Right:a.x=n.w,r.x=0;break;case efps.Top:a.y=-n.h,r.y=0;break;case efps.TopLeft:a.y=-n.h,r.y=0,a.x=-n.w,r.x=0;break;case efps.TopRight:a.y=-n.h,r.y=0,a.x=n.w,r.x=0;break;case efps.Bottom:a.y=n.h,r.y=0;break;case efps.BottomLeft:a.y=n.h,r.y=0,a.x=-n.w,r.x=0;break;case efps.BottomRight:a.y=n.h,r.y=0,a.x=n.w,r.x=0}else if("Direction"==e.grNm)switch(e.nm){case efps.Up:for(var t=0;t<i.a.length;t++)"Float"==i.a[t].nm&&"Exit"==i.a[t].typ?(a.y=0,r.y=-50):(a.y=50,r.y=0);break;case efps.Down:for(t=0;t<i.a.length;t++)"Float"==i.a[t].nm&&"Exit"==i.a[t].typ?(a.y=0,r.y=50):(a.y=-50,r.y=0);break;case efps.Clockwise:r.rotation=1;break;case efps.Counterclockwise:r.rotation=-1}else if("Amount"==e.grNm){let s=r.rotation;switch(e.nm){case efps.Quarter:for(t=0;t<i.a.length;t++)"Spin&Grow"==i.a[t].nm&&"Exit"==i.a[t].typ?(r.rotation=i.agl,a.rotation=i.agl+90*s):(a.rotation=i.agl,r.rotation=i.agl+90*s);break;case efps.Half:for(t=0;t<i.a.length;t++)"Spin&Grow"==i.a[t].nm&&"Exit"==i.a[t].typ?(r.rotation=i.agl,a.rotation=i.agl+180*s):(a.rotation=i.agl,r.rotation=i.agl+180*s);break;case efps.Full:for(t=0;t<i.a.length;t++)"Spin&Grow"==i.a[t].nm&&"Exit"==i.a[t].typ?(r.rotation=i.agl,a.rotation=i.agl+360*s):(a.rotation=i.agl,r.rotation=i.agl+360*s);break;case efps.Two:for(t=0;t<i.a.length;t++)"Spin&Grow"==i.a[t].nm&&"Exit"==i.a[t].typ?(r.rotation=i.agl,a.rotation=i.agl+720*s):(a.rotation=i.agl,r.rotation=i.agl+720*s)}}else if("Zoom"==e.grNm)switch(e.nm){case efps.ObjectCenter:a.x=l/2,r.x=0;break;case efps.SlideCenter:a.x=s.w/2,r.x=0}}))}}}();function weexs(e,t){let i=0,a=$("#"+t.id),r=null,s=null;var n=0==isMobile?t.widdkt:isTabletLandscape?t.widtls:isTabletPortrait?t.widtpt:isMobileLandscape?t.widmls:isMobilePortrait?t.widmpt:t.w;let l=0==isMobile?t.heidkt:isTabletLandscape?t.heitls:isTabletPortrait?t.heitpt:isMobileLandscape?t.heimls:isMobilePortrait?t.heimpt:t.h,o=function(e){for(var t=0;t<e.eO.length;t++){let i=e.eO[t];if("Spokes"==i.grNm)switch(i.nm){case"1 Spoke":return 1;case"2 Spokes":return 2;case"3 Spokes":return 3;case"4 Spokes":return 4;case"8 Spokes":return 8}}return 1}(e),h=Math.sqrt(Math.pow(n,2)/4+Math.pow(l,2)/4),d=n/2,c=0-h+l/2,p=n/2,u=l/2;function m(e,t){this.x=e,this.y=t}function b(e){var t=new m(0,0);return t.x=p+(d-p)*Math.cos(360*e/o/180*Math.PI)-(c-u)*Math.sin(360*e/o/180*Math.PI),t.y=u+(d-p)*Math.sin(360*e/o/180*Math.PI)+(c-u)*Math.cos(360*e/o/180*Math.PI),t}return{get angle(){return i},set angle(m){i=m,function(){if(r=document.getElementById("awh_p1_"+t.id),null==r){let e="http://www.w3.org/2000/svg",i=$(a).parent();s=document.createElementNS(e,"svg"),s.setAttributeNS(null,"class","abc"),s.setAttributeNS(null,"id","awh_svg"),s.setAttribute("width",""+n),s.setAttribute("height",""+l);let r=document.createElementNS(e,"clipPath");r.setAttributeNS(null,"id","awh_clp1_"+t.id);let o=document.createElementNS(e,"path");o.setAttributeNS(null,"id","awh_p1_"+t.id),r.appendChild(o),s.appendChild(r),glhp.checkIEBrower()?$(a).find("*").css("clip-path","url('#"+r.id+"')"):$(a).css("clipPath","url('#"+r.id+"')"),o=o,$(i).append(s),r.InnerHTML=r.OuterHTML}}(),"Entrance"==e.typ?function(t){if(360==t&&"Entrance"==e.typ)return $(s).remove(),r=null,void $(a).css("clipPath","");let i=0;t>180&&(i=1);let n="";t/=o;for(var l=0;l<=o;l++){let e=p+(d-p)*Math.cos((t+360*l/o)/180*Math.PI)-(c-u)*Math.sin((t+360*l/o)/180*Math.PI),a=u+(d-p)*Math.sin((t+360*l/o)/180*Math.PI)+(c-u)*Math.cos((t+360*l/o)/180*Math.PI);n+="M "+p+" "+u+" L "+b(l).x+" "+b(l).y+"  A "+h+" "+h+" "+t/180*Math.PI+" "+i+" 1  "+e+" "+a+" Z"}null!=r&&null!=n&&r.setAttribute("d",n)}(i):"Exit"==e.typ&&function(t){if(360==t&&"Entrance"==e.typ)return $(s).remove(),r=null,void $(a).css("clipPath","");let i=1;t>180&&(i=0);let n="";t/=o;for(var l=0;l<=o;l++){let e=p+(d-p)*Math.cos((t+360*l/o)/180*Math.PI)-(c-u)*Math.sin((t+360*l/o)/180*Math.PI),a=u+(d-p)*Math.sin((t+360*l/o)/180*Math.PI)+(c-u)*Math.cos((t+360*l/o)/180*Math.PI);n+="M "+p+" "+u+" L "+b(l).x+" "+b(l).y+"  A "+h+" "+h+" "+t/180*Math.PI+" "+i+" 0  "+e+" "+a+" Z"}null!=r&&null!=n&&r.setAttribute("d",n)}(i)}}}function pgaz(e,t){let i=0,a=0,r=0,s=0,n=null;null!=t.shs&&(n=t.shs.pOb[0].sTh/2||0);let l=0==isMobile?t.widdkt:isTabletLandscape?t.widtls:isTabletPortrait?t.widtpt:isMobileLandscape?t.widmls:isMobilePortrait?t.widmpt:t.w,o=0==isMobile?t.heidkt:isTabletLandscape?t.heitls:isTabletPortrait?t.heitpt:isMobileLandscape?t.heimls:isMobilePortrait?t.heimpt:t.h,h=$("#"+t.id),d=null,c=null,p=0;function u(e){$(c).remove(),b(),i=l*(100-e)/200,a=l*(100+e)/200,r=o*(100-e)/200,s=o*(100+e)/200;let t="M"+i+" "+-n+" "+a+" "+-n+" "+a+" "+r+" "+(l+n)+" "+r+" "+(l+n)+" "+s+" "+a+" "+s+" "+a+" "+(o+n)+" "+i+" "+(o+n)+" "+i+" "+s+" "+-n+" "+s+" "+-n+" "+r+" "+i+" "+r+"z";null!=d&&null!=t&&d.setAttribute("d",t),0!==e&&100!==e||($(c).remove(),d=null,$(h).css("clipPath",""))}function m(e){$(c).remove(),b(),i=e*l/200,a=l-i,r=e*o/200,s=o-r;let t="M"+-n+" "+-n+" "+i+" "+-n+" "+i+" "+r+" "+-n+" "+r+" z M"+(l+n)+" "+-n+" "+(l+n)+" "+r+" "+a+" "+r+" "+a+" "+-n+"z M"+(l+n)+" "+s+" "+(l+n)+" "+(o+n)+" "+a+" "+(o+n)+" "+a+" "+s+"z M"+i+" "+s+" "+i+" "+(o+n)+" "+-n+" "+(o+n)+" "+-n+" "+s+"z";null!=d&&null!=t&&d.setAttribute("d",t),0!==e&&100!==e||($(c).remove(),d=null,$(h).css("clipPath",""))}function b(){if(d=document.getElementById("awh_p1_"+t.id),null==d){let e="http://www.w3.org/2000/svg",i=$(h).parent();c=document.createElementNS(e,"svg"),c.setAttributeNS(null,"class","abc"),c.setAttributeNS(null,"id","awh_svg"),c.setAttribute("width",""+l),c.setAttribute("height",""+o);let a=document.createElementNS(e,"clipPath");a.setAttributeNS(null,"id","awh_clp1_"+t.id),d=document.createElementNS(e,"path"),d.setAttributeNS(null,"id","awh_p1_"+t.id),a.appendChild(d),c.appendChild(a),glhp.checkIEBrower()?$(h).find("*").css("clip-path","url('#"+a.id+"')"):$(h).css("clipPath","url('#"+a.id+"')"),$(i).append(c),a.InnerHTML=a.OuterHTML}}return{get percent(){return p},set percent(t){if(p=t,b(),"Entrance"==e.typ)for(var i=0;i<e.eO.length;i++){let t=e.eO[i];if(t.grNm==anffx.Direction)switch(t.nm){case efps.In:m(p);break;case efps.Out:u(p)}}else if("Exit"==e.typ)for(i=0;i<e.eO.length;i++){let t=e.eO[i];if(t.grNm==anffx.Direction)switch(t.nm){case efps.In:u(p);break;case efps.Out:m(p)}}}}}function dsaz(e,t){let i,a=0,r=0,s=0,n=0,l=0,o=0,h=0,d=0,c=0,p=null;null!=t.shs&&(p=t.shs.pOb[0].sTh/2||0);let u=0==isMobile?t.widdkt:isTabletLandscape?t.widtls:isTabletPortrait?t.widtpt:isMobileLandscape?t.widmls:isMobilePortrait?t.widmpt:t.w,m=0==isMobile?t.heidkt:isTabletLandscape?t.heitls:isTabletPortrait?t.heitpt:isMobileLandscape?t.heimls:isMobilePortrait?t.heimpt:t.h,b=$("#"+t.id),f=null,g=null,w=0;function y(e){$(g).remove(),C(),a=u/2-e/100*u-p,i=u/2+e/100*u+p,l=m/2-e/100*m-p,o=m/2+e/100*m+p;let t="M"+a+" "+h+" "+r+" "+l+" "+i+" "+h+" "+r+" "+o+"z";null!=f&&null!=t&&f.setAttribute("d",t),0!==e&&100!==e||($(g).remove(),f=null,$(b).css("clipPath",""))}function v(e){$(g).remove(),C(),i=a+e*u/100,s=n-e*u/100,o=l+e*m/100,d=c-e*m/100;let t="M"+a+" "+l+" "+n+" "+l+" "+n+" "+c+" "+a+" "+c+"zM"+i+" "+h+" "+r+" "+d+" "+s+" "+h+" "+r+" "+o+"z";null!=f&&null!=t&&f.setAttribute("d",t),0!==e&&100!==e||($(g).remove(),f=null,$(b).css("clipPath",""))}function C(){if(f=document.getElementById("awh_p1_"+t.id),null==f){let e="http://www.w3.org/2000/svg",i=$(b).parent();g=document.createElementNS(e,"svg"),g.setAttributeNS(null,"class","abc"),g.setAttributeNS(null,"id","awh_svg"),g.setAttribute("width",""+u),g.setAttribute("height",""+m);let a=document.createElementNS(e,"clipPath");a.setAttributeNS(null,"id","awh_clp1_"+t.id),f=document.createElementNS(e,"path"),f.setAttributeNS(null,"id","awh_p1_"+t.id),a.appendChild(f),g.appendChild(a),glhp.checkIEBrower()?$(b).find("*").css("clip-path","url('#"+a.id+"')"):$(b).css("clipPath","url('#"+a.id+"')"),$(i).append(g),a.InnerHTML=a.OuterHTML}}return a=-u/2,r=u/2,n=u+u/2,l=-m/2,h=m/2,c=m+m/2,{get percent(){return w},set percent(t){if(w=t,C(),"Entrance"==e.typ)for(var i=0;i<e.eO.length;i++){let t=e.eO[i];if(t.grNm==anffx.Direction)switch(t.nm){case efps.In:v(w);break;case efps.Out:y(w)}}else if("Exit"==e.typ)for(i=0;i<e.eO.length;i++){let t=e.eO[i];if(t.grNm==anffx.Direction)switch(t.nm){case efps.In:y(w);break;case efps.Out:v(w)}}}}}function BoxAnimation(e,t){let i=0,a=0,r=0,s=0,n=0,l=0,o=0,h=0,d=null;null!=t.shs&&(d=t.shs.pOb[0].sTh/2||0);let c=0==isMobile?t.widdkt:isTabletLandscape?t.widtls:isTabletPortrait?t.widtpt:isMobileLandscape?t.widmls:isMobilePortrait?t.widmpt:t.w,p=0==isMobile?t.heidkt:isTabletLandscape?t.heitls:isTabletPortrait?t.heitpt:isMobileLandscape?t.heimls:isMobilePortrait?t.heimpt:t.h,u=$("#"+t.id),m=null,b=null,f=0;function g(e){$(b).remove(),y(),i=c/2-e/100*c-d,a=c/2+e/100*c+d,n=p/2-e/100*p-d,l=p/2+e/100*p+d;let t="M"+i+" "+n+" "+a+" "+n+" "+a+" "+l+" "+i+" "+l+"z";null!=m&&null!=t&&m.setAttribute("d",t),0!==e&&100!==e||($(b).remove(),m=null,$(u).css("clipPath",""))}function w(e){$(b).remove(),y(),i=-d,s=c+d,n=-d,h=p+d,a=e*c/200-d,r=c+d-e*c/200,l=e*p/200-d,o=p+d-e*p/200;let t="M"+i+" "+n+" "+s+" "+n+" "+s+" "+h+" "+i+" "+h+"zM"+a+" "+l+" "+a+" "+o+" "+r+" "+o+" "+r+" "+l+"z";null!=m&&null!=t&&m.setAttribute("d",t),0!==e&&100!==e||($(b).remove(),m=null,$(u).css("clipPath",""))}function y(){if(m=document.getElementById("awh_p1_"+t.id),null==m){let e="http://www.w3.org/2000/svg",i=$(u).parent();b=document.createElementNS(e,"svg"),b.setAttributeNS(null,"class","abc"),b.setAttributeNS(null,"id","awh_svg"),b.setAttribute("width",""+c),b.setAttribute("height",""+p);let a=document.createElementNS(e,"clipPath");a.setAttributeNS(null,"id","awh_clp1_"+t.id),m=document.createElementNS(e,"path"),m.setAttributeNS(null,"id","awh_p1_"+t.id),a.appendChild(m),b.appendChild(a),glhp.checkIEBrower()?$(u).find("*").css("clip-path","url('#"+a.id+"')"):$(u).css("clipPath","url('#"+a.id+"')"),$(i).append(b),a.InnerHTML=a.OuterHTML}}return i=-d,s=c+d,n=-d,h=p+d,{get percent(){return f},set percent(t){if(f=t,y(),"Entrance"==e.typ)for(var i=0;i<e.eO.length;i++){let t=e.eO[i];if(t.grNm==anffx.Direction)switch(t.nm){case efps.In:w(f);break;case efps.Out:g(f)}}else if("Exit"==e.typ)for(i=0;i<e.eO.length;i++){let t=e.eO[i];if(t.grNm==anffx.Direction)switch(t.nm){case efps.In:g(f);break;case efps.Out:w(f)}}}}}function EllipseAnimation(e,t){let i=0,a=0,r=0,s=0,n=0,l=0,o=0,h=0,d=null;null!=t.shs&&(d=t.shs.pOb[0].sTh/2||0);let c=0==isMobile?t.widdkt:isTabletLandscape?t.widtls:isTabletPortrait?t.widtpt:isMobileLandscape?t.widmls:isMobilePortrait?t.widmpt:t.w,p=0==isMobile?t.heidkt:isTabletLandscape?t.heitls:isTabletPortrait?t.heitpt:isMobileLandscape?t.heimls:isMobilePortrait?t.heimpt:t.h,u=$("#"+t.id),m=null,b=null,f=0;function g(e){$(b).remove(),v(),r=c*e/100+d,s=p*e/100+d;let t=w();null!=m&&null!=t&&m.setAttribute("d",t),0!==e&&100!==e||($(b).remove(),m=null,$(u).css("clipPath",""))}function w(){return["M",i,a,"m",-r,0,"a",r,s,0,1,0,2*r,0,"a",r,s,0,1,0,-2*r,0].join(" ")}function y(e){$(b).remove(),v(),r=(c+d)*(100-e)/100,s=(p+d)*(100-e)/100;let t="M"+n+" "+o+" "+l+" "+o+" "+l+" "+h+" "+n+" "+h+"z"+w();null!=m&&null!=t&&m.setAttribute("d",t),0!==e&&100!==e||($(b).remove(),m=null,$(u).css("clipPath",""))}function v(){if(m=document.getElementById("awh_p1_"+t.id),null==m){let e="http://www.w3.org/2000/svg",i=$(u).parent();b=document.createElementNS(e,"svg"),b.setAttributeNS(null,"class","abc"),b.setAttributeNS(null,"id","awh_svg"),b.setAttribute("width",""+c),b.setAttribute("height",""+p);let a=document.createElementNS(e,"clipPath");a.setAttributeNS(null,"id","awh_clp1_"+t.id),m=document.createElementNS(e,"path"),m.setAttributeNS(null,"id","awh_p1_"+t.id),a.appendChild(m),b.appendChild(a),glhp.checkIEBrower()?$(u).find("*").css("clip-path","url('#"+a.id+"')"):$(u).css("clipPath","url('#"+a.id+"')"),$(i).append(b),a.InnerHTML=a.OuterHTML}}return i=c/2,a=p/2,n=-c/2,l=c+c/2,o=-p/2,h=p+p/2,{get percent(){return f},set percent(t){if(f=t,v(),"Entrance"==e.typ)for(var i=0;i<e.eO.length;i++){let t=e.eO[i];if(t.grNm==anffx.Direction)switch(t.nm){case efps.In:y(f);break;case efps.Out:g(f)}}else if("Exit"==e.typ)for(i=0;i<e.eO.length;i++){let t=e.eO[i];if(t.grNm==anffx.Direction)switch(t.nm){case efps.In:g(f);break;case efps.Out:y(f)}}}}}function splanx(e,t){let i=0,a=0,r=0,s=0,n=0,l=0,o=0,h=0,d=null;null!=t.shs&&(d=t.shs.pOb[0].sTh/2||0);let c=0==isMobile?t.widdkt:isTabletLandscape?t.widtls:isTabletPortrait?t.widtpt:isMobileLandscape?t.widmls:isMobilePortrait?t.widmpt:t.w,p=0==isMobile?t.heidkt:isTabletLandscape?t.heitls:isTabletPortrait?t.heitpt:isMobileLandscape?t.heimls:isMobilePortrait?t.heimpt:t.h,u=$("#"+t.id),m=null,b=null,f=0;function g(e){$(b).remove(),C(),a=c/2-e*(c/2+d)/100,r=c/2+e*(c/2+d)/100;let t="M"+a+" "+n+" "+r+" "+n+" "+r+" "+h+" "+a+" "+h+"z";null!=m&&null!=t&&m.setAttribute("d",t),0!==e&&100!==e||($(b).remove(),m=null,$(u).css("clipPath",""))}function w(e){$(b).remove(),C(),a=c/2-(100-e)*(c/2+d)/100,r=c/2+(100-e)*(c/2+d)/100;let t="M"+i+" "+n+" "+a+" "+n+" "+a+" "+h+" "+i+" "+h+"zM"+r+" "+n+" "+s+" "+n+" "+s+" "+h+" "+r+" "+h+"z";null!=m&&null!=t&&m.setAttribute("d",t),0!==e&&100!==e||($(b).remove(),m=null,$(u).css("clipPath",""))}function y(e){$(b).remove(),C(),l=p/2-e*(p/2+d)/100,o=p/2+e*(p/2+d)/100;let t="M"+i+" "+l+" "+s+" "+l+" "+s+" "+o+" "+i+" "+o+"z";null!=m&&null!=t&&m.setAttribute("d",t),0!==e&&100!==e||($(b).remove(),m=null,$(u).css("clipPath",""))}function v(e){$(b).remove(),C(),l=p/2-(100-e)*(p/2+d)/100,o=p/2+(100-e)*(p/2+d)/100;let t="M"+i+" "+n+" "+s+" "+n+" "+s+" "+l+" "+i+" "+l+"zM"+i+" "+o+" "+s+" "+o+" "+s+" "+h+" "+i+" "+h+"z";null!=m&&null!=t&&m.setAttribute("d",t),0!==e&&100!==e||($(b).remove(),m=null,$(u).css("clipPath",""))}function C(){if(m=document.getElementById("awh_p1_"+t.id),null==m){let e="http://www.w3.org/2000/svg",i=$(u).parent();b=document.createElementNS(e,"svg"),b.setAttributeNS(null,"class","abc"),b.setAttributeNS(null,"id","awh_svg"),b.setAttribute("width",""+c),b.setAttribute("height",""+p);let a=document.createElementNS(e,"clipPath");a.setAttributeNS(null,"id","awh_clp1_"+t.id),m=document.createElementNS(e,"path"),m.setAttributeNS(null,"id","awh_p1_"+t.id),a.appendChild(m),b.appendChild(a),glhp.checkIEBrower()?$(u).find("*").css("clip-path","url('#"+a.id+"')"):$(u).css("clipPath","url('#"+a.id+"')"),$(i).append(b),a.InnerHTML=a.OuterHTML}}return i=-d,s=c+d,n=-d,h=p+d,{get percent(){return f},set percent(t){f=t,C(),function(t){if("Entrance"==e.typ)for(var i=0;i<e.eO.length;i++){let a=e.eO[i];if(a.grNm==anffx.Direction)switch(a.nm){case efps.VerticalIn:w(t);break;case efps.votz:g(t);break;case efps.vbdz:v(t);break;case efps.hzj:y(t);break;default:w(t)}}else if("Exit"==e.typ)for(i=0;i<e.eO.length;i++){let a=e.eO[i];if(a.grNm==anffx.Direction)switch(a.nm){case efps.VerticalIn:g(t);break;case efps.votz:w(t);break;case efps.vbdz:y(t);break;case efps.hzj:v(t);break;default:w(t)}}}(f)}}}function wnzx(e,t){let i=0,a=0,r=0,s=0,n=0;if(null!=t.shs&&null!=t.shs.pOb)for(var l=0;l<t.shs.pOb.length;l++)n=t.shs.pOb[l].sTh/2;let o=0==isMobile?t.widdkt:isTabletLandscape?t.widtls:isTabletPortrait?t.widtpt:isMobileLandscape?t.widmls:isMobilePortrait?t.widmpt:t.w,h=0==isMobile?t.heidkt:isTabletLandscape?t.heitls:isTabletPortrait?t.heitpt:isMobileLandscape?t.heimls:isMobilePortrait?t.heimpt:t.h,d=$("#"+t.id),c=null,p=null,u=0;function m(e){$(p).remove(),w(),i=-n,r=-n,s=h+n,a=e*(o+2*n)/100-n;let t="M"+i+" "+r+" "+a+" "+r+" "+a+" "+s+" "+i+" "+s+"z";null!=c&&null!=t&&c.setAttribute("d",t),0!==e&&100!==e||($(p).remove(),c=null,$(d).css("clipPath",""))}function b(e){$(p).remove(),w(),i=o+n-e*(o+2*n)/100,r=-n,a=o+n,s=h+n;let t="M"+a+" "+r+" "+a+" "+s+" "+i+" "+s+" "+i+" "+r+"z";null!=c&&null!=t&&c.setAttribute("d",t),0!==e&&100!==e||($(p).remove(),c=null,$(d).css("clipPath",""))}function f(e){$(p).remove(),w(),i=-n,r=-n,a=o+n,s=e*(h+2*n)/100-n;let t="M"+i+" "+r+" "+a+" "+r+" "+a+" "+s+" "+i+" "+s+"z";null!=c&&null!=t&&c.setAttribute("d",t),0!==e&&100!==e||($(p).remove(),c=null,$(d).css("clipPath",""))}function g(e){$(p).remove(),w(),r=h+n-e*(h+2*n)/100,i=-n,a=o+n,s=h+n;let t="M"+a+" "+r+" "+a+" "+s+" "+i+" "+s+" "+i+" "+r+"z";null!=c&&null!=t&&c.setAttribute("d",t),0!==e&&100!==e||($(p).remove(),c=null,$(d).css("clipPath",""))}function w(){if(c=document.getElementById("awh_p1_"+t.id),null==c){let e="http://www.w3.org/2000/svg",i=$(d).parent();p=document.createElementNS(e,"svg"),p.setAttributeNS(null,"class","abc"),p.setAttributeNS(null,"id","awh_svg"),p.setAttribute("width",""+o),p.setAttribute("height",""+h);let a=document.createElementNS(e,"clipPath");a.setAttributeNS(null,"id","awh_clp1_"+t.id),c=document.createElementNS(e,"path"),c.setAttributeNS(null,"id","awh_p1_"+t.id),a.appendChild(c),p.appendChild(a),glhp.checkIEBrower()?$(d).find("*").css("clip-path","url('#"+a.id+"')"):$(d).css("clipPath","url('#"+a.id+"')"),$(i).append(p),a.InnerHTML=a.OuterHTML}}return{get percent(){return u},set percent(t){u=t,w(),function(t){if("Entrance"==e.typ)for(var i=0;i<e.eO.length;i++){let a=e.eO[i];if(a.grNm==anffx.Direction)switch(a.nm){case efps.Bottom:g(t);break;case efps.Left:m(t);break;case efps.Right:b(t);break;case efps.Top:f(t);break;default:g(t)}}else if("Emphasis"==e.typ)m(t);else if("Exit"==e.typ)for(i=0;i<e.eO.length;i++){let a=e.eO[i];if(a.grNm==anffx.Direction)switch(a.nm){case efps.Bottom:f(t);break;case efps.Left:b(t);break;case efps.Right:m(t);break;case efps.Top:g(t);break;default:f(t)}}}(u)}}}function TextAnimation(e,t){let i=0,a=0,r=0,s=0,n=(t.id,0);if(null!=t.shs&&null!=t.shs.pOb)for(var l=0;l<t.shs.pOb.length;l++)n=t.shs.pOb[l].sTh/2;let o=0==isMobile?t.widdkt:isTabletLandscape?t.widtls:isTabletPortrait?t.widtpt:isMobileLandscape?t.widmls:isMobilePortrait?t.widmpt:t.w,h=0==isMobile?t.heidkt:isTabletLandscape?t.heitls:isTabletPortrait?t.heitpt:isMobileLandscape?t.heimls:isMobilePortrait?t.heimpt:t.h,d=$("#"+t.id),c=null,p=null,u=0;function m(e){$(p).remove(),y(),i=-n,r=-n,s=h+n,a=e*(o+2*n)/100-n;let t="M"+i+" "+r+" "+a+" "+r+" "+a+" "+s+" "+i+" "+s+"z";null!=c&&null!=t&&c.setAttribute("d",t),0!==e&&100!==e||($(p).remove(),c=null,$(d).find("tspan").css("clipPath",""))}function b(e){$(p).remove(),function(){if(c=document.getElementById("awh_p1_"+t.id),null==c){let e="http://www.w3.org/2000/svg",i=$(d).parent();p=document.createElementNS(e,"svg"),p.setAttributeNS(null,"class","abc"),p.setAttributeNS(null,"id","awh_svg"),p.setAttribute("width",""+o),p.setAttribute("height",""+h);let a=document.createElementNS(e,"clipPath");a.setAttributeNS(null,"id","awh_clp1_"+t.id),c=document.createElementNS(e,"path"),c.setAttributeNS(null,"id","awh_p1_"+t.id),a.appendChild(c),p.appendChild(a),$(d).find("text").css("clipPath","url('#"+a.id+"')"),$(i).append(p),a.InnerHTML=a.OuterHTML}}(),i=-n,r=-n,s=h+n,a=e*(o+2*n)/100-n;let l="M"+i+" "+r+" "+a+" "+r+" "+a+" "+s+" "+i+" "+s+"z";null!=c&&null!=l&&c.setAttribute("d",l),0!==e&&100!==e||($(p).remove(),c=null,$(d).find("tspan").css("clipPath",""))}function f(e){$(p).remove(),y(),i=o+n-e*(o+2*n)/100,r=-n,a=o+n,s=h+n;let t="M"+a+" "+r+" "+a+" "+s+" "+i+" "+s+" "+i+" "+r+"z";null!=c&&null!=t&&c.setAttribute("d",t),0!==e&&100!==e||($(p).remove(),c=null,$(d).find("tspan").css("clipPath",""))}function g(e){$(p).remove(),y(),i=-n,r=-n,a=o+n,s=e*(h+2*n)/100-n;let t="M"+i+" "+r+" "+a+" "+r+" "+a+" "+s+" "+i+" "+s+"z";null!=c&&null!=t&&c.setAttribute("d",t),0!==e&&100!==e||($(p).remove(),c=null,$(d).css("clipPath",""))}function w(e){$(p).remove(),y(),r=h+n-e*(h+2*n)/100,i=-n,a=o+n,s=h+n;let t="M"+a+" "+r+" "+a+" "+s+" "+i+" "+s+" "+i+" "+r+"z";null!=c&&null!=t&&c.setAttribute("d",t),0!==e&&100!==e||($(p).remove(),c=null,$(d).css("clipPath",""))}function y(){if(c=document.getElementById("awh_p1_"+t.id),null==c){let e="http://www.w3.org/2000/svg",i=$(d).parent();p=document.createElementNS(e,"svg"),p.setAttributeNS(null,"class","abc"),p.setAttributeNS(null,"id","awh_svg"),p.setAttribute("width",""+o),p.setAttribute("height",""+h);let a=document.createElementNS(e,"clipPath");a.setAttributeNS(null,"id","awh_clp1_"+t.id),c=document.createElementNS(e,"path"),c.setAttributeNS(null,"id","awh_p1_"+t.id),a.appendChild(c),p.appendChild(a),$(d).css("clipPath","url('#"+a.id+"')"),$(i).append(p),a.InnerHTML=a.OuterHTML}}return{get percent(){return u},set percent(t){u=t,y(),function(t){if("Entrance"==e.typ)for(var i=0;i<e.eO.length;i++){let a=e.eO[i];if(a.grNm==anffx.Direction)switch(a.nm){case efps.Bottom:w(t);break;case efps.Left:m(t);break;case efps.Right:f(t);break;case efps.Top:g(t);break;default:w(t)}}else if("Emphasis"==e.typ)b(t);else if("Exit"==e.typ)for(i=0;i<e.eO.length;i++){let a=e.eO[i];if(a.grNm==anffx.Direction)switch(a.nm){case efps.Bottom:g(t);break;case efps.Left:f(t);break;case efps.Right:m(t);break;case efps.Top:w(t);break;default:g(t)}}}(u)}}}function rbazx(e,t){let i=null;null!=t.shs&&(i=t.shs.pOb[0].sTh/2||0);let a=0==isMobile?t.widdkt:isTabletLandscape?t.widtls:isTabletPortrait?t.widtpt:isMobileLandscape?t.widmls:isMobilePortrait?t.widmpt:t.w,r=0==isMobile?t.heidkt:isTabletLandscape?t.heitls:isTabletPortrait?t.heitpt:isMobileLandscape?t.heimls:isMobilePortrait?t.heimpt:t.h,s=$("#"+t.id),n=null,l=null,o=0,h=0,d=function(){let e=[],t=[];for(var r=-i;r<a+i;r++)e.push(r);for(r=0;r<a+i;r++){let i=m(0,e.length-1);t.push(e[i]),e.splice(i,1)}return t}(),c=function(){let e=[],t=[];for(var a=-i;a<r+i;a++)e.push(a);for(a=0;a<r+i;a++){let i=m(0,e.length-1);t.push(e[i]),e.splice(i,1)}return t}();function p(t){if(100==t&"Entrance"==e.typ)return $(l).remove(),n=null,void $(s).css("clipPath","");let r=Math.floor(t*c.length/100);if(r==h)return;h=r;let o="";for(var d=0;d<r-1;d++)o+="M "+-i+" "+c[d]+" h "+(a+2*i)+" v 1 h "+(-a-2*i)+"z";null!=n&&null!=o&&n.setAttribute("d",o)}function u(t){if(100==t&"Entrance"==e.typ)return $(l).remove(),n=null,void $(s).css("clipPath","");let a=Math.floor(t*d.length/100);if(a==h)return;h=a;let o="";for(var c=0;c<a-1;c++)o+="M"+d[c]+" "+-i+" h 1 v "+(r+2*i)+" h -1 z";null!=n&&null!=o&&n.setAttribute("d",o)}function m(e,t){return Math.floor(Math.random()*(t-e+1))+e}function b(){!function(){if(n=document.getElementById("awh_p1_"+t.id),null==n){let e="http://www.w3.org/2000/svg",i=$(s).parent();l=document.createElementNS(e,"svg"),l.setAttributeNS(null,"class","abc"),l.setAttributeNS(null,"id","awh_svg"),l.setAttribute("width",""+a),l.setAttribute("height",""+r);let o=document.createElementNS(e,"clipPath");o.setAttributeNS(null,"id","awh_clp1_"+t.id),n=document.createElementNS(e,"path"),n.setAttributeNS(null,"id","awh_p1_"+t.id),o.appendChild(n),l.appendChild(o),glhp.checkIEBrower()?$(s).find("*").css("clip-path","url('#"+o.id+"')"):$(s).css("clipPath","url('#"+o.id+"')"),$(i).append(l),o.InnerHTML=o.OuterHTML}}()}return{get percent(){return o},set percent(t){o=t,b(),function(t){for(var i=0;i<e.eO.length;i++){let a=e.eO[i];if(a.grNm==anffx.Direction)switch(a.nm){case efps.Vertical:u(t);break;case efps.Horizontal:p(t);break;default:u(t)}}}(o)}}}function WheelGesture(e){let t=0,i=document.getElementById(e.id+"_path");var a=0==isMobile?e.widdkt:isTabletLandscape?e.widtls:isTabletPortrait?e.widtpt:isMobileLandscape?e.widmls:isMobilePortrait?e.widmpt:e.w;function r(){if(null!=i){let e=function(e,t,i,a,r){var n=s(e,t,i,r),l=s(e,t,i,a),o=r-a<=180?"0":"1";return["M",n.x,n.y,"A",i,i,0,o,0,l.x,l.y,"L",e,t,"L",n.x,n.y].join(" ")}(a-7.414321881345245,7.414321881345245,7.414321881345245,0,t);i.setAttribute("d",e)}}function s(e,t,i,a){var r=(a-90)*Math.PI/180;return{x:e+i*Math.cos(r),y:t+i*Math.sin(r)}}return{get angle(){return t},set angle(e){t=e,r()}}}function FingerTapGesture(e,t){let i=0,a=document.getElementById(e.id+t);return{get scale(){return i},set scale(t){i=t,function(){if(null!=a){var t=0==isMobile?e.widdkt:isTabletLandscape?e.widtls:isTabletPortrait?e.widtpt:isMobileLandscape?e.widmls:isMobilePortrait?e.widmpt:e.w,r=0==isMobile?e.heidkt:isTabletLandscape?e.heitls:isTabletPortrait?e.heitpt:isMobileLandscape?e.heimls:isMobilePortrait?e.heimpt:e.h;let s=i*r/2,n=Math.pow(s,2),l=s-(s-i*t/4),o=Math.pow(l,2),h=Math.sqrt(n-o),d=r/2-h,c=r/2+h;a.setAttribute("d","M "+t/2+","+c+" A "+i*r/2+" "+i*r/2+" 0 1 1 "+t/2+" "+d+" A "+i*r/2+" "+i*r/2+" 0 1 1 "+t/2+" "+c+" z")}}()}}}function MotionPathCursor(e,t){$("#"+e.id);let i=0*Math.PI/180,a=Math.cos(i),r=Math.sin(i);var s=0==isMobile?e.mtPdt:isTabletLandscape?e.mtPtls:isTabletPortrait?e.mtPtp:isMobileLandscape?e.mtPmls:isMobilePortrait?e.mtPmp:e.mtP;let n=MorphSVGPlugin.pathDataToBezier(s,{matrix:[a,r,-r,a,-0,-0],centerX:e.mpW/2,centerY:e.mpH/2}),l={bezier:{type:"cubic"},onComplete:t};switch(e.spAn){case"Slow":l.ease=Power0.easeNone;break;case"Medium":l.ease=Power1.easeOut;break;case"Fast":l.ease=Power2.easeOut;break;case"VeryFast":l.ease=Power4.easeOut;break;case"Bounce":l.ease=Bounce.easeOut}return l.bezier.values=n,TweenMax.to($("#"+e.id),e.anDu-1,l)}const TrackingStatus={NUMBEROFSLIDES:"NUMBEROFSLIDES",QUIZRESULT:"QUIZRESULT"};var glhp=function(){var e=document.getElementById("submitControlBtn"),t=!0,i=!1,a=.5,r={},s=!0,n=!1,l=!1,o=!1;return{isSafari:function(){window.navigator.userAgent;var e=navigator.platform.toUpperCase().indexOf("MAC")>=0,t=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform),i=/(iPhone|iPod|iPad)/i.test(navigator.platform);return e||t||i},generateBranchId:function(e,t){return e+"_"+t},getOriginId:function(e){if(null!=e){var t=e.split("_");if(t.length>0)return t[0]}return""},crgs:function(e,t,i){var a="http://www.w3.org/2000/svg";switch(e){case"div":var r=document.createElement("div");return t&&(r.id=t),i&&(r.className=i),r;case"i":r=document.createElement("i");return t&&(r.id=t),i&&(r.className=i),r;case"a":var s=document.createElement("a");return t&&(s.id=t),i&&(s.className=i),s;case"span":var n=document.createElement("span");return t&&(n.id=t),i&&(n.className=i),n;case"li":var l=document.createElement("li");return t&&(l.id=t),i&&(l.className=i),l;case"button":var o=document.createElement("button");return t&&(o.id=t),i&&(o.className=i),o;case"svg":var h=document.createElementNS(a,"svg");return t&&h.setAttribute("id",t),i&&h.setAttribute("class",i),h;case"g":var d=document.createElementNS(a,"g");return t&&d.setAttribute("id",t),i&&d.setAttribute("class",i),d;case"path":var c=document.createElementNS(a,"path");return t&&c.setAttribute("id",t),i&&c.setAttribute("class",i),c;case"stop":var p=document.createElementNS(a,"stop");return t&&p.setAttribute("id",t),i&&p.setAttribute("class",i),p;case"input":var u=document.createElement("input");return t&&u.setAttribute("id",t),i&&u.setAttribute("class",i),u;case"linearGradient":var m=document.createElementNS(a,"linearGradient");return t&&m.setAttribute("id",t),i&&m.setAttribute("class",i),m;case"radialGradient":var b=document.createElementNS(a,"radialGradient");return t&&b.setAttribute("id",t),i&&b.setAttribute("class",i),b;case"pattern":var f=document.createElementNS(a,"pattern");return t&&f.setAttribute("id",t),i&&f.setAttribute("class",i),f;case"image":var g=document.createElementNS(a,"image");return t&&g.setAttribute("id",t),i&&g.setAttribute("class",i),g;case"img":g=document.createElementNS(a,"img");return t&&g.setAttribute("id",t),i&&g.setAttribute("class",i),g;case"defs":return document.createElementNS(a,"defs");case"tspan":var w=document.createElement("tspan");return t&&(w.id=t),i&&(w.className=i),w;case"text":var y=document.createElementNS(a,"text");return t&&y.setAttribute("id",t),i&&y.setAttribute("class",i),y;case"rect":var v=document.createElementNS(a,"rect");return t&&v.setAttribute("id",t),i&&v.setAttribute("class",i),v;case"textarea":var C=document.createElement("textarea");return t&&C.setAttribute("id",t),i&&C.setAttribute("class",i),C;case"circle":return document.createElementNS(a,"circle");case"line":return document.createElementNS(a,"line");case"ellipse":return document.createElementNS(a,"ellipse");case"canvas":var T=document.createElement("canvas");return t&&(T.id=t),i&&(T.className=i),T;case"p":T=document.createElement("p");return t&&(T.id=t),i&&(T.className=i),T;case"audio":T=document.createElement("audio");return t&&(T.id=t),i&&(T.className=i),T;case"video":T=document.createElement("video");return t&&(T.id=t),i&&(T.className=i),T;case"source":return T=document.createElement("source")}},checkIEBrower:function(){return!!(window.navigator.userAgent.indexOf("MSIE ")>0||navigator.userAgent.match(/Trident.*rv\:11\./))},checkSafariBrower:function(){var e=navigator.userAgent.toLowerCase();if(-1!=e.indexOf("safari"))return!(e.indexOf("chrome")>-1)},appendIdContent:function(e,t){e.appendChild(t)},nextSlide:function(){var e=DOC.slds.indexOf(glrs.crsl.Data);if(e<DOC.slds.length-1){for(var t=DOC.slds[e+1];!t.cs;){if(e>=DOC.slds.length-1)return;e++,t=DOC.slds[e+1]}this.jtsix(e+1),$("*[data-index = "+e+"]").removeClass("menuSelected"),$("*[data-index = "+(e+1)+"]").addClass("menuSelected"),$("*[data-indexmb = "+e+"]").removeClass("menuSelectedMb"),$("*[data-indexmb = "+(e+1)+"]").addClass("menuSelectedMb")}glrs.checkFinishLesson()},previousSlide:function(){var e=DOC.slds.indexOf(glrs.crsl.Data);if(e>0){for(;!DOC.slds[e].cs;){if(e<0)return;e--,slide=DOC.slds[e-1]}this.jtsix(e-1),$("*[data-index = "+e+"]").removeClass("menuSelected"),$("*[data-index = "+(e-1)+"]").addClass("menuSelected"),$("*[data-indexmb = "+e+"]").removeClass("menuSelectedMb"),$("*[data-indexmb = "+(e-1)+"]").addClass("menuSelectedMb")}glrs.checkFinishLesson()},jumToSlideID:function(e){if(!0===DOC.isExVi)if(null===e)window.chrome&&window.chrome.webview&&chrome.webview.postMessage(glrs.ListMedia);else{var t="progress:"+(DOC.slds.findIndex((function(t){return t.id===e}))+1)+"/"+DOC.slds.length;window.chrome&&window.chrome.webview&&chrome.webview.postMessage(t)}if("ByChoice"==glrs.crsl.Data.ft){var i=DOC.slds.indexOf(glrs.crsl.Data);if(glhp.DataLocal.Slide[i].NumberRepeat>1)return glhp.enableSubmit(),void qzm.ezas()}for(var a=0;a<DOC.slds.length;a++){var r=DOC.slds[a];if(r.id==e||r.originId===e)return this.jtsix(a),r.originId&&this.menuSelected(e+"_li"),void this.menuMbSelected(e+"_liMb")}1==glrs.crsl.ird&&this.jtsix(glrs.currentIndex),glrs.checkFinishLesson()},getRandomSlide:function(e,t){let i=null;if(null!=DOC.sbs)for(var a=0;a<DOC.sbs.length;a++)if(DOC.sbs[a].id==e){i=DOC.sbs[a];break}if(null!=i&&null!=i.sls){var r=[];for(a=0;a<glhp.DataLocal.SlideBanks.length;a++)if(e==glhp.DataLocal.SlideBanks[a].id){for(var s=glhp.DataLocal.SlideBanks[a],n=0;n<s.sls.length;n++)null==s.sls[n].rd&&r.push(n);break}if(0==r.length)return null;var l=r[Math.floor(Math.random()*r.length)];for(a=0;a<glhp.DataLocal.SlideBanks.length;a++)if(e==glhp.DataLocal.SlideBanks[a].id){s=glhp.DataLocal.SlideBanks[a];glhp.DataLocal.SlideBanks[a].sls[l].rd=t}return i.sls[l]}return null},ReloadDataLocal:function(){qzm.ClearDataLocalStorage(),qzm.inwz(),glhp.jtsix(0),moveScrollToTop()},lsrr:function(){this.jumToSlideID($("#menuContent > .menuSelected").attr("id").split("_")[0]),this.jumToSlideID($("#menuListMb > .menuSelectedMb").attr("id").split("_")[0])},jtsix:function(e,t=!0){!isSlideBar&&DOC.plr.mnBar&&checkFirstMenu&&($("#menuBtn").toggleClass("open"),$("#rightPanelPin").toggleClass("openMenu"));let i=!0;if(!glrs.crsl||glrs.crsl.IsLoaded||glhp.IsConfirmSubmit||(i=!1),i){for(var a=document.getElementById("narrationAudio");a.childNodes.length>0;)a.removeChild(a.childNodes[0]);for(var r=document.getElementById("presentervideo");r.childNodes.length>0;)r.removeChild(r.childNodes[0]);this.addLoading(),this.setCurrentIndexSlide(parseFloat(e)+1),null!=glrs.crsl&&glrs.crsl.unload(),glhp.DataLocal.crsl=e,$("#currentSlideMb").html(numberSlide(e)),this.clearNotifi(),this.enableSubmit(),this.pmdx(document.getElementById("content")),qzm.pspaz(e),n=!0;var s=DOC.slds[e];if("questionslide"==s.slt.toLowerCase()&&DOC.emarep&&(DOC.emarep.issmai||DOC.emarep.issmaiuse)&&glhp.DataLocal&&!glhp.DataLocal.UserInfo&&qzm.showUserInfoWindow(),"random"==s.slt.toLowerCase()){var l=this.getRandomSlide(s.sid,s.id);if(null!=l){l.ird=!0,l.originId=s.id;let t=null;for(let e=0;e<s.lts.length;e++){const i=s.lts[e];if(!0===i.iM){t=i;break}}if(null!==t&&t.tri&&null!==t.tri)for(let e=0;e<l.lts.length;e++){const i=l.lts[e];if(!0===i.iM){if(i.tri&&null!==i.tri)for(let e=0;e<t.tri.length;e++)i.tri.push(t.tri[e]);break}}if(s=l,DOC.slds[e]=l,"QuestionSlide"===s.slt){glhp.DataLocal.Slide[e]={Answers:null,UserReply:null,urr:"",IsShowNoti:!1,iF:null,IsSubmit:!1,IsResult:!1,NumberRepeat:null,p:null,Correct:null}}}}var o=glrs.getSlide(s,e);glrs.crsl&&glrs.crsl.Data&&glhp.TrackingSlide(glrs.crsl.Data.id,t),glrs.crsl=o,"Result"==s.slt&&(qzm.listResulted.push(parseInt(e)),qzm.ProcessResult(DOC.slds[e],1),glrs.checkFinishResult(),DOC.emarep&&DOC.emarep.issmai&&glhp.DataLocal.EmailSender&&!glhp.DataLocal.EmailSender[s.id]&&(qzm.PrintResults(s.id,!0),glhp.DataLocal.EmailSender[s.id]=!0)),o.generateHTML(),glhp.loadcrsl(),document.getElementById("mobilewrapper").style.display="none",QuestionMobile.ShowContent(),QuestionMobile.RemoveQuestionlayout();var h=this;if(pnav(s.slC,DOC.plr),psb(s.slC,DOC.plr),0!=e||0==VideoModule.isVideo||qzm.isClicked||DOC.iS||DOC.iPv){var c=DOC.slds[e-1];if(d(e),pgn(s),pgnMb(s),o.HasTransition){if($("#slider").slider("value",0),$("#progress").css("width","0%"),document.getElementById("currentTime").innerText="0".toHHMMSS(),isTransitionComplete=!1,c){let e=`data/slide-${c.id}.js`;glhp.loadScript(e)}let e=`data/slide-${s.id}.js`;glhp.loadScript(e).then(e=>{o.transition()})}else o.load();s.originId?(h.menuSelected(s.originId+"_li"),h.menuMbSelected(s.originId+"_liMb")):(h.menuSelected(s.id+"_li"),h.menuMbSelected(s.id+"_liMb"))}else var p=setInterval((function(){VideoModule.isVideo||(pnav(s.slC,DOC.plr),psb(s.slC,DOC.plr),d(e),pgn(s),pgnMb(s),o.load(),h.menuSelected(s.id+"_li"),h.menuMbSelected(s.id+"_liMb"),clearInterval(p))}),1);if(pcs(),1==isMobile&&glrs.crsl&&1==glrs.crsl.Data.iG){let e=document.getElementById("mobilewrapper");e&&(e.style.height="100%")}this.removeLoading(),glrs.checkFinishLesson(),moveScrollToElement(glrs.crsl.Data.id+"_li")}},removeLoading:function(){var e=document.getElementById("preloaderWrapper");e&&e.parentNode.removeChild(e)},addLoading:function(){null!=gpgx()&&document.body.appendChild(gpgx())},menuSelected:function(e){$("#menuContent li").removeClass("menuSelected"),$("#"+e).addClass("menuSelected")},menuMbSelected:function(e){$("#menuListMb li").removeClass("menuSelectedMb"),$("#menuListMb li").removeClass("menuSelected"),$("#"+e).addClass("menuSelectedMb")},setCurrentIndexSlide:function(e){var t=document.getElementById("currentIndex");t&&(t.innerHTML=e)},loadcrsl:function(){let e=glrs.crsl;if(e&&e.DivRoot){var t=document.getElementById("content");t&&(t.style.pointerEvents="none",t.insertBefore(e.DivRoot,t.children[0]))}},play:function(){var e=null;null!=glrs.crsl&&null!=glrs.crsl.MainTimeline&&(e=glrs.crsl.MainTimeline),null!=e&&e.play()},pause:function(){var e=null;null!=glrs.crsl&&null!=glrs.crsl.MainTimeline&&(e=glrs.crsl.MainTimeline),null!=e&&e.pause()},reset:function(){null!=glrs.crsl&&(glrs.crsl.load(),pc.mediaControl("restart"))},hiddenSubmit:function(){e&&(e.style.display="none"),$("#navSubmitBtn").hide()},showSubmit:function(){e&&(e.style.display="flex"),DOC.isPresentation?$("#navSubmitBtn").show():$("#navSubmitBtn").hide()},setIsCaption:function(e){i=e},getIsCaption:function(){return i},showSubmitBtn:function(e){null!=glhp.DataLocal.Slide&&e.slC.sB&&(null==e.tq||null!=glhp.DataLocal.Slide||glhp.DataLocal.Slide&&DOC.slds.indexOf(e)<glhp.DataLocal.Slide.length&&!glhp.DataLocal.Slide[DOC.slds.indexOf(e)].IsSubmit)?this.showSubmit():this.hiddenSubmit()},onloaded:function(e=0){let t="undefined"!=typeof ScormModule&&""!==ScormModule.GetValue(ScormEnum.Name.SuspendData);this.jtsix(e,!t);var i="progress:1/"+DOC.slds.length;window.chrome&&window.chrome.webview&&chrome.webview.postMessage(i)},clearNotifi:function(){var e=document.getElementById("contain-message");null!=e&&e.parentElement.removeChild(e);var t,i=document.getElementById("caption");if(i){var a=i.children;if(a.length>0)for(var r=0;r<a.length;r++)i.removeChild(a[r])}(t=document.getElementById("container-items"))&&t.parentNode.removeChild(t),(t=document.getElementById("list-items"))&&t.parentNode.removeChild(t)},clearSlideDivTagsBut:function(...e){let t=document.getElementById("content");if(!t)return;let i=t.children;for(var a=0;a<i.length;a++){var r=i[a];e.includes(r.id)||$(r).remove()}},isNumberKey:function(e){var t=e.which?e.which:event.keyCode;return!(t>31&&(t<48||t>57)&&46!=t)},hiddenVolumeSetting:function(){wrapperVol&&(wrapperVol.style.display="",volumeControl.select&&(volumeControl.classList.remove("volumeBtnSelected"),volumeControl.select=!1));var e=document.getElementById("settingContentWrapper"),t=document.getElementById("settingControlBtn");e&&t&&(e.setAttribute("class","hidden"),t.classList.remove("settingBtnSelected"))},dscx:function(){var e=document.getElementById("sidePanel"),t=document.getElementById("controlPanel");e&&(e.style.pointerEvents="none"),t&&(t.style.pointerEvents="none"),setTimeout((function(){var e=document.getElementById(glrs.crsl.Data.id);e&&(e.style.pointerEvents="none")}),1),s=!1},escrs:function(){var e=document.getElementById("sidePanel"),t=document.getElementById("controlPanel");e&&(e.style.pointerEvents=""),t&&(t.style.pointerEvents=""),s=!0},pmdx:function(e){var t=e.querySelectorAll("video"),i=e.querySelectorAll("audio");if(t.length>0)for(var a=0;a<t.length;a++)t[a].currentTime=0,t[a].pause();if(i.length>0)for(a=0;a<i.length;a++)i[a].currentTime=0,i[a].pause()},pyz:function(e){for(var t=0;t<glrs.crsl.Data.lts.length;t++)if(glrs.crsl.Data.lts[t].iM){if(e.id==glrs.crsl.Data.lts[t].id+"_w")return;break}var i=e.querySelectorAll("video"),a=e.querySelectorAll("audio");if(i.length>0)for(t=0;t<i.length;t++)i[t].getAttribute("play-auto")&&i[t].play();if(a.length>0)for(t=0;t<a.length;t++)a[t].getAttribute("auto")&&a[t].play()},getSlideObjectChildren:function(e){let t=document.getElementById(e);if(null==t)return null;let i=t.querySelectorAll(".slide-object");return i=Array.prototype.slice.call(i),i},loopThroughSlideObject:function(e,t){if(!e||!t)return;let i=document.getElementById(e);if(!i)return;let a=glhp.getSlideObjectChildren(e),r=[];r.push(i),r.push(...a);for(let e=0;e<r.length;e++){t(r[e])}},enableSubmit:function(){glhp.IsSubmit=!0,btnSubmit.style.pointerEvents="",btnSubmit.style.opacity="",isMobile&&QuestionMobile.EnableSubmitButton()},disableSubmit:function(){glhp.IsSubmit=!1,btnSubmit.style.pointerEvents="none"},CheckQuestion:function(e){return null!=e.tq},UpdateNarrationMedia:function(e,t){if(1==glrs.crsl.IsPlayTransition)return;let i=document.getElementById("narrationAudio"),a=i.getElementsByTagName("audio");var r=document.getElementById("presentervideo"),s=r.getElementsByTagName("video");let n=null,l=glhp.GetMainLayout(glrs.crsl);if(null!=l&&null!=l.nme)for(let t=0;t<l.nme.length;t++)if(1==glhp.GetTransition(glrs.crsl.Data)){if(l.nme[t].tim.sT-glrs.crsl.Data.trans.durTra<=e&&l.nme[t].tim.sT+l.nme[t].tim.dT-glrs.crsl.Data.trans.durTra>e){n=l.nme[t];break}}else if(l.nme[t].tim.sT<=e&&l.nme[t].tim.sT+l.nme[t].tim.dT>e){n=l.nme[t];break}if(null!=n){let t=0;t=null==glrs.crsl.Data.trans?e-n.tim.sT:e-n.tim.sT+glrs.crsl.Data.trans.durTra;var o=document.getElementById(n.id);if(o){if(i)for(let e=0;e<a.length;e++)a[e]!=o&&a[e].pause();if(s){r.style.display="none";for(let e=0;e<s.length;e++)if(s[e]!=o)s[e].style.display="none",s[e].pause();else{r.style.display="block",s[e].style.display="block";let t=r.clientWidth/s[e].videoWidth;r.style.height=t*s[e].videoHeight+"px"}}}}else{if(a)for(let e=0;e<a.length;e++)a[e].pause();if(s){r.style.display="none";for(let e=0;e<s.length;e++)s[e].style.display="none",s[e].pause()}}null!=o&&(t?o.pause():o.play())},GetMainLayout:function(e){for(let t=0;t<e.Data.lts.length;t++)if(1==e.Data.lts[t].iM)return e.Data.lts[t];return null},GetTransition:function(e){return null!=e.trans&&"None"!=e.trans.nm},LoadMedia:function(e){var t=e.play();t&&_instanceof(t,Promise)&&t.catch((function(e){if("NotAllowedError"!==e.name)throw e;autoPlayAllowed=!1;var t=qzm.gelpw();t&&document.getElementsByTagName("body")[0].appendChild(t),document.getElementById("content").innerHTML="",glrs.crsl.MainTimeline.pause()})).then((function(){}))},set DataLocal(e){r=e},get DataLocal(){return r},ResetDataLocal:function(){r={Slide:[],crsl:0,CurrentTime:null,Status:!1,iT:0,SlideBanks:null,LearnerName:null,LearnerEmail:null,EmailSender:[],UserInfo:null,VisitedSlides:[],PassedResults:[]}},SetDataLocalValue:function(e,t){this.IsEmptyObject(r)&&this.ResetDataLocal(),r[e]=t},MergeDataLocal:function(e){e&&(this.IsEmptyObject(r)&&this.ResetDataLocal(),r={...r,...e})},get PassedResults(){return this.DataLocal?this.DataLocal.PassedResults:[]},IsEmptyObject:function(e){return 0===Object.keys(e).length},set Volume(e){a=e},get Volume(){return a},set IsSubmit(e){t=e},get IsSubmit(){return t},set IsMenu(e){s=e},get IsMenu(){return s},set isJumto(e){n=e},get isJumto(){return n},set IsConfirmSubmit(e){o=e},get IsConfirmSubmit(){return o},TrackingSlide:function(e,t){if(!this.DataLocal||!DOC.iS)return;let i=DOC.slds.filter(t=>t.id==e);i&&0!=i.length&&!this.CheckIsResult(i[0])&&(this.DataLocal.VisitedSlides&&!this.DataLocal.VisitedSlides.includes(e)&&this.DataLocal.VisitedSlides.push(e),t&&"undefined"!=typeof ScormModule&&(ScormModule.SetValue(ScormEnum.Name.ProgressMeasure,this.ProgressMeasure),ScormModule.Commit()))},get ProgressMeasure(){if(this.isScormCompleted)return 1;let e=DOC.slds.filter(e=>!this.CheckIsResult(e)).length;return 0==e?0:this.DataLocal&&this.DataLocal.VisitedSlides?this.DataLocal.VisitedSlides.length/e:0},AddPassedResult:function(e){if(!DOC.sctrc)return!1;e&&e===DOC.sctrc.RsID&&!this.PassedResults.includes(e)&&this.PassedResults.push(e);let t=this.PassedResults.length>0?this.PassedResults[0]:null;return l=t===DOC.sctrc.RsID},verifyLessonStatus:function(){if("undefined"!=typeof ScormModule&&DOC.iS)switch(this.trackingStatus){case TrackingStatus.NUMBEROFSLIDES:(this.DataLocal.VisitedSlides?this.DataLocal.VisitedSlides.length:0)>=DOC.sctrc.noS&&ScormModule.VerifyCompleteStatus(!0);break;case TrackingStatus.QUIZRESULT:this.AddPassedResult()&&ScormModule.VerifyCompleteStatus(!0)}},isTrackingStatus:function(e){return this.trackingStatus===e.toUpperCase()},get trackingStatus(){return DOC.sctrc&&DOC.sctrc.trs&&DOC.sctrc.trs.toUpperCase()},get isResultPassed(){return l},get isScormCompleted(){return"undefined"!=typeof ScormModule&&ScormModule.IsCompleted},CheckIsResult:function(e){return e&&e.slt&&"RESULT"==e.slt.toUpperCase()},get IsScorm12(){return DOC.scp&&"1.2"===DOC.scp.nC},get IsScorm2004(){return DOC.scp&&"2004"===DOC.scp.nC},get IsScormXapi(){return DOC.scp&&DOC.scp.nC&&"XAPI"===DOC.scp.nC.toUpperCase()},areStringsEqualIgnoreCase:function(e,t){return void 0===e&&void 0===t||void 0!==e&&void 0!==t&&(null===e&&null===t||null!==e&&null!==t&&e.toLowerCase()===t.toLowerCase())},loadScript:async function(e){if(!function(e){if(!e)return!1;for(var t=document.getElementsByTagName("script"),i=t.length;i--;)if(t[i].src&&t[i].src.includes(e))return!0;return!1}(e))return new Promise((t,i)=>{try{const a=document.createElement("script");a.type="text/javascript",a.async=!0,a.src=e,a.addEventListener("load",e=>{t({status:!0})}),a.addEventListener("error",e=>{i({status:!1,message:"Failed to load the script ＄{source}"})}),document.body.appendChild(a)}catch(e){i(e)}})},createImageTag:async function(e){return new Promise((t,i)=>{let a=document.createElement("img");a.onload=()=>{t(a)},a.onerror=i,a.src=e})},setTimeMedia:function(e,t,i,a){h(e,(e,t)=>{i>=t.sT&&(e.paused||e.ended)&&(a&&e.play(),e.currentTime=i-t.sT)}),h(t,(e,t)=>{i>=t.sT&&(a&&e.play(),e.currentTime=i-t.sT)})}};function h(e,t){if(!e||e.length<=0||!t)return;let i=glrs.crsl;if(i)for(let a=0;a<e.length;a++){let r=e[a];if(!r.id)continue;let s=r.id.split("_");if(!s||s.length<=0)continue;let n=s[s.length-1],l=i.getElementById(n),{Data:o,IsVisible:h}=l;h&&o&&o.tim&&t(r,o.tim)}}function d(e){var i=!1;$("#caption").html(""),0!=e&&(glhp.DataLocal.Status=!0),qzm.IsEndTime&&qzm.removeTime(),"Result"==DOC.slds[e].slt&&(i=!0),qzm.IsReset&&qzm.removeTime(),(qzm.IsFirtsSlide||qzm.IsReset)&&"QuestionSlide"==glrs.crsl.Data.slt&&(qzm.settz(!0),qzm.IsFirtsSlide=!1,qzm.IsReset=!1),null!=qzm.indexAnswer&&glhp.DataLocal.Slide[qzm.indexAnswer]&&(glhp.DataLocal.Slide[qzm.indexAnswer].IsSubmit=!0,qzm.indexAnswer=null);var a,r,s=!0;if(null!=qzm.suuk&&-1==qzm.suuk.indexOf(parseInt(e))&&(qzm.suuk.push(parseInt(e)),s=!1),function(e){if(DOC.iS)if("xapi"!=DOC.scp.nC);else{if("undefined"==typeof tincanModule)return;if(!qzm.isLMS&&glhp.isTrackingStatus(TrackingStatus.NUMBEROFSLIDES)&&(glhp.DataLocal.aSS=qzm.suuk,qzm.suuk.length>=DOC.sctrc.noS)){var t=tincanModule.gKQ(null,"http://id.tincanapi.com/activity/avina/lecture","completed"),i=glrs.crsl?glrs.crsl.Data.nm:DOC.slds[0].nm,a=glhp.DataLocal.crsl||0;tincanModule.sendStatement(null,t,i,a),qzm.isLMS=!0}glhp.isTrackingStatus(TrackingStatus.NUMBEROFSLIDES)&&(e||tincanModule.sendStatement("experienced")),tincanModule.saveSuppendData((function(e,t){}),{data:qzm.getDataScorm()})}}(s),qzm.isClickAnswer=!0,e>=0)if("QuestionSlide"==DOC.slds[e].slt){i||(1==glhp.DataLocal.Slide[e].IsSubmit?(document.getElementById("submitControlBtn").style.display="none",isMobile||(a=document.getElementById("prevControlBtn"),r=document.getElementById("nextControlBtn"),(a||r)&&(a.style.display="flex",r.style.display="flex")),t=!1,glhp.isQuestionTrig&&c(!0)):(t=!0,btnSubmit.style.pointerEvents="",btnSubmit.style.opacity="",glhp.isQuestionTrig&&c(!1)));var n=document.getElementsByClassName("answerContainer")[0];n&&(n.style.pointerEvents="")}else document.getElementById("submitControlBtn").style.display="none",glhp.IsSubmit=!1;qzm.sdls()}function c(e=!1){var t=document.getElementById("prev-trig"),i=document.getElementById("next-trig"),a=document.getElementById("submit-trig");e?(a.style.display="none",t.style.display="flex",i.style.display="flex"):(a.style.display="flex",t.style.display="none",i.style.display="none")}}();String.prototype.toHHMMSS=function(){var e=parseInt(this,10),t=Math.floor(e/3600),i=Math.floor((e-3600*t)/60),a=e-3600*t-60*i;t<10&&(t="0"+t),i<10&&(i="0"+i),a<10&&(a="0"+a);var r=i+":"+a;return e>3600&&(r=t+":"+r),r};var btnSubmit=document.getElementById("submitControlBtn");btnSubmit&&btnSubmit.addEventListener("mouseup",(function(){qzm.sdls(),qzm.SubmitInteraction(),event.stopPropagation()}));var navSubmitBtn=document.getElementById("navSubmitBtn");navSubmitBtn&&navSubmitBtn.addEventListener("mouseup",(function(e){e.stopPropagation(),window.chrome&&window.chrome.webview&&window.chrome.webview.postMessage(4),qzm.sdls(),glhp.IsSubmit=!0,qzm.SubmitInteraction()}));var btnSubmitMB=document.getElementById("submitMobile");btnSubmitMB&&btnSubmitMB.addEventListener("mouseup",(function(){qzm.sdls(),qzm.SubmitInteraction(),event.stopPropagation()})),document.getElementById("content")&&document.getElementById("content").addEventListener("click",(function(){glhp.hiddenVolumeSetting()}),!1),window.onbeforeunload=function(){if(DOC.iS)if(glhp.IsScormXapi)tincanModule.saveSuppendData((function(e,t){isSaved=!0}),{data:qzm.getDataScorm()}),tincanModule.endLecture();else{var e=(new Date).getTime()/1e3-qzm.startTime;ScormModule.SetValue(ScormEnum.Name.SesstionTime,qzm.gswt(e)),ScormModule.EndLecture()}else DOC.iPv||qzm.sdls()},$(document).on("keydown",(function(e){if(!(0==DOC.plr.mnBar&&0==DOC.plr.ctrBar||e.target instanceof HTMLInputElement)){if(37==e.keyCode||38==e.keyCode)"none"!=document.getElementById("nextControlBtn").style.display&&(window.chrome&&window.chrome.webview&&window.chrome.webview.postMessage(3),pc.previousClick());else if(39==e.keyCode||40==e.keyCode){"none"!=document.getElementById("nextControlBtn").style.display&&(window.chrome&&window.chrome.webview&&window.chrome.webview.postMessage(2),pc.nextClick())}32==e.keyCode&&pc.playPauseClick()}}));var eleFullScreen,progress=document.getElementById("progressVolume"),wrapperVol=document.getElementById("wrapperControlVolumeSound"),volumeControl=document.getElementById("volumeControlBtn"),volume=document.getElementById("volume"),mute=document.getElementById("mute"),isCheckFullscreen=!1,glossaryContentWrapper=document.getElementById("glossaryContentWrapper"),resourceContentWrapper=document.getElementById("resourceContentWrapper");if($(".tabs li").click((function(e){$(".tabs li").removeClass("tabSelected"),$(this).addClass("tabSelected"),$("#contentSidebar section").removeClass("contentSidebarSelected"),$("#"+$(this).data("id")).addClass("contentSidebarSelected"),phts(),pkms(),phrs(),pkrs(),phgs(),pkgs(),phns(),pkns()})),$("#settingControlBtn").click((function(e){$(this).hasClass("settingBtnSelected")?($(this).removeClass("settingBtnSelected"),$("#settingContentWrapper").addClass("hidden")):($(this).addClass("settingBtnSelected"),$("#settingContentWrapper").removeClass("hidden")),e.stopPropagation()})),$("#uncheckedMenu").change((function(){this.checked?$("#sidePanel").removeClass("hidden"):$("#sidePanel").addClass("hidden"),pcs(isFullSCreen)})),$("#menuControlBtn").click((function(){if(checkFirstMenu=!1,!DOC.plr.mnBar)return;let e=$(this).find("#myImage"),t=e[0].src;if(t){var i=$("#layout");i.remove(),t.match("Icons.png")?(e[0].src="./css/Icon2.png",$("#sidePanel").removeClass("hidden"),$("#menuBtn").css("display","none"),isSlideBar=!0,isInfoUser&&1==DOC.plr.iL&&(DOC.plr.iL=!1,isInfoUser=!1,$("#mainHeader").css("display","none"),$("#verticalLine").css("display","flex")),calBasicPlayerSize(),pcs(),$("#sidePanel").append(i)):(e[0].src="./css/Icons.png",$("#sidePanel").addClass("hidden"),$("#menuBtn").css("display","flex"),isSlideBar=!1,isInfoUser||0!=DOC.plr.iL||(DOC.plr.iL=!0,isInfoUser=!0,$("#mainHeader").css("display","flex"),$("#verticalLine").css("display","none")),calBasicPlayerSize(),pcs(),$("#rightPanelPin").append(i)),$("#menuSearch").toggleClass("mg-t-40"),$(".tabs li").click((function(e){$(".tabs li").removeClass("tabSelected"),$(this).addClass("tabSelected"),$("#contentSidebar section").removeClass("contentSidebarSelected"),$("#"+$(this).data("id")).addClass("contentSidebarSelected"),phts(),pkms(),phrs(),pkrs(),phgs(),pkgs(),phns(),pkns()}))}})),$("#captionControlBtn").click((function(){let e=$(this).find("#myImage1"),t=e[0].src;t&&(t.match("Icons.png")?(glrs.ShowCaption=!glrs.ShowCaption,e[0].src="./css/Icon2.png"):(glrs.ShowCaption=!glrs.ShowCaption,e[0].src="./css/Icons.png"))})),$("#myImage2").click((function(){if(!DOC.plr.mnBar)return;let e=this.src;e&&(e.match("Icon3.png")?(this.src="./css/Icon4.png",$("#sidePanel").removeClass("hidden"),isSlideBar=!0,calBasicPlayerSize(),pcs()):(this.src="./css/Icon3.png",$("#sidePanel").addClass("hidden"),isSlideBar=!1,calBasicPlayerSize(),pcs()))})),$("#controlVolume").draggable({axis:"x",containment:"#controlVolumeSound",drag:function(e,t){var i=t.helper.context.offsetLeft,a=document.getElementById("controlVolumeSound").offsetWidth-this.offsetWidth;pcv(0!=i),progress.style.width=i/a*100+"%",wrapperVol.style.display="flex",glhp.Volume=i/a,volumeVideo(glhp.Volume),pc.sound&&(pc.mediaControl("turnOn"),pc.sound=!1)},stop:function(){this.style.background=""}}),(eleFullScreen=document.getElementById("fullScreenControlBtn")).select=!1,eleFullScreen.addEventListener("click",(function(){var e=document.getElementsByTagName("BODY")[0];this.select?(ccss(e),ceesz(!0)):(lfcz(e),ceesz(!1)),this.select=!this.select}),!1),(eleFullScreen=document.getElementById("topfullScreenbtn"))&&(eleFullScreen.select=!1,eleFullScreen.addEventListener("click",(function(){var e=document.getElementsByTagName("BODY")[0];this.select?(ccss(e),ceesz(!0)):(lfcz(e),ceesz(!1)),this.select=!this.select}),!1)),DOC.iPv&&eleFullScreen&&(eleFullScreen.style.display="none"),volume.addEventListener("click",(function(){pcv(!1),pc.mediaControl("turnOff")}),!1),mute.addEventListener("click",(function(){pcv(!0),pc.mediaControl("turnOn")}),!1),document.getElementById("captionControlBtn").querySelector("label").addEventListener("click",(function(e){glrs.ShowCaption=!glrs.ShowCaption,$(document.getElementById("subtitleBtn").querySelector("input")).prop("checked",glrs.ShowCaption)}),!1),DOC.emarep&&DOC.emarep.issmai){$("#userInfoBtn").show();let e=[];function GetLocalizationText(){const t=Object.keys(e).find(e=>e.toLowerCase()===DOC.Lang.toLowerCase());return t&&e[t]}function isRequired(e,t=!0){return{val:t,message:GetLocalizationText().isRequired(e)}}function range(e,t,i){return{min:{val:t,message:function(){return GetLocalizationText().min(e,t)}},max:{val:i,message:function(){return GetLocalizationText().max(e,i)}}}}function isEmail(e,t=!0){return{val:t,message:GetLocalizationText().isEmail(e)}}var userName,classStudent,school,email,submitTextForm;e["VI-vn"]={isRequired:e=>e+" là bắt buộc",min:(e,t)=>`${e} phải có ít nhất ${t} kí tự`,max:(e,t)=>`${e} phải có nhiều nhất ${t} kí tự`,isEmail:e=>e+" không hợp lệ",title:"Thông tin người dùng"},e["EN-us"]={isRequired:e=>e+" is required",min:(e,t)=>`${e} must be at least ${t} characters`,max:(e,t)=>`${e} must be les than ${t} characters`,isEmail:e=>e+" is not invalid",title:"User info"},e["TH-th"]={isRequired:e=>e+" จําเป็นต้องมีค่า",min:(e,t)=>`${e}  ต้องมีความยาวอย่างน้อย ${t} ตัวอักษร`,max:(e,t)=>`${e} ต้องมีความยาวไม่เกิน ${t} ตัวอักษร`,isEmail:e=>e+" ไม่ใช่อีเมลที่ถูกต้อง",title:"ข้อมูลผู้ใช้"},userName=Language.userName,classStudent=Language.classStudent,school=Language.school,email=Language.email,submitTextForm=Language.submitText;let t=[{name:"username",title:userName,isRequired:!0,min:0,max:100,isEmail:!1},{name:"class",title:classStudent,isRequired:!1,min:0,max:100,isEmail:!1},{name:"school",title:school,isRequired:!1,min:0,max:100,isEmail:!1}];DOC.emarep&&DOC.emarep.issmaiuse&&t.push({name:"email",title:email,isRequired:!0,min:0,max:100,isEmail:!0});let i=[];for(let e=0;e<t.length;e++){let a=t[e],r={name:a.name,title:a.title,validator:function(){return{isRequired:a.isRequired?isRequired(this.title):void 0,range:a.min||a.max?range(this.title,a.min,a.max):void 0,isEmail:a.isEmail?isEmail(this.title):void 0}}};i.push(r)}const a=document.getElementById("form");document.getElementById("popup-title").innerHTML=GetLocalizationText().title;let r=[];for(let e=0;e<i.length;e++){let t=i[e],s=document.createElement("div");s.className="form-control";let n=document.createElement("label");n.setAttribute("for",t.name),n.innerHTML=t.title;let l=document.createElement("input");l.setAttribute("id",t.name),l.setAttribute("name",t.name),l.setAttribute("placeholder",t.title);let o=document.createElement("small");s.appendChild(n),s.appendChild(l),s.appendChild(o),a.appendChild(s),r[t.name]=l}let s=document.createElement("button");function showError(e,t){const i=e.parentElement;i.className="form-control error";i.querySelector("small").innerText=t}function showSucces(e){e.parentElement.className="form-control success"}function checkEmail(e,t){let i=!1;return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e.value.trim())?showSucces(e):(showError(e,t),i=!0),i}function checkRequired(e,t){let i=!1;return e.forEach((function(e){""===e.value.trim()?(showError(e,t),i=!0):showSucces(e)})),i}function checkLength(e,t,i,a,r){let s=!1;return e.value.length<t?(showError(e,a),s=!0):e.value.length>i?(showError(e,r),s=!0):showSucces(e),s}function getFieldName(e){return e.id.charAt(0).toUpperCase()+e.id.slice(1)}s.innerHTML=submitTextForm,a.appendChild(s),a.addEventListener("submit",(function(e){if(e.preventDefault(),!glhp.DataLocal)return;let t=!1,a={};for(let e=0;e<i.length;e++){let s=i[e],n=r[s.name],l=s.validator(),o=!1;if(n){a[n.name]={key:s.title,value:n.value};let e=l.range,t=!1;if(e&&(t=checkLength(n,e.min.val,e.max.val,e.min.message(),e.max.message())),o=o||t,!t){let e=l.isRequired;e&&e.val&&(o=o||checkRequired([n],e.message))}let i=l.isEmail;i&&i.val&&(o=o||checkEmail(n,i.message))}t=t||o}t||(glhp.DataLocal.UserInfo=a,document.getElementById("close-popup").click(),glhp.DataLocal.StartTime||(glhp.DataLocal.StartTime=Date.now()))}))}else $("#userInfoBtn").hide();function volumeVideo(e){var t=document.getElementById("content").querySelectorAll("video"),i=document.querySelectorAll("audio");t.length>0&&t.forEach((function(t){t.volume=e})),i.length>0&&i.forEach((function(t){t.volume=e}))}function pcv(e){void 0!==volume&&void 0!==mute&&(!1===e?(volume.style.display="none",mute.style.display="block"):(volume.style.display="block",mute.style.display="none"))}function ceesz(e){e?(document.getElementById("fullscreen").style.display="flex",document.getElementById("miniScreen").style.display="none",isFullSCreen=!1,pcs()):(document.getElementById("fullscreen").style.display="none",document.getElementById("miniScreen").style.display="flex",isFullSCreen=!0,pcs())}function lfcz(e){e.requestFullScreen?e.requestFullScreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullScreen?e.webkitRequestFullScreen():e.msRequestFullScreen&&e.msRequestFullScreen()}function ccss(){document.cancelFullScreen?document.cancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen&&document.webkitCancelFullScreen()}function phts(){var e=document.getElementById("menuContentWrapper").offsetHeight,t=document.getElementById("menuListContent").offsetHeight,i=document.getElementById("menuScrollBar");i.style.height=Math.min(1,t/e)*t+"px",i.style.display=i.style.offsetHeight==t?"none":"block"}function phrs(){var e=document.getElementById("resourceContentWrapper").offsetHeight,t=document.getElementById("resourceListContent").offsetHeight,i=document.getElementById("resourceScrollBar");i.style.height=Math.min(1,t/e)*t+"px",i.style.display=i.style.offsetHeight==t?"none":"block"}function phgs(){var e=document.getElementById("glossaryContentWrapper").offsetHeight,t=document.getElementById("glossaryListContent").offsetHeight,i=document.getElementById("termScrollBar");i.style.height=Math.min(1,t/e)*t+"px",i.style.display=i.style.offsetHeight==t?"none":"block"}function phns(){var e=document.getElementById("noteContentWrapper").offsetHeight,t=document.getElementById("noteListContent").offsetHeight,i=document.getElementById("noteScrollBar");i.style.height=Math.min(1,t/e)*t+"px",i.style.display=i.style.offsetHeight==t?"none":"block"}function pkms(){var e=document.getElementById("menuListContent").offsetHeight,t=document.getElementById("menuContent").offsetHeight,i=document.getElementById("menuScrollWrapper");i.style.display=t<=e?"none":"block"}function pkrs(){var e=document.getElementById("resourceListContent").offsetHeight,t=document.getElementById("resourceContent").offsetHeight,i=document.getElementById("resourceScrollWrapper");i.style.display=t<=e?"none":"block"}function pkgs(){var e=document.getElementById("glossaryListContent").offsetHeight,t=document.getElementById("glossaryContent").offsetHeight,i=document.getElementById("termScrollWrapper");i.style.display=t<=e?"none":"block"}function pkns(){var e=document.getElementById("noteListContent").offsetHeight,t=document.getElementById("noteContent").offsetHeight,i=document.getElementById("noteScrollWrapper");i.style.display=t<=e?"none":"block"}function pmmw(e){var t=document.getElementById("menuListContent").offsetHeight,i=document.getElementById("menuContentWrapper"),a=i.offsetHeight,r=document.getElementById("menuScrollBar"),s=r.offsetHeight,n=t/5,l=Math.max(0,a-t),o=Math.max(0,t-s);e.deltaY<0?i.style.top=Math.min(0,i.offsetTop+n)+"px":e.deltaY>0&&(i.style.top=Math.max(-l,i.offsetTop-n)+"px");var h=-i.offsetTop/l*o;r.style.top=Math.min(o,h)+"px"}function moveScrollToTop(){var e=document.getElementById("menuContentWrapper"),t=document.getElementById("menuScrollBar");e.style.top="0px","none"!=t.style.display&&(t.style.top="0px")}function moveScrollToElement(e){var t=document.getElementById(e);if(null!==t){var i=document.getElementById("menuListContent"),a=document.getElementById("menuContentWrapper"),r=document.getElementById("menuScrollBar"),s=i.getBoundingClientRect(),n=a.getBoundingClientRect(),l=(r.getBoundingClientRect(),t.getBoundingClientRect()),o=s.height+s.top-l.top-l.height;o<0?a.style.top=o-s.top+n.top+"px":o>=s.height&&(a.style.top=n.top-l.top+"px")}}function pmrw(e){var t=document.getElementById("resourceListContent").offsetHeight,i=document.getElementById("resourceContentWrapper"),a=i.offsetHeight,r=document.getElementById("resourceScrollBar"),s=r.offsetHeight,n=t/5,l=Math.max(0,a-t),o=Math.max(0,t-s);e.deltaY<0?i.style.top=Math.min(0,i.offsetTop+n)+"px":e.deltaY>0&&(i.style.top=Math.max(-l,i.offsetTop-n)+"px");var h=-i.offsetTop/l*o;r.style.top=Math.min(o,h)+"px"}function pmgw(e){var t=document.getElementById("glossaryListContent").offsetHeight,i=document.getElementById("glossaryContentWrapper"),a=i.offsetHeight,r=document.getElementById("termScrollBar"),s=r.offsetHeight,n=t/5,l=Math.max(0,a-t),o=Math.max(0,t-s);e.deltaY<0?i.style.top=Math.min(0,i.offsetTop+n)+"px":e.deltaY>0&&(i.style.top=Math.max(-l,i.offsetTop-n)+"px");var h=-i.offsetTop/l*o;r.style.top=Math.min(o,h)+"px"}function pmnw(e){var t=document.getElementById("noteListContent").offsetHeight,i=document.getElementById("noteContentWrapper"),a=i.offsetHeight,r=document.getElementById("noteScrollBar"),s=r.offsetHeight,n=t/5,l=Math.max(0,a-t),o=Math.max(0,t-s);e.deltaY<0?i.style.top=Math.min(0,i.offsetTop+n)+"px":e.deltaY>0&&(i.style.top=Math.max(-l,i.offsetTop-n)+"px");var h=-i.offsetTop/l*o;r.style.top=Math.min(o,h)+"px"}menuContentWrapper.addEventListener("mouseover",phts),menuContentWrapper.addEventListener("mouseover",pkms),resourceContentWrapper.addEventListener("mouseover",phrs),resourceContentWrapper.addEventListener("mouseover",pkrs),glossaryContentWrapper.addEventListener("mouseover",phgs),glossaryContentWrapper.addEventListener("mouseover",pkgs),noteContentWrapper.addEventListener("mouseover",phns),noteContentWrapper.addEventListener("mouseover",pkns),menuContentWrapper.addEventListener("wheel",pmmw),resourceContentWrapper.addEventListener("wheel",pmrw),glossaryContentWrapper.addEventListener("wheel",pmgw),noteContentWrapper.addEventListener("wheel",pmnw);var isClickScrollBar=0,pmmf=0,preY=0,startPostion=0,startScrollOffset=0;function pmme(){isClickScrollBar=1;var e=document.getElementById("menuScrollBar");e.addEventListener("mousedown",(function(t){document.addEventListener("mousemove",mmtv,!1),pmmf=1,startPostion=t.pageY,startScrollOffset=e.offsetTop,this.style.opacity=.7}),!1),document.addEventListener("mouseup",(function(){pmmf=0,document.removeEventListener("mousemove",mmtv),e.style.opacity=.5}),!1),menuContentWrapper.addEventListener("touchstart",(function(t){menuContentWrapper.addEventListener("touchmove",mmtv,!1),pmmf=1,startPostion=t.touches[0].pageY,startScrollOffset=e.offsetTop,this.style.opacity=.7}),!1),menuContentWrapper.addEventListener("touchend",(function(){pmmf=0,menuContentWrapper.removeEventListener("touchmove",mmtv),e.style.opacity=.5}),!1)}function mmtv(e){if(1===pmmf){var t=(preY=null!=e.pageY?e.pageY:e.touches[0].pageY)-startPostion,i=document.getElementById("menuListContent").offsetHeight,a=document.getElementById("menuContentWrapper"),r=a.offsetHeight,s=document.getElementById("menuScrollBar"),n=s.offsetHeight,l=Math.max(0,r-i),o=Math.max(0,i-n);s.style.top=Math.min(o,Math.max(0,startScrollOffset+t))+"px";var h=-s.offsetTop/o*l;a.style.top=Math.max(-l,h)+"px"}}pmme(),document.getElementById("menuScrollWrapper").addEventListener("mousedown",(function(e){if(e.srcElement==this){var t=document.getElementById("menuListContent").offsetHeight,i=document.getElementById("menuContentWrapper"),a=i.offsetHeight,r=document.getElementById("menuScrollBar"),s=r.offsetHeight,n=Math.max(0,a-t),l=Math.max(0,t-s),o=0;e.layerY>r.offsetTop+s?o=e.layerY-s:e.layerY<r.offsetTop&&(o=e.layerY),r.style.top=Math.min(l,Math.max(0,o))+"px";var h=-r.offsetTop/l*n;i.style.top=Math.max(-n,h)+"px"}}));var isClickRScrollBar=0,mouseResourceFlag=0,preYR=0,startRPostion=0,startRScrollOffset=0;function prme(){isClickRScrollBar=1;var e=document.getElementById("resourceScrollBar");e.addEventListener("mousedown",(function(t){document.addEventListener("mousemove",mrcem,!1),mouseResourceFlag=1,startRPostion=t.pageY,startRScrollOffset=e.offsetTop,this.style.opacity=.7}),!1),document.addEventListener("mouseup",(function(){mouseResourceFlag=0,document.removeEventListener("mousemove",mrcem),e.style.opacity=.5}),!1),resourceContentWrapper.addEventListener("touchstart",(function(t){resourceContentWrapper.addEventListener("touchmove",mrcem,!1),mouseResourceFlag=1,startRPostion=t.touches[0].pageY,startRScrollOffset=e.offsetTop,this.style.opacity=.7}),!1),resourceContentWrapper.addEventListener("touchend",(function(){mouseResourceFlag=0,resourceContentWrapper.removeEventListener("touchmove",mrcem),e.style.opacity=.5}),!1)}function mrcem(e){if(1===mouseResourceFlag){var t=(preYR=null!=e.pageY?e.pageY:e.touches[0].pageY)-startRPostion,i=document.getElementById("resourceListContent").offsetHeight,a=document.getElementById("resourceContentWrapper"),r=a.offsetHeight,s=document.getElementById("resourceScrollBar"),n=s.offsetHeight,l=Math.max(0,r-i),o=Math.max(0,i-n);s.style.top=Math.min(o,Math.max(0,startRScrollOffset+t))+"px";var h=-s.offsetTop/o*l;a.style.top=Math.max(-l,h)+"px"}}prme(),document.getElementById("resourceScrollWrapper").addEventListener("mousedown",(function(e){if(e.srcElement==this){var t=document.getElementById("resourceListContent").offsetHeight,i=document.getElementById("resourceContentWrapper"),a=i.offsetHeight,r=document.getElementById("resourceScrollBar"),s=r.offsetHeight,n=Math.max(0,a-t),l=Math.max(0,t-s),o=0;e.layerY>r.offsetTop+s?o=e.layerY-s:e.layerY<r.offsetTop&&(o=e.layerY),r.style.top=Math.min(l,Math.max(0,o))+"px";var h=-r.offsetTop/l*n;i.style.top=Math.max(-n,h)+"px"}}));var isClickGScrollBar=0,mouseGlossaryFlag=0,preYG=0,startGPostion=0,startGScrollOffset=0;function pgme(){isClickGScrollBar=1;var e=document.getElementById("termScrollBar");e.addEventListener("mousedown",(function(t){document.addEventListener("mousemove",gossm,!1),mouseGlossaryFlag=1,startGPostion=t.pageY,startGScrollOffset=e.offsetTop,this.style.opacity=.7}),!1),document.addEventListener("mouseup",(function(){mouseGlossaryFlag=0,document.removeEventListener("mousemove",gossm),e.style.opacity=.5}),!1),glossaryContentWrapper.addEventListener("touchstart",(function(t){glossaryContentWrapper.addEventListener("touchmove",gossm,!1),mouseGlossaryFlag=1,startGPostion=t.touches[0].pageY,startGScrollOffset=e.offsetTop,this.style.opacity=.7}),!1),glossaryContentWrapper.addEventListener("touchend",(function(){mouseGlossaryFlag=0,glossaryContentWrapper.removeEventListener("touchmove",gossm),e.style.opacity=.5}),!1)}function gossm(e){if(1===mouseGlossaryFlag){var t=(preYG=null!=e.pageY?e.pageY:e.touches[0].pageY)-startGPostion,i=document.getElementById("glossaryListContent").offsetHeight,a=document.getElementById("glossaryContentWrapper"),r=a.offsetHeight,s=document.getElementById("termScrollBar"),n=s.offsetHeight,l=Math.max(0,r-i),o=Math.max(0,i-n);s.style.top=Math.min(o,Math.max(0,startGScrollOffset+t))+"px";var h=-s.offsetTop/o*l;a.style.top=Math.max(-l,h)+"px"}}pgme(),document.getElementById("termScrollWrapper").addEventListener("mousedown",(function(e){if(e.srcElement==this){var t=document.getElementById("glossaryListContent").offsetHeight,i=document.getElementById("glossaryContentWrapper"),a=i.offsetHeight,r=document.getElementById("termScrollBar"),s=r.offsetHeight,n=Math.max(0,a-t),l=Math.max(0,t-s),o=0;e.layerY>r.offsetTop+s?o=e.layerY-s:e.layerY<r.offsetTop&&(o=e.layerY),r.style.top=Math.min(l,Math.max(0,o))+"px";var h=-r.offsetTop/l*n;i.style.top=Math.max(-n,h)+"px"}}));var isClickNoteScrollBar=0,mouseNoteFlag=0,preYN=0,startNPostion=0,startNScrollOffset=0;function pnme(){isClickNoteScrollBar=1;var e=document.getElementById("noteScrollBar");e.addEventListener("mousedown",(function(t){document.addEventListener("mousemove",mnnm,!1),mouseNoteFlag=1,startNPostion=t.pageY,startNScrollOffset=e.offsetTop,this.style.opacity=.7}),!1),document.addEventListener("mouseup",(function(){mouseNoteFlag=0,document.removeEventListener("mousemove",mnnm),e.style.opacity=.5}),!1),noteContentWrapper.addEventListener("touchstart",(function(t){noteContentWrapper.addEventListener("touchmove",mnnm,!1),mouseNoteFlag=1,startNPostion=t.touches[0].pageY,startNScrollOffset=e.offsetTop,this.style.opacity=.7}),!1),noteContentWrapper.addEventListener("touchend",(function(){mouseNoteFlag=0,noteContentWrapper.removeEventListener("touchmove",mnnm),e.style.opacity=.5}),!1)}function mnnm(e){if(1===mouseNoteFlag){var t=(preYN=null!=e.pageY?e.pageY:e.touches[0].pageY)-startNPostion,i=document.getElementById("noteListContent").offsetHeight,a=document.getElementById("noteContentWrapper"),r=a.offsetHeight,s=document.getElementById("noteScrollBar"),n=s.offsetHeight,l=Math.max(0,r-i),o=Math.max(0,i-n);s.style.top=Math.min(o,Math.max(0,startNScrollOffset+t))+"px";var h=-s.offsetTop/o*l;a.style.top=Math.max(-l,h)+"px"}}function exitHandler(){(document.webkitIsFullScreen||document.mozFullScreen||null!==document.msFullscreenElement)&&((isCheckFullscreen=!isCheckFullscreen)?ceesz(!1):(ceesz(!1),setTimeout((function(){ceesz(!0),eleFullScreen&&(eleFullScreen.select=!1)}),10)))}pnme(),document.getElementById("noteScrollWrapper").addEventListener("mousedown",(function(e){if(e.srcElement==this){var t=document.getElementById("noteListContent").offsetHeight,i=document.getElementById("noteContentWrapper"),a=i.offsetHeight,r=document.getElementById("noteScrollBar"),s=r.offsetHeight,n=Math.max(0,a-t),l=Math.max(0,t-s),o=0;e.layerY>r.offsetTop+s?o=e.layerY-s:e.layerY<r.offsetTop&&(o=e.layerY),r.style.top=Math.min(l,Math.max(0,o))+"px";var h=-r.offsetTop/l*n;i.style.top=Math.max(-n,h)+"px"}})),document.addEventListener&&(document.addEventListener("webkitfullscreenchange",exitHandler,!1),document.addEventListener("mozfullscreenchange",exitHandler,!1),document.addEventListener("fullscreenchange",exitHandler,!1),document.addEventListener("MSFullscreenChange",exitHandler,!1));var isMobile=!1,isTabletLandscape=!1,isTabletPortrait=!1,isMobileLandscape=!1,isMobilePortrait=!1,isFullSCreen=!1,isTransaction=!1,isTransitionComplete=!0,isLoadEnd=!1,isStopPropagation=!1,isContentFullscreen=DOC.isConFul||DOC.isPresentation,mainHeaderdiv=document.getElementById("mainHeader"),textHeight=0,isPauseTimeline=!1,scale=1,isQuestion=!1;checkMobile(),(DOC.isPresentation&&mainHeaderdiv||DOC.isExVi&&mainHeaderdiv)&&$(mainHeaderdiv).hide(),localStorage.getItem("isMobile")&&(isMobile="true"===localStorage.getItem("isMobile"),isTabletLandscape="true"===localStorage.getItem("isTabletLandscape"),isTabletPortrait="true"===localStorage.getItem("isTabletPortrait"),isMobileLandscape="true"===localStorage.getItem("isMobileLandscape"),isMobilePortrait="true"===localStorage.getItem("isMobilePortrait"),localStorage.clear());var slideSize={width:0==isMobile?DOC.slidewdt:isTabletLandscape?DOC.slidewtls:isTabletPortrait?DOC.slidewtp:isMobileLandscape?DOC.slidewmls:isMobilePortrait?DOC.slidewmp:null==DOC.slidew?1024:DOC.slidew,height:0==isMobile?DOC.slidehdt:isTabletLandscape?DOC.slidehtls:isTabletPortrait?DOC.slidehtp:isMobileLandscape?DOC.slidehmls:isMobilePortrait?DOC.slidehmp:null==DOC.slideh?576:DOC.slideh,menuBar:isContentFullscreen?0:285,border:isContentFullscreen?0:10,controlBar:isContentFullscreen?0:66,controlInfo:isContentFullscreen?0:56,marginBody:isContentFullscreen?0:16};!isMobile&&isContentFullscreen&&$("#sidePanel").addClass("hidden");var container=document.getElementById("container");container&&$(container).css({width:slideSize.width,height:slideSize.height});var element=document.getElementById("popup");if(element)if(isTabletLandscape)element.style.height="60%";else if(isTabletPortrait)element.style.width="50%",element.style.height="45%";else if(isMobileLandscape){element.style.width="40%",element.style.height="60%",element.style.margin="60px auto";var content=document.getElementById("contentform");content&&(content.style.height="80%")}else isMobilePortrait&&(element.style.width="70%",element.style.height="60%");var standardSize={width:0,height:0,factor:0};if(isContentFullscreen){var mainContentDiv=document.getElementById("mainContent");mainContentDiv&&$(mainContentDiv).css({left:0,top:0})}function checkMobile(){/(tablet|ipad|playbook|silk)|(android(?!.*mobi))/i.test(ua)||/Safari/i.test(navigator.userAgent)&&/Macintosh/i.test(navigator.userAgent)?(isMobile=!0,window.innerWidth>=992&&window.innerWidth<1200?isTabletLandscape=!0:window.innerWidth>=600&&window.innerWidth<992&&(isTabletPortrait=!0)):/Mobile|Android|iP(hone|od)|IEMobile|BlackBerry|Kindle|Silk-Accelerated|(hpw|web)OS|Opera M(obi|ini)/.test(ua)&&(isMobile=!0,window.innerWidth>=640&&window.innerWidth<992?isMobileLandscape=!0:window.innerWidth<640&&(isMobilePortrait=!0))}function gpgx(){if(document.getElementById("preloaderWrapper"))return null;var e=glhp.crgs("div","preloaderWrapper","");e.style.zIndex=999;var t=glhp.crgs("div","section",""),i=glhp.crgs("div","textPreload",""),a=glhp.crgs("span","","textPreloader");a.innerHTML="A";var r=glhp.crgs("span","","textPreloader");r.innerHTML="V";var s=glhp.crgs("span","","textPreloader");s.innerHTML="I";var n=glhp.crgs("span","","textPreloader");n.innerHTML="N";var l=glhp.crgs("span","","textPreloader");l.innerHTML="A";var o=glhp.crgs("span","","textPreloader");o.innerHTML=".";var h=glhp.crgs("span","","textPreloader");h.innerHTML=".";var d=glhp.crgs("span","","textPreloader");return d.innerHTML=".",i.appendChild(a),i.appendChild(r),i.appendChild(s),i.appendChild(n),i.appendChild(l),i.appendChild(o),i.appendChild(h),i.appendChild(d),e.appendChild(t),e.appendChild(i),setTimeout((function(){var e=$("#textPreload").find("span");TweenMax.to("#section",2,{css:{scaleX:1,scaleY:1,opacity:1}}),TweenMax.staggerFromTo(e,2,{opacity:0,color:"#FFC124"},{opacity:1,color:"#F78500",repeat:-1,repeatDelay:1},2/e.length)}),1),e}function calBasicPlayerSize(){var e=document.getElementById("wrapper");if(e){var t=DOC.slds[glhp.DataLocal.crsl].slC.shwMen;standardSize.width=!1===t?slideSize.width:slideSize.width+(isSlideBar?slideSize.menuBar:0)+2*slideSize.border,standardSize.height=slideSize.height+(DOC.plr.ctrBar?slideSize.controlBar:0)+(DOC.plr.iL?slideSize.controlInfo:0)+2*slideSize.border,standardSize.factor=standardSize.width/standardSize.height,e.style.width=standardSize.width+"px",e.style.height=standardSize.height+"px"}}function docTitle(){DOC.plr.ti?DOC.plr.u?document.title=DOC.plr.ti+" - "+DOC.plr.u:document.title=DOC.plr.ti:DOC.plr.u?document.title="The Presentation of "+DOC.plr.u:document.title="My Presentation"}document.body.appendChild(gpgx()),docTitle();var glRatio=1;function pgm(){for(var e=document.getElementById("menuContent"),t=document.getElementById("menuSearch"),i=document.getElementById("resourceSearch"),a=document.getElementById("glossarySearch"),r=1,s=0;s<DOC.slds.length;s++)if("Result"!=DOC.slds[s].slt&&DOC.slds[s].cs){var n=glhp.crgs("li",glhp.generateBranchId(DOC.slds[s].id,"li"),"menuList");n.select=!1;var l=glhp.crgs("div","","imgMenuWrapper"),o=glhp.crgs("div","","imgMenu");o.style.backgroundImage="url('."+DOC.slds[s].thmU+"')",glhp.appendIdContent(l,o),glhp.appendIdContent(n,l);var h=glhp.crgs("div","","infoMenuWrapper"),d=glhp.crgs("div","","infoMenu"),c=glhp.crgs("span","","titleMenu"),p=glhp.crgs("div","","slide-time");p.innerHTML=DOC.slds[s].tim.dT.toString().toHHMMSS(),l.appendChild(p),c.innerHTML=r+++". ",glhp.appendIdContent(d,c);var u=glhp.crgs("span","","infoTitle");u.setAttribute("title",DOC.slds[s].nm),u.innerHTML=DOC.slds[s].nm,glhp.appendIdContent(d,u),glhp.appendIdContent(h,d),glhp.appendIdContent(n,h),n.setAttribute("data-index",s),n.onclick=function(e){glhp.IsMenu&&"menuSelected"!=e.currentTarget.classList[1]&&(glhp.DataLocal.Status||(glhp.DataLocal.Status=!0),checkFirstMenu=!0,glhp.jtsix(e.currentTarget.getAttribute("data-index")))},glhp.appendIdContent(e,n)}if(DOC.plr.iS||(t.style.display="none",i.style.display="none",a.style.display="none"),!DOC.plr.ctrBar&&!isMobile){var m=document.getElementById("submitControlBtn");document.getElementById("controlPanel");if(m)m.parentNode.removeChild(m),document.getElementById("mainContent").appendChild(m),m.style.bottom="30px",m.style.right="20px",m.style.height="30px",m.style.background="transparent",m.style.position="absolute"}}function psv(){var e=document.getElementById("menuSearchInput"),t=e.value.toUpperCase(),i=document.getElementById("menuContent"),a=i.getElementsByTagName("li"),r=document.getElementById("clearSearch"),s=document.createElement("div"),n=document.getElementById("noResult"),l=!1;null!=n&&n.parentElement.removeChild(n),s.id="noResult";for(var o=0;o<a.length;o++){var h=a[o].getElementsByTagName("span")[0],d=a[o].getElementsByTagName("span")[1];h.innerHTML.toUpperCase().indexOf(t)>-1||d.innerHTML.toUpperCase().indexOf(t)>-1?(a[o].style.display="",l=!0):(a[o].style.display="none","en"==DOC.Lang.split("-")[0].toLocaleLowerCase()?s.innerHTML="No matches found!":"vi"==DOC.Lang.split("-")[0].toLowerCase()&&(s.innerHTML="Không có kết quả được tìm thấy!"),i.appendChild(s))}1==l&&(s.innerHTML=""),$("#clearSearch").click((function(e){document.getElementById("menuSearchInput").value="",r.style.display="none";var t=document.getElementById("noResult");null!=t&&t.parentElement.removeChild(t);for(var i=0;i<a.length;i++)a[i].style.display=""})),""!=e.value?r.style.display="block":r.style.display="none"}function searchResourceValue(){var e=document.getElementById("resourceSearchInput"),t=e.value.toUpperCase(),i=document.getElementById("resourceContent"),a=i.getElementsByTagName("li"),r=document.getElementById("clearResourceSearch"),s=document.createElement("div"),n=document.getElementById("noResultRs"),l=!1;null!=n&&n.parentElement.removeChild(n),s.id="noResultRs";for(var o=0;o<a.length;o++){a[o].getElementsByTagName("a")[0].innerHTML.toUpperCase().indexOf(t)>-1?(a[o].style.display="",l=!0):(a[o].style.display="none","en"==DOC.Lang.split("-")[0].toLocaleLowerCase()?s.innerHTML="No matches found!":"vi"==DOC.Lang.split("-")[0].toLowerCase()&&(s.innerHTML="Không có kết quả được tìm thấy!"),i.appendChild(s))}1==l&&(s.innerHTML=""),$("#clearResourceSearch").click((function(e){document.getElementById("resourceSearchInput").value="",r.style.display="none";var t=document.getElementById("noResultRs");null!=t&&t.parentElement.removeChild(t);for(var i=0;i<a.length;i++)a[i].style.display=""})),""!=e.value?r.style.display="block":r.style.display="none"}function sryvx(){var e=document.getElementById("glossarySearchInput"),t=e.value.toUpperCase(),i=document.getElementById("glossaryContent"),a=i.getElementsByTagName("li"),r=document.getElementById("clearGlossarySearch"),s=document.createElement("div"),n=document.getElementById("noResultGl"),l=!1;null!=n&&n.parentElement.removeChild(n),s.id="noResultGl";for(var o=0;o<a.length;o++){a[o].getElementsByTagName("span")[0].innerHTML.toUpperCase().indexOf(t)>-1?(a[o].style.display="",l=!0):(a[o].style.display="none","vi"==DOC.Lang.split("-")[0].toLocaleLowerCase()?s.innerHTML="Không có kết quả được tìm thấy!":"en"==DOC.Lang.split("-")[0].toLocaleLowerCase()&&(s.innerHTML="No matches found!"),i.appendChild(s))}1==l&&(s.innerHTML=""),$("#clearGlossarySearch").click((function(e){document.getElementById("glossarySearchInput").value="",r.style.display="none";var t=document.getElementById("noResultGl");null!=t&&t.parentElement.removeChild(t);for(var i=0;i<a.length;i++)a[i].style.display=""})),""!=e.value?r.style.display="block":r.style.display="none"}function pliTooltip(){var e=document.getElementById("userImgInTooltip");e&&(e.style.backgroundImage="url('."+DOC.plr.wrt.lU+"')"),"/"==DOC.plr.wrt.lU&&(e.style.backgroundImage="url('./css/avatarDefault.png')");var t=document.getElementById("userNameInTooltip");if(t&&(DOC.plr.wrt.u&&""!==DOC.plr.wrt.u?(t.style.display="block",t.innerHTML=DOC.plr.wrt.u):t.style.display="none"),DOC.plr.wrt.des&&""!==DOC.plr.wrt.des){var i=document.getElementById("userInfoDes");i&&(i.style.display="block",i.innerHTML=DOC.plr.wrt.des)}if(DOC.plr.wrt.email&&""!==DOC.plr.wrt.email){var a=document.getElementById("userEmail");a&&(a.style.display="block",a.innerHTML=DOC.plr.wrt.email,DOC.iPv||a.setAttribute("href","mailto:"+DOC.plr.wrt.email))}else{var r=document.getElementById("userEmailContainer");r&&(r.style.display="none")}if(DOC.plr.wrt.phoneNum&&""!==DOC.plr.wrt.phoneNum){var s=document.getElementById("userPhone");s&&(s.style.display="block",s.innerHTML=null==DOC.plr.wrt.phoneNum?defaultText:DOC.plr.wrt.phoneNum,DOC.iPv||s.setAttribute("href","tel:"+(null==DOC.plr.wrt.phoneNum?defaultText:DOC.plr.wrt.phoneNum)))}else{var n=document.getElementById("userPhoneContainer");n&&(n.style.display="none")}if(DOC.plr.wrt.add&&""!==DOC.plr.wrt.add){var l=document.getElementById("userAdd");l&&(l.style.display="block",l.innerHTML=null==DOC.plr.wrt.add?defaultText:DOC.plr.wrt.add,l.setAttribute("title","ADD:"+(null==DOC.plr.wrt.add?defaultText:DOC.plr.wrt.add)))}else{var o=document.getElementById("userAddContainer");o&&(o.style.display="none")}var h=document.getElementById("facebookInfo");if(DOC.plr.wrt.fb&&""!==DOC.plr.wrt.fb){if(h.style.display="block",!DOC.iPv){var d=null==DOC.plr.wrt.fb?defaultText:DOC.plr.wrt.fb;d.startsWith("https://")||(d="https://fb.com/"+d),h.setAttribute("href",d)}}else h.style.display="none";var c=document.getElementById("twitterInfo");if(DOC.plr.wrt.tw&&""!==DOC.plr.wrt.tw){if(c.style.display="block",!DOC.iPv){var p=null==DOC.plr.wrt.tw?defaultText:DOC.plr.wrt.tw,u=p.startsWith("https://")?p:"https://twitter.com/"+p;c.setAttribute("href",u)}}else c.style.display="none";var m=document.getElementById("skypeInfo");DOC.plr.wrt.sk&&""!==DOC.plr.wrt.sk?(m.style.display="block",DOC.iPv||m.setAttribute("href","skype:"+(null==DOC.plr.wrt.sk?defaultText:DOC.plr.wrt.sk))):m.style.display="none";var b=document.getElementById("lineInfo");DOC.plr.wrt.li&&""!==DOC.plr.wrt.li?(b.style.display="block",DOC.iPv||b.setAttribute("href","line://ti/p/"+(null==DOC.plr.wrt.li?defaultText:DOC.plr.wrt.li))):b.style.display="none";var f=document.getElementById("websiteInfo");if(DOC.plr.wrt.ws&&""!==DOC.plr.wrt.ws){if(f.style.display="block",!DOC.iPv){var g=null==DOC.plr.wrt.ws?defaultText:DOC.plr.wrt.ws;g.startsWith("https://")||(g="https://"+g),f.setAttribute("href",g)}}else f.style.display="none"}document.addEventListener("keyup",psv),document.addEventListener("keyup",searchResourceValue),document.addEventListener("keyup",sryvx);const searchInput=document.getElementById("menuSearchInput"),searchInputMb=document.getElementById("menuSearchInputMb"),resourceSearchInput=document.getElementById("resourceSearchInput"),resourceSearchInputMb=document.getElementById("resourceSearchInputMb"),glossarySearchInput=document.getElementById("glossarySearchInput"),glossarySearchInputMb=document.getElementById("glossarySearchInputMb"),resourceSearch=document.getElementById("resourceSearch"),resourceSearchMb=document.getElementById("resourceSearchMb"),glossarySearch=document.getElementById("glossarySearch"),glossarySearchMb=document.getElementById("glossarySearchMb"),menuSearch=document.getElementById("menuSearch"),menuSearchMb=document.getElementById("menuSearchMb");function pli(){var e=!1;if(DOC.plr.iL){var t=document.getElementById("userImg");DOC.plr.wrt&&DOC.plr.wrt.lU&&""!==DOC.plr.wrt.lU&&(t.style.backgroundImage="url('."+DOC.plr.wrt.lU+"')",pliTooltip(),e=!0),DOC.plr.wrt&&DOC.plr.wrt.lU&&"/"==DOC.plr.wrt.lU&&(t.style.backgroundImage="url('./css/avatarDefault.png')",pliTooltip(),e=!0)}DOC.plr.iL||(document.getElementById("userImg").style.display="none");var i=document.getElementById("companyImg");i&&(DOC.plr.iLCom?DOC.plr.wrt&&DOC.plr.wrt.CpU&&"/"!==DOC.plr.wrt.CpU?(i.src=DOC.plr.wrt.CpU.replace("//","./"),DOC.plr.wrt.CpU.charAt(0)&&(DOC.plr.wrt.CpU="."+DOC.plr.wrt.CpU,i.src=DOC.plr.wrt.CpU)):(document.getElementById("mainCompany").style.display="none",document.getElementById("companyImg").style.display="none"):(document.getElementById("companyImg").style.display="none",document.getElementById("mainCompany").style.display="none"));if(DOC.plr.ti&&""!==DOC.plr.ti){var a=document.getElementById("headerTitle");a.style.display="block",a.setAttribute("title",DOC.plr.ti),a.innerHTML=""+DOC.plr.ti,e=!0}var r=document.getElementById("userName");DOC.plr.iWr?(r.style.display="block",r.innerHTML=""==DOC.plr.wrt.u?"":DOC.plr.wrt.u,e=!0):r.style.display="none",e||(document.getElementById("mainHeader").style.display="none")}function pnav(e,t){var i,a=document.getElementById("prevControlBtn"),r=document.getElementById("controlSliderBtn"),s=document.getElementById("nextControlBtn"),n=document.getElementById("volumeWrapper"),l=document.getElementById("SumtimerWrapper"),o=document.getElementById("sliderWrapper"),h=document.getElementById("timeSlider"),d=document.getElementById("restartControlBtn"),c=document.getElementById("menuMbBtn"),p=document.getElementById("menuMbBtn"),u=document.getElementById("mbBtn"),m=document.getElementById("sliderbar-content"),b=document.getElementById("direction-button-content"),f=document.getElementById("submitMobile"),g=document.getElementById("topPanel"),w=document.getElementById("settingToggle1");t.mnBar?e.shwMen?((i=document.getElementById("sidePanel"))&&(i.style.display="flex"),c&&(c.style.display="none"),f&&(f.style.display="none"),w&&(w.style.display="none"),p&&(p.style.display="none"),u&&(u.style.display="flex"),g&&(g.style.display="flex")):((i=document.getElementById("sidePanel"))&&(i.style.display="none"),w&&(w.style.display="none"),c&&(c.style.display="none"),f&&(f.style.display="none"),p&&(p.style.display="none"),u&&(u.style.display="none"),g&&(g.style.display="none")):((i=document.getElementById("sidePanel"))&&(i.style.display="none"),w&&(w.style.display="none"),c&&(c.style.display="none"),f&&(f.style.display="none"),p&&(p.style.display="none"),u&&(u.style.display="none"),g&&(g.style.display="none"));if(calBasicPlayerSize(),!t.ctrBar||isContentFullscreen){var y=document.getElementById("settingControlBtn"),v=document.getElementById("controlPanel");if(y&&(y.style.display="none"),v&&(v.style.display="none"),isMobile&&glhp.CheckQuestion(glrs.crsl.Data))return m.style.display="none",b.style.display="none",void(f.style.display="flex")}else{if(isMobile&&glhp.CheckQuestion(glrs.crsl.Data))return m.style.display="none",b.style.display="none",void(f.style.display="flex");m.style.display="flex",b.style.display="flex",f.style.display="none","Custom"==e.pfM?(a.style.display=e.pB?"flex":"none ",r.style.display=e.sbE?"flex":"none ",s.style.display=e.nB?"flex":"none ",n.style.display=t.iV?"flex":"none ",l.style.display=t.iSlb?"flex":"none ",o.style.display=e.sbE?"flex":"none ",h.style.display=e.sbE?"flex":"none ",d.style.display=e.sbE?"flex":"none "):(a.style.display=e.pB?"flex":"none ",r.style.display=t.iSb?"flex":"none ",s.style.display=e.nB?"flex":"none ",n.style.display=t.iV?"flex":"none ",l.style.display=t.iSlb?"flex":"none ",o.style.display=t.iSb?"flex":"none ",h.style.display=t.iSb?"flex":"none ",d.style.display=t.iSb?"flex":"none "),null!=glrs.crsl.Data.tq&&(s.style.display="none",a.style.display="none")}}function psb(e,t){var i=document.getElementById("tabMenu"),a=document.getElementById("tabResources"),r=document.getElementById("tabGlossary"),s=document.getElementById("tabNote"),n=document.getElementById("tabMenuMb"),l=document.getElementById("tabResourcesMb"),o=document.getElementById("tabGlossaryMb"),h=document.getElementById("tabNoteMb");"Custom"==e.pfM?(i.style.display=e.mE?"flex":"none ",r.style.display=e.glE?"flex":"none ",a.style.display=e.reE?"flex":"none ",s.style.display=e.nE?"flex":"none ",n.style.display=e.mE?"flex":"none ",o.style.display=e.glE?"flex":"none ",l.style.display=e.reE?"flex":"none ",h.style.display=e.nE?"flex":"none "):(i.style.display=t.iM?"flex":"none ",r.style.display=t.iG?"flex":"none ",a.style.display=t.iR?"flex":"none ",s.style.display=t.iN?"flex":"none ",n.style.display=t.iM?"flex":"none ",o.style.display=t.iG?"flex":"none ",l.style.display=t.iR?"flex":"none ",h.style.display=t.iN?"flex":"none ");for(var d=[t.mPo,t.glP,t.nPo,t.rPo],c=[i,r,s,a],p=[],u=0;u<c.length;u++){"flex"===c[u].style.display&&p.push(d[u])}var m=Math.min.apply(Math,p);DOC.isPresentation||$(".order"+m).trigger("click");var b=[t.mPo,t.glP,t.nPo,t.rPo],f=[n,o,h,l],g=[];for(u=0;u<f.length;u++){"flex"===f[u].style.display&&g.push(b[u])}var w=Math.min.apply(Math,g);DOC.isPresentation||$(".orderMb"+w).trigger("click")}function gsse(){var e=document.getElementById("resourceContent");if(DOC.plr.res&&DOC.plr.res.length>0)for(var t=0;t<DOC.plr.res.length;t++){var i=DOC.plr.res[t],a=glhp.crgs("li"),r=glhp.crgs("a","","links");r.setAttribute("title",i.ti),r.setAttribute("target","_blank"),i.u&&r.setAttribute("href",i.u),i.fU&&r.setAttribute("href",i.fU);var s=glhp.crgs("div","","divResource"),n=glhp.crgs("div","","resourceIcon"),l=glhp.crgs("span","","resourceText");l.innerHTML=i.ti;let o=getImageforResource(i.fU);o&&(n.style.backgroundImage="url("+o+")"),s.appendChild(n),s.appendChild(l),r.appendChild(s),a.appendChild(r),e.appendChild(a)}else{var o=document.getElementById("resourceDescription");"en"==DOC.Lang.split("-")[0].toLocaleLowerCase()?o.innerHTML="No matches File":"vi"==DOC.Lang.split("-")[0].toLocaleLowerCase()&&(o.innerHTML="Không có liên kết")}}function getImageforResource(e){if(!e)return null;var t=e.split("."),i=t&&t.length>0?t.pop().toLowerCase():"";if(!i)return null;switch(i){case"mp4":case"avi":case"ogg":case"flv":case"vob":case"mpg":case"mpeg":case"3gp":case"webm":case"wmv":case"mov":case"mkv":return"./css/MP4.png";case"png":case"svg":case"jpg":case"jpge":case"bmp":return"./css/IMAGE.png";case"mp3":case"wav":case"aac":case"flac":case"ogg":case"aiff":case"aif":case"m4a":case"opus":return"./css/AUDIO.png";case"rar":case"rev":case"R00":case"R01":case"R02":return"./css/RAR.png";case"zip":case"zipx":case"jar":case"war":case"apk":case"cbr":case"cbz":case"apub":case"xap":return"./css/ZIP.png";case"txt":case"log":case"html":case"xml":case"json":case"csv":case"xap":return"./css/TXT.png";case"txt":case"log":case"html":case"xml":case"json":case"csv":case"xap":return"./css/TXT.png";case"js":case"css":return"./css/SCORM.png";case"doc":case"dotx":case"dot":case"docm":return"./css/DOC.png";case"csv":case"csv":case"dat":return"./css/CSV.png";case"xls":case"xslt":case"xsltproc":case"xlsx":case"xsl":return"./css/XSL.png";case"ppt":case"ppsx":case"xsltproc":case"xlsx":case"xsl":return"./css/XSL.png";default:return"./css/LINK.png"}}function pgg(){var e=document.getElementById("glossaryContent");if(null!=DOC.plr.gl&&""!=DOC.plr.gl)for(var t=0;t<DOC.plr.gl.length;t++){var i=DOC.plr.gl[t],a=glhp.crgs("li");if(i.tm){var r=glhp.crgs("div","","termContent"),s=glhp.crgs("span","","term");s.innerHTML=i.tm,r.appendChild(s);var n=glhp.crgs("span","","def");n.innerHTML=i.def,r.appendChild(n),a.appendChild(r);var l=document.createElement("div");l.classList.add("horizontal-line"),r.appendChild(l),a.appendChild(r),l.style.display="block",e.appendChild(a)}}else{var o=document.getElementById("glossaryDescription");"en"==DOC.Lang.split("-")[0].toLocaleLowerCase()?o.innerHTML="No matches File":"vi"==DOC.Lang.split("-")[0].toLocaleLowerCase()&&(o.innerHTML="Không có chú giải")}}function pgn(e){var t=document.getElementById("noteContent"),i=document.getElementById("noteDescription");if(t.innerHTML="",null==e.nt&&("en"==DOC.Lang.split("-")[0].toLocaleLowerCase()?i.innerHTML="No matches Notes":"vi"==DOC.Lang.split("-")[0].toLocaleLowerCase()&&(i.innerHTML="Không có ghi chú ")),null!==e.nt&&"string"==typeof e.nt)for(var a=e.nt.split("\n"),r=0;r<a.length;r++){var s=a[r],n=document.createElement("p");n.innerHTML=s,n.className="notesContent",t.appendChild(n)}}function pdp(){DOC.plr.iM&&(pgm(),pgmMb()),DOC.plr.iR&&(gsse(),gsseMb()),DOC.plr.iG&&(pgg(),pggMb())}function pcp(e){e.mE&&(pgm(),pgmMb()),e.reE&&(gsse(),gsseMb()),e.glE&&(pgg(),pggMb())}function ptp(){$("#tabMenu").addClass("order"+DOC.plr.mPo),$("#tabResources").addClass("order"+DOC.plr.rPo),$("#tabGlossary").addClass("order"+DOC.plr.glP),$("#tabNote").addClass("order"+DOC.plr.nPo)}function pbr(){pcs(),phts(),phgs(),phns(),pkms(),pkrs(),pkgs(),pkns(),menuContentWrapper.removeEventListener("wheel",pmmw),menuContentWrapper.addEventListener("wheel",pmmw)}searchInput.addEventListener("focus",(function(){menuSearch.style.border="1px solid #e77022","en"==DOC.Lang.split("-")[0].toLocaleLowerCase()?searchInput.placeholder="Search...":"vi"==DOC.Lang.split("-")[0].toLocaleLowerCase()&&(searchInput.placeholder="Tìm Kiếm...")})),searchInputMb.addEventListener("focus",(function(){menuSearch.style.border="1px solid #e77022","en"==DOC.Lang.split("-")[0].toLocaleLowerCase()?searchInputMb.placeholder="Search...":"vi"==DOC.Lang.split("-")[0].toLocaleLowerCase()&&(searchInputMb.placeholder="Tìm Kiếm...")})),searchInput.addEventListener("mouseover",(function(){menuSearch.style.border="1px solid #959595","en"==DOC.Lang.split("-")[0].toLocaleLowerCase()?searchInput.placeholder="Search...":"vi"==DOC.Lang.split("-")[0].toLocaleLowerCase()&&(searchInput.placeholder="Tìm Kiếm...")})),searchInputMb.addEventListener("mouseover",(function(){menuSearch.style.border="1px solid #959595","en"==DOC.Lang.split("-")[0].toLocaleLowerCase()?searchInputMb.placeholder="Search...":"vi"==DOC.Lang.split("-")[0].toLocaleLowerCase()&&(searchInputMb.placeholder="Tìm Kiếm...")})),menuSearchMb.addEventListener("click",(function(){menuSearchMb.style.border="1px solid #e77022","en"==DOC.Lang.split("-")[0].toLocaleLowerCase()?searchInputMb.placeholder="Search...":"vi"==DOC.Lang.split("-")[0].toLocaleLowerCase()&&(searchInputMb.placeholder="Tìm Kiếm...")})),menuSearchMb.addEventListener("mouseover",(function(){menuSearchMb.style.border="1px solid #959595",searchInputMb.style.color="#959595","en"==DOC.Lang.split("-")[0].toLocaleLowerCase()?searchInputMb.placeholder="Search...":"vi"==DOC.Lang.split("-")[0].toLocaleLowerCase()&&(searchInputMb.placeholder="Tìm Kiếm...")})),menuSearch.addEventListener("click",(function(){menuSearch.style.border="1px solid #e77022","en"==DOC.Lang.split("-")[0].toLocaleLowerCase()?searchInput.placeholder="Search...":"vi"==DOC.Lang.split("-")[0].toLocaleLowerCase()&&(searchInput.placeholder="Tìm Kiếm...")})),menuSearch.addEventListener("mouseover",(function(){menuSearch.style.border="1px solid #959595",searchInput.style.color="#959595","en"==DOC.Lang.split("-")[0].toLocaleLowerCase()?searchInput.placeholder="Search...":"vi"==DOC.Lang.split("-")[0].toLocaleLowerCase()&&(searchInput.placeholder="Tìm Kiếm...")})),searchInput.addEventListener("blur",(function(){menuSearch.style.border="1px solid transparent",searchInput.placeholder=""})),searchInputMb.addEventListener("blur",(function(){menuSearchMb.style.border="1px solid transparent",searchInputMb.placeholder=""})),menuSearch.addEventListener("mouseleave ",(function(){menuSearch.style.border="1px solid transparent",searchInput.placeholder=""})),menuSearchMb.addEventListener("mouseleave ",(function(){menuSearchMb.style.border="1px solid transparent",searchInputMb.placeholder=""})),resourceSearchInput.addEventListener("focus",(function(){resourceSearch.style.border="1px solid #e77022","en"==DOC.Lang.split("-")[0].toLocaleLowerCase()?resourceSearchInput.placeholder="Search...":"vi"==DOC.Lang.split("-")[0].toLocaleLowerCase()&&(resourceSearchInput.placeholder="Tìm Kiếm...")})),resourceSearch.addEventListener("click",(function(){resourceSearch.style.border="1px solid #e77022","en"==DOC.Lang.split("-")[0].toLocaleLowerCase()?resourceSearchInput.placeholder="Search...":"vi"==DOC.Lang.split("-")[0].toLocaleLowerCase()&&(resourceSearchInput.placeholder="Tìm Kiếm...")})),resourceSearch.addEventListener("mouseover",(function(){resourceSearch.style.border="1px solid #959595",resourceSearchInput.style.color="#959595","en"==DOC.Lang.split("-")[0].toLocaleLowerCase()?resourceSearchInput.placeholder="Search...":"vi"==DOC.Lang.split("-")[0].toLocaleLowerCase()&&(resourceSearchInput.placeholder="Tìm Kiếm...")})),resourceSearchInput.addEventListener("blur",(function(){resourceSearch.style.border="1px solid transparent",resourceSearchInput.placeholder=""})),resourceSearch.addEventListener("mouseleave ",(function(){resourceSearch.style.border="1px solid transparent",resourceSearchInput.placeholder=""})),glossarySearchInput.addEventListener("focus",(function(){glossarySearch.style.border="1px solid #e77022","en"==DOC.Lang.split("-")[0].toLocaleLowerCase()?glossarySearchInput.placeholder="Search...":"vi"==DOC.Lang.split("-")[0].toLocaleLowerCase()&&(glossarySearchInput.placeholder="Tìm Kiếm...")})),glossarySearch.addEventListener("click",(function(){glossarySearch.style.border="1px solid #e77022","en"==DOC.Lang.split("-")[0].toLocaleLowerCase()?glossarySearchInput.placeholder="Search...":"vi"==DOC.Lang.split("-")[0].toLocaleLowerCase()&&(glossarySearchInput.placeholder="Tìm Kiếm...")})),glossarySearch.addEventListener("mouseover",(function(){glossarySearch.style.border="1px solid #959595",glossarySearchInput.style.color="#959595","en"==DOC.Lang.split("-")[0].toLocaleLowerCase()?glossarySearchInput.placeholder="Search...":"vi"==DOC.Lang.split("-")[0].toLocaleLowerCase()&&(glossarySearchInput.placeholder="Tìm Kiếm...")})),glossarySearchInput.addEventListener("blur",(function(){glossarySearch.style.border="1px solid transparent",glossarySearchInput.placeholder=""})),glossarySearch.addEventListener("mouseleave ",(function(){glossarySearch.style.border="1px solid transparent",glossarySearchInput.placeholder=""})),glossarySearchInputMb.addEventListener("focus",(function(){glossarySearchMb.style.border="1px solid #e77022","en"==DOC.Lang.split("-")[0].toLocaleLowerCase()?glossarySearchInputMb.placeholder="Search...":"vi"==DOC.Lang.split("-")[0].toLocaleLowerCase()&&(glossarySearchInputMb.placeholder="Tìm Kiếm...")})),glossarySearchMb.addEventListener("click",(function(){glossarySearchMb.style.border="1px solid #e77022","en"==DOC.Lang.split("-")[0].toLocaleLowerCase()?glossarySearchInputMb.placeholder="Search...":"vi"==DOC.Lang.split("-")[0].toLocaleLowerCase()&&(glossarySearchInputMb.placeholder="Tìm Kiếm...")})),glossarySearchMb.addEventListener("mouseover",(function(){glossarySearchMb.style.border="1px solid #959595",glossarySearchInputMb.style.color="#959595","en"==DOC.Lang.split("-")[0].toLocaleLowerCase()?glossarySearchInputMb.placeholder="Search...":"vi"==DOC.Lang.split("-")[0].toLocaleLowerCase()&&(glossarySearchInputMb.placeholder="Tìm Kiếm...")})),glossarySearchInputMb.addEventListener("blur",(function(){glossarySearchMb.style.border="1px solid transparent",glossarySearchInputMb.placeholder=""})),glossarySearchMb.addEventListener("mouseleave ",(function(){glossarySearchMb.style.border="1px solid transparent",glossarySearchInputMb.placeholder=""})),resourceSearchInputMb.addEventListener("focus",(function(){resourceSearchMb.style.border="1px solid #e77022","en"==DOC.Lang.split("-")[0].toLocaleLowerCase()?resourceSearchInputMb.placeholder="Search...":"vi"==DOC.Lang.split("-")[0].toLocaleLowerCase()&&(resourceSearchInputMb.placeholder="Tìm Kiếm...")})),resourceSearchMb.addEventListener("click",(function(){resourceSearchMb.style.border="1px solid #e77022","en"==DOC.Lang.split("-")[0].toLocaleLowerCase()?resourceSearchInputMb.placeholder="Search...":"vi"==DOC.Lang.split("-")[0].toLocaleLowerCase()&&(resourceSearchInputMb.placeholder="Tìm Kiếm...")})),resourceSearchMb.addEventListener("mouseover",(function(){resourceSearchMb.style.border="1px solid #959595",resourceSearchInputMb.style.color="#959595","en"==DOC.Lang.split("-")[0].toLocaleLowerCase()?resourceSearchInputMb.placeholder="Search...":"vi"==DOC.Lang.split("-")[0].toLocaleLowerCase()&&(resourceSearchInputMb.placeholder="Tìm Kiếm...")})),resourceSearchInputMb.addEventListener("blur",(function(){resourceSearchMb.style.border="1px solid transparent",resourceSearchInputMb.placeholder=""})),resourceSearchMb.addEventListener("mouseleave ",(function(){resourceSearchMb.style.border="1px solid transparent",resourceSearchInputMb.placeholder=""})),pli(),pdp(),ptp(),$("#controlSliderBtn").click((function(e){pc.playPauseClick()})),window.addEventListener("resize",pbr);var isSlideBar=!0,isInfoUser=!1,checkFirstMenu=!1;function pcs(){if(isMobile)pcsMb();else{var e=document.body.offsetWidth-slideSize.marginBody,t=document.body.offsetHeight-slideSize.marginBody;if(e<1053&&e>832){var i=document.getElementById("settingControlBtn"),a=document.getElementById("fullScreenControlBtn");i&&(i.style.display="none"),a&&(a.style.display="none")}var r=document.getElementById("wrapper"),s=document.getElementById("mobilewrapper"),n=document.getElementById("container"),l=0,o=0,h=0,d=0,c=e/t,p=0,u=0;DOC.plr.mnBar||(isSlideBar=DOC.plr.mnBar,$("#menuControlBtn").remove()),c>standardSize.factor?isMobile?(l=document.body.offsetWidth,o=document.offsetHeight):t<standardSize.height||isContentFullscreen||DOC.plr.fullScreen||1==isFullSCreen?(d=(o=t)-(DOC.plr.ctrBar?slideSize.controlBar:0)-(DOC.plr.iL?slideSize.controlInfo:0)-2*slideSize.border,glRatio=d/slideSize.height,l=slideSize.width*glRatio+(isSlideBar?slideSize.menuBar:0)+2*slideSize.border):(o=standardSize.height,l=standardSize.width,glRatio=1):isMobile?(l=document.body.offsetWidth,o=document.body.offsetHeight):e<standardSize.width||DOC.plr.fullScreen||1==isFullSCreen?(h=(l=e)-(isSlideBar?slideSize.menuBar:0)-2*slideSize.border,glRatio=h/slideSize.width,o=slideSize.height*glRatio+(DOC.plr.ctrBar?slideSize.controlBar:0)+2*slideSize.border):(l=standardSize.width,o=standardSize.height,glRatio=1),r.style.width=l+"px",r.style.height=o+"px",u=(document.body.offsetHeight-o)/2,p=(document.body.offsetWidth-l)/2,r.style.transform="",n.style.transform="matrix("+glRatio+", 0, 0, "+glRatio+", 0, 0)",glRatio<.5&&!isMobile&&(r.style.width=standardSize.width+"px",r.style.height=standardSize.height+"px",glRatio=c>standardSize.factor?t/standardSize.height:e/standardSize.width,n.style.transform="",r.style.transform="matrix("+glRatio+", 0, 0, "+glRatio+", 0, 0)",u=(document.body.offsetHeight-standardSize.height)/2,p=(document.body.offsetWidth-standardSize.width)/2),r.style.left=p+"px",r.style.top=u+"px",s&&(s.style.height=t-112+"px")}}pbr();var pc=function(){var e=!1;function t(e,t){if(!e||e.length<=0||!t)return;let i=glrs.crsl;if(i)for(let a=0;a<e.length;a++){let r=e[a];if(!r.id)continue;let s=r.id.split("_");if(!s||s.length<=0)continue;let n=s[s.length-1],l=i.getElementById(n),{Data:o,IsVisible:h}=l;h&&o&&o.tim&&t(r,o.tim)}}return{playPauseClick:function(){var e=null;null!=glrs.crsl&&null!=glrs.crsl.MainTimeline&&(e=glrs.crsl.MainTimeline),null!=e&&(e.paused()?(e.play(),this.playIcon(),this.mediaControl("play"),1===e.progress()&&glhp.reset()):(e.pause(),this.pauseIcon(),this.mediaControl("pause")))},pauseClick:function(){var e=null;null!=glrs.crsl&&null!=glrs.crsl.MainTimeline&&(e=glrs.crsl.MainTimeline),null!=e&&(e.pause(),this.pauseIcon(),this.mediaControl("pause"))},playClick:function(){var e=null;null!=glrs.crsl&&null!=glrs.crsl.MainTimeline&&(e=glrs.crsl.MainTimeline),null!=e&&e.paused()&&(e.play(),this.playIcon(),this.mediaControl("play"),1===e.progress()&&glhp.reset())},playIcon:function(){document.getElementById("pause").style.display="flex",document.getElementById("play").style.display="none"},pauseIcon:function(){document.getElementById("play").style.display="flex",document.getElementById("pause").style.display="none"},resetClick:function(){glhp.reset()},nextClick:function(e=!0){if(e&&DOC.isPresentation){if(null==glrs.crsl)return;glrs.crsl.nextCursor()}else checkFirstMenu=!1,i("NextButton")},previousClick:function(e=!0){if(e&&DOC.isPresentation){if(null==glrs.crsl)return;glrs.crsl.previousCursor()}else checkFirstMenu=!1,i("PreviousButton")},mediaControl:function(t){var i=null,a=document.getElementById("containAudio");a&&(i=a.childNodes);for(var r,s=[],n=[],l=0;l<glrs.crsl.Data.lts.length;l++)if(glrs.crsl.Data.lts[l].iM){r=document.getElementById(glrs.crsl.Data.lts[l].id);break}switch("turnOff"==t||"turnOn"==t?(s=document.querySelectorAll("video"),n=document.querySelectorAll("audio")):r&&(s=r.querySelectorAll("video"),n=r.querySelectorAll("audio")),t){case"pause":var o=glrs.crsl.MainTimeline.time();if(this.setTimeMedia(s,n,o,!1),s.length>0)for(l=0;l<s.length;l++)s[l].pause();if(n.length>0)for(l=0;l<n.length;l++)n[l].pause();if(i.length>0)for(let e=0;e<i.length;e++)i[e].pause();var h=document.getElementById("presentervideo").getElementsByTagName("video");if(null!=h&&h.length>0)for(let e=0;e<h.length;e++)0==h[e].paused&&h[e].pause();let t=document.getElementById("narrationAudio");if(null!=t){let e=t.getElementsByTagName("audio");if(null!=e&&e.length>0)for(let t=0;t<e.length;t++)0==e[t].paused&&e[t].pause()}break;case"play":o=glrs.crsl.MainTimeline.time();if(this.setTimeMedia(s,n,o,!0),i.length>0)for(let e=0;e<i.length;e++)i[e].getAttribute("play-auto")&&i[e].play();glhp.UpdateNarrationMedia(glrs.crsl.MainTimeline.time(),glrs.crsl.MainTimeline._paused);break;case"stop":if(s.length>0)for(l=0;l<s.length;l++)s[l].currentTime=0,s[l].pause();if(n.length>0)for(l=0;l<n.length;l++)n[l].currentTime=0,n[l].pause();break;case"restart":if(s.length>0)for(l=0;l<s.length;l++)s[l].currentTime=0,s[l].getAttribute("play-auto")&&s[l].play();if(n.length>0)for(l=0;l<n.length;l++)n[l].currentTime=0,1==n[l].autoplay&&n[l].play();break;case"turnOff":if(s.length>0)for(l=0;l<s.length;l++)s[l].muted=!0;if(n.length>0)for(l=0;l<n.length;l++)n[l].muted=!0;e=!0;break;case"turnOn":if(s.length>0)for(l=0;l<s.length;l++)s[l].muted=!1;if(n.length>0)for(l=0;l<n.length;l++)n[l].muted=!1;e=!1}},setTimeMedia:function(e,i,a,r){t(e,(e,t)=>{a>=t.sT&&(e.paused||e.ended)&&(r&&e.play(),e.currentTime=a-t.sT)}),t(i,(e,t)=>{a>=t.sT&&(r&&e.play(),e.currentTime=a-t.sT)})},get sound(){return e}};function i(e){for(var t=glrs.crsl.Data.lts,i=(glrs.CurrentLayer,!0),r=0;r<t.length;r++)for(let n=0;n<t[r].tri.length;n++){var s=t[r].tri[n];if(s.Ta==e){if(a(t[r].tri,n))continue;tzacmd.getTriggerAction(s),i=!1}}i&&("NextButton"==e?glhp.nextSlide():"PreviousButton"==e&&glhp.previousSlide())}function a(e,t){for(var i=0;i<t;i++){var a=e[i];if(a.A==e[t].A&&a.E==e[t].E&&a.S==e[t].S)return!0}}}(),prevControlBtn=document.getElementById("prevControlBtn");prevControlBtn.addEventListener("click",()=>{window.chrome&&window.chrome.webview&&window.chrome.webview.postMessage(3),pc.previousClick()});var nextControlBtn=document.getElementById("nextControlBtn");function pcsMb(){var e=document.body.offsetWidth,t=document.body.offsetHeight,i=document.getElementById("wrapper"),a=document.getElementById("container");i.style.transform="",i.style.left="",i.style.top="";var r=a.offsetWidth,s=a.offsetHeight,n=1,l=e/r,o=t/s;l>o?(i.style.height="100%",i.style.width=o*r*100/e+"%",n=o):(i.style.width="100%",i.style.height=l*s*100/t+"%",n=l),glRatio=n,a.style.transform="matrix("+n+", 0, 0, "+n+", 0, 0)";let h=document.getElementById("mobilewrapper"),d=t-66;h&&(h.style.height=d+"px");for(var c=document.getElementsByClassName("imgmobile"),p=0;p<c.length;p++){let e=c[p];null!=e.parentNode&&0!=e.naturalWidth&&(e.naturalWidth<e.parentNode.offsetWidth?e.style.width=e.naturalWidth+"px":e.style.width=e.parentNode.offsetWidth+"px")}}function mobileOnload(){$("#menuMbBtn").removeClass("open"),$("#rightPanelMb").removeClass("openMenu")}function tabMbPosition(){$("#tabMenuMb").addClass("orderMb"+DOC.plr.mPo),$("#tabResourcesMb").addClass("orderMb"+DOC.plr.rPo),$("#tabGlossaryMb").addClass("orderMb"+DOC.plr.glP),$("#tabNoteMb").addClass("orderMb"+DOC.plr.nPo)}function numberSlide(e){var t;if(e){var i=$("#menuListMb").find("li");for(let a=0;a<i.length;a++)if(e==i[a].getAttribute("data-index")){t=a+1;break}}else t=1;let a=$("#menuListMb").find("li").length;return $("#totalSlideMb").html(a),t}function pliMb(){if(DOC.plr.iL){var e,t=document.getElementById("userImgMb");if(DOC.plr.wrt&&null!=DOC.plr.wrt.lU)if(t.style.backgroundImage="url('."+DOC.plr.wrt.lU+"')",isMobile)(e=$(".tooltip")).remove(),$("#userImgMb").append(e);if(DOC.plr.wrt&&"/"==DOC.plr.wrt.lU)if(t.style.backgroundImage="url('./css/avatarDefault.png')",isMobile)(e=$(".tooltip")).remove(),$("#userImgMb").append(e)}DOC.plr.iL||(document.getElementById("userImgMb").style.display="none");var i=document.getElementById("companyImgMb");i&&(isMobileLandscape||isMobilePortrait?(document.getElementById("companyImgMb").style.display="none",document.getElementById("mainCompanyMb").style.display="none"):DOC.plr.iLCom?DOC.plr.wrt&&DOC.plr.wrt.CpU&&"/"!==DOC.plr.wrt.CpU&&(i.src=DOC.plr.wrt.CpU):(document.getElementById("companyImgMb").style.display="none",document.getElementById("mainCompanyMb").style.display="none"));var a="";switch(DOC.Lang.toUpperCase()){case"EN-US":"Writer: ",a="Title: ";break;case"TH-TH":"ผู้เขียน: ",a="ชื่อ: ";break;case"VI-VN":"Người soạn: ",a="Tiêu đề: "}if(DOC.plr.ti){var r=document.getElementById("headerTitleMb");r.style.display="block",r.setAttribute("title",DOC.plr.ti),r.innerHTML=a+DOC.plr.ti}if(DOC.plr.iWr){var s=document.getElementById("userNameMb");s.style.display="block",s.innerHTML=DOC.plr.wrt.u}else DOC.plr.ti||DOC.plr.u||DOC.plr.iL||(document.getElementById("mainHeaderMb").style.display="none")}function senux(){var e=document.getElementById("menuSearchInputMb"),t=e.value.toUpperCase(),i=document.getElementById("menuListMb"),a=i.getElementsByTagName("li"),r=document.createElement("div"),s=document.getElementById("noResultMb"),n=document.getElementById("clearSearchMb"),l=!1;null!=s&&s.parentElement.removeChild(s),r.id="noResultMb";for(var o=0;o<a.length;o++){var h=a[o].getElementsByTagName("span")[0],d=a[o].getElementsByTagName("span")[1];h.innerHTML.toUpperCase().indexOf(t)>-1||d.innerHTML.toUpperCase().indexOf(t)>-1?(a[o].style.display="",l=!0):(a[o].style.display="none","en"==DOC.Lang.split("-")[0].toLocaleLowerCase()?r.innerHTML="No matches found":"vi"==DOC.Lang.split("-")[0].toLocaleLowerCase()&&(r.innerHTML="Không có kết quả được tìm thấy"),i.appendChild(r))}1==l&&(r.innerHTML=""),$("#clearSearchMb").click((function(e){document.getElementById("menuSearchInputMb").value="",n.style.display="none";var t=document.getElementById("noResultMb");null!=t&&t.parentElement.removeChild(t);for(var i=0;i<a.length;i++)a[i].style.display=""})),""!=e.value?n.style.display="block":n.style.display="none"}function searchResourceValueMb(){var e=document.getElementById("resourceSearchInputMb"),t=e.value.toUpperCase(),i=document.getElementById("resourceListMb"),a=i.getElementsByTagName("li"),r=document.getElementById("clearResourceSearchMb"),s=document.createElement("div"),n=document.getElementById("noResultResourceMb"),l=!1;null!=n&&n.parentElement.removeChild(n),s.id="noResultResourceMb";for(var o=0;o<a.length;o++){a[o].getElementsByTagName("a")[0].innerHTML.toUpperCase().indexOf(t)>-1?(a[o].style.display="",l=!0):(a[o].style.display="none","en"==DOC.Lang.split("-")[0].toLocaleLowerCase()?s.innerHTML="No matches found!":"vi"==DOC.Lang.split("-")[0].toLocaleLowerCase()&&(s.innerHTML="Không có kết quả được tìm thấy!"),i.appendChild(s))}1==l&&(s.innerHTML=""),$("#clearResourceSearchMb").click((function(e){document.getElementById("resourceSearchInputMb").value="",r.style.display="none";var t=document.getElementById("noResultRsMb");null!=t&&t.parentElement.removeChild(t);for(var i=0;i<a.length;i++)a[i].style.display=""})),""!=e.value?r.style.display="block":r.style.display="none"}function sssmx(){var e=document.getElementById("glossarySearchInputMb"),t=e.value.toUpperCase(),i=document.getElementById("glossaryListMb"),a=i.getElementsByTagName("li"),r=document.getElementById("clearGlossarySearchMb"),s=document.createElement("div"),n=document.getElementById("noResultGlossaryMb"),l=!1;null!=n&&n.parentElement.removeChild(n),s.id="noResultGlossaryMb";for(var o=0;o<a.length;o++){var h=a[o].getElementsByTagName("span")[0],d=a[o].getElementsByTagName("span")[1];h.innerHTML.toUpperCase().indexOf(t)>-1||d.innerHTML.toUpperCase().indexOf(t)>-1?(a[o].style.display="",l=!0):(a[o].style.display="none","en"==DOC.Lang.split("-")[0].toLocaleLowerCase()?s.innerHTML="No matches found":"vi"==DOC.Lang.split("-")[0].toLocaleLowerCase()&&(s.innerHTML="Không có kết quả được tìm thấy"),i.appendChild(s))}1==l&&(s.innerHTML=""),$("#clearGlossarySearchMb").click((function(e){document.getElementById("glossarySearchInputMb").value="",r.style.display="none";var t=document.getElementById("noResultGlossaryMb");null!=t&&t.parentElement.removeChild(t);for(var i=0;i<a.length;i++)a[i].style.display=""})),""!=e.value?r.style.display="block":r.style.display="none"}nextControlBtn.addEventListener("click",()=>{window.chrome&&window.chrome.webview&&window.chrome.webview.postMessage(2),pc.nextClick()}),$(window).on("orientationchange",(function(e){$("#menuMbBtn").removeClass("open"),$("#rightPanelMb").removeClass("openMenu"),$("#menuListWrapperMb").css("top","0"),$("#resourceListWrapperMb").css("top","0"),$("#glossaryListWrapperMb").css("top","0"),$("#noteListWrapperMb").css("top","0")})),tabMbPosition(),$("#menuMbBtn").click((function(){$("#menuMbBtn").toggleClass("open"),$("#rightPanelMb").toggleClass("openMenu")})),$("#restartControlBtn").click((function(){pc.resetClick()})),$(".tabsMb li").click((function(){$(".tabsMb li").removeClass("activeTab"),$("#layoutSectionMb section").removeClass("activeContentTab"),$(this).addClass("activeTab"),$("#"+$(this).data("id")).addClass("activeContentTab")})),$("#menuListMb li").click((function(){$("#menuListMb li").removeClass("menuSelectedMb"),$(this).addClass("menuSelectedMb")})),DOC.plr.gl&&$("#glossaryListMb li").click((function(e){$(this).hasClass("termSelected")?($(this).removeClass("termSelected"),$("#"+$(this).data("def")).css("opacity","0"),$("#"+$(this).data("def")).css("height","0")):($("#glossaryListMb li").removeClass("termSelected"),$(this).addClass("termSelected"),$(".dWrapperMb").css("height","0"),$(".dWrapperMb").css("opacity","0"),$("#"+$(this).data("def")).css("height",$("#"+$(this).data("term")).height()+"px"),$("#"+$(this).data("def")).css("opacity","1"))})),DOC.plr.gl&&$("#resourceListMb a").click((function(e){$(this).hasClass("termSelected")?($(this).removeClass("termSelected"),$("#"+$(this).data("def")).css("opacity","0"),$("#"+$(this).data("def")).css("height","0")):($("#resourceListMb a").removeClass("termSelected"),$(this).addClass("termSelected"),$(".dWrapperMb").css("height","0"),$(".dWrapperMb").css("opacity","0"),$("#"+$(this).data("def")).css("height",$("#"+$(this).data("term")).height()+"px"),$("#"+$(this).data("def")).css("opacity","1"))})),pliMb(),document.addEventListener("keyup",senux),document.addEventListener("keyup",searchResourceValueMb),document.addEventListener("keyup",sssmx);var dragging=!1;function toggleButtons(e=!0){$("#navNextBtn").css("visibility",e?"visible":"hidden"),$("#navPreviousBtn").css("visibility",e?"visible":"hidden"),toggleSubButtons(e)}function toggleCloseButton(e=!0){$("#navCloseBtn").css("visibility",e?"visible":"hidden")}function toggleSubButtons(e=!0){var t=document.getElementById("showSubBtn"),i=document.getElementById("hideSubBtn");DOC.isPresentation&&(glrs.ShowCaption?(t.classList.add("show-over"),$("#hideSubBtn").css("visibility","hidden"),$("#showSubBtn").css("visibility",e?"visible":"hidden")):(i.classList.add("show-over"),$("#showSubBtn").css("visibility","hidden"),$("#hideSubBtn").css("visibility",e?"visible":"hidden")))}document.addEventListener("mouseup",e=>{!window.dragging&&DOC.isPresentation&&glrs.crsl&&glrs.crsl.MainTimeline&&!isStopPropagation&&(window.chrome&&window.chrome.webview&&window.chrome.webview.postMessage(2),pc.nextClick()),isStopPropagation=!1}),window.addEventListener("mousemove",e=>{let t=e.pageX,i=e.pageY,a=$(window).width();toggleButtons(i>$(window).height()-200&&t<200),toggleCloseButton(t>a-200&&i<200)});let navCloseBtn=document.getElementById("navCloseBtn");navCloseBtn&&(navCloseBtn.addEventListener("mouseup",(function(e){e.preventDefault(),e.stopPropagation(),window.chrome&&window.chrome.webview&&window.chrome.webview.postMessage(1),CefSharp&&CefSharp.PostMessage(1)})),DOC.isPresentation||$(navCloseBtn).hide());let navNextBtn=document.getElementById("navNextBtn");navNextBtn&&(navNextBtn.addEventListener("mouseup",(function(e){e.preventDefault(),e.stopPropagation(),DOC.isPresentation&&glrs.crsl&&glrs.crsl.MainTimeline&&(window.chrome&&window.chrome.webview&&window.chrome.webview.postMessage(2),pc.nextClick())})),DOC.isPresentation||$(navNextBtn).hide());let showSubBtn=document.getElementById("showSubBtn");showSubBtn&&(showSubBtn.addEventListener("mouseup",(function(e){e.preventDefault(),e.stopPropagation(),glrs.ShowCaption=!glrs.ShowCaption,toggleSubButtons()})),DOC.isPresentation||$(showSubBtn).hide());let hideSubBtn=document.getElementById("hideSubBtn");hideSubBtn&&(hideSubBtn.addEventListener("mouseup",(function(e){e.preventDefault(),e.stopPropagation(),glrs.ShowCaption=!glrs.ShowCaption,toggleSubButtons()})),DOC.isPresentation||$(hideSubBtn).hide());let navNextSlideBtn=document.getElementById("navNextSlideBtn");navNextSlideBtn&&(navNextSlideBtn.addEventListener("click",(function(e){e.preventDefault(),e.stopPropagation(),DOC.isPresentation&&glrs.crsl&&glrs.crsl.MainTimeline&&pc.nextClick(!1)})),DOC.isPresentation||$(navNextSlideBtn).hide());let transition=DOC.slds[0].trans;var duration=0;transition&&transition.effOpt&&(duration=transition.durTra),navSubmitChangeBtn&&(navSubmitChangeBtn.addEventListener("mouseup",(function(e){(e.preventDefault(),e.stopPropagation(),DOC.isPresentation&&glrs.crsl&&glrs.crsl.MainTimeline)&&(window.chrome&&window.chrome.webview&&window.chrome.webview.postMessage(0),duration>0?setTimeout(()=>{glhp.jtsix(e.detail)},1e3*duration+200):glhp.jtsix(e.detail))})),DOC.isPresentation||$(navSubmitChangeBtn).hide());let navPreviousBtn=document.getElementById("navPreviousBtn");navPreviousBtn&&(navPreviousBtn.addEventListener("mouseup",(function(e){e.preventDefault(),e.stopPropagation(),DOC.isPresentation&&glrs.crsl&&glrs.crsl.MainTimeline&&(window.chrome&&window.chrome.webview&&window.chrome.webview.postMessage(3),pc.previousClick())})),DOC.isPresentation||$(navPreviousBtn).hide());let navPreviousSlideBtn=document.getElementById("navPreviousSlideBtn");navPreviousSlideBtn&&(navPreviousSlideBtn.addEventListener("click",(function(e){e.preventDefault(),e.stopPropagation(),DOC.isPresentation&&glrs.crsl&&glrs.crsl.MainTimeline&&pc.previousClick(!1)})),DOC.isPresentation||$(navPreviousSlideBtn).hide());var canvasBody=document.getElementById("canvasBody");if(canvasBody){canvasBody.width=window.outerWidth,canvasBody.height=window.outerHeight,document.body.appendChild(canvasBody);var ctx=canvasBody.getContext("2d");ctx.fillStyle="black",ctx.fillRect(0,0,window.outerWidth,window.outerHeight),ctx.fill()}var lazerCanvas=document.getElementById("lazerCanvas");lazerCanvas&&(lazerCanvas.style.display="none",document.addEventListener("mousemove",(function(e){if(e.offsetX<=window.outerWidth&&e.offsetY<=window.outerHeight&&"block"==lazerCanvas.style.display){document.body.style.cursor="none",lazerCanvas.width=window.outerWidth,lazerCanvas.height=window.outerHeight,document.body.appendChild(lazerCanvas);var t=lazerCanvas.getContext("2d");t.clearRect(0,0,lazerCanvas.width,lazerCanvas.height),t.fillStyle="red",t.beginPath(),t.arc(e.offsetX,e.offsetY,5,0,2*Math.PI),t.fill()}else document.body.style.cursor="default",lazerCanvas.style.display="none"})));let MouseMoveBtn=document.getElementById("mouseMoveBtn");function drawLazer(){var e=0,t=0;e=document.getElementById("scaleWidth").value>0?document.getElementById("offsetX").value*document.getElementById("scaleWidth").value:document.getElementById("offsetX").value,t=document.getElementById("scaleHeight").value>0?document.getElementById("offsetY").value*document.getElementById("scaleHeight").value:document.getElementById("offsetY").value,lazerCanvas.width=window.outerWidth,lazerCanvas.height=window.outerHeight,document.body.appendChild(lazerCanvas);var i=lazerCanvas.getContext("2d");i.clearRect(0,0,lazerCanvas.width,lazerCanvas.height),i.fillStyle="red",i.beginPath(),i.arc(e,t,5,0,2*Math.PI),i.fill(),document.getElementById("scaleWidth").value=0,document.getElementById("scaleHeight").value=0}function pgmMb(){for(var e=document.getElementById("menuListMb"),t=document.getElementById("menuSearchMb"),i=1,a=0;a<DOC.slds.length;a++)if("Result"!=DOC.slds[a].slt&&DOC.slds[a].cs){var r=glhp.crgs("li",glhp.generateBranchId(DOC.slds[a].id,"liMb"),"menuItemMb");r.select=!1;var s=glhp.crgs("div","","imgMenuItemMb"),n=glhp.crgs("div","","imgMenuMb");n.style.backgroundImage="url('."+DOC.slds[a].thmU+"')",glhp.appendIdContent(s,n),glhp.appendIdContent(r,s);var l=glhp.crgs("div","","infoMenuWrapperMb"),o=glhp.crgs("div","","infoMenuMb"),h=glhp.crgs("span","","titleMenuMb");h.innerHTML=i+++". ",glhp.appendIdContent(o,h);var d=glhp.crgs("span","","infoTitleMb");d.setAttribute("title",DOC.slds[a].nm),d.innerHTML=DOC.slds[a].nm,glhp.appendIdContent(o,d),glhp.appendIdContent(l,o),glhp.appendIdContent(r,l),r.setAttribute("data-index",a),r.onclick=function(e){glhp.IsMenu&&"menuSelectedMb"!=e.currentTarget.classList[1]&&(glhp.DataLocal.Status||(glhp.DataLocal.Status=!0),glhp.jtsix(e.currentTarget.getAttribute("data-index")),$("#menuMbBtn").removeClass("open"),$("#rightPanelMb").removeClass("openMenu"))},glhp.appendIdContent(e,r)}DOC.plr.iS||null!=t&&(t.style.display="none")}function gsseMb(){var e=document.getElementById("resourceListMb");if(document.getElementById("resourceDescriptionMb").innerHTML=DOC.plr.rDes,DOC.plr.res)for(var t=0;t<DOC.plr.res.length;t++){var i=DOC.plr.res[t],a=glhp.crgs("li"),r=glhp.crgs("a","","links");r.setAttribute("title",i.ti),r.setAttribute("target","_blank"),i.u&&r.setAttribute("href",i.u),i.fU&&r.setAttribute("href",i.fU),r.innerHTML=i.ti,a.appendChild(r),e.appendChild(a)}}function pggMb(){var e=document.getElementById("glossaryListMb"),t=document.getElementById("glossarySearchMb");if(null!=DOC.plr.gl&&""!=DOC.plr.gl){t.style.display="flex";for(var i=0;i<DOC.plr.gl.length;i++){var a=DOC.plr.gl[i],r=glhp.crgs("li","","termContentMb");if(a.tm){r.setAttribute("data-def","dMb"+i),r.setAttribute("data-term","defMb"+i);var s=glhp.crgs("span","","termMb");s.innerHTML=a.tm,r.appendChild(s);var n=glhp.crgs("div","","dWrapperMb");n.id="dMb"+i;var l=glhp.crgs("div","","definitionContentMb"),o=glhp.crgs("div","","defContentMb"),h=glhp.crgs("span","","definitionMb");o.id="defMb"+i,h.innerHTML=a.def,o.appendChild(h),l.appendChild(o),n.appendChild(l),r.appendChild(n),e.appendChild(r)}}}}function pgnMb(e){var t=document.getElementById("noteListMb");t.innerHTML="";var i=document.createElement("p");i.innerHTML=e.nt,i.className="notesContentMb",t.appendChild(i)}MouseMoveBtn&&(MouseMoveBtn.addEventListener("click",(function(e){e.preventDefault(),e.stopPropagation(),drawLazer()})),DOC.isPresentation||$(MouseMoveBtn).hide()),lazerCanvas.addEventListener("mouseup",(function(e){(e.preventDefault(),e.stopPropagation(),DOC.isPresentation&&glrs.crsl&&glrs.crsl.MainTimeline)&&(1==e.detail?(lazerCanvas.style.display="block",document.getElementById("body").classList.remove("arrow-cursor"),document.getElementById("body").classList.add("hidden-cursor")):(lazerCanvas.style.display="none",document.getElementById("body").classList.remove("hidden-cursor"),document.getElementById("body").classList.add("arrow-cursor"),lazerCanvas.getContext("2d").clearRect(0,0,lazerCanvas.width,lazerCanvas.height)))})),DOC.isPresentation||$(lazerCanvas).hide();var lastMenuY=0,touchStartValue=0;$("#menuListWrapperMb").bind("touchstart",(function(e){touchStartValue=e.originalEvent.touches[0].clientY})),$("#menuListWrapperMb").bind("touchmove",(function(e){var t=e.originalEvent.touches[0].clientY,i=document.getElementById("menuContentWrapperMb").offsetHeight,a=document.getElementById("menuListWrapperMb"),r=(a.offsetHeight,i-a.offsetHeight),s=0;""!=a.style.top&&(s=parseFloat(a.style.top));let n=0;n=t-touchStartValue,(s+=n)>0&&(s=0),s<r&&(s=r),a.style.top=s+"px",touchStartValue=t})),$("#menuListWrapperMb").bind("mousewheel",(function(e){if(!isMobile)return;var t=document.getElementById("menuContentWrapperMb").offsetHeight,i=document.getElementById("menuListWrapperMb"),a=(i.offsetHeight,t-i.offsetHeight),r=0;""!=i.style.top&&(r=parseFloat(i.style.top));let s=0;s=-e.originalEvent.deltaY,(r+=s)>0&&(r=0),r<a&&(r=a),i.style.top=r+"px"}));var lastResourceY,lastGlossaryY,lastNoteY,mainIntervalTime=3,mainIntervalTimer=null;function MobileVisibility(){if(1==isMobile){var e=document.getElementById("topPanel"),t=document.getElementById("menuMbBtn"),i=document.getElementById("submitMobile"),a=document.getElementById("controlPanel"),r=DOC.slds.indexOf(glrs.crsl.Data);1==DOC.plr.mnBar&&(e.style.display="flex",t.style.display="flex",isMobile&&glhp.CheckQuestion(glrs.crsl.Data)&&"Result"!=glrs.crsl.Data.slt&&!glhp.DataLocal.Slide[r].IsSubmit?i.style.display="flex":i.style.display="none"),1!=DOC.plr.ctrBar&&1!=glhp.CheckQuestion(glrs.crsl.Data)||(a.style.display=""),isMobile&&glhp.CheckQuestion(glrs.crsl.Data)&&glhp.DataLocal.Slide[r].IsSubmit&&QuestionMobile.CreateReviewResultButton(),clearInterval(mainIntervalTimer),mainIntervalTime=3,mainIntervalTimer=setInterval(MobileHiden,1e3)}}function MobileHiden(){var e=document.getElementById("topPanel"),t=document.getElementById("topPanel"),i=document.getElementById("menuMbBtn");t=document.getElementById("controlPanel");if((mainIntervalTime-=1)<=0){mainIntervalTime=0,clearInterval(mainIntervalTimer);var a=null;let r=1;a=setInterval((function(){r-=.01,r<=0?(e.style.opacity=1,i.style.opacity=1,t.style.opacity=1,submitMobile.style.opacity=1,glhp.CheckQuestion(glrs.crsl.Data)||(t.style.opacity=1),e.style.display="none",i.style.display="none",submitMobile.style.display="none",t.style.display="none",glhp.CheckQuestion(glrs.crsl.Data)||(t.style.display="none"),clearInterval(a)):(e.style.opacity=r,i.style.opacity=r,submitMobile.style.opacity=r,t.style.opacity=r,glhp.CheckQuestion(glrs.crsl.Data)||(t.style.opacity=r))}),1)}}function gxic(){document.getElementById("controlPanel");var e=document.getElementById("prevControlBtn"),t=document.getElementById("controlSliderBtn"),i=document.getElementById("nextControlBtn"),a=document.getElementById("volumeWrapper"),r=document.getElementById("SumtimerWrapper"),s=document.getElementById("sliderWrapper"),n=document.getElementById("timeSlider"),l=document.getElementById("restartControlBtn");e.style.display="none",t.style.display="none",i.style.display="none",a.style.display="none",r.style.display="none",s.style.display="none",n.style.display="none",l.style.display="none"}$("#body").click((function(){if(1==isMobile){var e=document.getElementById("topPanel"),t=document.getElementById("menuMbBtn"),i=document.getElementById("submitMobile"),a=document.getElementById("controlPanel"),r=DOC.slds.indexOf(glrs.crsl.Data);1==DOC.plr.mnBar&&(e.style.display="flex",t.style.display="flex"),glhp.CheckQuestion(glrs.crsl.Data)&&"Result"!=glrs.crsl.Data.slt&&!glhp.DataLocal.Slide[r].IsSubmit?i.style.display="flex":i.style.display="none",1!=DOC.plr.ctrBar&&1!=glhp.CheckQuestion(glrs.crsl.Data)||(a.style.display=""),glhp.CheckQuestion(glrs.crsl.Data)&&"Result"!=glrs.crsl.Data.slt&&r&&glhp.DataLocal.Slide[r].IsSubmit&&QuestionMobile.CreateReviewResultButton(),clearInterval(mainIntervalTimer),mainIntervalTime=3,mainIntervalTimer=setInterval(MobileHiden,1e3)}})),$("#resourceListWrapperMb").bind("touchmove",(function(e){var t=e.originalEvent.touches[0].clientY,i=document.getElementById("resourceContentWrapperMb").offsetHeight,a=document.getElementById("resourceListWrapperMb"),r=a.offsetHeight,s=i/5,n=Math.max(0,r-i);t>lastResourceY?a.style.top=Math.min(0,a.offsetTop+s)+"px":t<lastResourceY&&(a.style.top=Math.max(-n,a.offsetTop-s)+"px"),lastResourceY=t})),$("#glossaryListWrapperMb").bind("touchmove",(function(e){var t=e.originalEvent.touches[0].clientY,i=document.getElementById("glossaryContentWrapperMb").offsetHeight,a=document.getElementById("glossaryListWrapperMb"),r=a.offsetHeight,s=i/5,n=Math.max(0,r-i);t>lastGlossaryY?a.style.top=Math.min(0,a.offsetTop+s)+"px":t<lastGlossaryY&&(a.style.top=Math.max(-n,a.offsetTop-s)+"px"),lastGlossaryY=t})),$("#noteListWrapperMb").bind("touchmove",(function(e){var t=e.originalEvent.touches[0].clientY,i=document.getElementById("noteContentWrapperMb").offsetHeight,a=document.getElementById("noteListWrapperMb"),r=a.offsetHeight,s=i/5,n=Math.max(0,r-i);t>lastNoteY?a.style.top=Math.min(0,a.offsetTop+s)+"px":t<lastNoteY&&(a.style.top=Math.max(-n,a.offsetTop-s)+"px"),lastNoteY=t})),$("#capMbBtn").click((function(){$("#capMbBtn").toggleClass("capMbBtnSelected"),glrs.ShowCaption=!glrs.ShowCaption}));var keyStr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function encode64(e){e=escape(e);var t,i,a,r,s,n="",l="",o="",h=0;do{a=(t=e.charCodeAt(h++))>>2,r=(3&t)<<4|(i=e.charCodeAt(h++))>>4,s=(15&i)<<2|(l=e.charCodeAt(h++))>>6,o=63&l,isNaN(i)?s=o=64:isNaN(l)&&(o=64),n=n+keyStr.charAt(a)+keyStr.charAt(r)+keyStr.charAt(s)+keyStr.charAt(o),t=i=l="",a=r=s=o=""}while(h<e.length);return n}function decode64(e){var t,i,a,r,s="",n="",l="",o=0;if(null==e||""==e)return null;if(/[^A-Za-z0-9\+\/\=]/g.exec(e))return null;e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");do{t=keyStr.indexOf(e.charAt(o++))<<2|(a=keyStr.indexOf(e.charAt(o++)))>>4,i=(15&a)<<4|(r=keyStr.indexOf(e.charAt(o++)))>>2,n=(3&r)<<6|(l=keyStr.indexOf(e.charAt(o++))),s+=String.fromCharCode(t),64!=r&&(s+=String.fromCharCode(i)),64!=l&&(s+=String.fromCharCode(n)),t=i=n="",a=r=l=""}while(o<e.length);return unescape(s)}function lcgx(){lotsz(Language)}function lotsz(e){var t=document.getElementById("tabMenu"),i=document.getElementById("tabResources"),a=document.getElementById("tabGlossary"),r=document.getElementById("tabNote"),s=document.getElementById("settingControlBtn"),n=document.getElementById("captionSetting"),l=document.getElementById("menuControlSetting"),o=(document.getElementById("menuSearchInput"),document.getElementById("glossarySearchInput"),document.getElementById("menuSearchInputMb"),document.getElementById("glossarySearchInputMb"),document.getElementById("submitControlBtn")),h=document.getElementById("prevControlBtn"),d=document.getElementById("nextControlBtn"),c=document.getElementById("volumeControlBtn"),p=document.getElementById("restartControlBtn"),u=document.getElementById("fullScreenControlBtn"),m=document.getElementById("submitmbBtn");t.setAttribute("title",e.tabMenu),i.setAttribute("title",e.tabResources),a.setAttribute("title",e.tabGlossary),r.setAttribute("title",e.tabNote);var b=o.getElementsByClassName("content");b.length>0&&(b[0].innerHTML=e.submitBtn),m.innerHTML=e.submitBtn;var f=document.getElementById("navSubmitBtn");f&&(f.innerHTML=e.submitBtn);var g=d.getElementsByClassName("content");g.length>0&&(g[0].innerHTML=e.next);var w=h.getElementsByClassName("content");w.length>0&&(w[0].innerHTML=e.previous);var y=document.getElementsByClassName("spanMenu");y.length>0&&(y[0].innerHTML=e.tabMenu);var v=document.getElementsByClassName("spanGlossary");v.length>0&&(v[0].innerHTML=e.tabGlossary);var C=document.getElementsByClassName("spanResources");C.length>0&&(C[0].innerHTML=e.tabResources);var T=document.getElementsByClassName("spanNote");T.length>0&&(T[0].innerHTML=e.tabNote),s.setAttribute("title",e.settingControlBtn),h.setAttribute("title",e.previousTitle),d.setAttribute("title",e.nextTitle),c.setAttribute("title",e.volume),p.setAttribute("title",e.restart),u.setAttribute("title",e.fullscreen),n.innerHTML=e.captionSetting,l&&(l.innerHTML=e.menuControlSetting)}function isIE(){var e=navigator.userAgent;return e.indexOf("MSIE ")>-1||e.indexOf("Trident/")>-1}DOC.plr.ds&&null!=DOC.plr.ds&&$("meta[name=description]").attr("content",DOC.plr.ds),lcgx(),$(window).bind("beforeunload",(function(){glrs.checkRefreshLesson()})),window.onblur=function(){pc.pauseClick()},window.onfocus=function(){pc.playClick()},$("#menuBtn").click((function(){$("#menuBtn").toggleClass("open"),$("#rightPanelPin").toggleClass("openMenu")}));var SliderModule={initSlider:function(){$("#slider").slider({range:!1,min:0,max:100,step:.1,slide:function(e,t){var i=null;null!=glrs.crsl&&null!=glrs.crsl.MainTimeline&&(i=glrs.crsl.MainTimeline),null!=i&&(i.pause(),i.progress(t.value/100),pc.mediaControl("pause"))}}),$("#slider").hover((function(){var e=document.getElementById("progress"),t=document.getElementById("slider"),i=document.getElementById("sliderThumb");e&&t&&i&&(e.style.height="6px",t.style.height="6px",i.style.background=e.style.background,i.style.display="flex")})),$("#slider").mouseleave((function(){var e=document.getElementById("progress"),t=document.getElementById("slider"),i=document.getElementById("sliderThumb");e&&t&&i&&(e.style.height="4px",t.style.height="4px",i.style.display="none")}))},updateSlider:function(){if(isTransitionComplete){var e=null;null!=glrs.crsl&&null!=glrs.crsl.MainTimeline&&(e=glrs.crsl.MainTimeline,glrs.crsl.Data.lts[0].endTime=e.time()),null!=e&&($("#slider").slider("value",100*e.progress()),$("#progress").css("width",100*e.progress()+"%"),document.getElementById("currentTime").innerText=e.time().toString().toHHMMSS(),document.getElementById("totalTime").innerText=e.duration().toString().toHHMMSS(),1===e.progress()&&e.pause(),e.paused()?(document.getElementById("play").style.display="flex",document.getElementById("pause").style.display="none"):(document.getElementById("pause").style.display="flex",document.getElementById("play").style.display="none"),e._paused,glhp.UpdateNarrationMedia(e.time(),e._paused))}},onTimelineStart:function(){if(isTransitionComplete){var e=document.getElementById("firstLoadLayout");e&&(e.style.display="none")}}};SliderModule.initSlider();var tsmdx=function(){const{createCanvas:e,airplane:t,blinds:i,box:a,orbit:r,checkerboard:s,clock:n,comb:l,conveyor:o,cover:h,cube:d,rotate:c,curtains:p,cut:u,dissolve:m,door:b,Window:f,drape:g,fade:w,fallOver:y,ferrisWheel:v,flash:C,flip:T,flyThrough:S,fracture:x,gallery:A,glitter:M,honeycomb:G,origami:D,pageCurl:L,peelOff:k,prestige:O,push:E,randombars:H,ripple:I,shapeCircle:P,shapeDiamon:R,shapePlus:F,shred:B,split:N,vortex:z,zoom:Q,pan:V,crush:U,reveal:$,wind:Y,newsflash:_}=window.avt;let q,X,W=[];W[rns.Airplane]=t,W[rns.Blinds]=i,W[rns.Checkerboard]=s,W[rns.Clock]=n,W[rns.Cover]=h,W[rns.Uncover]=h,W[rns.Dissolve]=m,W[rns.Box]=a,W[rns.Comb]=l,W[rns.Crush]=U,W[rns.Cube]=d,W[rns.Curtains]=p,W[rns.Cut]=u,W[rns.Doors]=b,W[rns.Drape]=g,W[rns.FallOver]=y,W[rns.Flip]=T,W[rns.Fracture]=x,W[rns.Gallery]=A,W[rns.Glitter]=M,W[rns.Honeycomb]=G,W[rns.Origami]=D,W[rns.PageCurl]=L,W[rns.PeelOff]=k,W[rns.Prestige]=O,W[rns.Ripple]=I,W[rns.Shred]=B,W[rns.Vortex]=z,W[rns.Wind]=Y,W[rns.Doors]=b,W[rns.Fade]=w,W[rns.Push]=E,W[rns.RandomBars]=H,W[rns.Circle]=P,W[rns.Diamond]=R,W[rns.Plus]=F,W[rns.Split]=N,W[rns.In]=Q,W[rns.Out]=Q,W[rns.Zoom]=Q;let j=[];j[rns.Rotate]=c,j[rns.FlyThrough]=S,j[rns.Pan]=V,j[rns.Orbit]=r,j[rns.FerrisWheel]=v,j[rns.Window]=f,j[rns.Conveyor]=o,j[rns.Reveal]=$,j[rns.Newsflash]=_;let K=function(e,t){return async function(i){let a=i.getContext("2d");a.beginPath(),a.rect(0,0,e,t),a.fillStyle="black",a.fill()}};function Z(e){let t=glrs.getPreviousSlide();return t||(t={drawBackground:K(q,X),drawForeground:async function(e){},drawFull:K(q,X)}),DOC.isPresentation&&(glrs.PreviousLayoutData=e),t}function J(t,i,a){let r=W[t];return r?async()=>{let{container:t,currentBg:s,previousBg:n}=await async function(t,i,a){if(t){let s=e(i,a);ee(s),await t.drawFull(s),glrs.IsDisableSetQuestion=!0,isTransaction=!0;let n=e(i,a),l=Z(t);ee(n),glrs.IsDisableSetQuestion=!1,isTransaction=!1,await l.drawFull(n);let o=glhp.crgs("div","","");var r=document.getElementById("firstLoadLayout");return r&&(r.style.display="none"),{container:o,currentBg:s,previousBg:n}}}(i,q,X),l=a.revert;return await ie(a.dur,t,r,l?n:s,l?s:n,a)}:null}function ee(e){var t=e.getContext("2d");t.rect(0,0,e.width,e.height),t.fillStyle="white",t.fill()}function te(t,i,a){let r=j[t];return r?async()=>{let{container:t,currentBg:s,previousBg:n,currentFg:l,previousFg:o}=await async function(t,i,a){if(t){let r=e(i,a),s=e(i,a);ee(r),glrs.IsDisableSetQuestion=!0,isTransaction=!0;let n=e(i,a),l=e(i,a),o=Z(t);return ee(n),glrs.IsDisableSetQuestion=!1,isTransaction=!1,await t.drawBackground(r),await t.drawForeground(s),await o.drawBackground(n),await o.drawForeground(l),{container:glhp.crgs("div","",""),currentBg:r,previousBg:n,currentFg:s,previousFg:l}}}(i,q,X),h=a.revert;return await ie(a.dur,t,r,h?n:s,h?s:n,h?o:l,h?l:o,a)}:null}let ie=async function(e,t,i,...a){return{transition:function(e,...t){return new e(...t)}(i,t,...a),duration:e,container:t}};return{getBuilder:function(e){if(!e||!e.Data)return null;let t=!!DOC.isPresentation&&glrs.crslIndex-glrs.PreviousSlideIndex<0,i=e.Data.trans;if(t&&glrs.PreviousSlideData&&(i=glrs.PreviousSlideData.trans),!i||!i.nm)return null;q=0==isMobile?e.Data.widdkt:isTabletLandscape?e.Data.widtls:isTabletPortrait?e.Data.widtpt:isMobileLandscape?e.Data.widmls:isMobilePortrait?e.Data.widmpt:e.Data.w,X=0==isMobile?e.Data.heidkt:isTabletLandscape?e.Data.heitls:isTabletPortrait?e.Data.heitpt:isMobileLandscape?e.Data.heimls:isMobilePortrait?e.Data.heimpt:e.Data.h;let a=i.nm.replace(/\s/g,""),r=i.durTra,s=i.effOpt&&i.effOpt.replace(/\s|-/g,"").toUpperCase(),n={dur:1e3*r,dir:s,revert:t,bounce:s&&s.includes("BOUNCE"),cover:a&&!a.toUpperCase().includes("UN"),clockwise:s&&s.toUpperCase().includes("COUNTER")};for(const[t,i]of Object.entries(W))if(glhp.areStringsEqualIgnoreCase(t,a))return J(t,e,{...n});for(const[t,i]of Object.entries(j))if(glhp.areStringsEqualIgnoreCase(t,a))return te(t,e,{...n});return null}}}();class TriggerHelper{static getSlideObjectIds(e){let t=document.getElementById(e);if(!t)return null;let i=t.getElementsByClassName("slide-object");if(!i)return null;i=Array.from(i).filter(e=>!e.hasAttribute("data-state"));let a=[];for(let e=0;e<i.length;e++){let t=i[e],r=TriggerHelper.getSlideObjectIds(t.id);r&&r.length>0?a=a.concat(r):a.push(t.id)}return a=a.filter((e,t,i)=>i.indexOf(e)===t),a}static executeTriggerAction(e){tzacmd.getTriggerAction(e)}static isOverlapping(e,t){let i=e.offset().left,a=e.offset().top,r=a+e.outerHeight(!0),s=i+e.outerWidth(!0),n=t.offset().left,l=t.offset().top,o=t.outerHeight(!0),h=t.outerWidth(!0);return!(n>s||n+h<i||l>r||l+o<a)}static convertToSlideObjectIds(e){let t=[],i=TriggerHelper.getSlideObjectIds(e);return i&&i.length>0?t=t.concat(i):t.push(e),t}static parseDataTrigger(e){return e.split(" ").map(e=>{let[t,i]=e.split("_");return{event:i,id:t}})}static findClosestParent(e,t){if(!e||!t)return null;for(;e.parentNode;){if(t.includes(e.parentNode.id))return e.parentNode.id;e=e.parentNode}return null}static findClosestParentWithClass(e,t){if(!e||!t)return null;for(;e.parentNode;){if(t.includes(e.parentNode.className))return e.parentNode;e=e.parentNode}return null}static findLastedParentWithClass(e,t){if(!e||!t)return null;let i=null;for(;e.parentNode;)t.includes(e.parentNode.className)&&(i=e.parentNode),e=e.parentNode;return i}static filterTriggerByEvent(e,t){if(!e||!t)return[];let i=e.getAttribute("data-trigger");return i?TriggerHelper.parseDataTrigger(i).filter(e=>e.event===t):[]}static findCuePoint(e,t){if(!e||!t)return null;let{tim:i}=e;if(!i)return null;let{cp:a}=i;return a?a.find(e=>e.id===t):null}static getPositions(e){if(!e)return null;let t=[];for(let i=0;i<e.length;i++){let a=e[i],r=$("#"+a);t[i]=r.position()}return t}static getBoundingRect(e){let t=null;for(let i=0;i<e.length;i++){let a=e[i],r=document.getElementById(a);if(!r)continue;let s=r.getBoundingClientRect();t=t?TriggerHelper.mergeRect(t,s):s}return t}static mergeRect(e,t){let i=Math.min(e.left,t.left),a=Math.min(e.top,t.top),r=Math.max(e.right,t.right),s=Math.max(e.bottom,t.bottom);return{left:i,top:a,right:r,bottom:s,width:r-i,height:s-a}}static getTimelineAndTiming(e){if(!e)return;let{Ta:t}=e,i=glrs.crsl;if(!i)return;let a=null,r=i.lwid(t);if(r?a=r.Timeline:r=i.getElementById(t),!r)return;a||(a=TriggerHelper.getCurrentTimeline());let{Data:s}=r;if(!s||!a)return;let{tim:n}=s,{sT:l,dT:o}=n;return{timing:{startTime:l,duration:o},timeline:a}}static getSlideObjectIdsFromListId(e){if(!e)return null;let t=[];for(let i=0;i<e.length;i++){let a=e[i],r=TriggerHelper.getSlideObjectIds(a);r&&r.length>0?t=t.concat(r):t.push(a)}return t}static getCurrentTimeline(){let e=glrs.crsl;if(!e)return null;let{Timeline:t}=e.MainLayout;return t}static getLayerOwner(e){let t=glrs.crsl;return t&&t.Layouts?t.Layouts.find(t=>{let{Elements:i}=t;if(!i)return!1;let a=i.map(e=>e.Data.id);return e.every(e=>a.includes(e))}):null}static checkIfElementIsVisible(e){if(!e)return!1;let t=e.style.display;return"none"!==t&&""!==t}static checkIfPreventClick(e){if(!e)return!1;let t=e.getAttribute("data-prevent-click"),i=e.getAttribute("data-disabled");return"true"===t||"true"===i}}"undefined"!=typeof module&&(module.exports={TriggerHelper:TriggerHelper});class IntersectionHelper{static removeIntersectValue(e,t){if(!e||!t)return;let i=e.dataset.intersect;if(i){let a=i.split(",");if(!a.includes(t))return;a.splice(a.indexOf(t),1),e.dataset.intersect=a.join(",")}}static removeIntersectAttribute(e,t){if(!e||!t)return;let i=e.id,a=t.id;IntersectionHelper.removeIntersectValue(e,a),IntersectionHelper.removeIntersectValue(t,i)}static setIntersectAttribute(e,t){if(!e||!t)return;let i=e.id,a=t.id;IntersectionHelper.createIntersectValue(e,a),IntersectionHelper.createIntersectValue(t,i)}static createIntersectValue(e,t){if(!e||!t)return;let i=e.dataset.intersect;if(i){if(i.split(",").includes(t))return;e.dataset.intersect=i+","+t}else e.dataset.intersect=t}}class TriggerEventHandler{_name;constructor(e){if(new.target===TriggerEventHandler)throw new TypeError("Cannot construct TriggerEventHandler instances directly");this._name=e}get name(){return this._name}handle(e){}}class ControlLosesFocusEventHandler extends TriggerEventHandler{constructor(){super("ControlLosesFocus")}handle(e){this._handleControlLosesFocus(e)}static getInstance(){return ControlLosesFocusEventHandler.instance||(ControlLosesFocusEventHandler.instance=new ControlLosesFocusEventHandler),ControlLosesFocusEventHandler.instance}_handleControlLosesFocus(e){if(e)for(let t=0;t<e.length;t++){let i=e[t],{Ta:a}=i,r=document.getElementById(a);r&&r.addEventListener("focusout",(function(){TriggerHelper.executeTriggerAction(i)}))}else console.log("TriggerModule.handleControlLosesFocus: triggerDataList is not provided")}}class MediaCompletesEventHandler extends TriggerEventHandler{constructor(){super("MediaCompletes")}handle(e){this._handleMediaCompletes(e)}static getInstance(){return MediaCompletesEventHandler.instance||(MediaCompletesEventHandler.instance=new MediaCompletesEventHandler),MediaCompletesEventHandler.instance}_handleMediaCompletes(e){if(e)for(let t=0;t<e.length;t++){let i=e[t],{Ta:a}=i,r=document.getElementById(a);if(!r)continue;let s=r.querySelector("video, audio");s&&s.addEventListener("ended",(function(){TriggerHelper.executeTriggerAction(i)}))}else console.log("TriggerModule.handleMediaCompletes: triggerDataList is not provided")}}class MouseEventHandler extends TriggerEventHandler{constructor(e){if(new.target===MouseEventHandler)throw new TypeError("Cannot construct MouseEventHandler instances directly");super(e)}handle(e){console.log("MouseEventHandler.handle: Not implemented")}_handleMouseEvent(e,t){if(e&&t){for(let t=0;t<e.length;t++){let i=e[t],{Ta:a}=i,r=document.getElementById(a);if(!r)continue;let s=TriggerHelper.getSlideObjectIds(a);if(s&&s.length>0)for(let e=0;e<s.length;e++){let t=document.getElementById(s[e]);t&&this._setMouseEventAttribute(t)}else this._setMouseEventAttribute(r)}$("#content").on(t,'[data-mouse-event="true"]',e,this._handleEvent.bind(this))}else console.log("TriggerModule.handleMouseEvent: triggerDataList or eventName is not provided")}_setMouseEventAttribute(e){e&&e.setAttribute("data-mouse-event",!0)}_handleEvent(e){e.preventDefault(),e.stopPropagation();let t=e.data;if(!t)return;let i=e.currentTarget;if($(i).closest('[data-prevent-click="true"]').length>0)return;if(TriggerHelper.checkIfPreventClick(i))return;let a=TriggerHelper.filterTriggerByEvent(i,this._name);if(!a)return;let r=a.map(e=>e.id),s=t.filter(e=>r.includes(e.Ta));s=this._prepareTriggerDataList(e,s),this._executeTriggerAction(s)}_prepareTriggerDataList(e,t){return t}_executeTriggerAction(e){if(e)for(let t=0;t<e.length;t++){let i=e[t];TriggerHelper.executeTriggerAction(i)}else console.log("TriggerModule.executeTriggerAction: triggerDataList is not provided")}}class UserClicksEventHandler extends MouseEventHandler{constructor(){super("UserClicks")}handle(e){super._handleMouseEvent(e,"mouseup")}_handleEvent(e){1===e.which&&super._handleEvent(e)}static getInstance(){return UserClicksEventHandler.instance||(UserClicksEventHandler.instance=new UserClicksEventHandler),UserClicksEventHandler.instance}}class UserDoubleClicksEventHandler extends MouseEventHandler{constructor(){super("UserDoubleClicks")}handle(e){super._handleMouseEvent(e,"dblclick")}static getInstance(){return UserDoubleClicksEventHandler.instance||(UserDoubleClicksEventHandler.instance=new UserDoubleClicksEventHandler),UserDoubleClicksEventHandler.instance}}class UserRightClicksEventHandler extends MouseEventHandler{constructor(){super("UserRightClicks")}handle(e){super._handleMouseEvent(e,"contextmenu")}static getInstance(){return UserRightClicksEventHandler.instance||(UserRightClicksEventHandler.instance=new UserRightClicksEventHandler),UserRightClicksEventHandler.instance}}class UserMouseOverEventHandler extends MouseEventHandler{constructor(){super("MouseHoversOver")}handle(e){super._handleMouseEvent(e,"mouseover");let t=e.filter(e=>{let{tD:t}=e;if(!t)return!1;let{rMl:i}=t;return i});super._handleMouseEvent(t,"mouseleave")}_revertTriggerAction(e){if(!e)return;let{A:t}=e,i={...e};switch(t){case"ShowLayer":i.A="HideLayer";break;case"HideLayer":i.A="ShowLayer";break;case"PlayMedia":i.A="PauseMedia";break;case"PauseMedia":case"StopMedia":i.A="PlayMedia";break;case"PauseTimeline":i.A="ResumeTimeline";break;case"ResumeTimeline":i.A="PauseTimeline";break;case"Move":i.A="Move";break;case"ChangeStateOf":let{S:e}=i,t=document.getElementById(e);if(t){let e=t.getAttribute("data-previous-state-id"),{sD:a}=i,r={...a};r.oI=e,i.sD=r}}return i}_prepareTriggerDataList(e,t){if(!t||!e||"mouseover"==e.type)return t;let i=[];for(let e=0;e<t.length;e++){let a=t[e],r=this._revertTriggerAction(a);r&&i.push(r)}return i}static getInstance(){return UserMouseOverEventHandler.instance||(UserMouseOverEventHandler.instance=new UserMouseOverEventHandler),UserMouseOverEventHandler.instance}}class UserClicksOutsideEventHandler extends MouseEventHandler{constructor(){super("UserClicksOutside")}handle(e){this._handleUserClicksOutside(e)}static getInstance(){return UserClicksOutsideEventHandler.instance||(UserClicksOutsideEventHandler.instance=new UserClicksOutsideEventHandler),UserClicksOutsideEventHandler.instance}_handleUserClicksOutside(e){if(!e)return void console.log("TriggerModule.handleUserClicksOutside: triggerDataList is not provided");let t=new Map;for(let i=0;i<e.length;i++){let a=e[i],{Ta:r}=a;t.has(r)||t.set(r,[]),t.get(r).push(a)}for(let[e]of t){let t=document.getElementById(e);t&&(t.style.pointerEvents="auto")}$("#content").on("mouseup","[data-layer='true']",e,this._handleClick.bind(this))}_handleClick(e){e.preventDefault(),e.stopPropagation();let t=e.data;this._executeTriggerAction(t,e)}_executeTriggerAction(e,t){if(!e)return void console.log("TriggerModule.handleUserClicksOutside: triggerDataList is not provided");let i=t.currentTarget;if(i)for(let a=0;a<e.length;a++){let r=e[a],{tD:s}=r,{osI:n}=s;if(!n)continue;let l=TriggerHelper.getLayerOwner(n);if(l&&l.Visible&&null!=l.Data&&l.Data.id==i.id){for(let e=0;e<n.length;e++){let i=n[e],a=document.getElementById(i),r=glhp.getSlideObjectChildren(i),s=t.target;if(r&&r.length>0)for(let e=0;e<r.length;e++){if(r[e].contains(s))return}else if(a.contains(s))return}TriggerHelper.executeTriggerAction(r)}}}}class ObjectDroppedOnEventHandler extends TriggerEventHandler{_draggablePositions=[];constructor(){super("ObjectDroppedOn")}handle(e){if(e)for(let t=0;t<e.length;t++){let i=e[t];this._addEventListener(i,!1)}else console.warn("TriggerModule.handleObjectDroppedOn: triggerDataList is not provided")}static getInstance(){return ObjectDroppedOnEventHandler.instance||(ObjectDroppedOnEventHandler.instance=new ObjectDroppedOnEventHandler),ObjectDroppedOnEventHandler.instance}_setDraggablePositions(e){this._draggablePositions=TriggerHelper.getPositions(e)}_addDraggableEventListener(e,t=!0){if(!e)return;const i=this;let a={x:0,y:0},r={appendTo:"body",cursor:"move",helper:"clone",start:function(t,r){r.helper.css({transform:"matrix(0, 0, 0, 0, 0, 0)"}),i._handleDragStart(t,a,e)},drag:function(t,r){i._handleDragging(t,a,e)},stop:function(a,r){i._handleDragStop(r,this,e,t)}};for(let t=0;t<e.length;t++){let i=e[t];$("#"+i).draggable(r)}}_addDroppableEventListener(e,t,i=!0){if(!e)return;const a=this;for(var r=0;r<e.length;r++){let s=e[r],n={helper:"clone"};i?(n.tolerance="touch",n.over=function(e,i){a._handleDrop(e,i,this,t)}):(n.tolerance="intersect",n.drop=function(e,i){a._handleDrop(e,i,this,t)},n.revert="invalid",n.out=function(e,t){t.helper.data("dropped",!1)}),$("#"+s).droppable(n)}}_addEventListener(e,t=!0){if(!e)return;let{Ta:i}=e;if(!document.getElementById(i))return;let a=TriggerHelper.convertToSlideObjectIds(i);this._addDraggableEventListener(a,t);let{E:r}=e,{tD:s}=e,{osI:n}=s;if(!n)return;let l=[];for(let e=0;e<n.length;e++){let t=n[e],i=TriggerHelper.convertToSlideObjectIds(t);l=l.concat(i)}this._addDroppableEventListener(l,r,t)}_handleDragStart(e,t,i){if(e&&t&&i){if(isStopPropagation=!0,t.x=e.clientX,t.y=e.clientY,i&&1==i.length){let e=$("#"+i[0]);var a=e.position();e.css({transform:""});var r=e.position(),s=r.left-a.left,n=r.top-a.top;t.x+=s,t.y+=n}this._setDraggablePositions(i)}}_handleDragStop(e,t,i,a=!1){if(!e||!t||!i)return;let r=e.helper.data("dropped");if(!a&&r){t.dataset.dropped=!1,e.helper.data("dropped",!1);let a=t.dataset.isCenterDroppable;if(1==a||"true"==a){let e=parseFloat(t.dataset.centerLeft),a=parseFloat(t.dataset.centerTop);for(let t=0;t<i.length;t++){let r=i[t],s=document.getElementById(r);if(!s)continue;let n=parseFloat(s.dataset.dragX),l=parseFloat(s.dataset.dragY),o=(e+n)/glRatio,h=(a+l)/glRatio;$("#"+r).css({left:o,top:h})}}}else{let e=this._draggablePositions;if(e&&i.length<=e.length)for(let t=0;t<i.length;t++){let a=i[t],r=e[t],s=r.left/glRatio,n=r.top/glRatio;$("#"+a).css({left:s,top:n})}}}_handleDragging(e,t,i){if(!e||!t||!i)return;let a=e.clientX-t.x,r=e.clientY-t.y,s=this._draggablePositions;!s||i.length>s.length||i.forEach((function(e,t){let i=s[t],n=(a+i.left)/glRatio,l=(r+i.top)/glRatio;$("#"+e).css({left:n,top:l})}))}_handleDrop(e,t,i,a){let r=i.id,s=t.draggable[0],n=TriggerHelper.filterTriggerByEvent(s,a).map(e=>e.id);if(n)for(let e=0;e<n.length;e++){let o=n[e],h=glrs.feez(o);if(!h){console.warn("Could not find draggable data for "+o);continue}let{tri:d}=h;if(!d)continue;let c=d.filter(e=>this._filterTriggers(e,a,o,r));if(0===c.length)continue;let p,u=!0;for(let e=0;e<c.length;e++){let t=c[e];TriggerHelper.executeTriggerAction(t);let{cD:i}=t.tD;p=t.Ta,void 0===i&&(i=!0),u=u&&i}if(s.dataset.isCenterDroppable=u,c.some(e=>"Move"===e.A)){let e=glrs.crsl,t=e&&e.getElementById(s.id),i=this._draggablePositions;if(null!=t){let e=s.id,t=i[0],{left:a,top:r}=t;$("#"+e).css({left:a,top:r})}else{var l=TriggerHelper.getSlideObjectIds(p);if(i&&l.length<=i.length)for(let e=0;e<l.length;e++){let t=l[e],a=i[e],{left:r,top:s}=a;$("#"+t).css({left:r,top:s})}}u=s.dataset.isCenterDroppable=!1}u&&this._centerDroppable(i,s,o),s.dataset.dropped=!0,t.helper.data("dropped",!0)}}_centerDroppable(e,t,i){if(!e||!t)return;let a=e.id,r=TriggerHelper.findLastedParentWithClass(e,["slide-object"]);r&&(a=r.id);let s=TriggerHelper.convertToSlideObjectIds(i);if(!s||0===s.length)return;let n=TriggerHelper.convertToSlideObjectIds(a),l=TriggerHelper.getBoundingRect(s);if(!l)return;let o=TriggerHelper.getBoundingRect(n);if(!o)return;let h=TriggerHelper.getBoundingRect(["content"]);if(!h)return;let d=parseFloat(o.left)-parseFloat(h.left),c=parseFloat(o.top)-parseFloat(h.top),p=d+(o.width-l.width)/2,u=c+(o.height-l.height)/2;t.dataset.centerLeft=p,t.dataset.centerTop=u;for(let e=0;e<s.length;e++){let t=s[e],i=document.getElementById(t);if(!i)continue;let a=TriggerHelper.getBoundingRect([t]),r=a.left-l.left,n=a.top-l.top;i.dataset.dragX=r,i.dataset.dragY=n}}_filterTriggers(e,t,i,a){let{E:r}=e;if(r!==t)return!1;let{Ta:s}=e;if(s!==i)return!1;let{tD:n}=e,{osI:l}=n;if(!l)return!1;let o=[];for(let e=0;e<l.length;e++){let t=l[e],i=TriggerHelper.convertToSlideObjectIds(t);i&&(o=o.concat(i))}return o&&o.includes(a)}}class ObjectDraggedOverEventHandler extends ObjectDroppedOnEventHandler{constructor(){super("ObjectDraggedOver"),this._name="ObjectDraggedOver"}handle(e){if(e)for(let t=0;t<e.length;t++){let i=e[t];super._addEventListener(i)}else console.warn("TriggerModule.handleObjectDraggedOver: triggerDataList is not provided")}static getInstance(){if(ObjectDraggedOverEventHandler.instance instanceof ObjectDraggedOverEventHandler)return ObjectDraggedOverEventHandler.instance;let e=new ObjectDraggedOverEventHandler;return ObjectDraggedOverEventHandler.instance=e,ObjectDraggedOverEventHandler.instance}}class ObjectEntersSlideEventHandler extends TriggerEventHandler{constructor(){super("ObjectEntersSlide")}handle(e){this._handleObjectEntersSlide(e)}static getInstance(){return ObjectEntersSlideEventHandler.instance||(ObjectEntersSlideEventHandler.instance=new ObjectEntersSlideEventHandler),ObjectEntersSlideEventHandler.instance}_handleObjectEntersSlide(e){if(!e)return void console.log("TriggerModule.handleObjectEntersSlide: triggerDataList is not provided");let t=document.getElementById("content");if(t)for(let i=0;i<e.length;i++){let a=e[i],{Ta:r}=a,s=document.getElementById(r);if(!s)continue;let n=setInterval((function(){let e=TriggerHelper.isOverlapping($(t),$(s)),i=s.dataset.isInSlide;i="true"===i,!i&&e&&TriggerHelper.executeTriggerAction(a),s.dataset.isInSlide=e}),50),{crsl:l}=glrs;l&&l.addTimer(n)}}}class ObjectIntersectionEndsEventHandler extends TriggerEventHandler{constructor(){super("ObjectIntersectionEnds")}handle(e){this._handleObjectIntersectionEnds(e)}static getInstance(){return ObjectIntersectionEndsEventHandler.instance||(ObjectIntersectionEndsEventHandler.instance=new ObjectIntersectionEndsEventHandler),ObjectIntersectionEndsEventHandler.instance}_handleObjectIntersectionEnds(e){if(e)for(let t=0;t<e.length;t++){let i=e[t];this._endObjectIntersection(i,TriggerHelper.isOverlapping,TriggerHelper.executeTriggerAction)}else console.log("TriggerModule.handleObjectIntersectionEnds: triggerDataList is not provided")}_endObjectIntersection(e,t,i){if(!e||!i)return;let{tD:a,Ta:r}=e;if(!a)return;let{osI:s}=a;if(!s)return;let n=TriggerHelper.convertToSlideObjectIds(r),l=[];for(let e=0;e<s.length;e++){let t=s[e],i=TriggerHelper.convertToSlideObjectIds(t);l=l.concat(i)}for(let a=0;a<n.length;a++){let r=n[a];this._checkSlideObjectEndIntersection(r,l,e,t,i)}}_checkSlideObjectEndIntersection(e,t,i,a,r){if(!(e&&t&&i&&r))return;let s=document.getElementById(e);if(s)for(var n=0;n<t.length;n++){let e=$("#"+t[n])[0];if(!e)continue;let l=setInterval((function(){let t=s.id,n=e.id,l=s.dataset.intersect,o=e.dataset.intersect,h=l&&l.includes(n)&&o&&o.includes(t),d=a($(s),$(e));!h&&d?IntersectionHelper.setIntersectAttribute(s,e):h&&!d&&(r(i),IntersectionHelper.removeIntersectAttribute(s,e))}),50),o=glrs.crsl;o&&o.addTimer(l)}}}class ObjectIntersectsEventHandler extends TriggerEventHandler{constructor(){super("ObjectIntersects")}handle(e){this._handleObjectIntersects(e)}static getInstance(){return ObjectIntersectsEventHandler.instance||(ObjectIntersectsEventHandler.instance=new ObjectIntersectsEventHandler),ObjectIntersectsEventHandler.instance}_handleObjectIntersects(e){if(e)for(let t=0;t<e.length;t++){let i=e[t];this._checkObjectIntersection(i,TriggerHelper.isOverlapping,TriggerHelper.executeTriggerAction)}else console.log("TriggerModule.handleObjectIntersects: triggerDataList is not provided")}_checkObjectIntersection(e,t,i){if(!e||!t||!i)return;let{tD:a,Ta:r}=e;if(!a)return;let{osI:s}=a;if(!s)return;let n=TriggerHelper.convertToSlideObjectIds(r),l=[];for(let e=0;e<s.length;e++){let t=s[e],i=TriggerHelper.convertToSlideObjectIds(t);l=l.concat(i)}for(let a=0;a<n.length;a++){let r=n[a];this._checkSlideObjectIntersection(r,l,e,t,i)}}_checkSlideObjectIntersection(e,t,i,a,r){if(!(e&&t&&i&&a&&r))return;let s=document.getElementById(e);if(s)for(var n=0;n<t.length;n++){let e=$("#"+t[n])[0];if(!e)continue;let l=setInterval((function(){if(a($(s),$(e))){let t=s.id,a=e.id,n=s.dataset.intersect,o=e.dataset.intersect;n?n.includes(a)||(n+=","+a):n=a,o?o.includes(t)||(o+=","+t):o=t,s.dataset.intersect=n,e.dataset.intersect=o,r(i),clearInterval(l)}}),50)}}}class ObjectLeavesSlideEventHandler extends TriggerEventHandler{constructor(){super("ObjectLeavesSlide")}handle(e){this._handleObjectLeavesSlide(e)}static getInstance(){return ObjectLeavesSlideEventHandler.instance||(ObjectLeavesSlideEventHandler.instance=new ObjectLeavesSlideEventHandler),ObjectLeavesSlideEventHandler.instance}_handleObjectLeavesSlide(e){if(!e)return void console.log("TriggerModule.handleObjectLeavesSlide: triggerDataList is not provided");let t=document.getElementById("content");if(t)for(let i=0;i<e.length;i++){let a=e[i],{Ta:r}=a,s=document.getElementById(r);if(!s)continue;let n=setInterval((function(){let e=TriggerHelper.isOverlapping($(t),$(s)),i=s.dataset.isOutSlide;i="true"===i,i||e||TriggerHelper.executeTriggerAction(a),s.dataset.isOutSlide=!e}),50),{crsl:l}=glrs;l&&l.addTimer(n)}}}class TimelineEndsEventHandler extends TriggerEventHandler{constructor(){super("TimelineEnds")}handle(e){this._handleTimelineEnds(e)}static getInstance(){return TimelineEndsEventHandler.instance||(TimelineEndsEventHandler.instance=new TimelineEndsEventHandler),TimelineEndsEventHandler.instance}_handleTimelineEnds(e){if(e)for(let i=0;i<e.length;i++){let a=e[i];var t=TriggerHelper.getTimelineAndTiming(a);t&&t.timing&&t.timeline&&t.timeline.addCallback(TriggerHelper.executeTriggerAction,t.timing.duration,[a],null)}else console.log("TriggerModule.handleTimelineEnds: triggerDataList is not provided")}}class TimelineReachesEventHandler extends TriggerEventHandler{constructor(){super("TimelineReaches")}handle(e){this._handleTimelineReaches(e)}static getInstance(){return TimelineReachesEventHandler.instance||(TimelineReachesEventHandler.instance=new TimelineReachesEventHandler),TimelineReachesEventHandler.instance}_handleTimelineReaches(e){if(e)for(let t=0;t<e.length;t++){let i=e[t],{_:a,timeline:r}=TriggerHelper.getTimelineAndTiming(i);if(!r)continue;let{tD:s}=i;if(!s)continue;let{tRm:n}=s;if(!n)continue;let{Time:l,t:o,CuePoint:h}=n;if("cp"===o){let{Ta:e}=i,t=glrs.feez(e),a=TriggerHelper.findCuePoint(t,h);if(!a)continue;l=a.tm}r.addCallback(TriggerHelper.executeTriggerAction,l,[i],null)}else console.log("TriggerModule.handleTimelineReaches: triggerDataList is not provided")}}class TimelineStartsEventHandler extends TriggerEventHandler{constructor(){super("TimelineStarts")}handle(e){this._handleTimelineStarts(e)}static getInstance(){return TimelineStartsEventHandler.instance||(TimelineStartsEventHandler.instance=new TimelineStartsEventHandler),TimelineStartsEventHandler.instance}_handleTimelineStarts(e){if(e)for(let t=0;t<e.length;t++){let i=e[t],{timing:a,timeline:r}=TriggerHelper.getTimelineAndTiming(i);a&&r&&r.addCallback(TriggerHelper.executeTriggerAction,a.startTime,[i],null)}else console.log("TriggerModule.handleTimelineStarts: triggerDataList is not provided")}}class UserPressesAKeyEventHandler extends TriggerEventHandler{constructor(){super("UserPressesAKey")}handle(e){this._handleUserPressesAKey(e)}static getInstance(){return UserPressesAKeyEventHandler.instance||(UserPressesAKeyEventHandler.instance=new UserPressesAKeyEventHandler),UserPressesAKeyEventHandler.instance}_handleUserPressesAKey(e){if(!e)return void console.log("TriggerModule.handleUserPressesAKey: triggerDataList is not provided");let t=this;document.addEventListener("keydown",(function(i){let a=glrs.crsl;if(!a)return;let r=a.FocusedElement,s=document.getElementById(r),n=TriggerHelper.filterTriggerByEvent(s,"UserPressesAKey");if(!n)return;let l=n.map(e=>e.id),o=e.filter(e=>l.includes(e.Ta));for(let a=0;a<o.length;a++){let r=e[a],{tD:s}=r;if(!s)continue;let n=t._getKeyStrokeDetails(s);n&&(t._isKeyStrokeMatch(i,n)&&TriggerHelper.executeTriggerAction(r))}})),this._handleFocusedElement()}_handleFocusedElement(){document.addEventListener("click",(function(e){let t=e.target;if(!t)return;let i=glrs.crsl;if(!i)return;i.FocusedElement=null;let a=TriggerHelper.filterTriggerByEvent(t,"UserPressesAKey").map(e=>e.id),r=TriggerHelper.getSlideObjectIdsFromListId(a),s=TriggerHelper.findClosestParent(t,r);i.FocusedElement=s}))}_extractKeyStroke(e){let{iA:t,iC:i,iS:a,iW:r,K:s}=e||{};return{altKey:t,ctrlKey:i,shiftKey:a,winKey:r,key:s}}_getKeyStrokeDetails(e){let{kS:t}=e;return t?this._extractKeyStroke(t):null}_isKeyStrokeMatch(e,t){let{altKey:i,ctrlKey:a,shiftKey:r,winKey:s,key:n}=t,l=e.altKey===i,o=e.ctrlKey===a,h=e.shiftKey===r,d=e.metaKey===s,c=e.key&&n&&e.key.toLowerCase()===n.toLowerCase();return l&&o&&h&&d&&c}}class Trigger{_events=[{event:"UserClicks",handler:UserClicksEventHandler},{event:"UserDoubleClicks",handler:UserDoubleClicksEventHandler},{event:"UserClicksOutside",handler:UserClicksOutsideEventHandler},{event:"UserRightClicks",handler:UserRightClicksEventHandler},{event:"MouseHoversOver",handler:UserMouseOverEventHandler},{event:"ObjectIntersects",handler:ObjectIntersectsEventHandler},{event:"ObjectIntersectionEnds",handler:ObjectIntersectionEndsEventHandler},{event:"ObjectEntersSlide",handler:ObjectEntersSlideEventHandler},{event:"ObjectLeavesSlide",handler:ObjectLeavesSlideEventHandler},{event:"MediaCompletes",handler:MediaCompletesEventHandler},{event:"UserPressesAKey",handler:UserPressesAKeyEventHandler},{event:"ControlLosesFocus",handler:ControlLosesFocusEventHandler},{event:"TimelineStarts",handler:TimelineStartsEventHandler},{event:"TimelineEnds",handler:TimelineEndsEventHandler},{event:"TimelineReaches",handler:TimelineReachesEventHandler},{event:"ObjectDraggedOver",handler:ObjectDraggedOverEventHandler},{event:"ObjectDroppedOn",handler:ObjectDroppedOnEventHandler}];_setTriggerDataAttribute(e,t,i){if(e.hasAttribute(t)){let a=e.getAttribute(t);a.includes(i)||(i=a+" "+i,e.setAttribute(t,i))}else e.setAttribute(t,i)}_handleEvents(e){if(e&&Array.isArray(e)&&0!==e.length&&e[0].event&&e[0].triggers)for(let t=0;t<e.length;t++){let{event:i,triggers:a}=e[t],r=this._events.find(e=>e.event===i);if(r&&r.handler){let e=r.handler;if(!e.getInstance)return void console.log(`TriggerModule.handleEvents: handler of event ${r.event} does not have getInstance method`);e.getInstance().handle(a)}}}_initialize(e,t=!1){if(!e)return void console.log("TriggerModule.initialize: elementData is not provided");let{id:i,tri:a}=e;if(!i||!a||!Array.isArray(a))return void console.log("TriggerModule.initialize: elementId or triggers is not provided");if(0===a.length)return;let r=document.getElementById(i);if(!r)return;if(!t){let e=TriggerHelper.getSlideObjectIds(i);if(e&&e.length>0)for(let t=0;t<e.length;t++){let i=document.getElementById(e[t]);i&&(i.style.cursor="pointer")}else r.style.cursor="pointer"}let s=[];for(let e=0;e<a.length;e++){let{E:n}=a[e],l="data-trigger",o=(t?i+"-ly":i)+"_"+n;this._setTriggerDataAttribute(r,l,o),o=r.getAttribute(l);let h=r.getElementsByTagName("*");for(let e=0;e<h.length;e++){let t=h[e];this._setTriggerDataAttribute(t,l,o)}let d=s.find(e=>e.event===n);d||(d={event:n,triggers:[]},s.push(d)),d.triggers.push(a[e])}return s}setTriggers(e,t=!1){let i=this._initialize(e,t);this._handleEvents(i)}static getInstance(){return Trigger.instance||(Trigger.instance=new Trigger),Trigger.instance}}const TriggerModule=Trigger.getInstance();"undefined"!=typeof module&&(module.exports={TriggerModule:TriggerModule});var tzacmd=function(){var e=!1,t=null,i=0;return{setTriggerAction:function(e,t){let i=reverse(e).substring(-1,6);if("puorg_"==i){e.split("_group");let i=feez(e);if(null!=i)for(var a=i.tri.filter((function(e){if(e.E==t)return e})),r=0;r<a.length;r++)ctzex(a,r)||this.getTriggerAction(a[r],r)}else if("puorg_"!=i){let i=feez(e=e.split("_")[0]);if(null!=i)for(a=i.tri.filter((function(e){if(e.E==t)return e})),r=0;r<a.length;r++)ctzex(a,r)||this.getTriggerAction(a[r],r)}},getTriggerAction:function(n){let{A:l,S:o}=n;if(null!=l){if(!ccddz(n.C,DOC))return;switch(l){case"ChangeStateOf":let b=findElement(o);null!=b&&""!=n.sD.oI&&b.changeState(n.sD.oI);break;case"ShowLayer":if(null!=o&&"Unassigned"!=o)null!=(h=glrs.crsl.lwid(o))&&(p=h.Timeline),null!=h&&h.show(!0);break;case"HideLayer":var h;if(null!=o&&"Unassigned"!=o)null!=(h=glrs.crsl.lwid(o))&&(h.hide(),qzm.sevsb(o));break;case"JumpToSlide":if(o==glrs.crsl.Data.id)return;glhp.jumToSlideID(o);var d=glrs.crsl.Data;isMobile&&(null!=d.tq&&21!=d.tq||"Result"==d.slt)&&QuestionMobile.HiddenContent();break;case"LightboxSlide":if(null!=o&&"Unassigned"!=o){var c=TriggerHelper.getCurrentTimeline();c&&!isPauseTimeline&&(i=c._time),function(i,r){var s,n,l;l=Language.submitBtn,n=Language.next,s=Language.previous,glhp.isQuestionTrig=!0;var o=document.createElement("div"),h=document.createElement("div"),d=document.createElement("div"),c=document.createElement("div");c.id="questionMobileContentTrig";var p=document.createElement("button"),u=document.createElement("button"),m=document.createElement("div");m.className="directional-button",m.id="submit-trig";var b=document.createElement("div");b.className="next";var f=document.createElement("span");f.innerHTML=l,f.className="content";var g,w=null;e=!0,clacz(),t=DOC.slds.indexOf(glrs.crsl.Data);for(var y=DOC.slds.length,v=!1,C=0;C<y;C++)if(DOC.slds[C].id==i){g=new Slide(DOC.slds[C]),glrs.crsl=g,w=g.generateHTML();var T=DOC.slds[C];null!=glhp.DataLocal.Slide&&(v=!(!T.slC.sB||glhp.DataLocal.Slide[DOC.slds.indexOf(T)].IsSubmit));break}if(!w)return;b.appendChild(f),m.appendChild(b);var S=document.createElement("span"),x=document.getElementById("content"),A=document.createElement("div");x.parentElement.removeChild(x),A.id="content";var M=document.getElementById("modal-wrapper");null!=M&&null!=M.parentElement&&M.parentElement.removeChild(M);o.id="modal-wrapper",h.id="myModal",h.className="modal",A.className="modal-content",S.className="close",S.innerHTML="&times;",d.className="navigation-control",p.className="btn prev",p.id="prev-trig",p.innerHTML=s,u.className="btn next",u.id="next-trig",u.innerHTML=n,o.appendChild(h),A.appendChild(w),h.appendChild(A),A.appendChild(c),h.appendChild(S),h.appendChild(d),d.appendChild(m),d.appendChild(p),d.appendChild(u),v?(m.style.display="flex",p.style.display="none",u.style.display="none"):(m.style.display="none",p.style.display="flex",u.style.display="flex");document.getElementById("mainContent").appendChild(o),g.load(),1==r.sD.nC&&$(".navigation-control").css("display","flex");var G=1;glRatio<1&&(G=glRatio);(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|ipad|iris|kindle|Android|Silk|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(navigator.userAgent)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(navigator.userAgent.substr(0,4)))&&(h.style.transform="matrix("+G+", 0, 0, "+G+", 0, 0)",$("#myModal").children().css("overflow-x","auto"));$(window).resize((function(){h.style.transform="matrix("+G+", 0, 0, "+G+", 0, 0)",$("#myModal").find().css("font-size","15"),$("#myModal").children().css("overflow-x","auto")})),p.onclick=function(){glhp.previousSlide()},m.onclick=function(){isMobile&&(glhp.IsSubmit=!0),qzm.sdls(),qzm.SubmitInteraction()},u.onclick=function(){glhp.nextSlide()},S.onclick=function(){glhp.isQuestionTrig=!1,a()}}(o,n)}break;case"CloseLightbox":a();break;case"Move":!function(e){if(null!=e&&null!=e.S){let i=feez(e.S);if(null!=i){let a=null;for(var t=0;t<i.a.length;t++)if(null!=e.sD&&"MotionPath"==i.a[t].typ&&i.a[t].id==e.sD.oI){a=i.a[t];break}if(null!=a){let r=mpaz(a,i);if("TimelineStarts"==e.E){let a=glrs.crsl;if(a)for(t=0;t<a.Layouts.length;t++){let s=a.Layouts[t];s.Timeline&&(s.Data&&s.Data.id==e.Ta?s.Timeline.add(r,s.Data.tim.sT):s.getChildById(e.Ta)&&s.Timeline.add(r,i.tim.sT))}}}}}}(n);break;case"BeginAnimation":let f=findElement(o);n.sD&&AnimationModule.TriggerAnimation(f.Data.id,n.sD.ani);break;case"PlayMedia":case"PauseMedia":case"StopMedia":null!=o&&"Unassigned"!=o&&null!=l&&$("*[id$=video_"+o+"]").each((function(){r($(this),l)}));break;case"RestartCourse":null!=l&&(-1!=navigator.userAgent.indexOf("MSIE")||1==!!document.documentMode?"en-US"==DOC.Lang?alert("NOTE: This command can not be used in brower IE"):alert("Chú ý: Lệnh này không thể được sử dụng trong trình duyệt IE"):-1!=navigator.userAgent.indexOf("Edge")&&("en-US"==DOC.Lang?alert("NOTE: This command can not be used in brower Microsoft Edge"):alert("Chú ý: Lệnh này không thể được sử dụng trong trình duyệt Microsoft Edge")),DOC.iS?glhp.ReloadDataLocal():location.reload("_self"));break;case"ExitCourse":null!=l&&(-1!=navigator.userAgent.indexOf("Firefox")?"en-US"==DOC.Lang?alert("NOTE: This command can not be used in brower Firefox"):alert("Chú ý: Lệnh này không thể được sử dụng trong trình duyệt Firefox"):-1!=navigator.userAgent.indexOf("coc_coc_browser")&&("en-US"==DOC.Lang?alert("NOTE: This command can not be used in brower CocCoc"):alert("Chú ý: Lệnh này không thể được sử dụng trong trình duyệt CocCoc")),close(),window.chrome&&window.chrome.webview&&window.chrome.webview.postMessage(1));break;case"AdjustVariable":!function(e){if(null!=e&&null!=e.sD&&null!=e.sD.vDm){let t=gvaez(e.S,DOC);if(null!=t){let i=null,a=t.val;switch("Value"==e.sD.vDm.vT?i=e.sD.vDm.val:"Variable"==e.sD.vDm.vT&&(i=gvaiiz(e.sD.vDm.val,DOC)),e.sD.vDm.O){case"Add":t.val=Number(t.val)+Number(i);break;case"Subtract":t.val=Number(t.val)-Number(i);break;case"Multiply":t.val=Number(t.val)*Number(i);break;case"Divide":t.val=Number(t.val)/Number(i);break;case"Assignment":t.val=i;break;case"NotAssignment":"boolean"==typeof t.val||"True"==t.val||"False"==t.val?t.val=!t.val:t.val=!!t.val}t.val!=a&&vbcwg(t)}}}(n);break;case"PauseTimeline":if(null!=(h=glrs.crsl.lwid(o)))null!=(p=h.Timeline)&&null!=l&&(isPauseTimeline=!0,i=p._time,s(p,l));break;case"ResumeTimeline":var p;if(null!=(h=glrs.crsl.lwid(o)))null!=(p=h.Timeline)&&null!=l&&s(p,l);break;case"JumpToURLFile":null!=l&&function(e){let t=e&&e.sD;if(!t)return;let i=glrs.crsl,a=i&&i.MainTimeline;a&&a.pause();let r=e.S,s=t.bW;s||window.open(r,"_self");let{iCb:n,wS:l,w:o,h:h}=s;-1!=navigator.userAgent.indexOf("Firefox")&&("en-US"==DOC.Lang?alert("NOTE: After the end of this message, Please highlight the URL and press enter! and brower not support vietnamese language on URL"):alert("Chú ý: Sau khi kết thúc thông báo này, vui lòng bôi đen URL và nhấn enter! và chú ý trình duyệt này không hỗ trợ ngôn ngữ tiếng Việt trên URL"));if(n)return void window.open(r,"_self");let d=l&&l.toUpperCase();if("DEFAULT"==d)window.open(r,"_blank");else if("FULLSCREEN"==d){let e="width="+screen.width+" height="+screen.height;window.open(r,"_blank",e)}else if("CUSTOM"==d){popitup(r,"123","width="+o+" height="+h)}}(n);break;case"SendEmailTo":null!=l&&function(e){let t="mailto:"+e.S+"?subject=subject&body=body";window.open(t,"_self")}(n);break;case"ExcuteJS":var u=document.createElement("script");u.innerHTML=o,document.getElementsByTagName("body")[0].appendChild(u);break;case"SubmitInteraction":null!=o&&"Unassigned"!=o&&qzm.SubmitInteraction(o);break;case"SubmitResults":null!=o&&"Unassigned"!=o&&("TimelineStarts"==n.E?qzm.SubmitResults(o):glhp.jumToSlideID(o));break;case"ReviewResults":var m=n.sD.nC;null!=o&&"Unassigned"!=o&&qzm.ReviewResults(o,m);break;case"ResetResults":null!=o&&"Unassigned"!=o&&qzm.ResetResults(o);break;case"PrintResults":null!=o&&"Unassigned"!=o&&function(e){let t=[];t["EN-us"]={title:"Enter name",userName:"Enter your name in the field below:",submit:"OK",placeholder:"User name"},t["VI-vn"]={title:"Nhập tên",userName:"Nhập tên của bạn vào trường bên dưới:",submit:"Đồng ý",placeholder:"Tên người dùng"},t["TH-th"]={title:"ป้อนชื่อ",userName:"ป้อนชื่อของคุณในช่องข้างล่าง:",submit:"ตกลง",placeholder:"ชื่อผู้ใช้"};const i=Object.keys(t).find(e=>e.toLowerCase()===DOC.Lang.toLowerCase()),a=document.getElementById("popup-title-result");a&&(a.innerHTML=t[i].title);const r=document.getElementById("userNameResultlbl");r&&(r.innerHTML=t[i].userName);const s=document.getElementById("userNameResult");s&&(s.name=t[i].placeholder,s.placeholder=t[i].placeholder);const n=document.getElementById("btnSubmitResult");n&&(n.innerHTML=t[i].submit);const l=document.getElementById("popup2");l&&l.classList.add("popupResult");document.getElementById("form-result").addEventListener("submit",(function(t){t.preventDefault(),e&&qzm.PrintResults(e),document.getElementById("popup2").classList.remove("popupResult")}))}(o)}}},set isLightbox(t){e=t},get isLightbox(){return e},getMainElementId:function(e){var t=e.split(" ");return t.length>0&&this.checkContainsArray(t)&&this.checkContainsArray(t).split("_").length>0?this.checkContainsArray(t).split("_")[0]:null},checkContainsArray:function(e){let t=null;return glhp.checkIEBrower()?(e.forEach((function(e){if(e.indexOf("main")>-1)return t=e,t})),t):(e.forEach((function(e){if(e.includes("main"))return t=e,t})),t)}};function a(){e=!1;let a=document.getElementById("modal-wrapper");if(null!=a&&null!=a.parentElement){a.parentElement.removeChild(a),clacz();var r=document.getElementById("container"),s=document.createElement("div"),n=document.getElementById("caption");s.id="content",r.appendChild(s),Swape(s,n),glhp.jtsix(t);let e=TriggerHelper.getCurrentTimeline();if(0!=i&&e){var l=document.querySelectorAll("video"),o=document.querySelectorAll("audio");if(glhp.setTimeMedia(l,o,i,!1),e.seek(i),isPauseTimeline){if(l.length>0)for(var h=0;h<l.length;h++)l[h].pause();if(o.length>0)for(h=0;h<o.length;h++)o[h].pause();e.pause(i+1e-4,!1),pc.pauseIcon(),pc.mediaControl("pause")}}}}function r(e,t){var i=$(e);if(!$(i).attr("data-br")&&(i.currentTime=0,i.length>0))switch(t){case"PlayMedia":for(var a=0;a<i.length;a++)i[a].play();break;case"PauseMedia":for(a=0;a<i.length;a++)i[a].pause();break;case"StopMedia":for(a=0;a<i.length;a++)i[a].currentTime=0,i[a].pause()}}function s(e,t){"PauseTimeline"===t?(e.pause(Math.floor(e._time),!1),pc.pauseIcon(),pc.mediaControl("pause")):"ResumeTimeline"===t&&(e.resume(),pc.playIcon(),pc.mediaControl("play"))}}();function feez(e){return null!=glrs.crsl&&null!=glrs.crsl.getElementById(e)?glrs.crsl.getElementById(e).Data:null}function findElement(e){return null!=glrs.crsl&&null!=glrs.crsl.getElementById(e)?glrs.crsl.getElementById(e):null}function ctzex(e,t){if(e[t]&&"AdjustVariable"===e[t].A)return!1;for(var i=0;i<t;i++){var a=e[i];if(a.A==e[t].A&&a.E==e[t].E&&a.S==e[t].S&&checkSourceDetail(e[t].sD,a.sD))return!0}}function checkSourceDetail(e,t){if(e&&t){if(e.ani!==t.ani)return!1;if(e.bW!==t.bW)return!1;if(e.nC!==t.nC)return!1;if(e.oI!==t.oI)return!1;if(e.val!==t.val)return!1;if(e.Ta!==t.Ta)return!1;if(e.tD!==t.tD)return!1;if(e.vDm&&t.vDm&&!1===checkVDM(e.vDm,t.vDm))return!1}return!0}function checkVDM(e,t){return e.ma===t.ma&&(e.mi===t.mi&&(e.O===t.O&&(e.val===t.val&&e.vT===t.vT)))}function cmpz(e,t){if("Cursor"===t.c){if(t.clEf)switch(t.clSt){case"None":case"Single":TweenMax.fromTo("#"+t.id+"_circle1",1,{scaleX:0,scaleY:0,x:t.hpX,y:-32+t.hpY,opacity:1},{scaleX:1,scaleY:1,x:t.hpX,y:-32+t.hpY,opacity:0});break;case"Double":TweenMax.fromTo("#"+t.id+"_circle1",1,{scaleX:0,scaleY:0,x:t.hpX,y:-32+t.hpY,opacity:1},{scaleX:1,scaleY:1,x:t.hpX,y:-32+t.hpY,opacity:0}),TweenMax.fromTo("#"+t.id+"_circle2",1,{scaleX:0,scaleY:0,x:t.hpX,y:-32+t.hpY,opacity:1},{scaleX:1,scaleY:1,x:t.hpX,y:-32+t.hpY,opacity:0}).delay(.25)}switch(t.clSt){case"Single":case"Double":$("#"+t.id+"_audio")[0].play()}}let{tri:i}=t;i=i&&i.filter(e=>{let{E:t,tD:i}=e,{val:a}=i;return"AnimationCompletes"===t&&"MotionPath"===a}),i&&i.length>0&&setTimeout((function(){for(var e=0;e<i.length;e++)tzacmd.getTriggerAction(i[e])}),50)}function mpaz(e,t){var i=0==isMobile?e.r:isTabletLandscape?e.rtls:isTabletPortrait?e.rtp:isMobileLandscape?e.rmls:isMobilePortrait?e.rmp:e.r;let a=$("#"+t.id),r=Math.PI*e.agl/180,s=Math.cos(r),n=Math.sin(r);var l=0==isMobile?t.l:isTabletLandscape?t.leftls:isTabletPortrait?t.leftpt:isMobileLandscape?t.lefmls:isMobilePortrait?t.lefmpt:t.l,o=0==isMobile?t.T:isTabletLandscape?t.toptls:isTabletPortrait?t.toptpt:isMobileLandscape?t.topmls:isMobilePortrait?t.topmpt:t.T;let h=l-Number(i.split(",")[0]),d=o-Number(i.split(",")[1]);var c=0==isMobile?e.dt:isTabletLandscape?e.dttls:isTabletPortrait?e.dttp:isMobileLandscape?e.dtmls:isMobilePortrait?e.dtmp:e.dt;let p=MorphSVGPlugin.pathDataToBezier(c,{matrix:[s,n,-n,s,-h,-d],centerX:Number(i.split(",")[2])/2,centerY:Number(i.split(",")[3])/2});let u={bezier:{type:"cubic"},onComplete:function(){cmpz(e,t)}};for(var m=!1,b=0;b<e.eO.length;b++){var f=e.eO[b];if("Easing"==f.grNm)switch(f.nm){case"Slow":case"Medium":u.ease=Power0.easeNone;break;case"Fast":u.ease=Power1.easeNone;break;case"VeryFast":u.ease=Power2.easeNone;break;case"Bounce":u.ease=Bounce.easeInOut}else if("Path"==f.grNm)switch(f.nm){case"Relative Start Point":var g,w,y=window.getComputedStyle(a[0]),v=new WebKitCSSMatrix(y.webkitTransform);g=v.e,w=v.f;for(b=0;b<p.length;b++)p[b].x+=g,p[b].y+=w;break;case"Reverse Path Direction":u.bezier.progress=-1,m=!0;break;case"Orient Shape To Path":u.bezier.autoRotate=!0}}u.bezier.values=p;let C=TweenMax.to($("#"+t.id),e.dA,u);return TweenLite.set($("#"+t.id),{xPercent:-50,yPercent:-50}),m&&(C.pause(),C.reverse(e.dA)),C}function popitup(e,t,i){var a={};(null==a[t]||a[t].closed)&&(a[t]=window.open(e,t,"width=1200,height=650,scrollbars=yes,resizable=yes")),a[t].focus()}function ccddz(e,t){if(null==e||0==e.length)return!0;let i=new Array;for(var a=0;a<e.length;a++){let r=checkCondition(e[a],t);0!=a?"And"==e[a].Lo?i.push(i.pop()&&r):i.push(r):i.push(r)}if(0==i.length)return!1;for(a=0;a<i.length;a++)if(i[a])return!0;return!1}function checkCondition(e,t){if(null==e)return!0;switch(e.typ){case"Variable":return cvacdd(e.vC,t)}return!0}function cvacdd(e,t){if(null===e)return!1;let i=gvaiiz(e.V,t);if(null!=i){let a=null;if("Value"==e.vT?a=e.val:"Variable"==e.vT&&(a=gvaiiz(e.val,t)),null!=a)switch(e.O){case"Equal":return i.toString()==a.toString();case"NotEqual":return i.toString()!=a.toString();case"EqualCase":let t=glhp.areStringsEqualIgnoreCase(i.toString(),a.toString());return t;case"NotEqualCase":return t=glhp.areStringsEqualIgnoreCase(i.toString(),a.toString()),!t;case"LessThan":return i<a;case"GreaterThan":return i>a;case"LessThanEqual":return i<=a;case"GreaterThanEqual":return i>=a;case"Between":let r=e.mi,s=e.ma;return i<r&&i>s}}return!0}function gvaez(e,t){if(t&&t.vars)for(var i=0;i<t.vars.length;i++)if(t.vars[i].id==e)return t.vars[i];return null}function gvaiiz(e,t){if(null!=t.vars)for(var i=t.vars.length-1;i>=0;i--){let a=t.vars[i];if(a.id==e){let e=a.val;return"Boolean"==a.typ?e&&"true"===e.toString().toLowerCase():e}}return null}function vbcwg(e){let t=$.Event("variableValueChanged");t.variable=e,$(window).trigger(t)}$(window).on("variableValueChanged",(function(e){var t,i=[],a=0;t=glrs.crsl.Data.lts;for(var r=0;r<t.length;r++)for(var s=glrs.crsl.Data.lts[r].tri,n=0;n<s.length;n++)null!=glrs.crsl.Data.lts[r].tri[n]&&null!=glrs.crsl.Data.lts[r].tri[n].tD&&i.push(glrs.crsl.Data.lts[r].tri[n]);if(i.length>0&&(a=i.filter((function(t){if(t.tD.oI==e.variable.id)return t}))).length>0)for(let e=0;e<a.length;e++){const t=a[e];tzacmd.getTriggerAction(t)}for(var l=0;l<DOC.slds.length;l++){var o=DOC.slds[l].lts;for(r=0;r<o.length;r++){var h=o[r].e;for(n=0;n<h.length;n++)null!=h[n].ref&&tfew2(h[n])}}}));var interval=[];function clacz(){for(var e=0;e<interval;e++)window.clearInterval(e)}var xmlNs="http://www.w3.org/2000/svg",FillColorHelper={genGTag:function(e,t){return function(e,t){if(!e)return{ID:"transparent"};var i=e.col;switch(e.CoT){case"Solid":return{ID:i,opacity:e.opc};case"Gradient":var a=new Gradient(e,t),r=a.genHTML();return i="url(#"+a.id+")",{Tag:r,ID:i,opacity:e.opc};case"Image":var s=new Picture(e,t),n=s.genHTML();return i="url(#"+s.id+")",{Tag:n,ID:i,opacity:e.opc}}}(e,t)},drawCanvas:async function(e,t,i){await async function(e,t,i){if(e)switch(e.CoT){case"Solid":drawCanvasSolid(e.col,t,i);break;case"Gradient":new Gradient(e,t).drawCanvas(i);break;case"Image":var a=new Picture(e,t);await a.drawCanvas(i)}}(e,t,i)},getCanvasColor:(e,t,i)=>async function(e,t,i){if(e)switch(e.CoT){case"Solid":return e.col;case"Gradient":return getCanvasGradient(e,t,i);case"Image":var a=new Picture(e,t);return await a.getCanvasPicture(i)}}(e,t,i)};function drawCanvasSolid(e,t,i){i.save(),i.fillStyle=e,i.fillRect(0,0,t.width,t.height),i.restore()}function cffz(e){return{id:e.attributes.id.value.split("_")[0],width:e.attributes.width.value,height:e.attributes.height.value}}var Gradient=function(){function e(e,t){this.fillColorData=e,this.frame=t,this.gradientType=e.gT}return e.prototype.genHTML=function(){return this.accordingType()},e.prototype.accordingType=function(){switch(this.fillColorData.gT){case"Linear":var e=new gdlz(this.fillColorData,this.frame),t=e.gLinear();return this.id=e.getID(),t;case"Radial":var i=new gdrz(this.fillColorData,this.frame),a=i.gGradient();return this.id=i.getID(),a}},e.prototype.drawCanvas=function(e){switch(this.fillColorData.gT){case"Linear":new gdlz(this.fillColorData,this.frame).drawCanvas(e);break;case"Radial":new gdrz(this.fillColorData,this.frame).drawCanvas(e)}},e}();function createStop(e,t,i){var a=glhp.crgs("stop");return a.setAttribute("offset",e),a.setAttribute("stop-color",t),a.setAttribute("stop-opacity",i),a}getCanvasGradient=function(e,t,i){switch(e.gT){case"Linear":return getCanvasgdlz(e,t,i);case"Radial":return new gdrz(this.fillColorData,this.frame).getCanvasgdrz(i)}};var gdlz=function(){function e(e,t){this.fillColorData=e,this.frame=t}return e.prototype.getID=function(){return"Gradient"+this.frame.id},e.prototype.gLinear=function(){var e,t=document.createElementNS(xmlNs,"defs"),i=document.createElementNS(xmlNs,"linearGradient");i.setAttribute("id",this.getID()),i.setAttribute("gradientTransform","rotate("+this.fillColorData.agl+", 0.5, 0.5)");for(var a=this.fillColorData,r=0;r<a.sts.length;r++){var s=a.sts[r],n=this.calculatorOffset(s.ofs)+"%",l=this.calculatorOpacity(s.opc);e=createStop(n,s.col,l),i.appendChild(e)}t.appendChild(i);var o=glhp.crgs("g","","linear");return o.appendChild(t),o},e.prototype.calculatorOpacity=function(e){return e/255},e.prototype.calculatorOffset=function(e){return 100*e},e.prototype.drawCanvas=function(e){e.save();var t=this.frame.width,i=this.frame.height,a=(Math.min(t,i),getCanvasgdlz(this.fillColorData,this.frame,e));e.fillStyle=a,e.fillRect(0,0,t,i),e.restore()},e}();getCanvasgdlz=function(e,t,i){var a,r,s,n,l=e.agl,o=t.width,h=t.height,d=.5*Math.abs(o*Math.cos(l))+Math.abs(h*Math.sin(l)),c=0+o/2,p=0+h/2;a=c-d*Math.cos(l),r=p-d*Math.sin(l),s=c+d*Math.cos(l),n=p+d*Math.sin(l);for(var u=i.createLinearGradient(a,r,s,n),m=0;m<e.sts.length;m++){var b=e.sts[m];u.addColorStop(b.ofs,b.col)}return u};var gdrz=function(){function e(e,t){this.fillColorData=e,this.frame=t}return e.prototype.getID=function(){return"Gradient"+this.frame.id},e.prototype.gGradient=function(){var e,t=document.createElementNS(xmlNs,"defs"),i=document.createElementNS(xmlNs,"radialGradient"),a=this.fillColorData;i.setAttribute("id",this.getID()),i.setAttribute("cx",a.cX),i.setAttribute("cy",a.cY),i.setAttribute("r","100%");for(var r=0;r<a.sts.length;r++){var s=a.sts[r],n=this.calculatorOffset(s.ofs)+"%",l=this.calculatorOpacity(s.opc);e=createStop(n,s.col,l),i.appendChild(e)}t.appendChild(i);var o=glhp.crgs("g","","radial");return o.appendChild(t),o},e.prototype.calculatorOpacity=function(e){return e/255},e.prototype.calculatorOffset=function(e){return 100*e},e.prototype.drawCanvas=function(e){e.save();var t=this.frame.width,i=this.frame.height,a=Math.min(t,i),r=this.getCanvasgdrz(this.fillColorData,this.frame,e);e.fillStyle=r,e.fillRect(0,0,a,a),e.restore()},e.prototype.getCanvasgdrz=function(e,t,i){if(t){for(var a=t.width,r=t.height,s=Math.min(a,r),n=a/s,l=r/s,o=e.cX*s,h=e.cY*s,d=s,c=i.createRadialGradient(o,h,0,o,h,d),p=0;p<e.sts.length;p++){var u=e.sts[p];c.addColorStop(u.ofs,u.col)}return i.setTransform(n,0,0,l,0,0),c}},e}(),Picture=function(){function e(e,t){this.fillColorData=e,this.frame=t}return e.prototype.genHTML=function(){return this.gPicture()},e.prototype.getID=function(){return"Gradient"+this.frame.id},e.prototype.calWidth=function(){return this.fillColorData.iR?this.fillColorData.ow*this.fillColorData.sX:(1-this.fillColorData.oL-this.fillColorData.oR)*this.frame.width},e.prototype.calHeight=function(){return this.fillColorData.iR?this.fillColorData.oh*this.fillColorData.sY:(1-this.fillColorData.oT-this.fillColorData.oB)*this.frame.height},e.prototype.calScaleX=function(){return this.fillColorData.iR?this.fillColorData.sX:1},e.prototype.calScaleY=function(){return this.fillColorData.iR?this.fillColorData.sY:1},e.prototype.gPicture=function(){this.id=this.getID();var e=this.fillColorData,t=document.createElementNS(xmlNs,"defs"),i=document.createElementNS(xmlNs,"pattern"),a=document.createElementNS(xmlNs,"image");i.setAttribute("patternTransform","translate("+this.fillColorData.oX+","+this.fillColorData.oY+") scale("+this.calScaleX()+", "+this.calScaleY()+")"),i.setAttribute("patternUnits","userSpaceOnUse"),i.setAttribute("id",this.getID()),i.setAttribute("width",isMobile?this.frame.width:this.fillColorData.iR?this.calWidth():this.frame.width),i.setAttribute("height",isMobile?this.frame.height:this.fillColorData.iR?this.calHeight():this.frame.height),a.setAttribute("id","image"+this.frame.id),a.setAttribute("opacity",this.fillColorData.opc),a.setAttribute("preserveAspectRatio","none"),a.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns","http://www.w3.org/2000/svg"),a.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),a.setAttributeNS("http://www.w3.org/1999/xlink/","xlink:href",e.iU),a.setAttribute("width",isMobile?this.frame.width:this.calWidth()),a.setAttribute("height",isMobile?this.frame.height:this.calHeight()),a.setAttribute("x",this.fillColorData.iR?0:this.fillColorData.oL*this.frame.width),a.setAttribute("y",this.fillColorData.iR?0:this.fillColorData.oT*this.frame.height),i.appendChild(a),t.appendChild(i);var r=glhp.crgs("g","","image");if(r.appendChild(t),-1!=navigator.userAgent.indexOf("MSIE")||1==!!document.documentMode){var s=r.childNodes;r.innerHTML=s.innerHTML}else r.innerHTML=r.innerHTML;return r},e.prototype.drawCanvas=async function(e){var t=this.fillColorData,i=this.frame.width,a=this.frame.height,r=await this.loadImage(t.iU);e.save();var s=e.createPattern(r,"repeat");e.rect(0,0,i,a),e.fillStyle=s,e.fill(),e.restore()},e.prototype.getCanvasPicture=async function(e){var t=this.fillColorData,i=await this.loadImage(t.iU);return e.createPattern(i,"repeat")},e.prototype.loadImage=function(e){return new Promise((t,i)=>{let a=document.createElement("img");a.onload=()=>{t(a)},a.onerror=i,a.src=e})},e}(),shzp={grnz:function(e,t){var i=e,a=glhp.crgs("g",glhp.generateBranchId(t.id,"sh"),"shape");if(i)for(var r=0;r<i.pOb.length;r++){var s=glhp.crgs("path",glhp.generateBranchId(t.id,"gp"),""),n=i.pOb[r],l=0==isMobile?n.dt:isTabletLandscape?n.dttls:isTabletPortrait?n.dttp:isMobileLandscape?n.dtmls:isMobilePortrait?n.dtmp:n.dt;l&&s.setAttribute("d",l),s.setAttribute("stroke-width",n.sTh),n.fi&&n.fi.opc&&n.fi.opc>0&&s.setAttribute("fill-opacity",n.fi.opc);var o=FillColorHelper.genGTag(n.fi,t);o&&(o.Tag&&glhp.appendIdContent(a,o.Tag),s.setAttribute("fill",o.ID));var h=t;h.id=t.id+"_s";var d=FillColorHelper.genGTag(n.str,h);d&&(d.Tag&&glhp.appendIdContent(a,d.Tag),s.setAttribute("stroke",d.ID)),s.setAttribute("stroke-linecap",i.cT),s.setAttribute("stroke-linejoin",i.jT),-1==navigator.userAgent.indexOf("MSIE")&&1!=!!document.documentMode||(s.style.strokeLinecap=i.cT,s.style.strokeLinejoin=i.jT),null!=n&&(s.setAttribute("stroke-dasharray",this.dskz(n.dT,n.sTh)),-1==navigator.userAgent.indexOf("MSIE")&&1!=!!document.documentMode||(s.style.strokeDasharray=this.dskz(n.dT))),"Square"==i.cT&&"RoundDot"==i.dT&&(s.setAttribute("stroke-linecap","Round"),-1==navigator.userAgent.indexOf("MSIE")&&1!=!!document.documentMode||(s.style.strokeLinecap="round")),glhp.appendIdContent(a,s)}return a},dskz:function(e,t){switch(e){case"Solid":return"";case"RoundDot":return"0,"+1.5*t;case"SquareDot":return.15*t+","+1.5*t;case"Dash":return 2*t+","+2*t;case"DashDot":return 1.9*t+","+1.9*t+","+.2*t+","+1.9*t;case"LongDash":return 2.75*t+","+1.75*t;case"LongDashDot":return 3*t+","+2*t+","+.25*t+","+2*t;case"LongDashDotDot":return 3*t+","+1.8*t+","+.5*t+","+1.8*t+","+.5*t+","+1.8*t}return""},drawCanvas:async function(e,t,i){i.save();for(var a=0;a<e.pOb.length;a++){var r=e.pOb[a],s=0==isMobile?r.dt:isTabletLandscape?r.dttls:isTabletPortrait?r.dttp:isMobileLandscape?r.dtmls:isMobilePortrait?r.dtmp:r.dt,n=new Path2D(s);if(i.fillStyle=await FillColorHelper.getCanvasColor(r.fi,t,i),r.sTh){i.lineWidth=r.sTh,i.strokeStyle=await FillColorHelper.getCanvasColor(r.str,t,i),i.lineCap=r.cT,i.lineJoin=r.jT;var l=this.dskz(r.dT,r.sTh);i.setLineDash(l.split`,`.map(e=>+e)),i.stroke(n)}i.fill(n)}i.restore()}},glrs=function(){var e=[],t=[],i=[],a=!1;startTime=null,totalTime=0;var r,s,n,l,o=!1,h=-1,d=[],c=[],p=new Date,u=[],m=!0;return{addModule:function(a){switch(a.Level){case glen.ModuleLevel.Element:null!=typeof a.grez&&e.push(a);break;case glen.ModuleLevel.Layout:null!=typeof a.grlw&&t.push(a);break;case glen.ModuleLevel.Slide:null!=typeof a.generateSlide&&i.push(a)}},addMedia:function(e){u.push(e)},get ListMedia(){return u},get StartPresentationTime(){return p},setStartPresentationTime(){p=new Date},get IsFirstLoad(){return m},setIsFirstLoad(){m=!1},getElementModule:function(t){for(var i=0;i<e.length;i++)if(e[i].ContentType==t)return e[i];return null},getLayoutModule:function(e){for(var i=0;i<t.length;i++)if(t[i].ContentType==e)return t[i];return nlmdw},checkFinishLesson:function(){!1===o&&!glhp.isScormCompleted&&glhp.verifyLessonStatus()&&(o=!0)},startLearn:function(){startTime=new Date},setTotalTime:function(e){this.totalTime=e},getLearnTime:function(){return null===startTime?0:new Date-startTime},msToTime:function(e){var t=e%1e3,i=(e=(e-t)/1e3)%60,a=(e=(e-i)/60)%60;return(e-a)/60+":"+a+":"+i+"."+t},checkFinishResult:function(){if("undefined"!=typeof ScormModule&&!1===o&&glhp.isTrackingStatus(TrackingStatus.QUIZRESULT)){o=glhp.isResultPassed;var e=JSON.stringify(glhp.DataLocal);ScormModule.SetValue(ScormEnum.Name.SuspendData,e),this.getLearnTime(),ScormModule.Commit()}},checkRefreshLesson:function(){},get crsl(){return r},set crsl(e){h=r&&r.Index,s=r,r=e,e&&(d.find(t=>t.Data&&e.Data&&t.Data.id==e.Data.id)||d.push(e))},get CurrentQuestion(){return n},set CurrentQuestion(e){l||(n=e)},set IsDisableSetQuestion(e){l=e},getSlide:function(e,t){let i=d.find(t=>t.Data&&e&&t.Data.id==e.id);return i||(i=new Slide(e,t),d.push(i),i.initializeIsVisibleProperties()),s&&s.refreshIsVisibleProperties(),i},getPreviousSlide:function(){if(s)return s;if(!glrs.crsl)return null;let e=glrs.crsl.Index-1,t=DOC.slds[e],i=e>-1?glrs.getSlide(t,e):null;return i=i?i.grlws(t,!1,!1):null,i},get PreviousSlideIndex(){return h},get crslIndex(){return this.crsl?this.crsl.Index:-1},get PreviousSlideData(){return s&&s.Data},get LoadedSlides(){return d},get GetPreviousSlide(){return s},PreviousLayoutData:null,get CurrentLayer(){for(var e=this.crsl.Layouts.length-1;e>=0;e--){let t=$("#"+this.crsl.Layouts[e].Data.id);if(t.length>0&&"block"==t[0].style.display)return this.crsl.Layouts[e]}},get ShowCaption(){return a},set ShowCaption(e){var t=document.getElementById("caption");t&&(t.style.display=e?"block":"none"),a=e},get PreviousSlide(){return function(){for(var e=0;e<$("#content")[0].children.length;e++){var t=$("#content")[0].children[e];if(t.id!=glrs.crsl.Data.id&&"caption"!=t.id)return t}}()},feez:function(e){let t=glrs.crsl;if(!t)return null;let i=t.lwid(e);if(i)return i.Data;let a=t.getElementById(e);return a?a.Data:null},getBase64Resource:function(e){return c[e]},setBase64Resource:function(e,t){c[e]=t}}}(),GroupModule={Level:glen.ModuleLevel.Element,ContentType:"Group",grez:function(e,t){var i=0==isMobile?e.topdkt:isTabletLandscape?e.toptls:isTabletPortrait?e.toptpt:isMobileLandscape?e.topmls:isMobilePortrait?e.topmpt:e.T,a=0==isMobile?e.lefdkt:isTabletLandscape?e.leftls:isTabletPortrait?e.leftpt:isMobileLandscape?e.lefmls:isMobilePortrait?e.lefmpt:e.l,r=glhp.crgs("div","","");r.style.width=e.w+"px",r.style.height=e.h+"px",r.style.top=-i+"px",r.style.left=-a+"px",r.style.position="absolute",r.style.transformOrigin="calc(50% + "+e.l+"px) calc(50% + "+e.T+"px)",r.style.transform="rotate("+-e.agl+"deg)";for(var s=0;s<e.els.length;s++){var n=new Element(e.els[s],t);if(n&&"underfined"!=typeof n.generateHTML){var l=n.generateHTML();l&&glhp.appendIdContent(r,l)}}return r},drawCanvas:async function(e,t,i){i.save();for(var a=0;a<e.els.length;a++){var r=new Element(e.els[a],t);await r.drawCanvas(i)}i.restore()}};function Element(e,t,i,a,r,s){t=t;var n,l,o=0==(e=e).tim.sT&&!((l=e).a&&l.a.length>0&&l.a[0].dA>0),h=(s=s,!1);function d(t){let i=e&&e.id;return t&&t.includes(i)?t:i+"_"+t}function c(){return"STATES_BuiltInDisabled"===n.dataset.stateId}return{generateHTML:function(){if(DOC.isPresentation&&(null==this.TimelineElement&&null!=s&&(this.TimelineElement=new TimelineMax,e.tim&&this.TimelineElement.set({},{},e.tim.dT+e.tim.sT),"Cursor"!=e.c&&"Gesture"!=e.c&&"ZoomPan"!=e.c||this.TimelineElement.set({},{},s.tim.dT+s.tim.sT),this.TimelineElement.progress(0),this.TimelineElement.pause()),this.timeAnimation=Date.now()),null!=e){if("Hotspot"==e.c)if(0==glhp.DataLocal.Slide[DOC.slds.indexOf(glrs.crsl.Data)].IsSubmit)return;if("ZoomPan"==e.c)return this.layoutID=r,n=glhp.crgs("div",e.id,"");var l,o=glrs.getElementModule(e.c),d=0==isMobile?e.widdkt:isTabletLandscape?e.widtls:isTabletPortrait?e.widtpt:isMobileLandscape?e.widmls:isMobilePortrait?e.widmpt:e.w,c=0==isMobile?e.heidkt:isTabletLandscape?e.heitls:isTabletPortrait?e.heitpt:isMobileLandscape?e.heimls:isMobilePortrait?e.heimpt:e.h,p=0==isMobile?e.topdkt:isTabletLandscape?e.toptls:isTabletPortrait?e.toptpt:isMobileLandscape?e.topmls:isMobilePortrait?e.topmpt:e.T,u=0==isMobile?e.lefdkt:isTabletLandscape?e.leftls:isTabletPortrait?e.leftpt:isMobileLandscape?e.lefmls:isMobilePortrait?e.lefmpt:e.l,m=0==isMobile?e.rtwdkt:isTabletLandscape?e.rtwtls:isTabletPortrait?e.rtwtpt:isMobileLandscape?e.rtwmls:isMobilePortrait?e.rtwmpt:1,b=0==isMobile?e.rthdkt:isTabletLandscape?e.rthtls:isTabletPortrait?e.rthtpt:isMobileLandscape?e.rthmls:isMobilePortrait?e.rthmpt:1;scale=Math.min(m,b),n=glhp.crgs("div",e.id,"");var f=shzp.grnz(e.shs,{id:e.id,width:d,height:c});n.setAttribute("class","slide-object"),n.style.position="absolute",n.style.width=d+"px",n.style.height=c+"px",n.style.top=p+"px",n.style.left=u+"px";var g=0|Math.abs(a);n.style.zIndex=e.z+g+1;var w=1,y=1;e.isX&&(w=-1),e.isY&&(y=-1);var v="rotate("+e.agl+"deg)";if("Group"==e.c||!1!==h||e.efs||(v+=" scale("+w+","+y+")"),n.style.transform=v,e.opc&&(n.style.opacity=e.opc),null!=o){if(this.curModule=o,"ByQuestion"==t.ft&&(e.nm.includes("Question title")&&e.nm.includes("Tiêu đề câu hỏi")&&e.iqt||(isQuestion=!1),!isQuestion&&(e.nm.includes("Question title")||e.nm.includes("Tiêu đề câu hỏi")||e.iqt)&&(isQuestion=!0)),(l=o.grez(e,t,i))&&l.tagName&&"div"==l.tagName.toLowerCase()){if("Answers"==e.c||"Text"==e.c||"Graph"==e.c||"MathGeometry"==e.c||"Hotspot"==e.c||"crosswordinput"==e.c||"crosswordbutton"==e.c){var C=glhp.crgs("div",glhp.generateBranchId(e.id,"s"),""),T=glhp.crgs("svg","","");T.setAttribute("width",d+"px"),T.setAttribute("height",c+"px"),C.style.position="absolute",T.style.overflow="unset";var S=null,x=!1;if(e.efs){"SoftEdge"==e.efs[0].typ&&(x=!0);for(var A=0;A<e.efs.length;A++){if(void 0!==(D=EffectModule.genGEffect(e.efs[A],{Id:e.id,width:d,height:c},e.agl,e.isX,e.isY)).use&&(S=D.use),null==T.firstChild)T.appendChild(D.g),!1===glhp.isSafari()&&(D.g.outerHTML=D.g.outerHTML);else null!=(L=D.g.querySelector("defs"))&&T.firstChild.appendChild(L),null!=(k=D.g.querySelector("use"))&&T.firstChild.appendChild(k)}}x||T.appendChild(f),C.appendChild(T),!0===glhp.isSafari()&&(C.innerHTML=C.innerHTML),n.addEventListener("mouseup",e=>e.stopPropagation()),n.appendChild(C)}return glhp.appendIdContent(n,l),n}glhp.checkIEBrower()&&(n.innerHTML=n.innerHTML)}if(this.generateStates(),null==l||null==l||l.tagName&&"g"==l.tagName.toLowerCase()){if(e.sta&&e.sta.length>=1&&0!=e.sta[0].objs.length)return n;var M=glhp.crgs("svg",glhp.generateBranchId(e.id,"s"),"");M.style.position="absolute",M.setAttribute("width",isNaN(d)?0:+d),M.setAttribute("height",isNaN(c)?0:+c),M.style.overflow="unset";var G=shzp.grnz(e.shs,{id:e.id,width:d,height:c});S=null;if(e.efs)for(A=0;A<e.efs.length;A++){var D,L,k;if(void 0!==(D=EffectModule.genGEffect(e.efs[A],{Id:e.id,width:d,height:c},e.agl,e.isX,e.isY)).use&&(S=D.use),null==M.firstChild)M.appendChild(D.g),!1===glhp.isSafari()&&(D.g.outerHTML=D.g.outerHTML);else if(D.g.id==e.id+"_efso")M.appendChild(D.g),!1===glhp.isSafari()&&(D.g.outerHTML=D.g.outerHTML);else null!=(L=D.g.querySelector("defs"))&&M.firstChild.appendChild(L),null!=(k=D.g.querySelector("use"))&&M.firstChild.appendChild(k)}if(e.shs){var O=ImageModule.grez(e,t);null!=e.efs&&this.checkSoftEdgeEffect(e.efs)||("Image"===e.c?(G=null,null!=S&&(glhp.appendIdContent(O,S),O,!1===glhp.isSafari()&&(S.outerHTML=S.outerHTML))):(null!=S&&(glhp.appendIdContent(G,S),!1===glhp.isSafari()&&(S.outerHTML=S.outerHTML)),glhp.appendIdContent(M,G)))}l&&glhp.appendIdContent(M,l);var E=(new XMLSerializer).serializeToString(M);return E?$(n).append(E):glhp.appendIdContent(n,M),!0===glhp.isSafari()&&(n.innerHTML=n.innerHTML),n}}},generateStates:function(){let e=this.Data,a=e.sta;if(a&&0!=a.length){if(a.length>1&&DOC.isPresentation){if(a.some(e=>"STATES_BuiltInDown"===e.sType||"STATES_BuiltInSeleted"==e.sType||"STATES_BuiltInVisited"==e.sType)){let t=e.tri;if(t){t.some(t=>"UserClicks"===t.E&&t.Ta==e.id)||n.addEventListener("mouseup",e=>e.stopPropagation())}}}for(let r=0;r<a.length;r++){let s=a[r],l=e.inst,o=(s.isM,s.id),h=glhp.crgs("div",d(o),""),p=o===l;h.style.display=p?"block":"none",p&&(n.dataset.previousStateId=o);let u=parseFloat(n.style.top),m=parseFloat(n.style.left),b=s.objs;if(!b||0==b.length)continue;for(let e=0;e<b.length;e++){let a=b[e],r=new Element(a,t,i,a.z,t.tim.dT);r.setStateElement(!0);let s=r.generateHTML();if(s){let e=0==isMobile?a.topdkt:isTabletLandscape?a.toptls:isTabletPortrait?a.toptpt:isMobileLandscape?a.topmls:isMobilePortrait?a.topmpt:a.T,t=0==isMobile?a.lefdkt:isTabletLandscape?a.leftls:isTabletPortrait?a.leftpt:isMobileLandscape?a.lefmls:isMobilePortrait?a.lefmpt:a.l;s.style.top=e-u+"px",s.style.left=t-m+"px",glhp.appendIdContent(h,s),s.dataset.state=!0}}glhp.appendIdContent(n,h);let f=this,g=s.isCus,w=s.sType;if(!g)switch(w){case"STATES_BuiltInHover":this.checkTriggerHover(e)&&(n.addEventListener("mouseover",(function(){c()||f.changeState(o)})),n.addEventListener("mouseout",(function(){if(!c()){var t=f.getSelectedState(e,f.isSelected);t?f.changeState(t):f.changeState(f.getMainState(e))}})));break;case"STATES_BuiltInDown":this.checkClickTrigger(e)&&(n.addEventListener("mousedown",(function(e){c()||f.changeState(o)})),document.addEventListener("mouseup",(function(t){if(!c()){var i=f.getSelectedState(e,f.isSelected);setTimeout(()=>{i?f.changeState(i):f.changeState(f.getMainState(e))},50)}})));break;case"STATES_BuiltInSeleted":this.checkClickTrigger(e)&&n.addEventListener("mousedown",(function(){c()||(f.isSelected?(f.changeState(f.getMainState(e)),f.isSelected=!1):(f.changeState(o),f.isSelected=!0))}));break;case"STATES_BuiltInVisited":this.checkClickTrigger(e)&&n.addEventListener("mousedown",(function(){c()||f.changeState(o)}))}}}},get Matrix(){return n?function(e){if(!e)return null;let t=e.match(/matrix\((-*[0]{1}\.{1}[0-9]+|-*[1-9]{1}[0-9]*\.{1}[0-9]+|-*[0-9]+|0),{1}\s*(-*[0]{1}\.{1}[0-9]+|-*[1-9]{1}[0-9]*\.{1}[0-9]+|-*[0-9]+|0),{1}\s*(-*[0]{1}\.{1}[0-9]+|-*[1-9]{1}[0-9]*\.{1}[0-9]+|-*[0-9]+|0),{1}\s*(-*[0]{1}\.{1}[0-9]+|-*[1-9]{1}[0-9]*\.{1}[0-9]+|-*[0-9]+|0),{1}\s*(-*[0]{1}\.{1}[0-9]+|-*[1-9]{1}[0-9]*\.{1}[0-9]+|-*[0-9]+|0),{1}\s*(-*[0]{1}\.{1}[0-9]+|-*[1-9]{1}[0-9]*\.{1}[0-9]+|-*[0-9]+|0)\)/);return t&&7==t.length?{a:parseFloat(t[1]),b:parseFloat(t[2]),c:parseFloat(t[3]),d:parseFloat(t[4]),e:parseFloat(t[5]),f:parseFloat(t[6])}:null}($(n).css("transform")):null},load:function(){if(n.style.display="block",this.loadMedia(),"Image"==this.Data.c&&glhp.checkSafariBrower()&&setTimeout((function(){n.innerHTML=n.innerHTML;let e=n.getElementsByClassName("gImg");for(let t=0;t<e.length;t++){const i=e[t];i.style.display="none",setTimeout((function(){i.style.display="block"}),300)}}),100),glhp.checkIEBrower()){(e=document.createEvent("CustomEvent")).initCustomEvent("onLoad",!1,!1,null),n.dispatchEvent(e)}else{var e=new CustomEvent("onLoad",null);n.dispatchEvent(e)}},checkSoftEdgeEffect:function(e){var t=!1;for(let i=0;i<e.length;i++)if("SoftEdge"===e[i].typ)return t=!0;return t},unload:function(){if(n.style.display="none",this.unloadMedia(),glhp.checkIEBrower()){(e=document.createEvent("CustomEvent")).initCustomEvent("onUnload",!1,!1,null),n.dispatchEvent(e)}else{var e=new CustomEvent("onUnload",null);n.dispatchEvent(e)}},unloadMedia:function(){var e=n.querySelector("video"),t=n.querySelector("audio");e&&e.pause(),t&&t.pause()},loadMedia:function(){var e=n.querySelector("video"),t=n.querySelector("audio");e&&e.getAttribute("play-auto")&&e.play(),t&&t.getAttribute("play-auto")&&t.play()},setStateElement:function(e){h=e},changeState:function(e){let t=n.dataset.stateId;if(t==e)return;let i=n.childNodes;for(let e=0;e<i.length;e++){const a=i[e];"block"==a.style.display&&(t=a.id),a.style.display="none"}let a=d(e);var r=document.getElementById(a);if(r){r.style.display="block",n.dataset.previousStateId=t,n.dataset.stateId=e;let i="STATES_BuiltInDisabled"==e;n.dataset.disabled=i,i?(n.dataset.cursor=n.style.cursor,n.style.cursor="default",$.data(n,"ui-draggable")&&$(n).draggable("disable")):(n.style.cursor=n.dataset.cursor,$.data(n,"ui-draggable")&&$(n).draggable("enable"))}},getMainState:function(e){var t;return e.sta.forEach((function(e){e.isM&&(t=e.id)})),t},getSelectedState:function(e,t){var i;return e.sta.forEach((function(e){t?"STATES_BuiltInSeleted"===e.sType&&(i=e.id):e.isM&&(i=e.id)})),i},getDivContainer:function(e,t){var i=void 0;return e.childNodes.forEach((function(e){e.id==t&&(i=e)})),i},checkClickTrigger:function(e){var t=!0;return e.tri.forEach((function(e){if("UserClicks"===e.E)return t=!1})),t},checkTriggerHover:function(e){var t=!0;return e.tri.forEach((function(e){if("MouseHoversOver"===e.E)return t=!1})),t},setAnimations:function(t){AnimationModule.setAnimations(e,t,r)},setTriggers:function(){TriggerModule.setTriggers(e)},setTimeline:function(t){null!=t&&null!=e.tim&&(e.tim.sT>0&&(t.set(this,{IsVisible:!1},0),t.set(this,{IsVisible:!0},e.tim.sT)),e.tim.sT+e.tim.dT<s.tim.dT&&t.set(this,{IsVisible:!1},e.tim.sT+e.tim.dT))},resetLocation:function(){var t=0==isMobile?e.lefdkt:isTabletLandscape?e.leftls:isTabletPortrait?e.leftpt:isMobileLandscape?e.lefmls:isMobilePortrait?e.lefmpt:e.l,i=0==isMobile?e.topdkt:isTabletLandscape?e.toptls:isTabletPortrait?e.toptpt:isMobileLandscape?e.topmls:isMobilePortrait?e.topmpt:e.T;n.style.left=t+"px",n.style.top=i+"px"},drawCanvas:async function(i){if(this.IsVisible){if(i.save(),"Group"!==e.c){var a=0==isMobile?e.lefdkt:isTabletLandscape?e.leftls:isTabletPortrait?e.leftpt:isMobileLandscape?e.lefmls:isMobilePortrait?e.lefmpt:e.l,r=0==isMobile?e.topdkt:isTabletLandscape?e.toptls:isTabletPortrait?e.toptpt:isMobileLandscape?e.topmls:isMobilePortrait?e.topmpt:e.T,s=0==isMobile?e.widdkt:isTabletLandscape?e.widtls:isTabletPortrait?e.widtpt:isMobileLandscape?e.widmls:isMobilePortrait?e.widmpt:e.w,n=0==isMobile?e.heidkt:isTabletLandscape?e.heitls:isTabletPortrait?e.heitpt:isMobileLandscape?e.heimls:isMobilePortrait?e.heimpt:e.h,l=a+s/2,o=r+n/2;if(i.translate(l,o),e.matrix){let{a:t,b:a,c:r,d:s,e:n,f:l}=e.matrix;i.transform(t,a,r,s,n,l)}else i.scale(e.isX?-1:1,e.isY?-1:1),i.rotate(e.agl*Math.PI/180);i.translate(-s/2,-n/2)}e.shs&&await shzp.drawCanvas(e.shs,{top:r,left:a,width:s,height:n},i),this.curModule&&this.curModule.drawCanvas&&await this.curModule.drawCanvas(e,t,i),i.restore()}},get Data(){return e},get IsVisible(){return o},set IsVisible(e){1==e?this.load():(e=!1,this.unload()),o=e},set onLoad(e){null!=n&&n.addEventListener("onLoad",e)},set onUnload(e){null!=n&&n.addEventListener("onUnload",e)}}}function Layout(e,t,i=!1){e=e,t=t;var a,r=i,s=!1;function n(e){glrs.crsl&&glrs.crsl.Data&&(glhp.TrackingSlide(glrs.crsl.Data.id,!0),!glhp.isScormCompleted&&glhp.verifyLessonStatus())}return{generateHTML:function(){if(null!=e){if(layout!=t.the&&null==this.Timeline&&(this.Timeline=new TimelineMax,this.Timeline.eventCallback("onUpdate",SliderModule.updateSlider),this.Timeline.eventCallback("onStart",SliderModule.onTimelineStart),e.tim&&(this.Timeline.set({},{},e.tim.dT),this.Timeline.addCallback(n,e.tim.sT+e.tim.dT,[],null)),this.Timeline.progress(0),this.Timeline.pause()),a=glhp.crgs("div",e.id,""),i=e.visible||i,a.style.display=i?"block":"none",a.style.zIndex=0,a.style.pointerEvents="none",a.style.transformOrigin="0% 0%",null!=e.tri)for(var r=0;r<e.tri.length;r++){"UserPressesAKey"==e.tri[r].E&&(a.style.pointerEvents="unset")}a.style.position="absolute",a.style.top=0,$(a).addClass("stretch-fill");var s=function(e,t){var i=glhp.crgs("svg","","");i.id=glhp.generateBranchId(e.id,"bgr");var a=0==isMobile?t.widdkt:isTabletLandscape?t.widtls:isTabletPortrait?t.widtpt:isMobileLandscape?t.widmls:isMobilePortrait?t.widmpt:t.w,r=0==isMobile?t.heidkt:isTabletLandscape?t.heitls:isTabletPortrait?t.heitpt:isMobileLandscape?t.heimls:isMobilePortrait?t.heimpt:t.h;r||(r=576);a||(a=1024);i.setAttribute("width",a),i.setAttribute("height",r),i.setAttribute("position","absolute");var s=glhp.crgs("rect","","");if(s.setAttribute("x",0),s.setAttribute("y",0),s.setAttribute("width","100%"),s.setAttribute("height","100%"),e.bg){var n=FillColorHelper.genGTag(e.bg,{id:e.id,width:i.attributes.width.value,height:i.attributes.height.value});n&&(s.setAttribute("fill",n.ID),n.Tag&&glhp.appendIdContent(i,n.Tag))}return glhp.appendIdContent(i,s),i}(e,t),o=(new XMLSerializer).serializeToString(s);if(o?$(a).append(o):glhp.appendIdContent(a,s),null!=t.the&&e!=t.the.iM&&e.iM&&t.the.e&&t.the.e.length>0){var h=new Layout(t.the,t),d=h.generateHTML();glhp.appendIdContent(a,d),d.style.display="block",d.style.position="absolute",d.style.top=0,this.graphicLayout=h}var c=glhp.crgs("div","","");if($(c).addClass("stretch-fill"),glhp.appendIdContent(a,c),t.tq,null!=e.e&&e.e.length>0){var p=e.e[0].z;for(r=1;r<e.e.length;r++)p>e.e[r].z&&(p=e.e[r].z);for(r=0;r<e.e.length;r++){var u=new Element(e.e[r],t,e.iM,p,e.id,e);if(u&&"underfined"!=typeof u.generateHTML){var m=u.generateHTML();m&&(glhp.appendIdContent(c,m),this.Elements.push(u)),u.onEnter=function(e){}}}}if(null!=e.nme){let t=document.getElementById("narrationAudio");var b=document.getElementById("presentervideo");for(let i=0;i<e.nme.length;i++){let a=e.nme[i];if("Audio"==a.ty){let e=glhp.crgs("audio",a.id),i=glhp.crgs("source");i.setAttribute("src",a.sou),e.appendChild(i),t.appendChild(e)}else{let e=glhp.crgs("video",a.id),t=glhp.crgs("source");t.setAttribute("src",a.sou),e.appendChild(t),b.appendChild(e),e.style="transform-origin: 0px 0px;margin-right: auto; margin-bottom: auto;width: 100%; max-height:200px;",e.onloadedmetadata=function(e){l(e)},e.style.display="none",b.style.display="none"}}}return a.dataset.layer=!0,a}},get View(){return a},get IsMain(){return this.Data&&this.Data.iM},get Visible(){return a&&"none"!=a.style.display},readAndExecuteConfig:function(){let e=glrs.crsl;if(!this.Data||!e)return;let t=this.Data.lC;if(!t)return;let{hO:i,Ob:a,pC:r,pT:s,Wf:n}=t;if(i){let t=e.Layouts,i=e.MainLayout;t&&t.forEach(e=>{e!=i&&e!=this&&e.hide()})}if(a){let t=e.MainLayout;t&&t.Elements.forEach(e=>e.IsVisible=!1)}if(r){let t=e.MainLayout;t&&t.preventClick()}if(s){let t=e.MainTimeline;t&&t.pause(),pc.mediaControl("pause")}if(n){let t=e.MainTimeline;t&&t.eventCallback("onComplete",()=>{this.hide()})}},preventClick:function(){let e=this.View;if(!e)return;e.dataset.preventClick=!0;let t=e.querySelectorAll(".slide-object");t&&t.forEach(e=>{e.dataset.cursor=e.style.cursor,e.style.cursor="default",$.data(e,"ui-draggable")&&$(e).draggable("disable")})},allowClick:function(){let e=this.View;if(!e)return;e.dataset.preventClick=!1;let t=e.querySelectorAll(".slide-object");t&&t.forEach(e=>{let t=e.dataset.cursor;t&&(e.style.cursor=t)})},show:function(t,i,r){void 0===t&&(t=!1);let s=e.iM;if(a.style.display="block",a.style.backgroundColor="transparent",this.setTriggers(),t&&(s||this.readAndExecuteConfig()),i||this.setAnimations(),null!=this.Timeline)if(this.Timeline.progress(.001),!0===DOC.isExVi)if(pc.mediaControl("turnOff"),!1===glrs.IsFirstLoad){var n=document.getElementById("reload-media");(t&&!n&&!DOC.isPresentation||r)&&this.Timeline.play()}else glrs.setIsFirstLoad();else{n=document.getElementById("reload-media");(t&&!n&&!DOC.isPresentation||r)&&this.Timeline.play()}if(e.iM||glhp.pyz(a),glrs.CurrentLayer&&("Thank you"==glrs.CurrentLayer.Data.lT||"Correct"==glrs.CurrentLayer.Data.lT||"Incorrect"==glrs.CurrentLayer.Data.lT||"Invalid Answer"==glrs.CurrentLayer.Data.lT||"Try Again"==glrs.CurrentLayer.Data.lT)){var l=glrs.CurrentLayer.Data.id;a.style.pointerEvents="",$("#"+l).addClass("preventUse"),glhp.disableSubmit()}let o=null;if(null!=this.Data.nme)for(let e=0;e<this.Data.nme.length;e++)if(glhp.GetTransition(glrs.crsl.Data)){if(this.Data.nme[e].sT==glrs.crsl.Data.trans.durTra){o=this.Data.nme[e];break}}else if(0==this.Data.nme[e].tim.sT){o=this.Data.nme[e];break}if(null!=o){let e=document.getElementById(o.id);e.paused&&e.play().catch((function(e){}))}},hide:function(){a.style.display="none";let e=glrs.crsl;if(e){let t=e.Layouts;if(!(t&&t.some(e=>e.checkIfPreventClickBaseLayer()))){let e=glrs.crsl,t=e&&e.MainLayout;t&&t.allowClick()}}this.pauseTimeline(),this.enableSubmit(),this.pmdx()},checkIfPreventClickBaseLayer:function(){let e=this.Data.lC;if(!e)return!1;let{pC:t}=e;return"block"==a.style.display&&t},pauseTimeline:function(){let e=this.Timeline;e&&e.pause()},pmdx:function(){glhp.pmdx(a)},enableSubmit:function(){if(a.classList.contains("preventUse")){a.classList.remove("preventUse");let e=DOC.slds;if(!e)return;let t=glrs.crsl,i=t&&t.Data;const r=e.indexOf(i);let s=glhp.DataLocal.Slide;if(r<0||t>=s.length)return;let n=s[r];n&&n.IsSubmit||glhp.enableSubmit()}},setStyleForFeedback:function(){a.style.top="0px",a.style.left="0px",a.style.position="absolute"},setTriggers:function(){if(s)return;let e=this.Elements;for(var t=0;t<e.length;t++){e[t].setTriggers()}let i=this.Data;TriggerModule.setTriggers(i,!0),s=!0},reLoad:function(){},getChildById:function(e){for(var t=0;t<this.Elements.length;t++){var i=this.Elements[t];if(i.Data.id==e)return i}},setAnimations:function(){if(DOC.isPresentation)for(var e=0;e<this.Elements.length;e++){(t=this.Elements[e]).TimelineElement&&(t.setAnimations(t.TimelineElement),t.setTimeline(t.TimelineElement))}else for(e=0;e<this.Elements.length;e++){var t;(t=this.Elements[e]).setAnimations(this.Timeline),t.setTimeline(this.Timeline)}},get Data(){return e},get IsVisible(){return r},set IsVisible(e){(r=e)?this.show():this.hide()},Elements:[],Narrationmedia:[],Timeline:null,triggerExcute:function(e){var t=glrs.crsl.Data.lts,i=null;if(null!=glrs.CurrentLayer){for(var a=0;a<t.length;a++)if(t[a].id==glrs.CurrentLayer.Data.id){i=t[a];break}null!=i&&null!=i.tri&&i.tri.forEach((function(t){t.E==e&&tzacmd.getTriggerAction(t)}))}},async drawCanvas(i,a=!0,r=!0){if(!this.IsMain&&!this.Visible)return;i.save();var s=0==isMobile?t.widdkt:isTabletLandscape?t.widtls:isTabletPortrait?t.widtpt:isMobileLandscape?t.widmls:isMobilePortrait?t.widmpt:t.w,n=0==isMobile?t.heidkt:isTabletLandscape?t.heitls:isTabletPortrait?t.heitpt:isMobileLandscape?t.heimls:isMobilePortrait?t.heimpt:t.h;let l=e.bg;if(l){let{CoT:t}=l;if(glhp.areStringsEqualIgnoreCase(t,"Image")){let t=glrs.getBase64Resource(e.id);t&&(e.bg={...e.bg,iU:t})}}if(a&&await FillColorHelper.drawCanvas(e.bg,{width:s,height:n},i),a&&this.graphicLayout&&await this.graphicLayout.drawCanvas(i),r){var o=this.Elements.sort((e,t)=>e.Data.z-t.Data.z);this.Data.endTime=0;for(var h=0;h<o.length;h++){var d=o[h];await d.drawCanvas(i)}}i.restore()},async drawFull(e){if(!e)return;let t=e.getContext("2d");return await this.drawCanvas(t,!0,!0)},async drawBackground(e){if(!e)return;let t=e.getContext("2d");return await this.drawCanvas(t,!0,!1)},async drawForeground(e){if(!e)return;let t=e.getContext("2d");return await this.drawCanvas(t,!1,!0)}};function l(e){var t=document.getElementById("presentervideo"),i=e.currentTarget,a=t.clientWidth/i.videoWidth;t.style.height=a*i.videoHeight+"px"}}glrs.addModule(GroupModule);var nlmdw={Level:glen.ModuleLevel.Layout,ContentType:"Normal",grlw:function(e,t,i=!1){return new Layout(e,t,e.iM||i)}};function _instanceof(e,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?t[Symbol.hasInstance](e):e instanceof t}function Slide(e,t){e=e,t=t||null;var i,a,r,s,n,l=null,o=!1,h=[],d=null;function c(){var e=document.getElementById("container");if(null!=e){var t=document.getElementById("trial");null!=t&&e.removeChild(t);var i=glhp.crgs("div","trial"),a=glhp.crgs("div","logoTrialWrapper"),r=glhp.crgs("div","logoTrial"),s=glhp.crgs("div","logoTrialTitleWrapper");s.setAttribute("style","color: white;font-size: 24px;margin-left: 10px;opacity:0.6;"),i.setAttribute("style","position: absolute;width: 100%;height: 50px;background: rgba(128, 128, 128, 0.3);align-items: center;"),s.innerHTML=Language.logoTrialTitle,a.appendChild(r),a.appendChild(s),i.appendChild(a),e.appendChild(i),$("#logoTrialWrapper").addClass("trialVersion"),$("#logoTrial").css("background-image","url('./css/icon-avn.ico')"),$("#logoTrialWrapper").on("click",(function(){window.open("https://avinasolutions.com/","_blank")}))}}function p(e,t){e&&t&&(e.Layouts.push(t),t.IsMain&&(r=t))}function u(e){if(e&&e.Layouts&&e.DivContainer)for(let t=0;t<e.Layouts.length;t++){const i=e.Layouts[t];i.View&&glhp.appendIdContent(e.DivContainer,i.View)}}function m(e){if(!e)return null;for(let i=0;i<e.length;i++){const a=e[i];if(e[i]={...a,visible:a.tim&&0==a.tim.sT},glhp.areStringsEqualIgnoreCase(a.c,"Group"))for(var t=0;t<a.els.length;t++){let r=a.els[t],s=a.tim&&0==a.tim.sT;e[i].els[t]={...r,visible:s}}if(glhp.areStringsEqualIgnoreCase(a.c,"MindMap"))for(t=0;t<a.es.length;t++){let r=a.es[t],s=a.tim&&0==a.tim.sT;e[i].es[t]={...r,visible:s}}}return e}function b(e,t){e&&!e.IsLoaded&&($(t).show(),e.load(),isTransitionComplete=!0)}return{generateHTML:function(t=!1){if(l=this,null!=e){if(0==DOC.iLis)c();else{var r=decode64(DOC.eco);if(null==r)c();else{var s=r.split("-");if(s.length>1){var n=s[1];if(DOC.plr.ti.length.toString()==n)switch(n=s[0]){case"Actived":c(),function(){var e=document.getElementById("container");if(null!=e){var t=document.getElementById("wtm");null!=t&&e.removeChild(t);var i=glhp.crgs("div","wtm");i.innerHTML=Language.wtm,i.setAttribute("style"," transform: rotate(-30deg);opacity: 0.5;color: BLACK;position: absolute;font-size: 24px;position: absolute;text-align: center;display: inline-flex;align-items: center;justify-content: center;width: 100%;height: 100%;pointer-events: none;"),e.appendChild(i)}}();break;case"Unknow":break;case"Trial":c()}}}}return glhp.GetTransition(e),1==function(e){var t=glhp.GetMainLayout(e);if(null!=t&&null!=t.nme&&t.nme.length>0&&null!=e.Data.trans)for(let i=0;i<t.nme.length;i++)if(t.nme[i].tim.sT>=0&&t.nme[i].tim.sT<e.Data.trans.durTra)return!0;return!1}(this)&&(this.Timeline=new TimelineMax,this.Timeline.eventCallback("onUpdate",NarrationMedia.TimelineChanged),this.Timeline.set({},{},e.trans.durTra),this.Timeline.progress(0),this.Timeline.pause(),this.IsPlayTransition=!0),i=glhp.crgs("div",e.id,""),$(i).addClass("stretch-fill"),a=glhp.crgs("div","",""),$(a).addClass("stretch-fill"),i.style.position="absolute",i.style.background="#fff",i.style.top="0px",i.style.zIndex=0,glhp.appendIdContent(i,a),glhp.showSubmitBtn(e),QuestionMobile.RemoveReviewResultButton(),isQuestion="ByQuestion"==e.ft||"Result"==e.slt,this.grlws(e,t,!0),this.HasTransition||u(this),i}},get IsLoaded(){return n},transition:async function(){if(!a)return;$(a).hide();let e=tsmdx.getBuilder(this),t=this;if(e){let{transition:r,duration:n,container:l}=await e();const{transitionController:o}=window.avt;var i=document.getElementById("content");$(i.children).hide(),i&&i.appendChild(l),(s=new o(r,n,()=>{b(t,a),$(i.children).show(),$(l).hide()})).start()}else b(t,a)},get DivContainer(){return a},get DivRoot(){return i},get Transitioned(){return o},set Transitioned(e){o=!!e},grlws:function(e,t,i=!1){if(!e)return null;this.Layouts=[];for(var a=0;a<e.lts.length;a++){var r=e.lts[a];if(null!=r){var s=glrs.getLayoutModule(r.lT);if(null!=s){var n=s.grlw(r,e,t);n&&"underfinded"!=typeof n.generateHTML&&(n.generateHTML(),p(this,n),i&&u(this))}}}return this},initializeIsVisibleProperties:function(){let e=this.Data;if(e&&e.lts){for(let t=0;t<e.lts.length;t++){let i=e.lts[t];if(i.iM&&i.e){let e=m(i.e);i={...i,e:e}}}if(e.the){let t=e.the,i=m(t.e);e={...e,the:{...t,e:i}}}}},refreshIsVisibleProperties:function(){for(let t=0;t<this.Layouts.length;t++){const i=this.Layouts[t];let a=this.Data.lts[t];if(i.Visible&&(this.Data.lts[t]={...a,visible:!0}),i.Elements)for(let t=0;t<i.Elements.length;t++){const r=i.Elements[t];let s=a.e[t],n=r.Matrix;if(a.e[t]={...s,matrix:n,visible:r.IsVisible},glhp.areStringsEqualIgnoreCase(s.c,"Group"))for(var e=0;e<s.els.length;e++){let i=s.els[e],n=r.IsVisible;a.e[t].els[e]={...i,visible:n}}if(glhp.areStringsEqualIgnoreCase(s.c,"MindMap"))for(e=0;e<s.es.length;e++){let i=s.es[e],r=s.tim&&0==s.tim.sT;a.e[t].es[e]={...i,visible:r}}}}},drawCanvas:async function(e,t=!0,i=!0){if(e&&this.Layouts&&this.MainLayout){await this.MainLayout.drawCanvas(e,t,i);for(let a=0;a<this.Layouts.length;a++){const r=this.Layouts[a];r.IsMain||await r.drawCanvas(e,t,i)}}},drawFull:async function(e){let t=e?e.getContext("2d"):null;this.drawCanvas&&await this.drawCanvas(t,!0,!0)},drawBackground:async function(e){let t=e?e.getContext("2d"):null;this.drawCanvas&&await this.drawCanvas(t,!0,!1)},drawForeground:async function(e){let t=e?e.getContext("2d"):null;this.drawCanvas&&await this.drawCanvas(t,!1,!0)},get MainLayout(){return r},gfqtz:function(){var e;return"QuestionSlide"==glrs.crsl.Data.slt&&glhp.DataLocal.Slide[t]&&(e=glhp.DataLocal.Slide[t].iF),e},lwid:function(e){let t=this.Layouts;for(let i=0;i<t.length;i++){let a=t[i],r=a.Data;if(r&&r.id==e)return a}},getLayoutContainsElement:function(e){for(let t=0;t<this.Layouts.length;t++){let i=this.Layouts[t];if(i.getChildById(e))return i}},getElementById:function(e){let t=this.Layouts;for(let i=0;i<t.length;i++){let a=t[i].Elements;for(let t=0;t<a.length;t++){let i=a[t],r=i.Data;if(r&&r.id==e)return i}}},setTriggers:function(){let e=this.Layouts;for(var t=0;t<e.length;t++){let i=e[t];i.Visible&&i.setTriggers()}},IsPlayTransition:!1,Timeline:null,get Data(){return e},get Index(){return parseInt(t)},getMainLayout:function(t){let i=null;for(let a=0;a<t.lts.length;a++){const t=e.lts[a];if(!0===t.iM){i=t;break}}return i},setTimelineElement:function(e,t=!1){console.log(e);const i=this.Layouts[0];let a=this.Data.lts[0];if(e>a.tim.dT&&(e=a.tim.dT),i.Elements){if(t){var r=i.Elements.filter(t=>t.Data.tim.sT<=e);if(r&&r.length>0)for(let t=0;t<r.length;t++){const i=r[t];if(i.Data.a){var s=!0,n=i.Data.tim.sT+i.Data.tim.dT;"Cursor"!=i.Data.c&&"Gesture"!=i.Data.c&&"ZoomPan"!=i.Data.c||(n=e,s=!1);const t=i.Data.a.filter(e=>e.typ&&"exit"==e.typ.toLowerCase()&&e.dA>0);t&&t.length>0&&(n=e),i.TimelineElement.play(),i.TimelineElement.seek(n),s&&i.TimelineElement.pause()}}}var l=a.e.filter(t=>t.tim.sT==e);if(l&&l.length>0)for(let e=0;e<l.length;e++){const t=l[e],r=i.Elements.find(e=>e.Data.id==t.id);if(r&&r.TimelineElement){const e=r;"Audio"!=t.c&&"Video"!=t.c||(t.Acr&&t.ip&&pc.mediaControl("play"),(t.ip&&"Audio"==t.c||"Video"==t.c&&"Automatically"==t.cpr)&&e.loadMedia()),e.TimelineElement.seek(t.tim.sT),e.TimelineElement.play();var o=1;if(t.a){const i=t.a.filter(e=>e.typ&&"entrance"==e.typ.toLowerCase()&&e.dA>0);if(i&&i.length>0){const e=t.a.filter(e=>e.typ&&"emphasis"==e.typ.toLowerCase()&&e.dA>0);o=i[0].dA,"Shape"==i[0].nm&&(o+=1),e&&e.length>0&&(o=t.tim.dT)}else{const e=t.a.filter(e=>e.typ&&"emphasis"==e.typ.toLowerCase()&&e.dA>0);e&&e.length>0&&(o=t.tim.dT)}"Cursor"!=t.c&&"Gesture"!=t.c&&"ZoomPan"!=t.c||(o=a.tim.dT+a.tim.sT),o+=2,e.timeAnimation=Date.now(),setTimeout(()=>{var t=Date.now()-e.timeAnimation;Math.abs(t-1e3*o)<=100&&e.TimelineElement.pause()},1e3*o)}}}if(!t){var h=a.e.filter(t=>t.tim.sT+t.tim.dT==e);if(h&&h.length>0)for(let t=0;t<h.length;t++){const a=h[t],r=i.Elements.find(e=>e.Data.id==a.id),s=a.tim.sT+a.tim.dT;if(r&&r.TimelineElement){const t=r;if(t.TimelineElement&&e>0&&a.a){const e=a.a.filter(e=>e.typ&&"exit"==e.typ.toLowerCase()&&e.dA>0);if(e&&e.length>0){const i=e[0].dA;t.TimelineElement.seek(s-i),t.TimelineElement.play()}}}}}var d=a.e.filter(t=>t.tim.sT>e||t.tim.sT+t.tim.dT<e);if(d&&d.length>0)for(let e=0;e<d.length;e++){const t=d[e],a=i.Elements.find(e=>e.Data.id==t.id);a&&a.unload()}}},load:function(){let t=this.getMainLayout(glrs.crsl.Data);if(t&&t.nme&&null!==t.nme&&t.nme.length>0){let e=t.nme[0];if("Video"===e.ty){let t=document.getElementById("presentervideo").getElementsByTagName("video");if(null!=t&&t.length>0){if(!0===DOC.isExVi){var i=e;t[0].addEventListener("play",(function(e){startTime=Date.now()-glrs.StartPresentationTime.getTime(),glrs.addMedia({Id:i.id,Url:i.sou,StartTime:startTime})})),t[0].addEventListener("pause",(function(e){var t=glrs.ListMedia.find(e=>e.Id===i.id);void 0!==t&&(t.EndTime=Date.now()-glrs.StartPresentationTime.getTime())}))}glhp.LoadMedia(t[0])}}else{let t=document.getElementById("narrationAudio").getElementsByTagName("audio");if(null!=t&&t.length>0){if(!0===DOC.isExVi){i=e;t[0].addEventListener("play",(function(e){startTime=Date.now()-glrs.StartPresentationTime.getTime(),glrs.addMedia({Id:i.id,Url:i.sou,StartTime:startTime})})),t[0].addEventListener("pause",(function(e){var t=glrs.ListMedia.find(e=>e.Id===i.id);void 0!==t&&(t.EndTime=Date.now()-glrs.StartPresentationTime.getTime())}))}glhp.LoadMedia(t[0])}}}if(l.Layouts.length>0){let t=l.Data&&l.Data.slt&&"questionslide"===l.Data.slt.toLowerCase();l.Layouts[0].show(!1,!1,t);var a=this.gfqtz();if(a)for(var r=1;r<e.lts.length;r++)if(e.lts[r].id==a&&l.Layouts.length>r){l.Layouts[r].show();break}l.Layouts[0].Timeline.pause(),null!=this.Timeline&&this.Timeline.play()}if(this.play(),t&&t.e&&t.e.length>0)for(let e=0;e<t.e.length;e++){const i=t.e[e];if(i.tim&&(i.tim.sT>0&&i.tim.dT<=t.tim.dT&&-1==this.StartTimeStack.indexOf(i.tim.sT)&&this.StartTimeStack.push(i.tim.sT),i.tim.sT>=0&&i.tim.dT<=t.tim.dT)){let e=i.a.filter(e=>e.typ&&"exit"==e.typ.toLowerCase()&&e.dA>0&&"none"!=e.nm.toLowerCase());e&&e.length>0&&i.tim.dT+i.tim.sT<=t.tim.dT&&-1==this.StartTimeStack.indexOf(i.tim.dT+i.tim.sT)&&(this.StartTimeStack.push(i.tim.dT+i.tim.sT),this.AnimationEndTimeStack.push(i.tim.dT+i.tim.sT))}}if(this.StartTimeStack.sort((e,t)=>e-t),n=!0,t=this.MainLayout,t&&t.Data&&(this.focusedElement=t.Data.id),glhp.clearSlideDivTagsBut("caption",this.DivRoot.id),DOC.isPresentation){if(isLoadEnd)-1==this.StartTimeStack.indexOf(0)&&this.StartTimeStack.unshift(0),this.setTimelineElement(t.Data.tim.dT,!0),this.stackTime=this.StartTimeStack.length-1;else this.setTimelineElement(0),this.stackTime=-1;setTimeout(()=>{this.MainTimeline.pause()},500)}let s=this;setTimeout(()=>{s.setTriggers()},50)},get HasTransition(){if(!this.Data||!tsmdx)return!1;let e=this.Data.trans;return e&&e.nm&&"none"!=e.nm.toLowerCase()},play:function(){if(this.MainLayout){!0===DOC.isExVi&&this.MainTimeline.timeScale(DOC.timSca);let e=this.Data&&this.Data.slt&&"questionslide"===this.Data.slt.toLowerCase();this.MainLayout.show(!0,!1,e)}f()},unload:function(){this.StartTimeStack=[],TweenMax.killAll(!1,!0,!1,!1);for(var e=0;e<this.Layouts.length;e++)null!=this.Layouts[e].Timeline&&(this.Layouts[e].hide(),this.Layouts[e].Timeline.stop());null!=this.MainTimeline&&this.MainTimeline.stop(),s&&s.end(),n=!1,h.length>0&&(h.forEach(e=>{clearTimeout(e)}),h=[]),this.focusedElement=null},addTimer:function(e){h.push(e)},get FocusedElement(){return d},set FocusedElement(e){d=e},Layouts:[],PresenterVideo:null,get MainTimeline(){for(var e=0;e<this.Layouts.length;e++){var t=this.Layouts[e];if(1==t.Data.iM)return t.Timeline}return null},StartTimeStack:[],AnimationEndTimeStack:[],StackCursor:0,stackTime:-1,nextCursor:function(){if(this.MainTimeline&&this.StartTimeStack){this.MainTimeline.pause(),this.stackTime<-1&&(this.stackTime=-1),isLoadEnd&&(isLoadEnd=!1),this.stackTime+=1;let i=this.StartTimeStack[this.stackTime];var t=e.tim.dT;if(i&&i<=t&&this.setTimelineElement(i),0==this.StartTimeStack.length||null==i||null==i){window.chrome&&window.chrome.webview&&window.chrome.webview.postMessage(5),pc.nextClick(!1);let e=glrs.crsl;e&&e.Data&&e.Data.id!=this.Data.id&&(this.StackCursor=0),glrs.crsl.StackCursor=0}}},previousCursor:function(){if(-1==this.StartTimeStack.indexOf(0)&&(this.StartTimeStack.length>0&&(this.stackTime+=1),this.StartTimeStack.unshift(0)),this.stackTime-=1,this.stackTime>0){for(let t=this.stackTime;t>0;t--){var e=this.StartTimeStack[this.stackTime];if(-1==this.AnimationEndTimeStack.indexOf(e))break;this.stackTime-=1}}if(this.MainTimeline&&this.StartTimeStack){this.MainTimeline.pause(),isLoadEnd||(isLoadEnd=!0);let e=this.StartTimeStack[this.stackTime];null!=e&&null!=e&&this.stackTime<this.StartTimeStack.length&&this.StartTimeStack[this.stackTime]>=0&&this.setTimelineElement(e,!0)}this.stackTime<0&&pc.previousClick(!1)},lastCursor:function(){let e=glrs.crsl;if(e&&e.Data&&e.Data.id!=this.Data.id){e.StackCursor=e.StartTimeStack.length-1;let t=e.StartTimeStack[e.StackCursor];t>=0&&(e.MainTimeline.seek(t),e.MainTimeline.play())}}};function f(){for(var e=0;e<$("#content")[0].children.length;e++){var t=$("#content")[0].children[e];""!=t.id&&t.id!=glrs.crsl.Data.id&&"caption"!=t.id&&$(t).remove()}document.getElementById("content").style.pointerEvents="",glhp.isJumto=!1}}glrs.addModule(nlmdw);var NarrationMedia={TimelineChanged:function(){let e=glrs.crsl.Timeline;if(!e)return;let t=e.time(),i=null,a=glhp.GetMainLayout(glrs.crsl);for(let e=0;e<a.nme.length;e++)if(a.nme[e].tim.sT>=0&&a.nme[e].tim.sT<glrs.crsl.Data.trans.durTra){i=a.nme[e];break}if(glrs.crsl.IsPlayTransition=!0,t>=glrs.crsl.Data.trans.durTra&&(e.paused(),glrs.crsl.IsPlayTransition=!1),null!=i){let e=document.getElementById(i.id);if(null!=e)switch(i.ty){case"Audio":e.paused&&e.play().catch((function(e){}));break;case"Video":document.getElementById("presentervideo").style.display="block",e.style.display="block",e.paused&&e.play()}}}},gldc=function(){document.getElementById("totalSlide").innerHTML=DOC.slds.length;var e="";if(DOC.time){var t=Math.floor(DOC.time/86400);t<1&&(t=0);var i=Math.floor((DOC.time-3600*t*24)/3600);i<1?i=0:i>23&&(t+=Math.floor(i/24),i-=24*Math.floor(i/24));var a=Math.floor((DOC.time-3600*t*24-3600*i)/60);a<1?a=0:a>59&&(i+=Math.floor(a/60),a-=60*Math.floor(a/60));var r,s,n,l,o=Math.floor(DOC.time-3600*t*24-3600*i-60*a);switch(o<0&&(o=0),DOC.Lang.toUpperCase()){case"EN-US":r="hour",n="minute",s="second",l="day";break;case"TH-TH":r="ชั่วโมง",n="นาที",s="ที่สอง",l="วัน";break;case"VI-VN":r="giờ",n="phút",s="giây",l="ngày"}e=`${a.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1})} ${n} ${o.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1})} ${s}`,i>=1&&(e=`${i.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1})} ${r} ${e}`),t>=1&&(e=`${t.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1})} ${l} ${e}`)}return document.getElementById("timeSlider").setAttribute("title",e),{grez:function(e,t){if(null!=e){var i=glrs.getElementModule(e.c);if(null!=i){var a=i.grez(e,t);if("div"==a.tagName)return a;if("g"==a.tagName){var r=glhp.crgs("div",e.Id,""),s=glhp.crgs("svg","","");glhp.appendIdContent(s,a);var n=shzp.grnz(e.shs,{ID:e.Id,Width:e.w,Height:e.h});return glhp.appendIdContent(s,n),glhp.appendIdContent(r,s),r}if("canvas"==a.tagName){r=glhp.crgs("div",e.Id,"");var l=glhp.crgs("canvas","","");return glhp.appendIdContent(l,a),glhp.appendIdContent(r,l),r}}}},grlw:function(e,t){var i=glhp.crgs("div",e.Id,""),a=grlwBackground(e);glhp.appendIdContent(i,a);var r=glhp.crgs("div","","");glhp.appendIdContent(i,r);for(var s=0;s<e.e.length;s++){var n=e.e[s];this.grez(n,t)}}}}(),Text=function(){function e(e){this.options=e}return e.prototype.dwsqzText=function(e,t,i,a){var r=glhp.crgs("g","","mathNone"),s=0,n=0;for(let o=0;o<16;o++){o>=0&&o<=4?(s=o*i/9*2+i/18,n=i/18):o>=5&&o<=8?(s=17/18*i,n=(o-4)*i/9*2+i/18):o>=9&&o<=12?(s=(o-9)*i/9*2+i/18,n=17*i/18):o>=13&&(s=i/18,n=(o-12)*i/9*2+i/18),s+=e,n+=t;var l=glhp.crgs("circle");l.setAttribute("cx",s),l.setAttribute("cy",n),l.setAttribute("r",i/18),l.setAttribute("fill",a),r.appendChild(l)}return r},e.prototype.DrawBracket1S=function(e,t,i,a){var r=glhp.crgs("g","","math"),s=document.createElementNS(xmlNs,"path"),n="M"+e/2+" 0 C0 "+t/4+" 0 "+3*t/4+" "+e/2+" "+t;s.setAttribute("d",n),s.setAttribute("stroke",a),s.setAttribute("stroke-width",.05*i),s.setAttribute("fill","transparent"),r.appendChild(s);var l=document.createElementNS(xmlNs,"path");n="M"+e/2+" 0 C"+.05*i+" "+t/4+" "+.05*i+" "+3*t/4+" "+e/2+" "+t;return l.setAttribute("d",n),l.setAttribute("stroke",a),l.setAttribute("stroke-width",.05*i),l.setAttribute("fill","transparent"),r.appendChild(l),r},e.prototype.DrawBracket1E=function(e,t,i,a){var r=glhp.crgs("g","","math"),s=document.createElementNS(this.xmlNs,"path"),n="M"+e/2+" 0 C"+e+" "+t/4+" "+e+" "+3*t/4+" "+e/2+" "+t;s.setAttribute("d",n),s.setAttribute("stroke",a),s.setAttribute("stroke-width",.05*i),s.setAttribute("fill","transparent"),r.appendChild(s);var l=document.createElementNS(this.xmlNs,"path");n="M"+e/2+" 0 C"+(e-.05*i)+" "+t/4+" "+(e-.05*i)+" "+3*t/4+" "+e/2+" "+t;return l.setAttribute("d",n),l.setAttribute("stroke",a),l.setAttribute("stroke-width",.05*i),l.setAttribute("fill","transparent"),r.appendChild(l),r},e.prototype.DrawBracket2S=function(e,t,i,a){var r=glhp.crgs("g","","math"),s=document.createElementNS(this.xmlNs,"path"),n="M"+2*e/3+" "+.05*i+" "+.05*i+" "+.05*i+" "+.05*i+" "+t+" "+2*e/3+" "+t;s.setAttribute("d",n),s.setAttribute("stroke",a),s.setAttribute("stroke-width",.035*i),s.setAttribute("fill","transparent"),r.appendChild(s);var l=document.createElementNS(this.xmlNs,"path");n="M"+2*e/3+" "+.05*i+" "+.085*i+" "+.05*i+" "+.085*i+" "+t+" "+2*e/3+" "+t;return l.setAttribute("d",n),l.setAttribute("stroke",a),l.setAttribute("stroke-width",.035*i),l.setAttribute("fill","transparent"),r.appendChild(l),r},e.prototype.DrawBracket2E=function(e,t,i,a){var r=glhp.crgs("g","","math"),s=document.createElementNS(this.xmlNs,"path"),n="M"+.05*i+" "+.05*i+" "+2*e/3+" "+.05*i+" "+2*e/3+" "+t+" "+.05*i+" "+t;s.setAttribute("d",n),s.setAttribute("stroke",a),s.setAttribute("stroke-width",.035*i),s.setAttribute("fill","transparent"),r.appendChild(s);var l=document.createElementNS(this.xmlNs,"path");n="M"+.05*i+" "+.05*i+" "+(2*e/3-.03*i)+" "+.05*i+" "+(2*e/3-.03*i)+" "+t+" "+.05*i+" "+t;return l.setAttribute("d",n),l.setAttribute("stroke",a),l.setAttribute("stroke-width",.035*i),l.setAttribute("fill","transparent"),r.appendChild(l),r},e.prototype.DrawBracket3S=function(e,t,i,a){var r=glhp.crgs("g","","math"),s=document.createElementNS(this.xmlNs,"path"),n="M"+e+" 0 C"+e/2+" 0 "+e/2+" "+t/6+" "+e/2+" "+t/6;n+=" L"+e/2+" "+t/3,n+=" C"+e/2+" "+t/2+" 0 "+t/2+" 0 "+t/2,n+=" C"+e/2+" "+t/2+" "+e/2+" "+2*t/3+" "+e/2+" "+2*t/3,n+=" L"+e/2+" "+5*t/6,n+=" C"+e/2+" "+t+" "+e+" "+t+" "+e+" "+t,s.setAttribute("d",n),s.setAttribute("stroke",a),s.setAttribute("stroke-width",.025*i),s.setAttribute("fill","transparent"),r.appendChild(s);var l=document.createElementNS(this.xmlNs,"path");n="M"+(e-2)+" 0 C"+(e/2+.015*i)+" 2 "+(e/2+.015*i)+" "+t/6+" "+(e/2+.015*i)+" "+t/6;return n+=" L"+(e/2+.015*i)+" "+t/3,n+=" C"+(e/2+.015*i)+" "+t/2+" 2 "+t/2+" 2 "+t/2,n+=" C"+(e/2+.015*i)+" "+t/2+" "+(e/2+.015*i)+" "+2*t/3+" "+(e/2+.015*i)+" "+2*t/3,n+=" L"+(e/2+.015*i)+" "+5*t/6,n+=" C"+(e/2+.015*i)+" "+(t-2)+" "+e+" "+t+" "+e+" "+t,l.setAttribute("d",n),l.setAttribute("stroke",a),l.setAttribute("stroke-width",.025*i),l.setAttribute("fill","transparent"),r.appendChild(l),r},e.prototype.DrawAccent4=function(e,t,i,a){var r=glhp.crgs("g","","math"),s=Math.min(e,72*i/96*4),n=document.createElementNS(this.xmlNs,"path"),l="M"+(e-s)/2+" "+t/2+" "+e/2+" "+-t/4+" "+(e+s)/2+" "+t/2+" "+e/2+" "+-.05*i+" "+(e-s)/2+" "+t/2;return n.setAttribute("d",l),n.setAttribute("stroke",a),n.setAttribute("stroke-width",.05*i),n.setAttribute("fill","transparent"),r.appendChild(n),r},e.prototype.DrawAccent5=function(e,t,i,a){var r=glhp.crgs("g","","math"),s=Math.min(e,72*i/96*4),n=document.createElementNS(this.xmlNs,"path"),l="M"+(e-s)/2+" "+-t/4+" "+e/2+" "+t/2+" "+(e+s)/2+" "+-t/4+" "+e/2+" "+(t/2-.05*i)+" "+(e-s)/2+" "+-t/4;return n.setAttribute("d",l),n.setAttribute("stroke",a),n.setAttribute("stroke-width",.05*i),n.setAttribute("fill","transparent"),r.appendChild(n),r},e.prototype.DrawAccent8=function(e,t,i,a){var r=glhp.crgs("g","","math"),s=Math.min(e,72*i/96*4),n=document.createElementNS(this.xmlNs,"path"),l="M"+(e-s)/2+" 0 C"+((e-s)/2+.2*i)+" "+t+" "+((e+s)/2-.2*i)+" "+t+" "+(e+s)/2+" 0";n.setAttribute("d",l),n.setAttribute("stroke",a),n.setAttribute("stroke-width",.05*i),n.setAttribute("fill","transparent"),r.appendChild(n);var o=document.createElementNS(this.xmlNs,"path");l="M"+(e-s)/2+" 0 C"+((e-s)/2+.2*i)+" "+(t-.05*i)+" "+((e+s)/2-.2*i)+" "+(t-.05*i)+" "+(e+s)/2+" 0";return o.setAttribute("d",l),o.setAttribute("stroke",a),o.setAttribute("stroke-width",.05*i),o.setAttribute("fill","transparent"),r.appendChild(o),r},e.prototype.DrawAccent9=function(e,t,i,a){var r=glhp.crgs("g","","math"),s=Math.min(e,72*i/96*4),n=document.createElementNS(this.xmlNs,"path"),l="M"+(e-s)/2+" "+5*t/8+" C"+e/2+" 0 "+e/2+" "+t+" "+(e+s)/2+" "+3*t/8;n.setAttribute("d",l),n.setAttribute("stroke",a),n.setAttribute("stroke-width",.05*i),n.setAttribute("fill","transparent"),r.appendChild(n);var o=document.createElementNS(this.xmlNs,"path");l="M"+(e-s)/2+" "+5*t/8+" C"+e/2+" "+.1*i+" "+e/2+" "+(t-.1*i)+" "+(e+s)/2+" "+3*t/8;return o.setAttribute("d",l),o.setAttribute("stroke",a),o.setAttribute("stroke-width",.0125*i),o.setAttribute("fill","transparent"),r.appendChild(o),r},e.prototype.DrawAccent10=function(e,t,i,a){var r=glhp.crgs("g","","math"),s=(Math.min(e,72*i/96*4),document.createElementNS(this.xmlNs,"path")),n="M 0 "+-.1*i+" "+e+" "+-.1*i;return s.setAttribute("d",n),s.setAttribute("stroke",a),s.setAttribute("stroke-width",.05*i),s.setAttribute("fill","transparent"),r.appendChild(s),r},e.prototype.DrawAccent11=function(e,t,i,a){var r=glhp.crgs("g","","math"),s=(Math.min(e,72*i/96*4),document.createElementNS(this.xmlNs,"path")),n="M 0 "+.2*i+" "+e+" "+.2*i;return n+="M 0 "+.05*i+" "+e+" "+.05*i,s.setAttribute("d",n),s.setAttribute("stroke",a),s.setAttribute("stroke-width",.05*i),s.setAttribute("fill","transparent"),r.appendChild(s),r},e.prototype.DrawAccent12=function(e,t,i,a){t=4*t/3;var r=glhp.crgs("g","","math"),s=document.createElementNS(this.xmlNs,"path"),n="M0 "+t+" C0 "+t/2+" "+e/6+" "+t/2+" "+e/6+" "+t/2;n+=" L "+e/3+" "+t/2,n+=" C"+e/3+" "+t/2+" "+e/2+" "+t/2+" "+e/2+" 0",n+=" C"+e/2+" "+t/2+" "+2*e/3+" "+t/2+" "+2*e/3+" "+t/2,n+=" L"+5*e/6+" "+t/2,n+=" C"+e+" "+t/2+" "+e+" "+t+" "+e+" "+t,s.setAttribute("d",n),s.setAttribute("stroke",a),s.setAttribute("stroke-linejoin","miter"),s.setAttribute("stroke-width",.05*i),s.setAttribute("fill","transparent"),r.appendChild(s);var l=document.createElementNS(this.xmlNs,"path");n="M0 "+t+" C0 "+(t/2-.045*i)+" "+e/6+" "+(t/2-.045*i)+" "+e/6+" "+(t/2-.045*i);return n+=" L "+e/3+" "+(t/2-.045*i),n+=" C"+e/3+" "+(t/2-.045*i)+" "+e/2+" "+(t/2-.045*i)+" "+e/2+" 0",n+=" C"+e/2+" "+(t/2-.045*i)+" "+2*e/3+" "+(t/2-.045*i)+" "+2*e/3+" "+(t/2-.045*i),n+=" L"+5*e/6+" "+(t/2-.045*i),n+=" C"+e+" "+(t/2-.045*i)+" "+e+" "+t+" "+e+" "+t,l.setAttribute("d",n),l.setAttribute("stroke",a),l.setAttribute("stroke-width",.05*i),l.setAttribute("fill","transparent"),r.appendChild(l),r},e.prototype.DrawBracket3E=function(e,t,i,a){var r=glhp.crgs("g","","math"),s=document.createElementNS(this.xmlNs,"path"),n="M 0 0 C"+e/2+" 0 "+e/2+" "+t/6+" "+e/2+" "+t/6;n+=" L"+e/2+" "+t/3,n+=" C"+e/2+" "+t/2+" "+e+" "+t/2+" "+e+" "+t/2,n+=" C"+e/2+" "+t/2+" "+e/2+" "+2*t/3+" "+e/2+" "+2*t/3,n+=" L"+e/2+" "+5*t/6,n+=" C"+e/2+" "+t+" 0 "+t+" 0 "+t,s.setAttribute("d",n),s.setAttribute("stroke",a),s.setAttribute("stroke-width",.025*i),s.setAttribute("fill","transparent"),r.appendChild(s);var l=document.createElementNS(this.xmlNs,"path");n="M 0 0 C"+(e/2-.025*i)+" 0 "+(e/2-.025*i)+" "+t/6+" "+(e/2-.025*i)+" "+t/6;return n+=" L"+(e/2-.025*i)+" "+t/3,n+=" C"+(e/2-.025*i)+" "+t/2+" "+e+" "+t/2+" "+e+" "+t/2,n+=" C"+(e/2-.025*i)+" "+t/2+" "+(e/2-.025*i)+" "+2*t/3+" "+(e/2-.025*i)+" "+2*t/3,n+=" L"+(e/2-.025*i)+" "+5*t/6,n+=" C"+(e/2-.025*i)+" "+t+" 0 "+t+" 0 "+t,l.setAttribute("d",n),l.setAttribute("stroke",a),l.setAttribute("stroke-width",.025*i),l.setAttribute("fill","transparent"),r.appendChild(l),r},e.prototype.DrawAccent13=function(e,t,i,a){var r=glhp.crgs("g","","math"),s=document.createElementNS(this.xmlNs,"path"),n="M0 0 C0 "+(t/2+.045*i)+" "+e/6+" "+(t/2+.045*i)+" "+e/6+" "+(t/2+.045*i);n+=" L "+e/3+" "+(t/2+.045*i),n+=" C"+e/2+" "+(t/2+.045*i)+" "+e/2+" "+t+" "+e/2+" "+t,n+=" C"+e/2+" "+(t/2+.045*i)+" "+2*e/3+" "+(t/2+.045*i)+" "+2*e/3+" "+(t/2+.045*i),n+=" L"+5*e/6+" "+(t/2+.045*i),n+=" C"+e+" "+(t/2+.045*i)+" "+e+" 0 "+e+" 0",s.setAttribute("d",n),s.setAttribute("stroke",a),s.setAttribute("stroke-width",.05*i),s.setAttribute("fill","transparent"),r.appendChild(s);var l=document.createElementNS(this.xmlNs,"path");n="M0 0 C0 "+t/2+" "+e/6+" "+t/2+" "+e/6+" "+t/2;return n+=" L "+e/3+" "+t/2,n+=" C"+e/2+" "+t/2+" "+e/2+" "+t+" "+e/2+" "+t,n+=" C"+e/2+" "+t/2+" "+2*e/3+" "+t/2+" "+2*e/3+" "+t/2,n+=" L"+5*e/6+" "+t/2,n+=" C"+e+" "+t/2+" "+e+" 0 "+e+" 0",l.setAttribute("d",n),l.setAttribute("stroke",a),l.setAttribute("stroke-width",.05*i),l.setAttribute("fill","transparent"),r.appendChild(l),r},e.prototype.DrawAccent14=function(e,t,i,a){var r=glhp.crgs("g","","math"),s=document.createElementNS(this.xmlNs,"path"),n="M0,0 0 "+t+" "+e+" "+t+" "+e+" 0z";return s.setAttribute("d",n),s.setAttribute("stroke",a),s.setAttribute("stroke-width",.05*i),s.setAttribute("fill","transparent"),r.appendChild(s),r},e.prototype.DrawAccent15=function(e,t,i,a){var r=glhp.crgs("g","","math"),s=document.createElementNS(this.xmlNs,"path"),n="M 0 "+t/2+" "+e+" "+t/2;return s.setAttribute("d",n),s.setAttribute("stroke",a),s.setAttribute("stroke-width",.05*i),s.setAttribute("fill","transparent"),r.appendChild(s),r},e.prototype.DrawBracket4S=function(e,t,i,a){var r=glhp.crgs("g","","math"),s=document.createElementNS(this.xmlNs,"path"),n="M"+e+" 0 0 "+t/2+" "+e+" "+t;s.setAttribute("d",n),s.setAttribute("stroke",a),s.setAttribute("stroke-width",.05*i),s.setAttribute("fill","transparent"),r.appendChild(s);var l=document.createElementNS(this.xmlNs,"path");n="M"+e+" 0 "+.05*i+" "+t/2+" "+e+" "+t;return l.setAttribute("d",n),l.setAttribute("stroke",a),l.setAttribute("stroke-width",.05*i),l.setAttribute("fill","transparent"),r.appendChild(l),r},e.prototype.DrawBracket4E=function(e,t,i,a){var r=glhp.crgs("g","","math"),s=document.createElementNS(this.xmlNs,"path"),n="M 0 0 "+e+" "+t/2+" 0 "+t;s.setAttribute("d",n),s.setAttribute("stroke",a),s.setAttribute("stroke-width",.05*i),s.setAttribute("fill","transparent"),r.appendChild(s);var l=document.createElementNS(this.xmlNs,"path");n="M 0 0 "+(e-.05*i)+" "+t/2+" 0 "+t;return l.setAttribute("d",n),l.setAttribute("stroke",a),l.setAttribute("stroke-width",.05*i),l.setAttribute("fill","transparent"),r.appendChild(l),r},e.prototype.DrawBracket5S=function(e,t,i,a){var r=glhp.crgs("g","","math"),s=document.createElementNS(this.xmlNs,"path"),n="M 0 0 0 "+t+" "+e+" "+t;s.setAttribute("d",n),s.setAttribute("stroke",a),s.setAttribute("stroke-width",.035*i),s.setAttribute("fill","transparent"),r.appendChild(s);var l=document.createElementNS(this.xmlNs,"path");n="M "+.035*i+" 0 "+.035*i+" "+t+" "+e+" "+t;return l.setAttribute("d",n),l.setAttribute("stroke",a),l.setAttribute("stroke-width",.035*i),l.setAttribute("fill","transparent"),r.appendChild(l),r},e.prototype.DrawBracket5E=function(e,t,i,a){var r=glhp.crgs("g","","math"),s=document.createElementNS(this.xmlNs,"path"),n="M "+e+" 0 "+e+" "+t+" 0 "+t;s.setAttribute("d",n),s.setAttribute("stroke",a),s.setAttribute("stroke-width",.035*i),s.setAttribute("fill","transparent"),r.appendChild(s);var l=document.createElementNS(this.xmlNs,"path");n="M "+(e-.035*i)+" 0 "+(e-.035*i)+" "+t+" 0 "+t;return l.setAttribute("d",n),l.setAttribute("stroke",a),l.setAttribute("stroke-width",.035*i),l.setAttribute("fill","transparent"),r.appendChild(l),r},e.prototype.DrawBracket6S=function(e,t,i,a){var r=glhp.crgs("g","","math"),s=document.createElementNS(this.xmlNs,"path"),n="M"+e+" 0 0 0 0 "+t;s.setAttribute("d",n),s.setAttribute("stroke",a),s.setAttribute("stroke-width",.035*i),s.setAttribute("fill","transparent"),r.appendChild(s);var l=document.createElementNS(this.xmlNs,"path");n="M"+e+" 0 "+.035*i+" 0 "+.035*i+" "+t;return l.setAttribute("d",n),l.setAttribute("stroke",a),l.setAttribute("stroke-width",.035*i),l.setAttribute("fill","transparent"),r.appendChild(l),r},e.prototype.DrawBracket6E=function(e,t,i,a){var r=glhp.crgs("g","","math"),s=document.createElementNS(this.xmlNs,"path"),n="M0 0 "+e+" 0 "+e+" "+t;s.setAttribute("d",n),s.setAttribute("stroke",a),s.setAttribute("stroke-width",.035*i),s.setAttribute("fill","transparent"),r.appendChild(s);var l=document.createElementNS(this.xmlNs,"path");n="M0 0 "+(e-.035*i)+" 0 "+(e-.035*i)+" "+t;return l.setAttribute("d",n),l.setAttribute("stroke",a),l.setAttribute("stroke-width",.035*i),l.setAttribute("fill","transparent"),r.appendChild(l),r},e.prototype.DrawBracket7S=function(e,t,i,a){var r=glhp.crgs("g","","math"),s=document.createElementNS(this.xmlNs,"path"),n="M"+e/2+" 0 "+e/2+" "+t;return s.setAttribute("d",n),s.setAttribute("stroke",a),s.setAttribute("stroke-width",.05*i),s.setAttribute("fill","transparent"),r.appendChild(s),r},e.prototype.DrawBracket8S=function(e,t,i,a){var r=glhp.crgs("g","","math"),s=document.createElementNS(this.xmlNs,"line");s.setAttribute("x1",e/3),s.setAttribute("y1",0),s.setAttribute("x2",e/3),s.setAttribute("y2",t),s.setAttribute("stroke",a),s.setAttribute("stroke-width",.05*i),r.appendChild(s);var n=document.createElementNS(this.xmlNs,"line");return n.setAttribute("x1",2*e/3),n.setAttribute("y1",0),n.setAttribute("x2",2*e/3),n.setAttribute("y2",t),n.setAttribute("stroke",a),n.setAttribute("stroke-width",.05*i),r.appendChild(n),r},e.prototype.DrawBracket10S=function(e,t,i,a){var r=glhp.crgs("g","","math"),s=document.createElementNS(this.xmlNs,"line");s.setAttribute("x1",.15*i),s.setAttribute("y1",0),s.setAttribute("x2",.15*i),s.setAttribute("y2",t),s.setAttribute("stroke",a),s.setAttribute("stroke-width",.05*i),r.appendChild(s);var n=document.createElementNS(this.xmlNs,"line");n.setAttribute("x1",0),n.setAttribute("y1",0),n.setAttribute("x2",0),n.setAttribute("y2",t),n.setAttribute("stroke",a),n.setAttribute("stroke-width",.05*i),r.appendChild(n);var l=document.createElementNS(this.xmlNs,"line");l.setAttribute("x1",0),l.setAttribute("y1",0),l.setAttribute("x2",2*e/3),l.setAttribute("y2",0),l.setAttribute("stroke",a),l.setAttribute("stroke-width",.05*i),r.appendChild(l);var o=document.createElementNS(this.xmlNs,"line");return o.setAttribute("x1",0),o.setAttribute("y1",t),o.setAttribute("x2",2*e/3),o.setAttribute("y2",t),o.setAttribute("stroke",a),o.setAttribute("stroke-width",.05*i),r.appendChild(o),r},e.prototype.DrawBracket10E=function(e,t,i,a){var r=glhp.crgs("g","","math"),s=document.createElementNS(this.xmlNs,"line");s.setAttribute("x1",e-.15*i),s.setAttribute("y1",0),s.setAttribute("x2",e-.15*i),s.setAttribute("y2",t),s.setAttribute("stroke",a),s.setAttribute("stroke-width",.05*i),r.appendChild(s);var n=document.createElementNS(this.xmlNs,"line");n.setAttribute("x1",e),n.setAttribute("y1",0),n.setAttribute("x2",e),n.setAttribute("y2",t),n.setAttribute("stroke",a),n.setAttribute("stroke-width",.05*i),r.appendChild(n);var l=document.createElementNS(this.xmlNs,"line");l.setAttribute("x1",e/3),l.setAttribute("y1",0),l.setAttribute("x2",e),l.setAttribute("y2",0),l.setAttribute("stroke",a),l.setAttribute("stroke-width",.05*i),r.appendChild(l);var o=document.createElementNS(this.xmlNs,"line");return o.setAttribute("x1",e/3),o.setAttribute("y1",t),o.setAttribute("x2",e),o.setAttribute("y2",t),o.setAttribute("stroke",a),o.setAttribute("stroke-width",.05*i),r.appendChild(o),r},e.prototype.DrawSpecialSymbol=function(e,t,i,a,r,s,n){var l=glhp.crgs("g","","math"),o=document.createElementNS(this.xmlNs,"text");switch(e){case"Integral1":o.setAttribute("y",r-n*s*1.5/100+.4*i),o.setAttribute("font-size",72*i/96);var h=document.createTextNode("∫");o.setAttribute("font-family","IntegralsUp");break;case"Integral2":h=document.createTextNode("∬");o.setAttribute("y",r-n*s*1.5/100+.4*i),o.setAttribute("font-size",72*i/96),o.setAttribute("font-family","IntegralsUp");break;case"Integral3":h=document.createTextNode("∭");o.setAttribute("y",r-n*s*1.5/100+.4*i),o.setAttribute("font-size",72*i/96),o.setAttribute("font-family","IntegralsUp");break;case"Integral4":h=document.createTextNode("∮");o.setAttribute("y",r-n*s*1.5/100+.4*i),o.setAttribute("font-size",72*i/96),o.setAttribute("font-family","IntegralsUp");break;case"Integral5":h=document.createTextNode("∯");o.setAttribute("y",r-n*s*1.5/100+.4*i),o.setAttribute("font-size",72*i/96),o.setAttribute("font-family","IntegralsUp");break;case"Integral6":h=document.createTextNode("∰");o.setAttribute("y",r-n*s*1.5/100+.4*i),o.setAttribute("font-size",72*i/96),o.setAttribute("font-family","IntegralsUp");break;case"LargeOperator1":h=document.createTextNode("∑");o.setAttribute("y",r-n*s*1.5/100),o.setAttribute("font-size",96*i/72),o.setAttribute("font-family","SizeOneSym");break;case"LargeOperator2":h=document.createTextNode("∏");o.setAttribute("y",r-n*s*1.5/100),o.setAttribute("font-size",96*i/72),o.setAttribute("font-family","SizeOneSym");break;case"LargeOperator3":h=document.createTextNode("∐");o.setAttribute("y",r-n*s*1.5/100),o.setAttribute("font-size",96*i/72),o.setAttribute("font-family","SizeOneSym");break;case"LargeOperator4":h=document.createTextNode("⋃");o.setAttribute("y",r-n*s*1.5/100),o.setAttribute("font-size",96*i/72),o.setAttribute("font-family","SizeOneSym");break;case"LargeOperator5":h=document.createTextNode("⋂");o.setAttribute("y",r-n*s*1.5/100),o.setAttribute("font-size",96*i/72),o.setAttribute("font-family","SizeOneSym");break;case"LargeOperator6":h=document.createTextNode("⋁");o.setAttribute("y",r-n*s*1.5/100),o.setAttribute("font-size",96*i/72),o.setAttribute("font-family","SizeOneSym");break;case"LargeOperator7":h=document.createTextNode("⋀");o.setAttribute("y",r-n*s*1.5/100),o.setAttribute("font-size",96*i/72),o.setAttribute("font-family","SizeOneSym")}return o.appendChild(h),o.setAttribute("x",a+.1*i),o.setAttribute("fill",t),l.appendChild(o),l},e.prototype.DrawAccent=function(e,t,i,a,r,s,n,l){var o=glhp.crgs("g","","math"),h=document.createElement("canvas").getContext("2d");h.font=96*i/72+"px Times New Roman";var d=document.createElementNS(this.xmlNs,"text");switch(o.appendChild(d),e){case"Accent1":var c=document.createTextNode(".");d.setAttribute("x",a+l/2-h.measureText(".").width/2);break;case"Accent2":c=document.createTextNode("..");d.setAttribute("x",a+l/2-h.measureText("..").width/2);break;case"Accent3":c=document.createTextNode("...");d.setAttribute("x",a+l/2-h.measureText("...").width/2);break;case"Accent6":c=document.createTextNode("ˏ");d.setAttribute("x",a+l/2-.2*i);break;case"Accent7":c=document.createTextNode("ˎ");d.setAttribute("x",a+l/2-.2*i)}return d.appendChild(c),d.setAttribute("y",r-.2*i*96/72),d.setAttribute("fill",t),d.setAttribute("font-size",96*i/72),d.setAttribute("font-family","Times New Roman"),o},e.prototype.DrawRadical=function(e,t,i,a,r){var s=glhp.crgs("g","","math"),n=document.createElementNS(this.xmlNs,"path"),l="M0 "+(t-i+.05*a)+" "+.15*a+" "+(t-i)+" "+i/2+" "+t+" "+i+" "+.1*a+" "+e+" "+.1*a;n.setAttribute("d",l),n.setAttribute("stroke",r),n.setAttribute("stroke-width",.05*a),n.setAttribute("fill","transparent"),n.setAttribute("stroke-linejoin","bevel"),s.appendChild(n);var o=document.createElementNS(this.xmlNs,"path");l="M"+.1*a+" "+(t-i)+" "+(i/2-.05*a)+" "+t+" "+(i/2+.01*a)+" "+t+" "+i+" "+.1*a;return o.setAttribute("d",l),o.setAttribute("stroke",r),o.setAttribute("stroke-width",.05*a),o.setAttribute("stroke-joinline","bevel"),o.setAttribute("fill","transparent"),s.appendChild(o),s},e.prototype.DrawOperator1=function(e,t,i,a){var r=glhp.crgs("g","","math"),s=document.createElementNS(this.xmlNs,"path"),n="M"+e+" "+t/2+" 0 "+t/2+" L"+.2*i+" "+(t/2-.125*i)+" 0 "+t/2+" L"+.2*i+" "+(t/2+.125*i);return s.setAttribute("d",n),s.setAttribute("stroke",a),s.setAttribute("stroke-width",.05*i),s.setAttribute("stroke-linejoin","bevel"),s.setAttribute("fill","transparent"),r.appendChild(s),r},e.prototype.DrawAccent19=function(e,t,i,a){var r=glhp.crgs("g","","math"),s=document.createElementNS(this.xmlNs,"path"),n="M"+e+" "+t/2+" 0 "+t/2+" L"+.2*i+" "+(t/2-.125*i)+" 0 "+t/2;return s.setAttribute("d",n),s.setAttribute("stroke",a),s.setAttribute("stroke-width",.05*i),s.setAttribute("fill","transparent"),s.setAttribute("stroke-linejoin","bevel"),r.appendChild(s),r},e.prototype.DrawOperator2=function(e,t,i,a){var r=glhp.crgs("g","","math"),s=document.createElementNS(this.xmlNs,"path"),n="M0 "+t/2+" "+e+" "+t/2+" L "+(e-.2*i)+" "+(t/2-.125*i)+" M"+e+" "+t/2+" L"+(e-.2*i)+" "+(t/2+.125*i);return s.setAttribute("d",n),s.setAttribute("stroke",a),s.setAttribute("stroke-width",.05*i),s.setAttribute("fill","transparent"),s.setAttribute("stroke-linejoin","bevel"),r.appendChild(s),r},e.prototype.DrawAccent20=function(e,t,i,a){var r=glhp.crgs("g","","math"),s=document.createElementNS(this.xmlNs,"path"),n="M0 "+t/2+" "+e+" "+t/2+" L "+(e-.2*i)+" "+(t/2-.125*i)+" M"+e+" "+t/2;return s.setAttribute("d",n),s.setAttribute("stroke",a),s.setAttribute("stroke-width",.05*i),s.setAttribute("fill","transparent"),s.setAttribute("stroke-linejoin","bevel"),r.appendChild(s),r},e.prototype.DrawOperator3=function(e,t,i,a){var r=glhp.crgs("g","","math");i=72*i/96;var s=document.createElementNS(this.xmlNs,"path"),n="M"+.25*i+" "+(i/2-.2*i)+" 0 "+i/2+" "+.25*i+" "+(i/2+.2*i)+" M"+.15*i+" "+(i/2-.1*i)+" "+e+" "+(i/2-.1*i)+" M"+.15*i+" "+(i/2+.1*i)+" "+e+" "+(i/2+.1*i);return s.setAttribute("d",n),s.setAttribute("stroke",a),s.setAttribute("stroke-width",.05*i),s.setAttribute("fill","transparent"),r.appendChild(s),r},e.prototype.DrawOperator4=function(e,t,i,a){var r=glhp.crgs("g","","math");i=72*i/96;var s=document.createElementNS(this.xmlNs,"path"),n="M"+(e-.25*i)+" "+(i/2-.2*i)+" "+e+" "+i/2+" "+(e-.2*i)+" "+(i/2+.2*i)+" M"+(e-.15*i)+" "+(i/2-.1*i)+" 0 "+(i/2-.1*i)+" M"+(e-.15*i)+" "+(i/2+.1*i)+" 0 "+(i/2+.1*i);return s.setAttribute("d",n),s.setAttribute("stroke",a),s.setAttribute("stroke-width",.05*i),s.setAttribute("fill","transparent"),r.appendChild(s),r},e.prototype.DrawOperator6=function(e,t,i,a){var r=glhp.crgs("g","","math");i=72*i/96;var s=document.createElementNS(this.xmlNs,"path"),n="M"+.25*i+" "+(i/2-.2*i)+" 0 "+i/2+" "+.2*i+" "+(i/2+.2*i)+" M"+.1*i+" "+(i/2-.1*i)+" "+(e-.1*i)+" "+(i/2-.1*i)+" M"+.1*i+" "+(i/2+.1*i)+" "+(e-.1*i)+" "+(i/2+.1*i);return n+=" M"+(e-.25*i)+" "+(i/2-.2*i)+" L"+e+" "+i/2+" L"+(e-.2*i)+" "+(i/2+.2*i),s.setAttribute("d",n),s.setAttribute("stroke",a),s.setAttribute("stroke-width",.05*i),s.setAttribute("fill","transparent"),r.appendChild(s),r},e.prototype.DrawOperator5=function(e,t,i,a){var r=glhp.crgs("g","","math");i=72*i/96;var s=document.createElementNS(this.xmlNs,"path"),n="M"+e+" "+i/3+" 0 "+i/3+" L"+.2*i+" "+(i/3-.125*i)+" 0 "+i/3+" L"+.2*i+" "+(i/3+.125*i);return n+=" M"+(e-.2*i)+" "+(i/3-.125*i)+"  L"+e+" "+i/3+" L"+(e-.2*i)+" "+(i/3+.125*i),s.setAttribute("d",n),s.setAttribute("stroke",a),s.setAttribute("stroke-width",.05*i),s.setAttribute("stroke-linejoin","bevel"),s.setAttribute("fill","transparent"),r.appendChild(s),r},e.prototype.GenTexts=function(e){var t=this.options;if(null!=t.pr){var i="http://www.w3.org/2000/svg",a=glhp.crgs("g","","text"),r=glhp.crgs("g","","underline"),s=glhp.crgs("g","","strikeThrough"),n=glhp.crgs("g","","words"),l=this.options.pr;if("question"==e||isQuestion?l=0==isMobile?this.options.prdkt:isTabletLandscape?this.options.prtls:isTabletPortrait?this.options.prtp:isMobileLandscape?this.options.prmls:isMobilePortrait?this.options.prmp:this.options.pr:(a.style.transformOrigin="0 0",a.style.transform="scale("+scale+","+scale+")"),!l)return a;textHeight=0;for(var o=0;o<l.length;o++){var h=document.createElementNS(i,"text");h.style.whiteSpace="pre",h.style.dominantBaseline="no-change";var d=l[o].inls;l[o].inls[0]&&(textHeight=d.length>0?l[o].inls[d.length-1].T:l[o].inls[0].T);for(var c=0;c<d.length;c++){if(!l[o].inls[c].col)return a;var p=document.createElementNS(i,"tspan");if(p.setAttribute("font-size",d[c].fs),p.setAttribute("font-family",d[c].ff),p.setAttribute("font-weight",d[c].fw),p.setAttribute("font-style",d[c].fst),p.setAttribute("fill",d[c].col.col),p.setAttribute("fill-opacity",d[c].opt),d[c].ad){var u=document.createElementNS("http://www.w3.org/2000/svg","a"),m=u.getAttribute("onclick");"function"!=typeof m?u.setAttribute("onclick",'window.open("'+d[c].ad+'");'+m):u.onclick=function(){window.open(d[c].ad),m()};var b=d[c].Txt.replace(/[\u00A0-\u9999<>\&]/gim,(function(e){return"&#"+e.charCodeAt(0)+";"}));isIE()?p.textContent=b:p.innerHTML=b,p.setAttribute("x",d[c].Ls.join(" ")),p.setAttribute("y",d[c].T);for(var f=d[c].Ls[0],g=0;g<d[c].Ls.length;g++)var w=d[c].Ls[0]+d[c].w;if(d[c].Ul){var y=d[c].uCol.col;if(a.appendChild(r),"Single"===d[c].u)(Se=document.createElementNS(i,"line")).style.stroke=y,Se.style.strokeWidth=d[c].Ul.W/10,Se.setAttribute("x1",d[c].Ul.X1),Se.setAttribute("y1",d[c].Ul.Y+d[c].Ul.W/4),Se.setAttribute("x2",d[c].Ul.X2),Se.setAttribute("y2",d[c].Ul.Y+d[c].Ul.W/4),r.appendChild(Se);else if("Double"===d[c].u){var v=d[c].uCol.col,C=document.createElementNS(i,"line"),T=document.createElementNS(i,"line");C.style.stroke=T.style.stroke=v,C.style.strokeWidth=T.style.strokeWidth=d[c].Ul.W/15,C.setAttribute("x1",d[c].Ul.X1),C.setAttribute("y1",d[c].Ul.Y-d[c].Ul.W/15),C.setAttribute("x2",d[c].Ul.X2),C.setAttribute("y2",d[c].Ul.Y-d[c].Ul.W/15),T.setAttribute("x1",d[c].Ul.X1),T.setAttribute("y1",d[c].Ul.Y+d[c].Ul.W/15),T.setAttribute("x2",d[c].Ul.X2),T.setAttribute("y2",d[c].Ul.Y+d[c].Ul.W/15),r.appendChild(C),r.appendChild(T)}}var S=d[c].col.col;if("None"!==d[c].stk)if(a.appendChild(s),"Single"===d[c].stk){var x=document.createElementNS(i,"line"),A=72*d[c].fs/96/10,M=d[c].T-d[c].fs/3+A/2;x.style.stroke=S,x.style.strokeWidth=A,x.setAttribute("x1",f),x.setAttribute("y1",M),x.setAttribute("x2",w),x.setAttribute("y2",M),s.appendChild(x)}else if("Double"===d[c].stk){var G=document.createElementNS(i,"line"),D=document.createElementNS(i,"line"),L=72*d[c].fs/96/10,k=d[c].T-72*d[c].fs/96/2,O=d[c].T-72*d[c].fs/96/4;G.style.stroke=D.style.stroke=S,G.style.strokeWidth=D.style.strokeWidth=L,G.setAttribute("x1",f),G.setAttribute("y1",k),G.setAttribute("x2",w),G.setAttribute("y2",k),D.setAttribute("x1",f),D.setAttribute("y1",O),D.setAttribute("x2",w),D.setAttribute("y2",O),s.appendChild(G),s.appendChild(D)}u.appendChild(p),a.setAttribute("class","hyp"),n.setAttribute("class","hyp"),h.appendChild(u)}else if(d[c].tm&&"Empty"!=d[c].tm){var E=glhp.crgs("g","","math");a.appendChild(E);var H=d[c].col.col,I=d[c].fs,P=d[c].Ls[0],R=d[c].T,F=d[c].w,B=d[c].Height;switch(d[c].tm){case"Empty":case"None":break;case"Fraction1":(N=document.createElementNS(i,"line")).style.stroke=H,N.style.strokeWidth=.1*I,N.setAttribute("x1",P+.5),N.setAttribute("y1",R-I/2*72/96),N.setAttribute("x2",P+F-.5),N.setAttribute("y2",R-I/2*72/96),E.appendChild(N);break;case"Fraction2":(N=document.createElementNS(i,"line")).style.stroke=H,N.style.strokeWidth=.1*I,N.setAttribute("x1",P+F-.2*I),N.setAttribute("y1",R-B),N.setAttribute("x2",P+.2*I),N.setAttribute("y2",R),E.appendChild(N);break;case"Fraction3":B=1.2*I,(N=document.createElementNS(i,"line")).style.stroke=H,N.style.strokeWidth=.1*I,N.setAttribute("x1",P+F-.2*I),N.setAttribute("y1",R-B),N.setAttribute("x2",P+.2*I),N.setAttribute("y2",R+.2*I),E.appendChild(N);break;case"Fraction4":var N;(N=document.createElementNS(i,"line")).style.stroke=H,N.style.strokeWidth=.1*I,N.setAttribute("x1",P+.5),N.setAttribute("y1",R-I/4*72/96),N.setAttribute("x2",P+F-.5),N.setAttribute("y2",R-I/4*72/96),E.appendChild(N);break;case"Bracket1S":var z=this.DrawBracket1S(F,B,I,H);z.innerHTML=z.outerHTML,z.setAttribute("transform","translate("+P+","+(R-B+.1*I)+")"),a.appendChild(z);break;case"Bracket1E":var Q=this.DrawBracket1E(F,B,I,H);Q.innerHTML=Q.outerHTML,Q.setAttribute("transform","translate("+P+","+(R-B+.1*I)+")"),a.appendChild(Q);break;case"Bracket9E":case"Bracket2S":var V=this.DrawBracket2S(F,B,I,H);V.innerHTML=V.outerHTML,V.setAttribute("transform","translate("+P+","+(R-B+.1*I)+")"),a.appendChild(V);break;case"Bracket9S":case"Bracket2E":var U=this.DrawBracket2E(F,B,I,H);U.innerHTML=U.outerHTML,U.setAttribute("transform","translate("+P+","+(R-B+.1*I)+")"),a.appendChild(U);break;case"Bracket3S":var $=this.DrawBracket3S(F,B,I,H);$.innerHTML=$.outerHTML,$.setAttribute("transform","translate("+P+","+(R-B+.1*I)+")"),a.appendChild($);break;case"Bracket3E":var Y=this.DrawBracket3E(F,B,I,H);Y.innerHTML=Y.outerHTML,Y.setAttribute("transform","translate("+P+","+(R-B+.1*I)+")"),a.appendChild(Y);break;case"Bracket4S":var _=this.DrawBracket4S(F,B,I,H);_.innerHTML=_.outerHTML,_.setAttribute("transform","translate("+P+","+(R-B+.1*I)+")"),a.appendChild(_);break;case"Bracket4E":var q=this.DrawBracket4E(F,B,I,H);q.innerHTML=q.outerHTML,q.setAttribute("transform","translate("+P+","+(R-B+.1*I)+")"),a.appendChild(q);break;case"Bracket5S":var X=this.DrawBracket5S(F,B,I,H);X.innerHTML=X.outerHTML,X.setAttribute("transform","translate("+P+","+(R-B+.1*I)+")"),a.appendChild(X);break;case"Bracket5E":var W=this.DrawBracket5E(F,B,I,H);W.innerHTML=W.outerHTML,W.setAttribute("transform","translate("+P+","+(R-B+.1*I)+")"),a.appendChild(W);break;case"Bracket6S":var j=this.DrawBracket6S(F,B,I,H);j.innerHTML=j.outerHTML,j.setAttribute("transform","translate("+P+","+(R-B+.1*I)+")"),a.appendChild(j);break;case"Bracket6E":var K=this.DrawBracket6E(F,B,I,H);K.innerHTML=K.outerHTML,K.setAttribute("transform","translate("+P+","+(R-B+.1*I)+")"),a.appendChild(K);break;case"Bracket7S":case"Bracket7E":case"Bracket7":var Z=this.DrawBracket7S(F,B,I,H);Z.innerHTML=Z.outerHTML,Z.setAttribute("transform","translate("+P+","+(R-B+.1*I)+")"),a.appendChild(Z);break;case"Bracket8S":case"Bracket8E":var J=this.DrawBracket8S(F,B,I,H);J.innerHTML=J.outerHTML,J.setAttribute("transform","translate("+P+","+(R-B+.1*I)+")"),a.appendChild(J);break;case"Bracket10S":var ee=this.DrawBracket10S(F,B,I,H);ee.innerHTML=ee.outerHTML,ee.setAttribute("transform","translate("+P+","+(R-B+.1*I)+")"),a.appendChild(ee);break;case"Bracket10E":var te=this.DrawBracket10E(F,B,I,H);te.innerHTML=te.outerHTML,te.setAttribute("transform","translate("+P+","+(R-B+.1*I)+")"),a.appendChild(te);break;case"Integral1":case"Integral2":case"Integral3":case"Integral4":case"Integral5":case"Integral6":case"LargeOperator1":case"LargeOperator2":case"LargeOperator3":case"LargeOperator4":case"LargeOperator5":case"LargeOperator6":case"LargeOperator7":var ie=this.DrawSpecialSymbol(d[c].tm,H,I,P,R,d[c].sOf,B);ie.innerHTML=ie.outerHTML,a.appendChild(ie);break;case"Radical1":case"Radical2":var ae=this.DrawRadical(F,B,72*I/96,I,H);ae.innerHTML=ae.outerHTML,ae.setAttribute("transform","translate("+P+","+(R-B)+")"),a.appendChild(ae);break;case"Operator1":var re=this.DrawOperator1(F,B,I,H);re.innerHTML=re.outerHTML,re.setAttribute("transform","translate("+P+","+(R-B+.05*I)+")"),a.appendChild(re);break;case"Operator2":var se=this.DrawOperator2(F,B,I,H);se.innerHTML=se.outerHTML,se.setAttribute("transform","translate("+P+","+(R-B+.05*I)+")"),a.appendChild(se);break;case"Operator3":var ne=this.DrawOperator3(F,B,I,H);ne.innerHTML=ne.outerHTML,ne.setAttribute("transform","translate("+P+","+(R-B+.05*I)+")"),a.appendChild(ne);break;case"Operator4":var le=this.DrawOperator4(F,B,I,H);le.innerHTML=le.outerHTML,le.setAttribute("transform","translate("+P+","+(R-B+.05*I)+")"),a.appendChild(le);break;case"Operator5":var oe=this.DrawOperator5(F,B,I,H);oe.innerHTML=oe.outerHTML,oe.setAttribute("transform","translate("+P+","+(R-B+.05*I)+")"),a.appendChild(oe);break;case"Operator6":var he=this.DrawOperator6(F,B,I,H);he.innerHTML=he.outerHTML,he.setAttribute("transform","translate("+P+","+(R-B+.05*I)+")"),a.appendChild(he);break;case"Accent1":case"Accent2":case"Accent3":case"Accent6":case"Accent7":var de=this.DrawAccent(d[c].tm,H,I,P,R,d[c].sOf,B,F);de.innerHTML=de.outerHTML,a.appendChild(de);break;case"Accent4":var ce=this.DrawAccent4(F,B,I,H);ce.innerHTML=ce.outerHTML,ce.setAttribute("transform","translate("+P+","+(R-B)+")"),a.appendChild(ce);break;case"Accent5":var pe=this.DrawAccent5(F,B,I,H);pe.innerHTML=pe.outerHTML,pe.setAttribute("transform","translate("+P+","+(R-B)+")"),a.appendChild(pe);break;case"Accent12":var ue=this.DrawAccent12(F,B,I,H);ue.innerHTML=ue.outerHTML,ue.setAttribute("transform","translate("+P+","+(R-B)+")"),a.appendChild(ue);break;case"Accent13":var me=this.DrawAccent13(F,B,I,H);me.innerHTML=me.outerHTML,me.setAttribute("transform","translate("+P+","+(R-B)+")"),a.appendChild(me);break;case"Accent14":var be=this.DrawAccent14(F,B,I,H);be.innerHTML=be.outerHTML,be.setAttribute("transform","translate("+P+","+(R-B+.05*I)+")"),a.appendChild(be);break;case"Accent15":var fe=this.DrawAccent15(F,B,I,H);fe.innerHTML=fe.outerHTML,fe.setAttribute("transform","translate("+P+","+(R-B+.05*I)+")"),a.appendChild(fe);break;case"Accent8":var ge=this.DrawAccent8(F,B,I,H);ge.innerHTML=ge.outerHTML,ge.setAttribute("transform","translate("+P+","+(R-B)+")"),a.appendChild(ge);break;case"Accent9":var we=this.DrawAccent9(F,B,I,H);we.innerHTML=we.outerHTML,we.setAttribute("transform","translate("+P+","+(R-B)+")"),a.appendChild(we);break;case"Accent10":var ye=this.DrawAccent10(F,B,I,H);ye.innerHTML=ye.outerHTML,ye.setAttribute("transform","translate("+P+","+(R-B)+")"),a.appendChild(ye);break;case"Accent11":var ve=this.DrawAccent11(F,B,I,H);ve.innerHTML=ve.outerHTML,ve.setAttribute("transform","translate("+P+","+(R-B)+")"),a.appendChild(ve);break;case"Accent19":var Ce=this.DrawAccent19(F,B,I,H);Ce.innerHTML=Ce.outerHTML,Ce.setAttribute("transform","translate("+P+","+(R-B)+")"),a.appendChild(Ce);break;case"Accent20":var Te=this.DrawAccent20(F,B,I,H);Te.innerHTML=Te.outerHTML,Te.setAttribute("transform","translate("+P+","+(R-B)+")"),a.appendChild(Te)}}else{b=d[c].Txt.replace(/[\u00A0-\u9999<>\&]/gim,(function(e){return"&#"+e.charCodeAt(0)+";"}));isIE()?p.textContent=b:p.innerHTML=b,p.setAttribute("x",d[c].Ls.join(" ")),p.setAttribute("y",d[c].T);for(f=d[c].Ls[0],g=0;g<d[c].Ls.length;g++)w=d[c].Ls[0]+d[c].w;if(d[c].Ul){var Se;y=d[c].uCol.col;if(a.appendChild(r),"Single"===d[c].u)(Se=document.createElementNS(i,"line")).style.stroke=y,Se.style.strokeWidth=d[c].Ul.W/10,Se.setAttribute("x1",d[c].Ul.X1),Se.setAttribute("y1",d[c].Ul.Y+d[c].Ul.W/4),Se.setAttribute("x2",d[c].Ul.X2),Se.setAttribute("y2",d[c].Ul.Y+d[c].Ul.W/4),r.appendChild(Se);else if("Double"===d[c].u){v=d[c].uCol.col,C=document.createElementNS(i,"line"),T=document.createElementNS(i,"line");C.style.stroke=T.style.stroke=v,C.style.strokeWidth=T.style.strokeWidth=d[c].Ul.W/15,C.setAttribute("x1",d[c].Ul.X1),C.setAttribute("y1",d[c].Ul.Y+d[c].Ul.W/4-d[c].Ul.W/15),C.setAttribute("x2",d[c].Ul.X2),C.setAttribute("y2",d[c].Ul.Y+d[c].Ul.W/4-d[c].Ul.W/15),T.setAttribute("x1",d[c].Ul.X1),T.setAttribute("y1",d[c].Ul.Y+d[c].Ul.W/4+d[c].Ul.W/15),T.setAttribute("x2",d[c].Ul.X2),T.setAttribute("y2",d[c].Ul.Y+d[c].Ul.W/4+d[c].Ul.W/15),r.appendChild(C),r.appendChild(T)}}S=d[c].col.col;if("None"!==d[c].stk&&(a.appendChild(s),w-f>2))if("Single"===d[c].stk){x=document.createElementNS(i,"line"),A=72*d[c].fs/96/10,M=d[c].T-d[c].fs/3+A/2;x.style.stroke=S,x.style.strokeWidth=A,x.setAttribute("x1",f),x.setAttribute("y1",M),x.setAttribute("x2",w),x.setAttribute("y2",M),s.appendChild(x)}else if("Double"===d[c].stk){G=document.createElementNS(i,"line"),D=document.createElementNS(i,"line"),L=72*d[c].fs/96/10,k=d[c].T-72*d[c].fs/96/2,O=d[c].T-72*d[c].fs/96/4;G.style.stroke=D.style.stroke=S,G.style.strokeWidth=D.style.strokeWidth=L,G.setAttribute("x1",f),G.setAttribute("y1",k),G.setAttribute("x2",w),G.setAttribute("y2",k),D.setAttribute("x1",f),D.setAttribute("y1",O),D.setAttribute("x2",w),D.setAttribute("y2",O),s.appendChild(G),s.appendChild(D)}h.appendChild(p)}}h.innerHTML=h.innerHTML,n.appendChild(h)}if(t.efs)for(let e=0;e<t.efs.length;e++)if("SoftEdge"===t.efs[e].typ)return a.textContent="",a;return a.appendChild(n),a}if(null!=t.ref){var xe,Ae=0==isMobile?t.ref:isTabletLandscape?t.reftls:isTabletPortrait?t.reftp:isMobileLandscape?t.refmls:isMobilePortrait?t.refmp:t.ref;return(xe=glhp.crgs("div","","")).innerHTML=Ae.rStr,xe.style.position="absolute",xe.style.pointerEvents="none",xe.style.top=Ae.t+"px",xe.style.display="none",setTimeout((function(){tfew(t),xe.style.display=""}),1),xe}return xe=glhp.crgs("div","","")},e.prototype.drawCanvas=async function(e){e.save(),this.options&&this.options.pr&&this.options.pr.forEach(t=>{t.inls.forEach(async t=>{if(e.font=t.fst+" "+t.fw+" "+t.fs+"px "+t.ff,null!=t.col&&(e.fillStyle=t.col.col),t.Ls&&e.fillText(t.Txt,t.Ls[0],t.T),t.Ul)if("Single"==t.u){var i=t.Ul.X1,a=t.Ul.Y+t.Ul.W/4,r=t.Ul.X2-i,s=t.Ul.W/10;e.fillRect(i,a,r,s)}else if("Double"==t.u){i=t.Ul.X1,s=t.Ul.W/15;var n=t.Ul.Y+t.Ul.W/4-s,l=t.Ul.Y+t.Ul.W/4+s;r=t.Ul.X2-i;e.fillRect(i,n,r,s),e.fillRect(i,l,r,s)}if(t.tm){var o=t.col.col,h=t.fs,d=t.Ls[0],c=t.T,p=t.w,u=t.Height;switch(t.tm){case"Empty":case"None":break;case"Fraction1":this.drwlCanvas(e,d+.5,c-h/2*72/96,d+p-.5,c-h/2*72/96,.1*h,o);break;case"Fraction2":this.drwlCanvas(e,d+p-.2*h,c-u,d+.2*h,c,.1*h,o);break;case"Fraction3":u=1.2*h,this.drwlCanvas(e,d+p-.2*h,c-u,d+.2*h,c+.2*h,.1*h,o);break;case"Fraction4":this.drwlCanvas(e,d+.5,c-h/4*72/96,d+p-.5,c-h/4*72/96,.1*h,o);break;case"Bracket1S":var m="M"+p/2+" 0 C0 "+u/4+" 0 "+3*u/4+" "+p/2+" "+u;await this.drawBracketCanvas(e,m,.05*h,"transparent",o,d,c-u+.1*h),m="M"+p/2+" 0 C"+.05*h+" "+u/4+" "+.05*h+" "+3*u/4+" "+p/2+" "+u,await this.drawBracketCanvas(e,m,.05*h,"transparent",o,d,c-u+.1*h);break;case"Bracket1E":m="M"+p/2+" 0 C"+p+" "+u/4+" "+p+" "+3*u/4+" "+p/2+" "+u;await this.drawBracketCanvas(e,m,.05*h,"transparent",o,d,c-u+.1*h),m="M"+p/2+" 0 C"+(p-.05*h)+" "+u/4+" "+(p-.05*h)+" "+3*u/4+" "+p/2+" "+u,await this.drawBracketCanvas(e,m,.05*h,"transparent",o,d,c-u+.1*h);break;case"Bracket9E":case"Bracket2S":m="M"+2*p/3+" "+.05*h+" "+.05*h+" "+.05*h+" "+.05*h+" "+u+" "+2*p/3+" "+u;await this.drawBracketCanvas(e,m,.05*h,"transparent",o,d,c-u+.1*h),m="M"+2*p/3+" "+.05*h+" "+.085*h+" "+.05*h+" "+.085*h+" "+u+" "+2*p/3+" "+u,await this.drawBracketCanvas(e,m,.05*h,"transparent",o,d,c-u+.1*h);break;case"Bracket9S":case"Bracket2E":m="M"+.05*h+" "+.05*h+" "+2*p/3+" "+.05*h+" "+2*p/3+" "+u+" "+.05*h+" "+u;await this.drawBracketCanvas(e,m,.05*h,"transparent",o,d,c-u+.1*h),m="M"+.05*h+" "+.05*h+" "+(2*p/3-.03*h)+" "+.05*h+" "+(2*p/3-.03*h)+" "+u+" "+.05*h+" "+u,await this.drawBracketCanvas(e,m,.05*h,"transparent",o,d,c-u+.1*h);break;case"Bracket3S":m="M"+p+" 0 C"+p/2+" 0 "+p/2+" "+u/6+" "+p/2+" "+u/6;m+=" L"+p/2+" "+u/3,m+=" C"+p/2+" "+u/2+" 0 "+u/2+" 0 "+u/2,m+=" C"+p/2+" "+u/2+" "+p/2+" "+2*u/3+" "+p/2+" "+2*u/3,m+=" L"+p/2+" "+5*u/6,m+=" C"+p/2+" "+u+" "+p+" "+u+" "+p+" "+u,await this.drawBracketCanvas(e,m,.025*h,"transparent",o,d,c-u+.1*h);m="M"+(p-2)+" 0 C"+(p/2+.015*h)+" 2 "+(p/2+.015*h)+" "+u/6+" "+(p/2+.015*h)+" "+u/6;m+=" L"+(p/2+.015*h)+" "+u/3,m+=" C"+(p/2+.015*h)+" "+u/2+" 2 "+u/2+" 2 "+u/2,m+=" C"+(p/2+.015*h)+" "+u/2+" "+(p/2+.015*h)+" "+2*u/3+" "+(p/2+.015*h)+" "+2*u/3,m+=" L"+(p/2+.015*h)+" "+5*u/6,m+=" C"+(p/2+.015*h)+" "+(u-2)+" "+p+" "+u+" "+p+" "+u,await this.drawBracketCanvas(e,m,.025*h,"transparent",o,d,c-u+.1*h);break;case"Bracket3E":m="M 0 0 C"+p/2+" 0 "+p/2+" "+u/6+" "+p/2+" "+u/6;m+=" L"+p/2+" "+u/3,m+=" C"+p/2+" "+u/2+" "+p+" "+u/2+" "+p+" "+u/2,m+=" C"+p/2+" "+u/2+" "+p/2+" "+2*u/3+" "+p/2+" "+2*u/3,m+=" L"+p/2+" "+5*u/6,m+=" C"+p/2+" "+u+" 0 "+u+" 0 "+u,await this.drawBracketCanvas(e,m,.025*h,"transparent",o,d,c-u+.1*h);m="M 0 0 C"+(p/2-.025*h)+" 0 "+(p/2-.025*h)+" "+u/6+" "+(p/2-.025*h)+" "+u/6;m+=" L"+(p/2-.025*h)+" "+u/3,m+=" C"+(p/2-.025*h)+" "+u/2+" "+p+" "+u/2+" "+p+" "+u/2,m+=" C"+(p/2-.025*h)+" "+u/2+" "+(p/2-.025*h)+" "+2*u/3+" "+(p/2-.025*h)+" "+2*u/3,m+=" L"+(p/2-.025*h)+" "+5*u/6,m+=" C"+(p/2-.025*h)+" "+u+" 0 "+u+" 0 "+u,await this.drawBracketCanvas(e,m,.025*h,"transparent",o,d,c-u+.1*h);break;case"Bracket4S":m="M"+p+" 0 0 "+u/2+" "+p+" "+u;await this.drawBracketCanvas(e,m,.05*h,"transparent",o,d,c-u+.1*h),m="M"+p+" 0 "+.05*h+" "+u/2+" "+p+" "+u,await this.drawBracketCanvas(e,m,.05*h,"transparent",o,d,c-u+.1*h);break;case"Bracket4E":m="M 0 0 "+p+" "+u/2+" 0 "+u;await this.drawBracketCanvas(e,m,.05*h,"transparent",o,d,c-u+.1*h),m="M 0 0 "+(p-.05*h)+" "+u/2+" 0 "+u,await this.drawBracketCanvas(e,m,.05*h,"transparent",o,d,c-u+.1*h);break;case"Bracket5S":m="M 0 0 0 "+u+" "+p+" "+u;await this.drawBracketCanvas(e,m,.035*h,"transparent",o,d,c-u+.1*h),m="M "+.035*h+" 0 "+.035*h+" "+u+" "+p+" "+u,await this.drawBracketCanvas(e,m,.035*h,"transparent",o,d,c-u+.1*h);break;case"Bracket5E":m="M "+p+" 0 "+p+" "+u+" 0 "+u;await this.drawBracketCanvas(e,m,.035*h,"transparent",o,d,c-u+.1*h),m="M "+(p-.035*h)+" 0 "+(p-.035*h)+" "+u+" 0 "+u,await this.drawBracketCanvas(e,m,.035*h,"transparent",o,d,c-u+.1*h);break;case"Bracket6S":m="M"+p+" 0 0 0 0 "+u;await this.drawBracketCanvas(e,m,.035*h,"transparent",o,d,c-u+.1*h);m="M"+p+" 0 "+.035*h+" 0 "+.035*h+" "+u;await this.drawBracketCanvas(e,m,.035*h,"transparent",o,d,c-u+.1*h);break;case"Bracket6E":m="M0 0 "+p+" 0 "+p+" "+u;await this.drawBracketCanvas(e,m,.035*h,"transparent",o,d,c-u+.1*h),m="M0 0 "+(p-.035*h)+" 0 "+(p-.035*h)+" "+u,await this.drawBracketCanvas(e,m,.035*h,"transparent",o,d,c-u+.1*h);break;case"Bracket7S":case"Bracket7E":case"Bracket7":m="M"+p/2+" 0 "+p/2+" "+u;await this.drawBracketCanvas(e,m,.05*h,"transparent",o,d,c-u+.1*h);break;case"Bracket8S":case"Bracket8E":await this.drwlCanvas(e,p/3,0,p/3,u,.05*h,o,d,c-u+.1*h),await this.drwlCanvas(e,2*p/3,0,2*p/3,u,.05*h,o,d,c-u+.1*h);break;case"Bracket10S":await this.drwlCanvas(e,.15*h,0,.15*h,u,.05*h,o,d,c-u+.1*h),await this.drwlCanvas(e,0,0,0,u,.05*h,o,d,c-u+.1*h),await this.drwlCanvas(e,0,0,2*p/3,0,.05*h,o,d,c-u+.1*h),await this.drwlCanvas(e,0,u,2*p/3,u,.05*h,o,d,c-u+.1*h);break;case"Bracket10E":e.save(),await this.drwlCanvas(e,p-.15*h,0,p-.15*h,u,.05*h,o,d,c-u+.1*h),await this.drwlCanvas(e,p,0,p,u,.05*h,o,d,c-u+.1*h),await this.drwlCanvas(e,p/3,0,p,0,.05*h,o,d,c-u+.1*h),await this.drwlCanvas(e,p/3,u,p,u,.05*h,o,d,c-u+.1*h),e.restore();break;case"Integral1":case"Integral2":case"Integral3":case"Integral4":case"Integral5":case"Integral6":case"LargeOperator1":case"LargeOperator2":case"LargeOperator3":case"LargeOperator4":case"LargeOperator5":case"LargeOperator6":case"LargeOperator7":await this.drawSpecialSymbolCanvas(e,t.tm,o,h,d,c,t.sOf,u);break;case"Radical1":case"Radical2":var b=72*h/96;m="M0 "+(u-b+.05*h)+" "+.15*h+" "+(u-b)+" "+b/2+" "+u+" "+b+" "+.1*h+" "+p+" "+.1*h;await this.drawBracketCanvas(e,m,.05*h,"transparent",o,d,c-u,"bevel"),m="M"+.1*h+" "+(u-b)+" "+(b/2-.05*h)+" "+u+" "+(b/2+.01*h)+" "+u+" "+b+" "+.1*h,await this.drawBracketCanvas(e,m,.05*h,"transparent",o,d,c-u,"bevel");break;case"Operator1":e.save();m="M"+p+" "+u/2+" 0 "+u/2+" L"+.2*h+" "+(u/2-.125*h)+" 0 "+u/2+" L"+.2*h+" "+(u/2+.125*h);await this.drawBracketCanvas(e,m,.05*h,"transparent",o,d,c-u+.05*h,"bevel"),e.save();break;case"Operator2":m="M0 "+u/2+" "+p+" "+u/2+" L "+(p-.2*h)+" "+(u/2-.125*h)+" M"+p+" "+u/2+" L"+(p-.2*h)+" "+(u/2+.125*h);await this.drawBracketCanvas(e,m,.05*h,"transparent",o,d,c-u+.05*h,"bevel");break;case"Operator3":m="M"+.25*(f=72*h/96)+" "+(f/2-.2*f)+" 0 "+f/2+" "+.25*f+" "+(f/2+.2*f)+" M"+.15*f+" "+(f/2-.1*f)+" "+p+" "+(f/2-.1*f)+" M"+.15*f+" "+(f/2+.1*f)+" "+p+" "+(f/2+.1*f);await this.drawBracketCanvas(e,m,.05*f,"transparent",o,d,c-u+.05*h);break;case"Operator4":m="M"+(p-.25*(f=72*h/96))+" "+(f/2-.2*f)+" "+p+" "+f/2+" "+(p-.2*f)+" "+(f/2+.2*f)+" M"+(p-.15*f)+" "+(f/2-.1*f)+" 0 "+(f/2-.1*f)+" M"+(p-.15*f)+" "+(f/2+.1*f)+" 0 "+(f/2+.1*f);await this.drawBracketCanvas(e,m,.05*f,"transparent",o,d,c-u+.05*h);break;case"Operator5":m="M"+p+" "+(f=72*h/96)/3+" 0 "+f/3+" L"+.2*f+" "+(f/3-.125*f)+" 0 "+f/3+" L"+.2*f+" "+(f/3+.125*f)+" M"+(p-.2*f)+" "+(f/3-.125*f)+"  L"+p+" "+f/3+" L"+(p-.2*f)+" "+(f/3+.125*f);await this.drawBracketCanvas(e,m,.05*f,"transparent",o,d,c-u+.05*h,"bevel");break;case"Operator6":var f;m="M"+.25*(f=72*h/96)+" "+(f/2-.2*f)+" 0 "+f/2+" "+.2*f+" "+(f/2+.2*f)+" M"+.1*f+" "+(f/2-.1*f)+" "+(p-.1*f)+" "+(f/2-.1*f)+" M"+.1*f+" "+(f/2+.1*f)+" "+(p-.1*f)+" "+(f/2+.1*f)+" M"+(p-.25*f)+" "+(f/2-.2*f)+" L"+p+" "+f/2+" L"+(p-.2*f)+" "+(f/2+.2*f);await this.drawBracketCanvas(e,m,.05*f,"transparent",o,d,c-u+.05*h);break;case"Accent1":case"Accent2":case"Accent3":case"Accent6":case"Accent7":var g=96*h/72+"px Times New Roman";switch(t.tm){case"Accent1":await this.drwtCanvas(e,".",d+p/2-e.measureText(".").width/2,c-.2*h*96/72,g,o);break;case"Accent2":await this.drwtCanvas(e,"..",d+p/2-e.measureText("..").width/2,c-.2*h*96/72,g,o);break;case"Accent3":await this.drwtCanvas(e,"...",d+p/2-e.measureText("...").width/2,c-.2*h*96/72,g,o);break;case"Accent6":await this.drwtCanvas(e,"ˏ",d+p/2-.2*h,c-.2*h*96/72,g,o);break;case"Accent7":await this.drwtCanvas(e,"ˎ",d+p/2-.2*h,c-.2*h*96/72,g,o)}break;case"Accent4":m="M"+(p-(w=Math.min(p,72*h/96*4)))/2+" "+u/2+" "+p/2+" "+-u/4+" "+(p+w)/2+" "+u/2+" "+p/2+" "+-.05*h+" "+(p-w)/2+" "+u/2;await this.drawBracketCanvas(e,m,.05*h,"transparent",o,d,c-u);break;case"Accent5":m="M"+(p-(w=Math.min(p,72*h/96*4)))/2+" "+-u/4+" "+p/2+" "+u/2+" "+(p+w)/2+" "+-u/4+" "+p/2+" "+(u/2-.05*h)+" "+(p-w)/2+" "+-u/4;await this.drawBracketCanvas(e,m,.05*h,"transparent",o,d,c-u);break;case"Accent12":m="M0 "+u+" C0 "+u/2+" "+p/6+" "+u/2+" "+p/6+" "+u/2;m+=" L "+p/3+" "+u/2,m+=" C"+p/3+" "+u/2+" "+p/2+" "+u/2+" "+p/2+" 0",m+=" C"+p/2+" "+u/2+" "+2*p/3+" "+u/2+" "+2*p/3+" "+u/2,m+=" L"+5*p/6+" "+u/2,m+=" C"+p+" "+u/2+" "+p+" "+u+" "+p+" "+u,await this.drawBracketCanvas(e,m,.05*h,"transparent",o,d,c-u);break;case"Accent13":m="M0 0 C0 "+(u/2+.045*h)+" "+p/6+" "+(u/2+.045*h)+" "+p/6+" "+(u/2+.045*h);m+=" L "+p/3+" "+(u/2+.045*h),m+=" C"+p/2+" "+(u/2+.045*h)+" "+p/2+" "+u+" "+p/2+" "+u,m+=" C"+p/2+" "+(u/2+.045*h)+" "+2*p/3+" "+(u/2+.045*h)+" "+2*p/3+" "+(u/2+.045*h),m+=" L"+5*p/6+" "+(u/2+.045*h),m+=" C"+p+" "+(u/2+.045*h)+" "+p+" 0 "+p+" 0",await this.drawBracketCanvas(e,m,.05*h,"transparent",o,d,c-u);break;case"Accent14":m="M0,0 0 "+u+" "+p+" "+u+" "+p+" 0z";await this.drawBracketCanvas(e,m,.05*h,"transparent",o,d,c-u+.05*h);break;case"Accent15":m="M 0 "+u/2+" "+p+" "+u/2;await this.drawBracketCanvas(e,m,.05*h,"transparent",o,d,c-u+.05*h);break;case"Accent8":m="M"+(p-(w=Math.min(p,72*h/96*4)))/2+" 0 C"+((p-w)/2+.2*h)+" "+u+" "+((p+w)/2-.2*h)+" "+u+" "+(p+w)/2+" 0";await this.drawBracketCanvas(e,m,.05*h,"transparent",o,d,c-u),m="M"+(p-w)/2+" 0 C"+((p-w)/2+.2*h)+" "+(u-.05*h)+" "+((p+w)/2-.2*h)+" "+(u-.05*h)+" "+(p+w)/2+" 0",await this.drawBracketCanvas(e,m,.05*h,"transparent",o,d,c-u);break;case"Accent9":var w;m="M"+(p-(w=Math.min(p,72*h/96*4)))/2+" "+5*u/8+" C"+p/2+" 0 "+p/2+" "+u+" "+(p+w)/2+" "+3*u/8;await this.drawBracketCanvas(e,m,.05*h,"transparent",o,d,c-u);m="M"+(p-w)/2+" "+5*u/8+" C"+p/2+" "+.1*h+" "+p/2+" "+(u-.1*h)+" "+(p+w)/2+" "+3*u/8;await this.drawBracketCanvas(e,m,.0125*h,"transparent",o,d,c-u);break;case"Accent10":m="M 0 "+-.1*h+" "+p+" "+-.1*h;await this.drawBracketCanvas(e,m,.05*h,"transparent",o,d,c-u);break;case"Accent11":m="M 0 "+.2*h+" "+p+" "+.2*h;m+="M 0 "+.05*h+" "+p+" "+.05*h,await this.drawBracketCanvas(e,m,.05*h,"transparent",o,d,c-u);break;case"Accent19":m="M"+p+" "+u/2+" 0 "+u/2+" L"+.2*h+" "+(u/2-.125*h)+" 0 "+u/2;await this.drawBracketCanvas(e,m,.05*h,"transparent",o,d,c-u,"bevel");break;case"Accent20":m="M0 "+u/2+" "+p+" "+u/2+" L "+(p-.2*h)+" "+(u/2-.125*h)+" M"+p+" "+u/2;await this.drawBracketCanvas(e,m,.05*h,"transparent",o,d,c-u,"bevel")}}})}),e.restore()},e.prototype.drawBracketCanvas=async function(e,t,i,a,r,s,n,l){e.save(),e.translate(s,n);let o=new Path2D(t);e.lineWidth=i,e.fillStyle=a,e.strokeStyle=r,e.lineJoin,e.fill(o),e.stroke(o),e.restore()},e.prototype.drawSpecialSymbolCanvas=async function(e,t,i,a,r,s,n,l){switch(t){case"Integral1":var o=72*a/96+"px IntegralsUp";await this.drwtCanvas(e,"∫",r+.1*a,s-l*n*1.5/100+.4*a,o,i);break;case"Integral2":o=72*a/96+"px IntegralsUp";await this.drwtCanvas(e,"∬",r+.1*a,s-l*n*1.5/100+.4*a,o,i);break;case"Integral3":o=72*a/96+"px IntegralsUp";await this.drwtCanvas(e,"∭",r+.1*a,s-l*n*1.5/100+.4*a,o,i);break;case"Integral4":o=72*a/96+"px IntegralsUp";await this.drwtCanvas(e,"∮",r+.1*a,s-l*n*1.5/100+.4*a,o,i);break;case"Integral5":o=72*a/96+"px IntegralsUp";await this.drwtCanvas(e,"∯",r+.1*a,s-l*n*1.5/100+.4*a,o,i);break;case"Integral6":o=72*a/96+"px IntegralsUp";await this.drwtCanvas(e,"∰",r+.1*a,s-l*n*1.5/100+.4*a,o,i);break;case"LargeOperator1":o=96*a/72+"px SizeOneSym";await this.drwtCanvas(e,"∑",r+.1*a,s-l*n*1.5/100,o,i);break;case"LargeOperator2":o=96*a/72+"px SizeOneSym";await this.drwtCanvas(e,"∏",r+.1*a,s-l*n*1.5/100,o,i);break;case"LargeOperator3":o=96*a/72+"px SizeOneSym";await this.drwtCanvas(e,"∐",r+.1*a,s-l*n*1.5/100,o,i);break;case"LargeOperator4":o=96*a/72+"px SizeOneSym";await this.drwtCanvas(e,"⋃",r+.1*a,s-l*n*1.5/100,o,i);break;case"LargeOperator5":o=96*a/72+"px SizeOneSym";await this.drwtCanvas(e,"⋂",r+.1*a,s-l*n*1.5/100,o,i);break;case"LargeOperator6":o=96*a/72+"px SizeOneSym";await this.drwtCanvas(e,"⋁",r+.1*a,s-l*n*1.5/100,o,i);break;case"LargeOperator7":o=96*a/72+"px SizeOneSym";await this.drwtCanvas(e,"⋀",r+.1*a,s-l*n*1.5/100,o,i)}},e.prototype.drwtCanvas=async function(e,t,i,a,r,s){e.save(),e.fillStyle=s,e.font=r,e.fillText(t,i,a),e.restore()},e.prototype.drwlCanvas=async function(e,t,i,a,r,s,n,l,o){e.save(),e.translate(l,o),e.beginPath(),e.moveTo(t,i),e.lineTo(a,r),e.closePath(),e.strokeStyle=n,e.lineWidth=s,e.stroke(),e.restore()},e}(),TextModule={Level:glen.ModuleLevel.Element,ContentType:"Text",grez:function(e,t){return new Text(e).GenTexts()},grezByParas:function(e,t){return new Text(e).GenTexts(t)},drawCanvas:async function(e,t,i){var a=new Text(e,i),r=0==isMobile?e.rtwdkt:isTabletLandscape?e.rtwtls:isTabletPortrait?e.rtwtpt:isMobileLandscape?e.rtwmls:isMobilePortrait?e.rtwmpt:e.w,s=0==isMobile?e.rthdkt:isTabletLandscape?e.rthtls:isTabletPortrait?e.rthtpt:isMobileLandscape?e.rthmls:isMobilePortrait?e.rthmpt:e.h,n=Math.min(r,s);i.scale(n,n),await a.drawCanvas(i)},drawCanvasByParas:async function(e,t){var i=new Text(e);await i.drawCanvas(t)}};function tfew(e){for(let r=0;r<DOC.vars.length;r++)if(null!=DOC.vars[r]){var t=$("#"+e.id).find("span");for(let e=0;e<t.length;e++)if(t[e].innerText=="%"+DOC.vars[r].nm+"%"){var i=t[e].className=DOC.vars[r].nm+"_ref";if(t[e].className==i){var a=DOC.vars[r].val;t[e].innerText=a}}}}function tfew2(e){for(let e=0;e<DOC.vars.length;e++)if(null!=DOC.vars[e]){var t=$("#content").find("span");for(let a=0;a<t.length;a++)if(t[a].className==DOC.vars[e].nm+"_ref"){var i=DOC.vars[e].val;t[a].innerText=i}}}glrs.addModule(TextModule);var Flash=function(){function e(e){this.options=e}return e.prototype.genFlash=function(){var e=this.options,t=glhp.crgs("div","",""),i=navigator.mimeTypes;if("undefined"!=typeof InstallTrigger)if(i&&i["application/x-shockwave-flash"]){var a,r;(a=document.createElement("object")).width=e.w,a.height=e.h,a.style.position="absolute",a.style.top="0px",a.style.left="0px",(r=document.createElement("embed")).src=e.fU,r.width=e.w,r.height=e.h,r.setAttribute("quality","high"),r.setAttribute("type","application/x-shockwave-flash"),r.setAttribute("wmode","transparent"),a.appendChild(r),glhp.appendIdContent(t,a)}else{var s=document.createElement("div"),n=document.createTextNode("Please enable flash for this browser!"),l=document.createElement("a");l.title="Please enable flash for this browser!",l.target="_blank",l.href="http://get.adobe.com/flashplayer",l.appendChild(n),t.style.height="100%",s.className="notSupportFlash",s.appendChild(l),glhp.appendIdContent(t,s)}else(a=document.createElement("object")).width=e.w,a.height=e.h,a.style.position="absolute",a.style.top="0px",a.style.left="0px",(r=document.createElement("embed")).src=e.fU,r.width=e.w,r.height=e.h,r.setAttribute("quality","high"),r.setAttribute("type","application/x-shockwave-flash"),r.setAttribute("wmode","transparent"),a.appendChild(r),glhp.appendIdContent(t,a);return t},e}();function _instanceof(e,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?t[Symbol.hasInstance](e):e instanceof t}glrs.addModule({Level:glen.ModuleLevel.Element,ContentType:"Flash",grez:function(e,t){return new Flash(e).genFlash()}});var __extends=function(){var e=Object.setPrototypeOf||_instanceof({__proto__:[]},Array)&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])};return function(t,i){function a(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(a.prototype=i.prototype,new a)}}(),VideoModule=function(){var e=!1,t={},i=!1;return{StateVideo:function(e){var t=document.getElementById("content").querySelector("video");null!=t&&(e?t.play():t.pause())},Popitup:function(e,i,a){(null==t[i]||t[i].closed)&&(t[i]=window.open(e,i,a)),t[i].focus()},setIsCaption:function(t){e=t},getIsCaption:function(){return e},set isVideo(e){i=e},get isVideo(){return i}}}(),mvdz=function(){function e(e,t,i){this.Options=e,this.Type=t,this.ArrCaptions=[],this.isMainlayout=i}return e.prototype.CreateElementVideo=function(){var e=0==isMobile?this.Options.widdkt:isTabletLandscape?this.Options.widtls:isTabletPortrait?this.Options.widtpt:isMobileLandscape?this.Options.widmls:isMobilePortrait?this.Options.widmpt:this.Options.w,t=0==isMobile?this.Options.heidkt:isTabletLandscape?this.Options.heitls:isTabletPortrait?this.Options.heitpt:isMobileLandscape?this.Options.heimls:isMobilePortrait?this.Options.heimpt:this.Options.h;if(this.Options.Acr&&document.getElementById("video_"+this.Options.id))return VideoModule.isVideo=!1,document.createElement("div");null!=this.Options.cp&&(this.ArrCaptions=this.GetSubtilesArray(this.Options.cp));var i,a=document.createElement("div");i=0==this.Type?document.createElement("video"):document.createElement("audio");var r=document.createElement("source"),s=e,n=t;a.id="blockVideo_"+this.Options.id,a.className="myBlockVideo",0==this.Type?(a.style.width=e+"px",a.style.height=t+39+"px",a.style.left="0px",a.style.top="0px",a.style.position="absolute"):(a.style.width="0px",a.style.height="0px",i.style.width="0px"),i.style.position="absolute",i.id="video_"+this.Options.id,i.className="myVideo",i.controls=!1,!0===DOC.isExVi&&(i.playbackRate=DOC.timSca),this.Options.lp&&(i.loop=!0),0==this.Type?i.volume=this.Options.vl:(this.checkError(),"HIGH"==this.Options.vl.toUpperCase()?i.volume=.9:"MEDIUM"==this.Options.vl.toUpperCase()?i.volume=.6:"LOW"==this.Options.vl.toUpperCase()?i.volume=.4:"MUTE"==this.Options.vl.toUpperCase()&&(i.volume=0)),pc.sound&&(i.muted=!0);var l=this;if(!0===DOC.isExVi){var o,h=this.Options;i.addEventListener("play",(function(e){void 0===glrs.ListMedia.find(e=>e.Id===h.id)&&(o=Date.now()-glrs.StartPresentationTime.getTime(),glrs.addMedia({Id:h.id,Url:h.mU,StartTime:o}))})),i.addEventListener("pause",(function(e){var t=glrs.ListMedia.find(e=>e.Id===h.id);void 0!==t&&(t.EndTime=Date.now()-glrs.StartPresentationTime.getTime())}))}if(i.addEventListener("timeupdate",(function(e){l.UpdateTimeAuto(e)})),i.onloadedmetadata=function(e){l.LoadedMetadataVideo(e)},0==this.Type?("InNewBroswer"==this.Options.sV&&i.setAttribute("data-br",!0),"InNewBroswer"!=this.Options.sV&&"WhenClicked"!=this.Options.pV||i.addEventListener("click",(function(e){l.ClickVideo(e)})),"Automatically"==this.Options.pV&&"InNewBroswer"!=this.Options.sV&&(this.isMainlayout&&(DOC.isPresentation||(i.autoplay=!0),this.checkError()),i.setAttribute("play-auto","true"))):(!this.isMainlayout&&this.Options.ip&&i.setAttribute("auto","true"),this.isMainlayout&&this.Options.ip&&(DOC.isPresentation||(i.autoplay=!0),i.setAttribute("play-auto","true"))),r.setAttribute("src",this.Options.mU),i.appendChild(r),a.appendChild(i),this.Options.Acr&&this.isMainlayout)return document.getElementById("containAudio").appendChild(i),document.createElement("div");if(0==this.Type&&!1===DOC.isExVi&&"BelowVideo"==this.Options.sC){var d="http://www.w3.org/2000/svg",c=document.createElement("div"),p=document.createElement("div"),u=document.createElementNS(d,"svg"),m=document.createElementNS(d,"defs"),b=document.createElementNS(d,"linearGradient"),f=document.createElementNS(d,"stop"),g=document.createElementNS(d,"stop"),w=document.createElementNS(d,"stop"),y=document.createElementNS(d,"path"),v=document.createElement("div"),C=document.createElement("div"),T=document.createElement("span");c.className="myControl",c.style.top=n+"px",c.id="ctrVideo_"+this.Options.id,p.id="btnPlay_"+this.Options.id,p.className="myPlay",p.title="play/pause",p.addEventListener("click",(function(e){l.ClickPlay(e)})),p.addEventListener("mousemove",(function(e){l.MouseMovePlay(e)})),p.addEventListener("mouseleave",(function(e){l.MouseLeavePlay(e)})),u.id="icon_"+this.Options.id,u.setAttribute("class","myIcon"),u.setAttribute("width","20"),u.setAttribute("height","20"),b.id="fillLinear_"+this.Options.id,b.setAttribute("class","fillLinear"),b.setAttribute("x1","50%"),b.setAttribute("x2","50%"),b.setAttribute("y1","0%"),b.setAttribute("y2","100%"),f.setAttribute("offset","0%"),f.setAttribute("stop-color","#ECAD26"),g.setAttribute("offset","50%"),g.setAttribute("stop-color","#ECBB65"),w.setAttribute("offset","100%"),w.setAttribute("stop-color","#EED6AD"),y.id="path_"+this.Options.id,y.setAttribute("class","myPath"),y.setAttribute("fill","#acaaaa"),v.id="progressBar_"+this.Options.id,v.className="myProgressBar",v.addEventListener("click",(function(e){l.ClickProgress(e)}));var S=Math.abs(s-111);v.style.width=S+"px",C.id="actionProgressBar_"+this.Options.id,C.className="myActionProgressBar",T.id="time_"+this.Options.id,T.className="myTime",T.innerHTML="00:00:00.0",c.appendChild(p),c.appendChild(v),c.appendChild(T),p.appendChild(u),u.appendChild(m),m.appendChild(b),b.appendChild(f),b.appendChild(g),b.appendChild(w),u.appendChild(y),v.appendChild(C),a.appendChild(c)}return null!=this.Options.cp&&this.ProcessCaption(),"Automatically"!=this.Options.pV&&this.Options.isP&&(i.poster=this.Options.urlP,i.style.objectFit="fill"),a&&DOC.isPresentation&&a.addEventListener("mouseup",(function(e){e.stopPropagation()})),a},e.prototype.LoadedMetadataVideo=function(e){var t=this.GetNumberId(e),i=document.getElementById("video_"+t),a=0==isMobile?this.Options.widdkt:isTabletLandscape?this.Options.widtls:isTabletPortrait?this.Options.widtpt:isMobileLandscape?this.Options.widmls:isMobilePortrait?this.Options.widmpt:this.Options.w,r=0==isMobile?this.Options.heidkt:isTabletLandscape?this.Options.heitls:isTabletPortrait?this.Options.heitpt:isMobileLandscape?this.Options.heimls:isMobilePortrait?this.Options.heimpt:this.Options.h;if(0==this.Type&&i){var s=document.getElementById("path_"+t),n=r,l="scale("+a/e.target.videoWidth+","+n/e.target.videoHeight+")";i.style.transform=l,"BelowVideo"==this.Options.sC&&null!=s&&s.setAttribute("d","M12 1.25C6.06294 1.25 1.25 6.06294 1.25 12C1.25 17.9371 6.06294 22.75 12 22.75C17.9371 22.75 22.75 17.9371 22.75 12C22.75 6.06294 17.9371 1.25 12 1.25ZM2.75 12C2.75 6.89136 6.89136 2.75 12 2.75C17.1086 2.75 21.25 6.89136 21.25 12C21.25 17.1086 17.1086 21.25 12 21.25C6.89136 21.25 2.75 17.1086 2.75 12ZM10.375 7.88637C10.1429 7.7524 9.85705 7.7524 9.625 7.88637C9.39295 8.02034 9.25 8.26794 9.25 8.53589V15.4641C9.25 15.732 9.39295 15.9796 9.625 16.1136C9.85705 16.2476 10.1429 16.2476 10.375 16.1136L16.375 12.6495C16.6071 12.5155 16.75 12.2679 16.75 12C16.75 11.732 16.6071 11.4844 16.375 11.3505L10.375 7.88637ZM14.5 12L10.75 14.1651V9.83493L14.5 12Z")}if(this.isMainlayout&&("Automatically"==this.Options.pV&&"InNewBroswer"!=this.Options.sV||1==this.Type)&&this.Options.tim)if(0==this.Options.tim.sT&&i){VideoModule.isVideo=!1;if(!0===i.autoplay){if(isPauseTimeline)return void(isPauseTimeline=!1);var o=i.play();null!=o&&(_instanceof(o,Promise)?o.catch((function(e){if("NotAllowedError"!==e.name)throw e;if(!1,DOC.isPresentation||!DOC.iPv){var t=qzm.gelpw();t&&document.getElementsByTagName("body")[0].appendChild(t),document.getElementById("content").innerHTML="";glrs.crsl.MainTimeline.pause()}})).then((function(){})):i.stop())}}else VideoModule.isVideo=!1},e.prototype.checkError=function(){0==DOC.slds.indexOf(glrs.crsl.Data)&&this.isMainlayout&&(VideoModule.isVideo=!0)},e.prototype.UpdateTimeVideo=function(e){var t=document.getElementById("video_"+this.Options.ID),i=document.getElementById("path_"+this.Options.ID),a=this.Options.Timing.StartTime,r=this.Options.Timing.EndTime;null!=t&&(a>e||(a<=e&&e<=r?(t.currentTime=e-a,t.pause()):r<t.duration&&t.play()),this.ChangePlayPause(t,i))},e.prototype.ClickVideo=function(e){var t=this.GetNumberId(e),i=document.getElementById("video_"+t),a=document.getElementById("path_"+t);if("InNewBroswer"==this.Options.sV){var r=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,s=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;i.pause(),this.ChangePlayPause(i,a);var n="height="+r+"width="+s;VideoModule.Popitup("./"+this.Options.mU,"video",n)}else"WhenClicked"==this.Options.pV&&this.CheckVideoPlayPause(i,a)},e.prototype.ClickPlay=function(e){var t=this.GetNumberId(e),i=document.getElementById("video_"+t),a=document.getElementById("path_"+t);this.CheckVideoPlayPause(i,a)},e.prototype.ChangePlayPause=function(e,t){null!=t&&null!=e&&(e.paused||e.ended?t.setAttribute("d","M12 1.25C6.06294 1.25 1.25 6.06294 1.25 12C1.25 17.9371 6.06294 22.75 12 22.75C17.9371 22.75 22.75 17.9371 22.75 12C22.75 6.06294 17.9371 1.25 12 1.25ZM2.75 12C2.75 6.89136 6.89136 2.75 12 2.75C17.1086 2.75 21.25 6.89136 21.25 12C21.25 17.1086 17.1086 21.25 12 21.25C6.89136 21.25 2.75 17.1086 2.75 12ZM10.375 7.88637C10.1429 7.7524 9.85705 7.7524 9.625 7.88637C9.39295 8.02034 9.25 8.26794 9.25 8.53589V15.4641C9.25 15.732 9.39295 15.9796 9.625 16.1136C9.85705 16.2476 10.1429 16.2476 10.375 16.1136L16.375 12.6495C16.6071 12.5155 16.75 12.2679 16.75 12C16.75 11.732 16.6071 11.4844 16.375 11.3505L10.375 7.88637ZM14.5 12L10.75 14.1651V9.83493L14.5 12Z"):t.setAttribute("d","M1.25 12C1.25 6.06294 6.06294 1.25 12 1.25C17.9371 1.25 22.75 6.06294 22.75 12C22.75 17.9371 17.9371 22.75 12 22.75C6.06294 22.75 1.25 17.9371 1.25 12ZM12 2.75C6.89136 2.75 2.75 6.89136 2.75 12C2.75 17.1086 6.89136 21.25 12 21.25C17.1086 21.25 21.25 17.1086 21.25 12C21.25 6.89136 17.1086 2.75 12 2.75ZM9.5 8.25C9.91421 8.25 10.25 8.58579 10.25 9V15C10.25 15.4142 9.91421 15.75 9.5 15.75C9.08579 15.75 8.75 15.4142 8.75 15V9C8.75 8.58579 9.08579 8.25 9.5 8.25ZM15.25 9C15.25 8.58579 14.9142 8.25 14.5 8.25C14.0858 8.25 13.75 8.58579 13.75 9V15C13.75 15.4142 14.0858 15.75 14.5 15.75C14.9142 15.75 15.25 15.4142 15.25 15V9Z"))},e.prototype.CheckVideoPlayPause=function(e,t){e.paused||e.ended?(null!=t&&t.setAttribute("d","M1.25 12C1.25 6.06294 6.06294 1.25 12 1.25C17.9371 1.25 22.75 6.06294 22.75 12C22.75 17.9371 17.9371 22.75 12 22.75C6.06294 22.75 1.25 17.9371 1.25 12ZM12 2.75C6.89136 2.75 2.75 6.89136 2.75 12C2.75 17.1086 6.89136 21.25 12 21.25C17.1086 21.25 21.25 17.1086 21.25 12C21.25 6.89136 17.1086 2.75 12 2.75ZM9.5 8.25C9.91421 8.25 10.25 8.58579 10.25 9V15C10.25 15.4142 9.91421 15.75 9.5 15.75C9.08579 15.75 8.75 15.4142 8.75 15V9C8.75 8.58579 9.08579 8.25 9.5 8.25ZM15.25 9C15.25 8.58579 14.9142 8.25 14.5 8.25C14.0858 8.25 13.75 8.58579 13.75 9V15C13.75 15.4142 14.0858 15.75 14.5 15.75C14.9142 15.75 15.25 15.4142 15.25 15V9Z"),e.play()):(null!=t&&t.setAttribute("d","M12 1.25C6.06294 1.25 1.25 6.06294 1.25 12C1.25 17.9371 6.06294 22.75 12 22.75C17.9371 22.75 22.75 17.9371 22.75 12C22.75 6.06294 17.9371 1.25 12 1.25ZM2.75 12C2.75 6.89136 6.89136 2.75 12 2.75C17.1086 2.75 21.25 6.89136 21.25 12C21.25 17.1086 17.1086 21.25 12 21.25C6.89136 21.25 2.75 17.1086 2.75 12ZM10.375 7.88637C10.1429 7.7524 9.85705 7.7524 9.625 7.88637C9.39295 8.02034 9.25 8.26794 9.25 8.53589V15.4641C9.25 15.732 9.39295 15.9796 9.625 16.1136C9.85705 16.2476 10.1429 16.2476 10.375 16.1136L16.375 12.6495C16.6071 12.5155 16.75 12.2679 16.75 12C16.75 11.732 16.6071 11.4844 16.375 11.3505L10.375 7.88637ZM14.5 12L10.75 14.1651V9.83493L14.5 12Z"),e.pause())},e.prototype.ClickProgress=function(e){var t=this.GetNumberId(e),i=document.getElementById("progressBar_"+t),a=document.getElementById("actionProgressBar_"+t),r=document.getElementById("video_"+t),s=e.offsetX*r.duration/i.offsetWidth;a.style.width=e.offsetX+"px",r.currentTime=s},e.prototype.UpdateTimeAuto=function(e){if(1!=this.Type||!this.Options.Acr){var t=this.GetNumberId(e),i=document.getElementById("video_"+t),a=document.getElementById("path_"+t);if(null!=i){if(i.paused||glrs.ShowCaption&&this.ArrCaptions.length>0){var r=this.ArrCaptions[0];if(!glhp.isJumto){var s=document.getElementById("textCaption_"+t);null==s&&this.ProcessCaption(),null!=s&&(null!=r&&i.currentTime>=r.startTime&&i.currentTime<=r.endTime?null!=r.text?(s.innerHTML=r.text,s.style.visibility="visible"):s.style.visibility="hidden":null==(r=this.GetCurrentItem(this.ArrCaptions,i))||null==r.text?(s.innerHTML="",s.style.visibility="hidden"):(s.innerHTML=r.text,s.style.visibility="visible"))}}i.paused&&!i.ended?i.removeAttribute("data-auto"):i.setAttribute("data-auto",!0)}if("BelowVideo"==this.Options.sC&&null!=i){this.ChangePlayPause(i,a);var n=document.getElementById("actionProgressBar_"+t);if(n){var l=document.getElementById("time_"+t),o=100*i.currentTime/i.duration;n.style.width=o+"%",l.innerHTML=this.ParseTime(i.currentTime)}}}},e.prototype.ParseTime=function(e){var t,i,a,r;return a=Math.floor(e/3600),i=Math.floor(e%3600),i=Math.floor(i/60),t=Math.floor(e%60),r=Math.floor(10*(e-(3600*a+60*i+t))),this.ParseString(a)+":"+this.ParseString(i)+":"+this.ParseString(t)+"."+r},e.prototype.ParseString=function(e){return e<10?"0"+e:e},e.prototype.ProcessCaption=function(){var e=document.createElement("p");e.id="textCaption_"+this.Options.id,e.style.width="auto",e.className="myCaption",e.style.zIndex=100;var t=document.getElementById("textCaption_"+this.Options.id);null!=t&&document.getElementById("caption").removeChild(t),document.getElementById("caption").insertBefore(e,document.getElementById("caption").childNodes[0])},e.prototype.GetCurrentItem=function(e,t){for(var i=0;i<e.length;++i)if(t.currentTime>=e[i].startTime&&t.currentTime<=e[i].endTime)return e[i];return null},e.prototype.MouseMovePlay=function(e){var t=this.GetNumberId(e);document.getElementById("path_"+t).setAttribute("fill","url(#fillLinear_"+t+")")},e.prototype.MouseLeavePlay=function(e){var t=this.GetNumberId(e);document.getElementById("path_"+t).setAttribute("fill","#acaaaa")},e.prototype.ParseTimestamp=function(e){var t=e.match(/^(?:([0-9]+):)?([0-5][0-9]):([0-5][0-9](?:[.,][0-9]{0,3})?)/);if(null==t)throw"Invalid timestamp format: "+e;var i=parseInt(t[1]||"0",10),a=parseInt(t[2],10);return parseFloat(t[3].replace(",","."))+60*a+3600*i},e.prototype.GetSubtilesArray=function(e){for(var t=e.trim().replace("\r\n","\n").split(/[\r\n]/).map((function(e){return e.trim()})),i=[],a=null,r=null,s=null,n=0;n<t.length;n++)if(t[n].indexOf("--\x3e")>=0){var l=t[n].split(/[ \t]+-->[ \t]+/);if(2!=l.length)throw'Error when splitting "--\x3e": '+t[n];a=this.ParseTimestamp(l[0]),r=this.ParseTimestamp(l[1])}else if(""==t[n]){if(null!=a&&r){var o={startTime:a,endTime:r,text:s};i.push(o),a=null,r=null,s=null}}else null!=a&&r&&(null==s?s=t[n]:s+="\n"+t[n]);if(null!=a&&r){o={startTime:a,endTime:r,text:s};i.push(o)}return i},e.prototype.GetNumberId=function(e){var t=e.target.id.split("_");return 2==t.length?t[1]:""},e}(),AVNAudio=function(e){function t(t,i){return e.call(this,t,1,i)||this}return __extends(t,e),t.prototype.genElement=function(){return e.prototype.CreateElementVideo.call(this)},t}(mvdz),AVNVideo=function(e){function t(t,i){return e.call(this,t,0,i)||this}return __extends(t,e),t.prototype.genElement=function(){return e.prototype.CreateElementVideo.call(this)},t}(mvdz),YoutubeModule={Level:glen.ModuleLevel.Element,ContentType:"Youtube",grez:function(e){var t=0==isMobile?e.widdkt:isTabletLandscape?e.widtls:isTabletPortrait?e.widtpt:isMobileLandscape?e.widmls:isMobilePortrait?e.widmpt:e.w,i=0==isMobile?e.heidkt:isTabletLandscape?e.heitls:isTabletPortrait?e.heitpt:isMobileLandscape?e.heimls:isMobilePortrait?e.heimpt:e.h,a=document.createElement("div"),r=document.createElement("iframe");a.style.left="0px",a.style.top="0px",a.style.position="absolute",r.id=e.id,r.style.width=t+"px",r.style.height=i+"px",r.style.left="0px",r.style.top="0px",r.style.zIndex=e.z,r.setAttribute("frameborder",0);var s="?rel=0&playsinline=1&enablejsapi=1";return e.fullscr&&r.setAttribute("allowfullscreen",!0),e.hiAn&&(s+="&showinfo=0&iv_load_policy=3"),e.hiCo&&(s+="&controls=0"),0!=e.st&&(r.duration=60*Math.floor(e.st/100)+e.st%100),e.aupl&&!DOC.isPresentation&&(s+="&autoplay=1"),e.sppa?(Math.floor(e.st/100),e.st,Math.floor(e.end/100),e.end,s+="&start="+e.st+"&end="+e.end):s+="&start=0",r.setAttribute("src",e.urlvi+s),a.appendChild(r),a}};glrs.addModule({Level:glen.ModuleLevel.Element,ContentType:"Video",grez:function(e,t,i){if(!isTransaction)return new AVNVideo(e,i).genElement()},drawCanvas:async function(e,t,i){return await new Image(e).drawCanvas(i)}}),glrs.addModule({Level:glen.ModuleLevel.Element,ContentType:"Audio",grez:function(e,t,i){if(!isTransaction)return new AVNAudio(e,i).genElement()}}),glrs.addModule(YoutubeModule);var EffectModule={genGEffect:function(e,t,i,a,r){return function(e,t,i,a,r){switch(e.typ){case"Shadow":var s=new Shadow(e,t,i);return"Inner"===e.shT?{g:s.g,use:s.use}:{g:s.g};case"Glow":return{g:new Glow(e,t).genGlowEffect()};case"Reflection":return{g:new Reflection(e,t,i,a,r).genReflect()};case"SoftEdge":return{g:new SoftEdge(e,t).genSoftEdge()}}}(e,t,i,a,r)}},Glow=function(){function e(e,t){if(this.svg=t,this.effectData=e,null!=t.Id)this.frame={id:t.Id,width:t.width,height:t.height};else{var i=t.attributes.id.value.split("_")[0],a=parseFloat(t.attributes.width.value),r=parseFloat(t.attributes.height.value);this.frame={id:i,width:a,height:r}}}return e.prototype.calWidthFilter=function(){return this.frame.width+100},e.prototype.calHeightFilter=function(){return this.frame.height+100},e.prototype.calStdDeviation=function(){return this.effectData.std/3},e.prototype.genGlowEffect=function(){var e="http://www.w3.org/2000/svg",t=this.effectData,i=$(this.svg).find(".effects");0==i.length?(i=glhp.crgs("g",this.frame.id+"_ef","effects"),document.createElementNS(e,"svg").appendChild(i)):i=i[0];var a=$(i).find("defs");0==a.length&&(a=document.createElementNS(e,"defs"));var r=document.createElementNS(e,"filter"),s=document.createElementNS(e,"feGaussianBlur"),n=document.createElementNS(e,"feFlood"),l=document.createElementNS(e,"feComposite"),o=document.createElementNS(e,"use");return r.setAttribute("id","filterGlow"+this.frame.id),r.setAttribute("width",this.calWidthFilter()),r.setAttribute("height",this.calHeightFilter()),r.setAttribute("filterUnits","userSpaceOnUse"),o.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns","http://www.w3.org/2000/svg"),o.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),o.setAttribute("id","useGlow"),o.setAttribute("transform","translate(0, 0) scale(1, 1) translate(0, 0)"),o.setAttributeNS("http://www.w3.org/1999/xlink/","xlink:href","#"+this.frame.id+"_sh"),o.setAttribute("filter","url(#filterGlow"+this.frame.id+")"),s.setAttribute("result","gaussOut"),s.setAttribute("in","SourceAlpha"),s.setAttribute("stdDeviation",this.calStdDeviation()),n.setAttribute("result","floodOut"),n.setAttribute("flood-color",t.col),n.setAttribute("flood-opacity","1"),l.setAttribute("in","floodOut"),l.setAttribute("in2","gaussOut"),l.setAttribute("operator","in"),r.appendChild(s),r.appendChild(n),r.appendChild(l),a.appendChild(r),i.appendChild(a),$(i).prepend(o),i.innerHTML=i.innerHTML,i},e}(),Reflection=function(){function e(e,t,i,a,r){if(this.svgObj=t,this.effectData=e,this.angleObject=i,this.isScaleX=a,this.isScaleY=r,null!=t.Id)this.frame={id:t.Id,width:t.width,height:t.height};else{var s=t.attributes.id.value.split("_")[0],n=parseFloat(t.attributes.width.value),l=parseFloat(t.attributes.height.value);this.frame={id:s,width:n,height:l}}}return e.prototype.rotateWidth=function(){return this.angleObject<=90?this.frame.width:90<this.angleObject&&this.angleObject<=180?this.frame.width/1.12+this.distanceReflect()+2:this.frame.width/5.6-(this.distanceReflect()+15)},e.prototype.rotateHeight=function(){return this.angleObject<=90||this.angleObject>270?!0===this.isScaleY?0:this.frame.height:0},e.prototype.rotateReflect=function(){return!0===this.isScaleY?this.angleObject:-this.angleObject},e.prototype.HeightTotal=function(){return this.angleObject<=90||this.angleObject>270?!0===this.isScaleY?-this.frame.height:2*this.frame.height:0},e.prototype.graRotate=function(){return 90-this.angleObject},e.prototype.sizeReflect=function(){return 100-this.effectData.sz},e.prototype.distanceReflect=function(){return this.effectData.dis},e.prototype.bottomReflect=function(){var e=Math.PI*this.angleObject/180,t=Math.sin(e)/4,i=this.frame.width*t;return this.angleObject>=0&&this.angleObject<=90?!0===this.isScaleY?-this.effectData.dis:this.effectData.dis:this.angleObject>90&&this.angleObject<=180?!0===this.isScaleY?-(this.effectData.dis+i):this.effectData.dis+i:this.angleObject>180&&this.angleObject<=270?!0===this.isScaleY?-(this.effectData.dis+i+this.frame.height):this.effectData.dis-i:!0===this.isScaleY?-(this.effectData.dis-i):this.effectData.dis-i},e.prototype.calLeftReflect=function(){var e=Math.PI*this.angleObject/180,t=Math.sin(e)/4,i=this.frame.width*t;return this.angleObject>90&&this.angleObject<=180?!0===this.isScaleY?this.frame.height:0:this.angleObject>180&&this.angleObject<=270&&!0===this.isScaleY?-(this.effectData.dis-i):0},e.prototype.calWidthFilter=function(){return this.frame.width+100},e.prototype.calHeightFilter=function(){return this.frame.height+100},e.prototype.calStdDeviation=function(){return this.effectData.bl/3},e.prototype.calScaleY=function(){return!0===this.isScaleY?1:-1},e.prototype.genReflect=function(){var e="http://www.w3.org/2000/svg",t=this.effectData,i=$(this.svgObj).find(".effects");i=0==i.length?glhp.crgs("g",this.frame.id+"_ef","effects"):i[0];var a=document.createElementNS(e,"image");a.setAttribute("id",this.frame.id+"_imgRe"),a.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns","http://www.w3.org/2000/svg"),a.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),a.setAttribute("preserveAspectRatio","none"),a.setAttributeNS("http://www.w3.org/1999/xlink/","xlink:href",t.urlRe),a.setAttribute("width",this.frame.width),a.setAttribute("height",this.frame.height),a.setAttribute("transform","rotate("+this.rotateReflect()+", "+this.rotateWidth()+","+this.rotateHeight()+") translate("+this.calLeftReflect()+", "+this.bottomReflect()+") rotate("+this.rotateReflect()+", "+this.rotateWidth()+", "+this.rotateHeight()+") translate(0, "+this.HeightTotal()+") scale(1, "+this.calScaleY()+")"),i.appendChild(a);var r=$(i).find("defs");0==r.length&&(r=document.createElementNS(e,"defs"));var s=document.createElementNS(e,"linearGradient"),n=document.createElementNS(e,"stop"),l=document.createElementNS(e,"stop"),o=document.createElementNS(e,"stop"),h=document.createElementNS(e,"mask"),d=document.createElementNS(e,"rect"),c=(document.createElementNS(e,"use"),document.createElementNS(e,"filter")),p=document.createElementNS(e,"feGaussianBlur");return c.setAttribute("id","filterGlow"+this.frame.id),c.setAttribute("width",this.calWidthFilter()),c.setAttribute("height",this.calHeightFilter()),c.setAttribute("filterUnits","userSpaceOnUse"),p.setAttribute("in","SourceGraphic"),p.setAttribute("stdDeviation",this.calStdDeviation()),c.appendChild(p),s.setAttribute("gradientTransform","rotate("+this.graRotate()+" ,0.5,0.5)"),s.setAttribute("id","LinRef"+this.frame.id),n.setAttribute("offset","0%"),n.setAttribute("stop-color","#FFFFFF"),n.setAttribute("stop-opacity","0"),l.setAttribute("offset",this.sizeReflect()+"%"),l.setAttribute("stop-color","#FFFFFF"),l.setAttribute("stop-opacity","0"),o.setAttribute("offset","100%"),o.setAttribute("stop-color","#FFFFFF"),o.setAttribute("stop-opacity","1"),h.setAttribute("id","mask"+this.frame.id),h.setAttribute("maskContentUnits","objectBoundingBox"),d.setAttribute("fill","url(#LinRef"+this.frame.id+")"),d.setAttribute("width","1.2"),d.setAttribute("height","1.2"),d.setAttribute("x","-0.1"),d.setAttribute("y","-0.1"),r.appendChild(s),r.appendChild(h),r.appendChild(c),a.setAttribute("mask","url(#mask"+this.frame.id+")"),a.setAttribute("filter","url(#filterGlow"+this.frame.id+")"),s.appendChild(n),s.appendChild(l),s.appendChild(o),h.appendChild(d),i.appendChild(r),$(i).prepend(a),document.createElementNS(e,"svg").appendChild(i),i.innerHTML=i.innerHTML,i},e}(),swor=function(){function e(e,t){if(this.effectData=e,this.svgObj=t,null!=t.Id)this.frame={id:t.Id,width:t.width,height:t.height};else{var i=t.attributes.id.value.split("_")[0],a=parseFloat(t.attributes.width.value),r=parseFloat(t.attributes.height.value);this.frame={id:i,width:a,height:r}}}return e.prototype.scaleOuter=function(){return this.effectData.sz},e.prototype.stdDeviationOuter=function(){return this.effectData.bl/2*7/20},e.prototype.marginTopOuter=function(){var e=Math.PI*this.effectData.agl/180;return this.effectData.dis*Math.sin(e)},e.prototype.marginRightOuter=function(){var e=Math.PI*this.effectData.agl/180;return this.effectData.dis*Math.cos(e)},e.prototype.calWidthFilter=function(){return this.frame.width+100},e.prototype.calHeightFilter=function(){return this.frame.height+100},e.prototype.calOpacity=function(){return this.effectData.opc},e.prototype.genswor=function(){var e="http://www.w3.org/2000/svg",t=this.effectData,i=$(this.svgObj).find(".effects");i=0==i.length?glhp.crgs("g",this.frame.id+"_ef","effects"):i[0];var a=$(i).find("defs");0==a.length&&(a=document.createElementNS(e,"defs"));var r=document.createElementNS(e,"filter"),s=document.createElementNS(e,"feGaussianBlur"),n=document.createElementNS(e,"feFlood"),l=document.createElementNS(e,"feComposite"),o=(document.createElementNS(e,"path"),document.createElementNS(e,"use"));document.createElementNS(e,"g");return r.setAttribute("id","shadowOuter"+this.frame.id),r.setAttribute("filterUnits","userSpaceOnUse"),r.setAttribute("width",this.calWidthFilter()),r.setAttribute("height",this.calHeightFilter()),n.setAttribute("result","floodOut"),n.setAttribute("flood-color",t.col),n.setAttribute("flood-opacity",this.calOpacity()),s.setAttribute("result","gaussOut"),s.setAttribute("in","SourceAlpha"),s.setAttribute("stdDeviation",this.stdDeviationOuter()+","+this.stdDeviationOuter()),l.setAttribute("in","floodOut"),l.setAttribute("in2","gaussOut"),l.setAttribute("operator","in"),o.setAttribute("id","useOuter"),o.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns","http://www.w3.org/2000/svg"),o.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),o.setAttribute("transform","translate(0, 0) scale("+this.scaleOuter()+","+this.scaleOuter()+") translate("+this.marginRightOuter()+","+this.marginTopOuter()+")"),o.setAttributeNS("http://www.w3.org/1999/xlink/","xlink:href","#"+this.frame.id+"_sh"),o.setAttribute("filter","url(#shadowOuter"+this.frame.id+")"),r.appendChild(n),r.appendChild(s),r.appendChild(l),a.appendChild(r),i.appendChild(o),i.appendChild(a),document.createElementNS(e,"svg").appendChild(i),i.innerHTML=i.innerHTML,i},e}(),sdnnz=function(){function e(e,t){if(this.effectData=e,this.svgObj=t,null!=t.Id)this.frame={id:t.Id,width:t.width,height:t.height};else{var i=t.attributes.id.value.split("_")[0],a=parseFloat(t.attributes.width.value),r=parseFloat(t.attributes.height.value);this.frame={id:i,width:a,height:r}}}return e.prototype.stdDeviationInner=function(){return 7*this.effectData.bl/20/2},e.prototype.marginTopInner=function(){var e=Math.PI*this.effectData.agl/180;return-this.effectData.dis*Math.sin(e)},e.prototype.marginRightInner=function(){var e=Math.PI*this.effectData.agl/180;return-this.effectData.dis*Math.cos(e)},e.prototype.calWidthFilter=function(){return this.frame.width+100},e.prototype.calHeightFilter=function(){return this.frame.height+100},e.prototype.gensdnnz=function(){var e="http://www.w3.org/2000/svg",t=this.effectData,i=$(this.svgObj).find(".effects");i=0==i.length?glhp.crgs("g",this.frame.id+"_ef","effects"):i[0];var a=$(i).find("defs");0==a.length&&(a=document.createElementNS(e,"defs"));var r=document.createElementNS(e,"filter"),s=document.createElementNS(e,"feGaussianBlur"),n=document.createElementNS(e,"feFlood"),l=document.createElementNS(e,"feComposite"),o=document.createElementNS(e,"feComposite"),h=document.createElementNS(e,"feComposite"),d=document.createElementNS(e,"feOffset"),c=(document.createElementNS(e,"g"),document.createElementNS(e,"g")),p=document.createElementNS(e,"path");if(r.setAttribute("id","shadowInner"+this.frame.id),r.setAttribute("filterUnits","userSpaceOnUse"),r.setAttribute("width",this.calWidthFilter()),r.setAttribute("height",this.calHeightFilter()),n.setAttribute("result","floodOut"),n.setAttribute("flood-color",t.col),n.setAttribute("flood-opacity",t.opc),d.setAttribute("dx",this.marginRightInner()),d.setAttribute("dy",this.marginTopInner()),null!=t&&0==t.dis&&(d.setAttribute("dy","8"),d.setAttribute("dx","7")),s.setAttribute("in","SourceAlpha"),s.setAttribute("stdDeviation",this.effectData.bl-3),s.setAttribute("result","blur"),l.setAttribute("in2","SourceAlpha"),l.setAttribute("operator","arithmetic"),l.setAttribute("k2","-1"),l.setAttribute("k3","1"),l.setAttribute("result","shadowDiff"),o.setAttribute("in2","shadowDiff"),o.setAttribute("operator","in"),h.setAttribute("in2","SourceGraphic"),h.setAttribute("operator","over"),h.setAttribute("result","firstfilter"),r.appendChild(s),r.appendChild(d),r.appendChild(l),r.appendChild(n),r.appendChild(o),r.appendChild(h),null!=t&&0==t.dis){var u=document.createElementNS(e,"feGaussianBlur"),m=document.createElementNS(e,"feFlood"),b=document.createElementNS(e,"feComposite"),f=document.createElementNS(e,"feComposite"),g=document.createElementNS(e,"feComposite"),w=document.createElementNS(e,"feOffset");m.setAttribute("result","floodOut"),m.setAttribute("flood-color",t.col),m.setAttribute("flood-opacity",t.opc),w.setAttribute("dy","-8"),w.setAttribute("dx","-7"),u.setAttribute("in","firstfilter"),u.setAttribute("stdDeviation",this.effectData.bl-3),u.setAttribute("result","blur2"),b.setAttribute("in2","firstfilter"),b.setAttribute("k2","-1"),b.setAttribute("k3","1"),b.setAttribute("operator","arithmetic"),b.setAttribute("result","shadowDiff"),f.setAttribute("in2","shadowDiff"),f.setAttribute("operator","in"),g.setAttribute("in2","firstfilter"),g.setAttribute("operator","over"),r.appendChild(u),r.appendChild(w),r.appendChild(b),r.appendChild(m),r.appendChild(f),r.appendChild(g)}return a.appendChild(r),c.appendChild(p),i.appendChild(a),i},e.prototype.useHTML=function(){var e=document.createElementNS("http://www.w3.org/2000/svg","use");return e.setAttribute("id","useInner"),e.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns","http://www.w3.org/2000/svg"),e.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),e.setAttributeNS("http://www.w3.org/1999/xlink/","xlink:href","#"+this.frame.id+"_gp"),e.setAttribute("filter","url(#shadowInner"+this.frame.id+")"),e},e}(),spdw=function(){function e(e,t,i){if(this.effectData=e,this.angleObject=i,this.svgObj=t,null!=t.Id)this.frame={id:t.Id,width:t.width,height:t.height};else{var a=t.attributes.id.value.split("_")[0],r=parseFloat(t.attributes.width.value),s=parseFloat(t.attributes.height.value);this.frame={id:a,width:r,height:s}}}return e.prototype.scalePerspective=function(){return this.effectData.bl/6},e.prototype.Rotate=function(){return this.effectData.iSiz?"Below"==this.effectData.peT||"LowerLeft"==this.effectData.peT||"LowerRight"===this.effectData.peT?180-2*this.angleObject:"UpperLeft"==this.effectData.peT||"UpperRight"==this.effectData.peT?0:void 0:-this.angleObject},e.prototype.RotateBehind=function(){return this.angleObject},e.prototype.RotateWidth=function(){return"LowerLeft"===this.effectData.peT?this.angleObject<=90?this.frame.width:this.angleObject>90&&this.angleObject<=180?10:0:"UpperRight"===this.effectData.peT?this.angleObject<=90||this.angleObject>120&&this.angleObject<180?this.frame.width:0:this.angleObject<=180?this.frame.width:0},e.prototype.RotateHeight=function(){return"LowerLeft"===this.effectData.peT?this.angleObject<=90||this.angleObject>=270?this.frame.height:this.angleObject>90&&this.angleObject<180?0:this.frame.height/2+6:"UpperRight"===this.effectData.peT?this.angleObject<=90||this.angleObject>=270?this.frame.height:this.angleObject>90&&this.angleObject<=120?0:this.frame.height/2:this.angleObject<=90||this.angleObject>=270?this.frame.height:this.frame.height/2},e.prototype.ScaleX=function(){return this.effectData.iSiz?"Below"==this.effectData.peT||"LowerLeft"==this.effectData.peT||"LowerRight"===this.effectData.peT?-this.effectData.sz:"UpperLeft"===this.effectData.peT||"UpperRight"===this.effectData.peT?this.effectData.sz:void 0:this.effectData.sz},e.prototype.ScaleY=function(){return this.effectData.iSiz?"Below"==this.effectData.peT||"LowerLeft"==this.effectData.peT||"LowerRight"===this.effectData.peT||"UpperLeft"===this.effectData.peT||"UpperRight"===this.effectData.peT?this.effectData.sz:void 0:"LowerRight"===this.effectData.peT||"LowerLeft"===this.effectData.peT||"Below"===this.effectData.peT?.28*-this.ScaleX():.28*this.ScaleX()},e.prototype.TranslateHeight=function(){return"LowerLeft"===this.effectData.peT||"Below"===this.effectData.peT||"LowerRight"===this.effectData.peT?.8372*this.frame.height-1+.8372*this.frame.height*-this.ScaleY()*2:this.frame.height*(1-this.ScaleY())},e.prototype.marginTopPerspective=function(){var e=Math.PI*this.effectData.agl/180;if(!this.effectData.iSiz)return this.effectData.dis*Math.sin(e);if("Below"===this.effectData.peT||"LowerLeft"===this.effectData.peT||"LowerRight"===this.effectData.peT){Math.PI,this.angleObject;var t=Math.PI*(this.angleObject+this.effectData.agl)/180;return-this.effectData.dis*Math.sin(t)}if("UpperLeft"===this.effectData.peT||"UpperRight"===this.effectData.peT){t=Math.PI*(-this.angleObject+this.effectData.agl)/180;return this.effectData.dis*Math.sin(t)}},e.prototype.marginRightPerspective=function(){var e=Math.PI*this.effectData.agl/180;if(!this.effectData.iSiz)return this.effectData.dis*Math.cos(e);if("Below"===this.effectData.peT||"LowerLeft"===this.effectData.peT||"LowerRight"===this.effectData.peT){Math.PI,this.angleObject;var t=Math.PI*(this.angleObject+this.effectData.agl)/180;return this.effectData.dis*Math.cos(t)}if("UpperLeft"===this.effectData.peT||"UpperRight"===this.effectData.peT){t=Math.PI*(180-this.angleObject+this.effectData.agl)/180;return-this.effectData.dis*Math.cos(t)}},e.prototype.calWidthFilter=function(){return this.frame.width+100},e.prototype.calHeightFilter=function(){return this.frame.height+100},e.prototype.calOpacity=function(){return this.effectData.opc},e.prototype.calSkew=function(){if(!this.effectData.iSiz)return"UpperLeft"===this.effectData.peT||"LowerLeft"===this.effectData.peT?14.63:"LowerRight"===this.effectData.peT||"UpperRight"===this.effectData.peT?-14.63:0;if("UpperLeft"===this.effectData.peT||"LowerLeft"===this.effectData.peT){if(0<=this.angleObject&&45>this.angleObject)return 14.63;if(45<=this.angleObject&&90>=this.angleObject)return 0;if(90<this.angleObject&&225>=this.angleObject)return 14.63;if(225<this.angleObject&&315>=this.angleObject)return 0;if(315<this.angleObject&&360>=this.angleObject)return 14.63}if("UpperRight"===this.effectData.peT||"LowerRight"===this.effectData.peT){if(0<=this.angleObject&&45>this.angleObject)return-14.63;if(45<=this.angleObject&&90>=this.angleObject)return 0;if(45<=this.angleObject&&135>=this.angleObject)return 0;if(135<this.angleObject&&225>=this.angleObject)return-14.63;if(225<this.angleObject&&315>=this.angleObject)return 0;if(315<this.angleObject&&360>=this.angleObject)return 14.63}else if("Below"===this.effectData.peT)return 0},e.prototype.calSkewY=function(){if("UpperLeft"==this.effectData.peT){if(0<=this.angleObject&&45>this.angleObject)return 0;if(45<=this.angleObject&&180>=this.angleObject)return-14.63;if(180<this.angleObject&&225>=this.angleObject)return 0;if(225<this.angleObject&&315>=this.angleObject)return-14.63;if(315<this.angleObject&&360>=this.angleObject)return 0}if("UpperRight"==this.effectData.peT||"LowerRight"===this.effectData.peT){if(0<=this.angleObject&&45>this.angleObject)return 0;if(0<=this.angleObject&&90>this.angleObject)return 14.63;if(90<=this.angleObject&&135>=this.angleObject)return 14.63;if(135<=this.angleObject&&180>=this.angleObject)return 0;if(180<this.angleObject&&225>=this.angleObject)return 0;if(225<this.angleObject&&315>=this.angleObject)return"LowerRight"===this.effectData.peT?14.63:-14.63;if(315<this.angleObject&&360>=this.angleObject)return 0}else if("Below"===this.effectData.peT||"LowerLeft"===this.effectData.peT)return 0},e.prototype.callTranslateX=function(){var e=this.frame.height*this.ScaleY(),t=Math.abs(this.calSkew()),i=e+e*(t/100)*2,a=Math.tan(t)*i;if("UpperLeft"===this.effectData.peT)return a/3-6;if("UpperRight"===this.effectData.peT)return-a/3+6;if("Below"===this.effectData.peT)return 0;if("LowerLeft"===this.effectData.peT){var r=Math.PI*(89+this.calSkew())/180;return(this.frame.height-3)/Math.tan(r)-4}if("LowerRight"===this.effectData.peT){r=Math.PI*(91+this.calSkew())/180;return this.frame.height/Math.tan(r)}},e.prototype.genspdw=function(){var e="http://www.w3.org/2000/svg",t=this.effectData,i=$(this.svgObj).find(".effects");i=0==i.length?glhp.crgs("g",this.frame.id+"_ef","effects"):i[0];var a=$(i).find("defs");0==a.length&&(a=document.createElementNS(e,"defs"));var r=document.createElementNS(e,"filter"),s=document.createElementNS(e,"feGaussianBlur"),n=document.createElementNS(e,"feFlood"),l=document.createElementNS(e,"feComposite"),o=document.createElementNS(e,"use");document.createElementNS(e,"g");return r.setAttribute("id","filterPerspective"+this.frame.id),r.setAttribute("filterUnits","userSpaceOnUse"),r.setAttribute("width",this.calWidthFilter()),r.setAttribute("height",this.calHeightFilter()),n.setAttribute("result","floodOut"),n.setAttribute("flood-color",t.col),n.setAttribute("flood-opacity",this.calOpacity()),s.setAttribute("result","gaussOut"),s.setAttribute("in","SourceAlpha"),s.setAttribute("stdDeviation",this.scalePerspective()+","+this.scalePerspective()),l.setAttribute("in","floodOut"),l.setAttribute("in2","gaussOut"),l.setAttribute("operator","in"),o.setAttribute("id","usePerspective"),o.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns","http://www.w3.org/2000/svg"),o.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),t.iSiz?("Below"==t.peT||"LowerLeft"==t.peT?0<=this.angleObject&&90>=this.angleObject?o.setAttribute("transform-origin","100% 100%"):90<this.angleObject&&180>=this.angleObject?o.setAttribute("transform-origin","100% 0%"):180<this.angleObject&&270>=this.angleObject?o.setAttribute("transform-origin","0% 0%"):o.setAttribute("transform-origin","0% 100%"):"LowerRight"==t.peT?0==this.angleObject||360==this.angleObject?o.setAttribute("transform-origin","0% 100%"):0<this.angleObject&&90>this.angleObject||90==this.angleObject?o.setAttribute("transform-origin","100% 100%"):90<this.angleObject&&180>=this.angleObject?o.setAttribute("transform-origin","100% 0%"):180<this.angleObject&&270>=this.angleObject?o.setAttribute("transform-origin","0% 0%"):o.setAttribute("transform-origin","0% 100%"):"UpperLeft"==t.peT?0<=this.angleObject&&90>this.angleObject?o.setAttribute("transform-origin","100% 100%"):90<=this.angleObject&&180>this.angleObject?o.setAttribute("transform-origin","100% 0%"):180<=this.angleObject&&270>this.angleObject?o.setAttribute("transform-origin","0% 0%"):o.setAttribute("transform-origin","0% 100%"):"UpperRight"==t.peT&&(0<=this.angleObject&&45>this.angleObject?o.setAttribute("transform-origin","0% 100%"):45<=this.angleObject&&90>this.angleObject?o.setAttribute("transform-origin","100% 100%"):90<=this.angleObject&&180>this.angleObject?o.setAttribute("transform-origin","100% 0%"):180<=this.angleObject&&270>this.angleObject?o.setAttribute("transform-origin","0% 0%"):o.setAttribute("transform-origin","0% 100%")),o.setAttribute("transform","rotate("+this.Rotate()+") scale("+this.ScaleX()+" ,"+this.ScaleY()+") translate("+this.marginRightPerspective()+","+this.marginTopPerspective()+") skewX("+this.calSkew()+") skewY("+this.calSkewY()+")")):o.setAttribute("transform","rotate("+this.Rotate()+", "+this.RotateWidth()+", "+this.RotateHeight()+") translate(0, -1) translate("+this.marginRightPerspective()+","+this.marginTopPerspective()+") translate(0, "+this.TranslateHeight()+") scale("+this.ScaleX()+", "+this.ScaleY()+") skewX("+this.calSkew()+") translate("+this.callTranslateX()+", 0) skewY(0) translate(0, 0) rotate("+this.RotateBehind()+", "+this.RotateWidth()+", "+this.RotateHeight()+")"),o.setAttributeNS("http://www.w3.org/1999/xlink/","xlink:href","#"+this.frame.id+"_sh"),o.setAttribute("filter","url(#filterPerspective"+this.frame.id+")"),r.appendChild(n),r.appendChild(s),r.appendChild(l),a.appendChild(r),i.appendChild(a),$(i).prepend(o),i.innerHTML=i.innerHTML,i},e}(),SoftEdge=function(){function e(e,t){if(this.effectData=e,this.svgObj=t,null!=t.Id)this.frame={id:t.Id,width:t.width,height:t.height};else{var i=t.attributes.id.value.split("_")[0],a=parseFloat(t.attributes.width.value),r=parseFloat(t.attributes.height.value);this.frame={id:i,width:a,height:r}}}return e.prototype.genSoftEdge=function(){var e=this.effectData,t=$(this.svgObj).find(".effects");t=0==t.length?glhp.crgs("g",this.frame.id+"_efso","effects"):t[0];var i=document.createElementNS("http://www.w3.org/2000/svg","image");return i.setAttribute("id",this.frame.id+"_sh"),i.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns","http://www.w3.org/2000/svg"),i.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),i.setAttribute("preserveAspectRatio","none"),i.setAttributeNS("http://www.w3.org/1999/xlink/","xlink:href",e.sU),i.setAttribute("width",this.frame.width),i.setAttribute("height",this.frame.height),t.appendChild(i),t.innerHTML=t.innerHTML,t},e}(),Shadow=function(){function e(e,t,i){return this.effectData=e,this.svg=t,this.angleObject=i,this.shadowType=e.ShadowType,this.accordingType()}return e.prototype.accordingType=function(){switch(this.effectData.shT){case"Outer":return{g:new swor(this.effectData,this.svg).genswor()};case"Inner":var e=new sdnnz(this.effectData,this.svg);return{g:e.gensdnnz(),use:e.useHTML()};case"Perspective":return{g:new spdw(this.effectData,this.svg,this.angleObject).genspdw()};default:return}},e}(),xmlns="http://www.w3.org/2000/svg",KEY=DOC.k,Ma={_KEYStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",en:function(e){var t,i,a,r,s,n,l,o="",h=0;for(e=Ma._utf8_en(e);h<e.length;)r=(t=e.charCodeAt(h++))>>2,s=(3&t)<<4|(i=e.charCodeAt(h++))>>4,n=(15&i)<<2|(a=e.charCodeAt(h++))>>6,l=63&a,isNaN(i)?n=l=64:isNaN(a)&&(l=64),o=o+this._KEYStr.charAt(r)+this._KEYStr.charAt(s)+this._KEYStr.charAt(n)+this._KEYStr.charAt(l);return this.endecode(o)},de:function(e){var t,i,a,r,s,n,l="",o=0;for(e=this.endecode(e).replace(/[^A-Za-z0-9+/=]/g,"");o<e.length;)t=this._KEYStr.indexOf(e.charAt(o++))<<2|(r=this._KEYStr.indexOf(e.charAt(o++)))>>4,i=(15&r)<<4|(s=this._KEYStr.indexOf(e.charAt(o++)))>>2,a=(3&s)<<6|(n=this._KEYStr.indexOf(e.charAt(o++))),l+=String.fromCharCode(t),64!=s&&(l+=String.fromCharCode(i)),64!=n&&(l+=String.fromCharCode(a));return l=Ma._utf8_de(l)},_utf8_en:function(e){e=e.replace(/rn/g,"n");for(var t="",i=0;i<e.length;i++){var a=e.charCodeAt(i);a<128?t+=String.fromCharCode(a):a>127&&a<2048?(t+=String.fromCharCode(a>>6|192),t+=String.fromCharCode(63&a|128)):(t+=String.fromCharCode(a>>12|224),t+=String.fromCharCode(a>>6&63|128),t+=String.fromCharCode(63&a|128))}return t},_utf8_de:function(e){for(var t="",i=0,a=c1=c2=0;i<e.length;)(a=e.charCodeAt(i))<128?(t+=String.fromCharCode(a),i++):a>191&&a<224?(c2=e.charCodeAt(i+1),t+=String.fromCharCode((31&a)<<6|63&c2),i+=2):(c2=e.charCodeAt(i+1),c3=e.charCodeAt(i+2),t+=String.fromCharCode((15&a)<<12|(63&c2)<<6|63&c3),i+=3);return t},endecode:function(e){for(var t=e.length,i="",a=0;a<t;a++)a%2==0&&(a+1<t&&(i+=e[a+1]),i+=e[a]);return i}},_isdroplist=!1,isDrapHotspot=!1,ishandleHotspot=!1,_isAnimationProcess=!1,qzm=function(){var e=0,t=this,i={x:0,y:0},a={Date:new Date,StudentScore:null,PassingScore:null,Result:null,IsPassed:!1},r=!1,s=null,n=!1,l={},o=!0,h=!1,d=!0,c=null,p=[],u=!1,m=[],b=0,f=[],g=null,w=null,y=null,v=!1,C=!1;function T(e){for(var t=e+"=",i=decodeURIComponent(document.cookie).split(";"),a=0;a<i.length;a++){for(var r=i[a];" "==r.charAt(0);)r=r.substring(1);if(0==r.indexOf(t))return r.substring(t.length,r.length)}return null}function S(e){for(var t=0,i=0;i<DOC.slds.length;i++)for(var a=0;a<e.q.length;a++)if(DOC.slds[i].id==e.q[a]){let e=DOC.slds[i];for(var r=0;r<e.fbs.length;r++)if("Correct"==e.fbs[r].fs){t+=e.fbs[r].sC;break}}return 0==t&&(t=10),parseFloat(t)}function x(e){for(var t=0,i=0;i<DOC.slds.length;i++)if("QuestionSlide"===DOC.slds[i].slt)for(var a=0;a<e.q.length;a++)if(DOC.slds[i].id==e.q[a]&&glhp.DataLocal.Slide[i]){var r=glhp.DataLocal.Slide[i].p;null!=r&&(t+=parseFloat(r))}return t}function A(e){var t=null,i=null,a=null,r=null,s=null,n=null;switch(DOC.Lang.toUpperCase()){case"EN-US":switch(e){case"Timelimit":t="Time Limit Exceeded",i="You have riched the time limit set for the quiz. <br> Press 'OK' to continue !";break;case"Invalid":t="Invalid Answer",i="You must compelete the question before submitting.";break;case"UserInfo":t="User info",i="Please enter your name.",r="You can use letters",s="Your email:",n="Email's format is invalid"}a="OK";break;case"TH-TH":switch(e){case"Timelimit":t="เวลาที่กําหนดสิ้นสุดแล้ว",i="คุณทําแบบทดสอบเกินเวลาที่กําหนด กด 'ตกลง' เพื่อดําเนินการต่อ!";break;case"Invalid":t="คําตอบไม่ถูกต้อง",i="คุณต้องตอบคําถามให้ครบก่อนส่งงาน";break;case"UserInfo":t="ข้อมูลผู้ใช้",i="กรุณาระบุชื่อของคุณ",r="คุณสามารถใช้อักษรได้",s="อีเมลของคุณ:",n="รูปแบบอีเมลไม่ถูกต้อง"}a="ตกลง";break;case"VI-VN":switch(e){case"Timelimit":t="Đã Hết Thời Gian",i="Bạn đã hết thời gian giới hạn cho bài kiểm tra. <br> Nhấn 'Đồng ý' để tiếp tục !";break;case"Invalid":t="Chưa lựa chọn đáp án",i="Bạn phải hoàn thành câu hỏi trước khi nộp bài.";break;case"UserInfo":t="Thông tin học viên",i="Tên của bạn:",r="Bạn phải nhập họ tên hợp lệ (Nguyễn Văn An, Trần Vy Anh,...)",s="Email của bạn:",n="Bạn phải nhập email hợp lệ"}a="Đồng ý"}var l=glhp.crgs("div","warning-feedback","stretch-fill");l.setAttribute("style","top: 0px;display: block;position:absolute;");var o=glhp.crgs("div","","slide-object"),h=isMobileLandscape?113:isTabletPortrait||isMobilePortrait?13:213,d=isMobileLandscape?93:193,c=isMobileLandscape||isTabletPortrait?400:isMobilePortrait?320:600;o.style=`position: absolute; width: ${c}px; height: 40px; top: ${d}px; left: ${h}px; z-index: 100; transform: rotate(0deg) scale(1, 1);`;var p=glhp.crgs("svg","","");p.setAttribute("width",c),p.setAttribute("height",40),p.style="position: absolute; overflow: unset;";var u=glhp.crgs("path","","");u.setAttribute("d",`M0,0L${c},1E-10 ${c},40 0,40.0000000001z`),u.setAttribute("stroke-width",0),u.setAttribute("stroke","transparent"),u.setAttribute("fill","rgba(220,90,76,1)"),p.appendChild(u);var m=glhp.crgs("div","","");m.style="font-size: 18.7px;transform: translate(20px, 10px); font-family: arial;text-align:left;font-weight: bold;",m.innerHTML=t,o.appendChild(p),o.appendChild(m),l.appendChild(o);var b=glhp.crgs("div","","slide-object"),f="UserInfo"==e,g=f?"180px":"150px";DOC.emarep&&"UserInfo"==e&&DOC.emarep.issmaiuse&&(g="280px"),d=isMobileLandscape?133:233,b.style=`position: absolute; width: ${c}px; height: ${g}px; top: ${d}px; left: ${h}px; z-index: 1; transform: rotate(0deg) scale(1, 1);`;var w=glhp.crgs("svg","","");w.setAttribute("width",c),w.setAttribute("height",40),w.style="position: absolute; overflow: unset;";var y=glhp.crgs("path","",""),v=f?`M0,0L${c},1E-10 ${c},180 0,180.0000000001z`:`M0,0L${c},1E-10 ${c},150 0,150.0000000001z`;DOC.emarep&&"UserInfo"==e&&DOC.emarep.issmaiuse&&(v="M0,0L600,1E-10 600,280 0,280.0000000001z"),y.setAttribute("d",v),y.setAttribute("stroke-width",0),y.setAttribute("stroke","transparent"),y.setAttribute("fill","rgba(250,250,250,1)");var C=glhp.crgs("div","",""),T=f?"15px":"40px";if(C.style="font-size: 18.7px;transform: translate(0px, "+T+"); font-family: arial;text-align:center; ",C.innerHTML=i,w.appendChild(y),b.appendChild(w),b.appendChild(C),f){var S=glhp.crgs("input","user-info","");S.style="width: 400px; display: inline-block;border: 1px solid #ccc;box-sizing: border-box;padding: 12px 20px;margin: 8px 0;text-align: center;font-size: 18.7px; transform: translate(100px, 40px); font-family: arial;",b.appendChild(S);var x=glhp.crgs("p","validate-user-info","");if(x.style="color: red;text-align: center; transform: translate(0px, 70px);font-size: 12px; display: none",x.innerHTML=r,b.appendChild(x),DOC.emarep&&"UserInfo"==e&&DOC.emarep.issmaiuse){var A=glhp.crgs("div","","");A.style="font-size: 18.7px;transform: translate(0px, 55px);font-family: arial;text-align: center;display: block;margin: 8px 0;width: 100%;position: absolute;box-sizing: border-box; top: 70px",A.innerHTML=s,b.appendChild(A);var M=glhp.crgs("input","user-email","");M.style="width: 400px; display: inline-block; border: 1px solid rgb(204, 204, 204); box-sizing: border-box; padding: 12px 20px; margin: 8px 0px; text-align: center; font-size: 18.7px; transform: translate(100px, 160px); font-family: arial;",b.appendChild(M);var G=glhp.crgs("p","validate-user-email","");G.style="color: red; text-align: center; transform: translate(0px, 186px); font-size: 12px; display: none",G.innerHTML=n,b.appendChild(G)}}l.appendChild(b);var D=glhp.crgs("div","btnOke","slide-object"),L=f?360:340;DOC.emarep&&"UserInfo"==e&&DOC.emarep.issmaiuse&&(L=475),L=isMobileLandscape?L-100:L;h=isMobileLandscape?238:isTabletPortrait?138:isMobilePortrait?100:438;D.style="position: absolute; width: 150px; height: 30px; top: "+L+"px; left:"+h+"px; z-index: 2; transform: rotate(0deg) scale(1, 1);";var k=glhp.crgs("svg","","");k.setAttribute("width",600),k.setAttribute("height",40),k.style="position: absolute; overflow: unset;";var O=glhp.crgs("path","","");O.setAttribute("d","M0,6A6,6,90,0,1,6,0L144,1E-10A6,6,90,0,1,150,6L150.0000000001,24A6,6,90,0,1,144,30L6,30.0000000001A6,6,90,0,1,0,24L1E-10,6z"),O.setAttribute("stroke-width",0),O.setAttribute("stroke","transparent"),O.setAttribute("fill","rgba(74,151,207,1)");var E=glhp.crgs("div","","");return E.style="font-size: 18.7px;transform: translate(0px, 5px); font-family: arial;text-align:center;",E.innerHTML=a,k.appendChild(O),D.appendChild(k),D.appendChild(E),l.appendChild(D),l.innerHTML=l.innerHTML,l}function M(e){var t,i,a;return a=Math.floor(e/3600),i=Math.floor(e%3600),i=Math.floor(i/60),t=Math.floor(e%60),G(a)+":"+G(i)+":"+G(t)}function G(e){return e<10?"0"+e:e}function D(e){var t=document.createElement("script");t.type="text/javascript",t.src=e,t.charset="UTF-8",document.querySelector("body").appendChild(t)}function L(){if(!DOC.iPv&&DOC.iS){if(r)glhp.DataLocal.CurrentTime=null;else document.getElementById("time")&&(glhp.DataLocal.CurrentTime=s);return JSON.stringify(glhp.DataLocal)}return""}return{GetNumberId:function(e){if(void 0!==e){var t=e.split("_");if(2==t.length)return t[0]}return""},isIE:function(){var e=!!document.documentMode,t=!e&&!!window.StyleMedia,i="undefined"!=typeof InstallTrigger;return e||t?"IE":i?"Firefox":""},UpdateHTMLTextArea:function(e,t){var i;if(i="IE"==this.isIE()?e.scrollHeight-2:"Firefox"==this.isIE()?e.scrollHeight:e.scrollHeight-4,"Middle"==t.CurrentOptions.tip.tvt)e.style.height=i+"px",(a=((0==isMobile?t.CurrentOptions.h:isTabletLandscape?t.CurrentOptions.heitls:isTabletPortrait?t.CurrentOptions.heitpt:isMobileLandscape?t.CurrentOptions.heimls:isMobilePortrait?t.CurrentOptions.heimpt:t.CurrentOptions.h)-i)/2)<0&&(a=0),e.style.transform="translate( 0px,"+a+"px)";else if("Bottom"==t.CurrentOptions.tip.tvt){e.style.height=i+"px",(a=(0==isMobile?t.CurrentOptions.h:isTabletLandscape?t.CurrentOptions.heitls:isTabletPortrait?t.CurrentOptions.heitpt:isMobileLandscape?t.CurrentOptions.heimls:isMobilePortrait?t.CurrentOptions.heimpt:t.CurrentOptions.h)-e.offsetHeight)<0&&(a=0),e.style.transform="translate( 0px,"+a+"px)"}else{var a;i<0&&(i=0),(a=5)<0&&(a=0),e.style.transform="translate( 0px,"+a+"px)",e.style.height=i+"px"}var r=DOC.slds.indexOf(glrs.crsl.Data);glhp.DataLocal.Slide[r]&&(glhp.DataLocal.Slide[r].UserReply=e.value),e.style.visibility="",MobileVisibility()},LoadScorm:function(){if(DOC.iS){if(b=(new Date).getTime()/1e3,glhp.isTrackingStatus(TrackingStatus.QUIZRESULT))for(var e=DOC.slds.length-1;e>=0;e--)if(DOC.slds[e].slt&&"RESULT"==DOC.slds[e].slt.toUpperCase()){for(var t=0;t<DOC.slds[e].q.length;t++)for(var i=0;i<DOC.slds.length;i++)if(DOC.slds[e].q[t]==DOC.slds[i].id){f.push(i);break}break}if(glhp.IsScormXapi)D("tin.js");else{if(!qzm.isLMS&&glhp.isTrackingStatus(TrackingStatus.QUIZRESULT))for(e=DOC.slds.length-1;e>=0;e--)DOC.slds[e].id==DOC.sctrc.RsID&&S(DOC.slds[e]);D("SCORM_APIWrapper.js")}}},getDataScorm:L,sqzor:function(e,t,i){if(DOC.iS){if("xapi"==DOC.scp.nC&&"undefined"!=typeof tincanModule)return void tincanModule.saveSuppendData((function(e,t){}),{data:L()});var a=parseInt(ScormModule.GetValue("cmi.interactions._count"));new Date;ScormModule.SetValue(getNameScorm(a,"Id"),"Slide"+i+"_"+DOC.slds[i].id)}},gtqz:function(e){var t="other";switch(DOC.slds[e].tq){case 1:case 2:return"true-false";case 3:case 5:case 12:case 13:case 14:t="choice";break;case 4:case 10:case 15:case 16:t="fill-in";break;case 11:t="likert";break;case 6:case 17:case 18:case 7:t="matching";break;case 8:case 9:t="sequencing";break;case 20:case 22:case 23:t="fillblank"}return t},rdaws:function(e){for(var t=[],i=[],a=[],r=0;r<e.length;r++)e[r].Answers&&1==e[r].Answers.anchor?i.push(r):a.push(e[r]);for(r=0;r<a.length;r++){var s=Math.floor(Math.random()*a.length);t.push(a[s]),a.splice(s,1),r--}for(r=0;r<i.length;r++)t.splice(i[r],0,e[i[r]]);return t},InsertArray:function(e,t,i){},rdawsSelectList:function(e){for(var t=[],i=0;i<e.as.length;i++){var a=Math.floor(Math.random()*e.as.length);t.push(e.as[a]),e.as.splice(a,1),i--}return t},rdlw:function(e,t){var i=[];if(null!=e&&null!=e.as&&e.as.length>=t.length)for(var a=0;a<t.length;a++)for(var r=0;r<t.length;r++)if(t[a].Id==e.as[r].id){var s={Answers:e.as[r]};i.push(s);break}return i},gtawz:function(e,t){for(var i=0;i<e.lts.length;i++)if(e.lts[i].iM)for(var a=e.lts[i],r=0;r<a.e.length;r++)if(5==e.tq){if(a.e[r].c==t&&!a.e[r].dc)return e.lts[i].e[r]}else if(a.e[r].c==t)return e.lts[i].e[r];return null},GetLinearGradient:function(e,t,i,a,r,s,n,l,o,h,d){var c=document.createElementNS(xmlns,"linearGradient"),p=document.createElementNS(xmlns,"stop"),u=document.createElementNS(xmlns,"stop");return c.id=e,c.setAttribute("x1",t),c.setAttribute("x2",i),c.setAttribute("y1",a),c.setAttribute("y2",r),p.setAttribute("offset",s),p.setAttribute("stop-color",n),p.setAttribute("stop-opacity",l),u.setAttribute("offset",o),u.setAttribute("stop-color",h),u.setAttribute("stop-opacity",d),c.appendChild(p),c.appendChild(u),c},GetShapeTrue:function(e){var t=document.createElementNS(xmlns,"g"),i=document.createElementNS(xmlns,"path");return i.setAttribute("d",e),i.setAttribute("fill","#46b03f"),t.appendChild(i),t},SaveDataPoint:function(e,t,i,a){null!=glhp.DataLocal.Slide[e]&&(glhp.DataLocal.Slide[e].p=t,glhp.DataLocal.Slide[e].Correct=i),DOC.iS&&a&&glhp.isTrackingStatus(TrackingStatus.QUIZRESULT)&&f.indexOf(e)>-1&&(i?qzm.sqzor(t,"correct",e):qzm.sqzor(t,"wrong",e))},SaveiF:function(e,t){null!=glhp.DataLocal.Slide[e]&&(glhp.DataLocal.Slide[e].iF=t)},sdls:function(){if(!DOC.iPv&&!DOC.iS){if(r)glhp.DataLocal.CurrentTime=null;else document.getElementById("time")&&(glhp.DataLocal.CurrentTime=s);try{localStorage.setItem(DOC.plr.idTify+isMobile,Ma.en(JSON.stringify(glhp.DataLocal)))}catch(e){!function(e,t,i){var a=new Date;a.setTime(a.getTime()+24*i*60*60*1e3);var r="expires="+a.toGMTString();document.cookie=e+"="+t+";"+r+";path=/"}(DOC.plr.idTify+isMobile,Ma.en(JSON.stringify(glhp.DataLocal)),365)}}},roswb:function(e){glhp.DataLocal.Slide[e].IsSubmit=!0},FindParent:function(e,t){for(;(e=e.parentElement)&&!e.classList.contains(t););return e},clgwz:function(e,t,i){for(var a=[],r=0;r<i.length;r++){var s=i[r].split(",");if(2==s.length){var n=parseFloat(s[0]),l=parseFloat(s[1]);a.push({x:n,y:l})}}var o=xmax=a[0].x,h=ymax=a[0].y;for(r=a.length;--r;)a[r].x<o?o=a[r].x:a[r].x>xmax&&(xmax=a[r].x),a[r].y<h?h=a[r].y:a[r].y>ymax&&(ymax=a[r].y);if(e<o||e>xmax)return!1;if(t<h||t>ymax)return!1;var d=0;for(r=a.length;r--;){var c=a[r].x-e,p=a[r].y-t;if(r)var u=a[r-1].x-e,m=a[r-1].y-t;else u=a[a.length-1].x-e,m=a[a.length-1].y-t;if(!(c<0&&u<0)&&!(p*m>0||c+(u-c)*p/(p-m)<0||0===p||2!=++d))return!1}return d%2!=0},pzwfs:function(e){var t=e.split("px");if(null!=t&&t.length>1){var i=t[0].replace("translate(",""),a=t[1].replace(",",""),r=parseFloat(i.replace(" ","")),s=parseFloat(a.replace(" ",""));return new Point(r,s)}return new Point(0,0)},fclzz:function(e,t){for(var i=0;i<e.classList.length;i++)if(-1!=e.classList[i].indexOf(t))return e.classList[i]},MeasureFontHeight:function(e,t){var i=glhp.crgs("canvas");i.style.width="200px",i.style.height="100px";var a=i.getContext("2d"),r=i.width,s=i.height;a.font=e,a.textAlign="left",a.textBaseline="top",a.fillText(t,25,5);for(var n=a.getImageData(0,0,r,s).data,l=-1,o=-1,h=0;h<s;h++){for(var d=0;d<r;d++){if(n[4*(r*h+d)+3]>0){l=h;break}}if(l>=0)break}for(h=s;h>0;h--){for(d=0;d<r;d++){if(n[4*(r*h+d)+3]>0){o=h;break}}if(o>=0)break}return{height:o-l,firstPixel:l,lastPixel:o}},diwz:function(e){for(var t=0;t<e.txt.pr.length;t++)for(var i=e.txt.pr[t],a=0;a<i.inls.length;a++){var r=i.inls[a];if("Blank"==r.tm){var s=document.getElementById("input_"+r.id);null!=s&&(s.disabled="true")}}},multiAnswerSelect:function(e){let t=e;$(".multi-Item").click((function(e){e.stopPropagation();var i=qzm.GetNumberId(this.id),a=document.getElementById(i+"_p");event.currentTarget.parentNode.select=!event.currentTarget.parentNode.select,"visible"==a.style.visibility?a.style.visibility="hidden":a.style.visibility="visible";var r=document.getElementById(t.id).getElementsByClassName("answerContainer")[0].children,s=[];if(r)for(var n=0;n<r.length;n++){"visible"==(a=document.getElementById(r[n].id.replace("_a","")+"_p")).style.visibility&&s.push(qzm.gtzz(r[n]))}var l=DOC.slds.indexOf(glrs.crsl.Data);qzm.slwz(l,qzm.gwur(t.id),s.toString()),MobileVisibility()}))},oneAnswerSelect:function(e){let t=e;$(".one-item").click((function(e){e.stopPropagation();var i=qzm.GetNumberId(this.id),a=document.getElementById(i+"_cc"),r=event.currentTarget.parentNode;if(document&&document.getElementById(t.id)){var s=document.getElementById(t.id).getElementsByClassName("answerContainer")[0],n=s.getElementsByClassName("Circle-Selected");if(null!=s){for(var l=0;l<s.children.length;l++)s.children[l].select=!1,n[l].style.visibility="hidden";a.style.visibility="",r.select=!0}}var o=DOC.slds.indexOf(glrs.crsl.Data);glhp.DataLocal.Slide[o].UserReply=this.id.replace("_s",""),qzm.slwz(o,i,qzm.gtzz(this)),MobileVisibility()}))},likertScaleSelect:function(){$(".likert-item").click((function(e){e.stopPropagation();for(var t=0;t<this.parentNode.children.length;t++)this.parentNode.children[t].select=!1,event.currentTarget.parentNode.children[t].getElementsByClassName("myPathCircleInside")[0].style.display="none";this.select=!0;var i=this.getElementsByClassName("myPathCircleInside")[0];i&&(i.style.display="")})),$(".likert-item").hover((function(){var e=document.getElementById("likert-tooltip");e&&e.parentNode.removeChild(e);var t=glhp.crgs("div","likert-tooltip","likert-tooltip");t.innerHTML=this.getAttribute("title-survey"),t.className="ui-tooltip",t.style.position="absolute",t.style.pointerEvents="none",t.style.overflow="visible",t.style.visibility="hidden";var i=document.getElementById("mainContent"),a=i.getBoundingClientRect(),r=this.getBoundingClientRect();_left=r.left-a.left+r.width/2,_top=r.top-a.top,i.appendChild(t),setTimeout((function(){t.style.left=_left-t.offsetWidth/2-5+"px",t.style.top=_top-t.offsetHeight-5+"px",t.style.visibility=""}),1)})),$(".likert-item").mouseout((function(){var e=document.getElementById("likert-tooltip");e&&e.parentNode.removeChild(e)}))},dowss:function(e,t){_isdroplist=!1,$(".fbl-answer-list").mouseup((function(e){if(e.stopPropagation(),_isdroplist||_isAnimationProcess)return _isdroplist=!1,void(_isAnimationProcess=!1);if(null==glrs.crsl.Data||1!=glhp.DataLocal.Slide[DOC.slds.indexOf(glrs.crsl.Data)].IsSubmit){if(null!=(p=document.getElementById("list-items"))){p.id="closing",_isAnimationProcess=!0;var i=null;clearInterval(i);var a=(g=p.getElementsByClassName("listbox")[0]).scrollHeight,r=g.scrollHeight;return g.style.overflowY="hidden",void(i=setInterval((function(){if(r>20){r-=a/60,g.style.maxHeight=r+"px"}else clearInterval(i),document.getElementById("container").removeChild(p),_isAnimationProcess=!1}),1))}for(var s=t.CurrentOptions.txt,n=this.id.replace("blank",""),l=null,o=0==isMobile?s.prdkt:isTabletLandscape?s.prtls:isTabletPortrait?s.prtp:isMobileLandscape?s.prmls:isMobilePortrait?s.prmp:s.pr,h=0;h<o.length;h++){for(var d=o[h],c=0;c<d.inls.length;c++)if(d.inls[c].id==n){l=d.inls[c];break}if(null!=l)break}if(null!=l){t.Options.sff&&(l.as=qzm.rdawsSelectList(l));var p,u=qzm.FindParent(this,"answerContainer"),m=(this.parentNode,qzm.pzwfs(u.style.transform)),b=parseFloat(u.parentElement.style.left.replace("px",""))+m.x,f=parseFloat(u.parentElement.style.top.replace("px",""))+m.y;(p=glhp.crgs("div","list-items","facediv")).classList.add(this.id);var g=glhp.crgs("div","listbox"+this.id,"listbox");_width=parseFloat(this.style.width.replace("px","")),_height=parseFloat(this.style.height.replace("px","")),m=qzm.pzwfs(this.style.transform),g.setAttribute("style","width:"+_width+"px; max-width:"+_width+"px;max-height:300px; display:flex; flex-direction: column;style.overflowX:hidden; style.overflowX: auto;");var w=m.x+b,y=m.y+_height+f,v=document.getElementsByClassName("answerContainer");g.style.transform="translate("+w+"px,"+(y-v[0].scrollTop)+"px)";var C=glhp.crgs("div","","");for(h=0;h<l.as.length;h++){var T=glhp.crgs("div",this.id+"option"+h,"drop-down-option");T.setAttribute("style","font-family:"+l.ff+";font-size:"+l.fs+"px; font-weight: normal;font-style: +"+l.ft+";text-overflow: ellipsis;white-space: nowrap; overflow: hidden;color:"+l.col.col+";"),T.innerHTML=l.as[h].txt,C.appendChild(T),this.classList.contains("select-option"+h)&&(T.style.background="antiquewhite")}g.appendChild(C),setTimeout((function(){qzm.seels("")}),1),p.appendChild(g);var S=document.getElementById("container");null!=S&&S.appendChild(p);i=null;clearInterval(i);var x=parseFloat(g.style.maxHeight.replace("px",""));r=0,a=g.scrollHeight;g.style.maxHeight=r+"px",g.style.overflowY="hidden",i=setInterval((function(){r<a?(r+=a/60,g.style.maxHeight=r+"px"):(g.style.maxHeight=x+"px",g.style.overflowY="auto",clearInterval(i))}),1),_isdroplist=!0}}})),$(".fbl-answer-list").hover((function(){var e=this.getElementsByTagName("span")[0].textContent;this.offsetWidth<this.scrollWidth?this.setAttribute("title",e):this.setAttribute("title","")}))},seels:function(e){$(".drop-down-option").mouseup((function(e){e.stopPropagation();this.innerHTML;var t=this.id.split("option");if(t.length>0)var i=t[0],a=t[1];this.style.backgroundColor="antiquewhite";var r=document.getElementById(i);if(null!=r){r.getElementsByTagName("span")[0].innerHTML=this.innerHTML;for(var s=0;s<r.classList.length;s++)if(-1!=r.classList[s].indexOf("select-option")){r.classList.remove(r.classList[s]);break}r.classList.add("select-option"+a)}var n=document.getElementById("list-items");null!=n&&document.getElementById("container").removeChild(n);var l=DOC.slds.indexOf(glrs.crsl.Data),o=glhp.DataLocal.Slide[l].ArrAnswer;if(null!=o){var h=o.filter((function(e){return e.source===i.replace("blank","")}))[0];null!=h&&(glhp.DataLocal.Slide[l].ArrAnswer[glhp.DataLocal.Slide[l].ArrAnswer.indexOf(h)].target=a)}})),$(".drop-down-option ").hover((function(){this.offsetWidth<this.scrollWidth?this.setAttribute("title",this.innerHTML):this.setAttribute("title","")})),$(".drop-down-option").mouseleave((function(){var e=this.id.split("option");if(e.length>1){var t=e[0],i=e[1],a=document.getElementById(t),r=qzm.fclzz(a,"select-option");if(null!=r)if(i==r.replace("select-option",""))return void(this.style.background="antiquewhite")}}))},rmlw:function(e){if(_isdroplist)_isdroplist=!1;else{var t=document.getElementById("list-items"),i=document.getElementById("container");null!=t&&null!=i&&i.removeChild(t)}},Click:function(e){$(".ContentAnswer").click((function(e){if(e.stopPropagation(),0!=this.style.opacity)if(this.parentNode.classList.contains("content_word")){var t=qzm.FindParent(this,"dragcontainer");if(null!=t)for(var i=qzm.fclzz(t,"target"),a=document.getElementById(i.replace("target","")).getElementsByClassName("ContentAnswer"),r=0;r<a.length;r++)if(""==a[r].innerHTML){a[r].innerHTML=this.innerHTML,this.style.opacity=0,a[r].style.opacity=1,a[r].classList.add("target_"+this.id);var s=DOC.slds.indexOf(glrs.crsl.Data);if(null!=(l=glhp.DataLocal.Slide[s].ArrAnswer))null!=(o=l.filter((function(e){return e.source===a[r].id.replace("content","")}))[0])&&(glhp.DataLocal.Slide[s].ArrAnswer[glhp.DataLocal.Slide[s].ArrAnswer.indexOf(o)].target=this.id.replace("content",""));break}}else{if(null!=(i=qzm.fclzz(this,"target_"))&&null!=i){var n=document.getElementById(i.replace("target_",""));if(null!=n){this.style.opacity=0,n.style.opacity=1,this.innerHTML="",this.classList.remove(i);var l,o,h=this.id.replace("content","");s=DOC.slds.indexOf(glrs.crsl.Data);if(null!=(l=glhp.DataLocal.Slide[s].ArrAnswer))null!=(o=l.filter((function(e){return e.source===h}))[0])&&(glhp.DataLocal.Slide[s].ArrAnswer[glhp.DataLocal.Slide[s].ArrAnswer.indexOf(o)].target=null)}}}})),$(".ContentAnswer").hover((function(){null!=glrs.crsl.Data&&1==glhp.DataLocal.Slide[DOC.slds.indexOf(glrs.crsl.Data)].IsSubmit||(0!=this.style.opacity?(this.style.borderColor="#C1E0FF",this.offsetWidth<this.scrollWidth?this.setAttribute("title",this.innerHTML):this.setAttribute("title","")):this.setAttribute("title",""))})),$(".ContentAnswer").mouseleave((function(){0!=this.style.opacity&&(this.style.borderColor="transparent")}))},DragWord:function(e,t){var a,r=!1,s=0,n=null,l=null;t.CurrentOptions.T;$(".ContentAnswer").draggable(((a={revert:!1,revertDuration:500,cursor:"pointer",zIndex:100,opacity:"1.0",accept:".answerContainer",helper:"clone",appendTo:"#container",start:function(e,t){return window.dragging=!0,0!=this.style.opacity&&((null==glrs.crsl.Data||1!=glhp.DataLocal.Slide[DOC.slds.indexOf(glrs.crsl.Data)].IsSubmit)&&(r=!1,!1,i.x=e.clientX,i.y=e.clientY,this.style.opacity=0,void(n=t)))},drag:function(e,t){if(!tzacmd.isLightbox){var a=t.originalPosition;t.position={left:(e.clientX-i.x+a.left)/glRatio,top:(e.clientY-i.y+a.top)/glRatio}}if(this.parentNode.classList.contains("content_word")){var r=(b=qzm.FindParent(this,"answerContainer")).getElementsByClassName("dragcontainer")[0],n=qzm.fclzz(r,"target"),l=document.getElementById("text"+n.replace("target","")).parentNode,o=l.parentNode.style.top.replace("px",""),h=parseFloat(o),d=l.parentNode.offsetHeight,c=e.clientY+(this.offsetHeight-e.offsetY)*glRatio,p=e.clientY-e.offsetY*glRatio;if(c<0)return;if(c>=(d+h)*glRatio){if(1==s)return;s=1;var u=setInterval((function(){1==s&&l.scrollTop<l.scrollHeight-l.offsetHeight?l.scrollTop+=1:clearInterval(u)}),1)}else if(p<=h*glRatio){if(2==s)return;s=2;var m=setInterval((function(){2==s&&0!=l.scrollTop?l.scrollTop-=1:clearInterval(m)}),1)}else s=0}else{var b;o=(b=qzm.FindParent(this,"answerContainer")).parentNode.style.top.replace("px",""),h=parseFloat(o),d=this.parentNode.offsetHeight,c=e.clientY+(this.offsetHeight-e.offsetY)*glRatio,p=e.clientY-e.offsetY*glRatio;if(c<0)return;if(c>=(d+h)*glRatio){if(1==s)return;s=1;u=setInterval((function(){1==s&&b.scrollTop<b.scrollHeight-b.offsetHeight?b.scrollTop+=1:clearInterval(u)}),1)}else if(p<=h*glRatio){if(2==s)return;s=2;m=setInterval((function(){2==s&&0!=b.scrollTop?b.scrollTop-=1:clearInterval(m)}),1)}else s=0}}}).revert=function(e,t){if(r){if(null!=l){l.style.opacity=0;var i=qzm.FindParent(l,"answerContainer");i&&i.scrollTop}return n.originalPosition.left/=glRatio,n.originalPosition.top=(n.originalPosition.top-i.scrollTop)/glRatio,!0}var a=qzm.fclzz(n.helper.context,"target_");if(null!=a){var s=document.getElementById(a.replace("target_","")),o=qzm.FindParent(s,"answerContainer"),h=qzm.pzwfs(s.parentNode.style.transform);h=qzm.pzwfs(o.style.transform);return n.originalPosition.left=h.x+o.parentNode.offsetLeft+h.x,n.originalPosition.top=h.y+o.parentNode.offsetTop+h.y,!0}return n.originalPosition.left/=glRatio,n.originalPosition.top/=glRatio,!0},a.stop=function(e,t){if(window.dragging=!1,t.helper.offset(t.helper.data("original-position")),this.style.borderColor="transparent",r)null!=l&&(l.style.opacity=1,l=null);else if(this.style.opacity=1,this.parentNode.classList.contains("content_empty")){this.style.borderColor="transparent";var i=qzm.fclzz(this,"target_");if(null!=i&&null!=i){var a=document.getElementById(i.replace("target_",""));if(null!=a){a.style.opacity=1,this.classList.remove(i),this.innerHTML="",this.style.opacity=0;var s=this.id.replace("content",""),n=DOC.slds.indexOf(glrs.crsl.Data),o=glhp.DataLocal.Slide[n].ArrAnswer;if(null!=o){var h=o.filter((function(e){return e.source===s}))[0];null!=h&&(glhp.DataLocal.Slide[n].ArrAnswer[glhp.DataLocal.Slide[n].ArrAnswer.indexOf(h)].target=null)}}}}},a)),$(".content_empty").droppable({tolerance:"touch",accept:".ContentAnswer",hoverClass:function(e,t){$(this).css({"border-color":"#C1E0FF"})},out:function(){$(this).css({"border-color":"#C0C0C0"})},drop:function(e,t){if($(this).css({"border-color":"#C0C0C0"}),1!=r){$(this).css({"border-color":"#C0C0C0"});r=!0;var i=document.getElementById(t.draggable.context.id);if(this!=i.parentNode){qzm.FindParent(i,"dragcontainer");var a=this.getElementsByClassName("ContentAnswer")[0];if(l=a,this.classList.contains("content_empty")){if(i.parentNode.classList.contains("content_word")){if(""==a.innerHTML)a.innerHTML=i.innerHTML,a.classList.add("target_"+i.id),a.style.opacity=1,i.style.opacity=0;else{a=this.getElementsByClassName("ContentAnswer")[0];var s=qzm.fclzz(a,"target_");if(null!=s){a.classList.remove(s),a.innerHTML=i.innerHTML,a.classList.add("target_"+i.id),i.style.opacity=0;var o=document.getElementById(s.replace("target_",""));null!=o&&(o.style.opacity=1)}}var h=DOC.slds.indexOf(glrs.crsl.Data);if(null!=(p=glhp.DataLocal.Slide[h].ArrAnswer)){var d=p.filter((function(e){return e.source===a.id.replace("content","")}))[0];null!=d&&(glhp.DataLocal.Slide[h].ArrAnswer[glhp.DataLocal.Slide[h].ArrAnswer.indexOf(d)].target=i.id.replace("content",""))}}else{if(_dropClass=qzm.fclzz(a,"target_"),_drapClass=qzm.fclzz(i,"target_"),null!=_dropClass){var c=a.innerHTML;a.innerHTML=i.innerHTML,a.classList.remove(_dropClass),a.classList.add(_drapClass),i.classList.remove(_drapClass),i.classList.add(_dropClass),i.innerHTML=c,i.style.opacity=1,a.style.opacity=1}else a.classList.add(_drapClass),i.classList.remove(_drapClass),a.innerHTML=i.innerHTML,i.innerHTML="",i.style.opacity=0,a.style.opacity=1;var p;h=DOC.slds.indexOf(glrs.crsl.Data);if(null!=(p=glhp.DataLocal.Slide[h].ArrAnswer)){var u=p.filter((function(e){return e.source===a.id.replace("content","")}))[0],m=p.filter((function(e){return e.source===i.id.replace("content","")}))[0];null!=u&&null!=m&&(null!=_dropClass?(glhp.DataLocal.Slide[h].ArrAnswer[glhp.DataLocal.Slide[h].ArrAnswer.indexOf(u)].target=_drapClass.replace("target_content",""),glhp.DataLocal.Slide[h].ArrAnswer[glhp.DataLocal.Slide[h].ArrAnswer.indexOf(m)].target=_dropClass.replace("target_content","")):(glhp.DataLocal.Slide[h].ArrAnswer[glhp.DataLocal.Slide[h].ArrAnswer.indexOf(u)].target=_drapClass.replace("target_content",""),glhp.DataLocal.Slide[h].ArrAnswer[glhp.DataLocal.Slide[h].ArrAnswer.indexOf(m)].target=null))}}var b=qzm.FindParent(this,"answerContainer"),f=qzm.pzwfs(b.style.transform),g=qzm.pzwfs(this.style.transform);n.originalPosition.left=(g.x+b.parentNode.offsetLeft+f.x)*glRatio,n.originalPosition.top=(g.y+b.parentNode.offsetTop+f.y)*glRatio}}else r=!1}}})},Underline:function(e,t){$(".underline-item").click((function(e){$(".underline-item").each((function(){this.classList.remove("selected"),this.value="false"})),this.classList.add("selected"),this.value="true";var t=DOC.slds.indexOf(glrs.crsl.Data);let i=this.id.replace("input_","");glhp.DataLocal.Slide[t].UserReply=i,qzm.slwz(t,i,qzm.gtzz(this))}))},InputText:function(e){$(".ip-answer").hover((function(){this.offsetWidth<this.scrollWidth?this.setAttribute("title",this.value):this.setAttribute("title","")})),$(".ip-answer").keydown((function(e){var t=this.id.replace("input_","");window.setTimeout((function(){var i=DOC.slds.indexOf(glrs.crsl.Data),a=glhp.DataLocal.Slide[i].ArrAnswer;if(null!=a){var r=a.filter((function(e){return e.source===t}))[0];null!=r&&(glhp.DataLocal.Slide[i].ArrAnswer[glhp.DataLocal.Slide[i].ArrAnswer.indexOf(r)].target=e.target.value)}}),1)})),$(".ip-answer").mouseup((function(e){e.stopPropagation(),MobileVisibility()}))},rvzz:function(e){$(".blank-container").hover((function(){if(null==document.getElementById("list-items")){var t=qzm.FindParent(this,"answerContainer"),i=parseFloat(t.parentElement.style.left.replace("px","")),a=parseFloat(t.parentElement.style.top.replace("px","")),r=qzm.pzwfs(t.style.transform),s=glhp.crgs("div","list-items","facediv");s.classList.add(this.id);var n=glhp.crgs("div","listbox"+this.id,"tooltipReview"),l=qzm.pzwfs(this.style.transform),o=l.x+i+5+r.x,h=l.y+parseFloat(this.style.height)+a+5+r.y;n.style.transform="translate("+o+"px,"+(h-t.scrollTop)+"px)";var d=glhp.crgs("div","",""),c="";switch(DOC.Lang.toUpperCase()){case"EN-US":c="Correct answers";break;case"VI-VN":c="Đáp án đúng";break;case"TH-TH":c="คําตอบที่ถูกต้อง";break;default:c="Correct answers"}switch(d.innerHTML=c,d.style="fontsize: 18px; font-weight: bold;",n.appendChild(d),e.Options.tq){case 20:for(var p=this.id.replace("divinput",""),u=null,m=0;m<e.CurrentOptions.txt.pr.length;m++){for(var b=e.CurrentOptions.txt.pr[m],f=0;f<b.inls.length;f++){if("Blank"==(C=b.inls[f]).tm&&C.id==p){u=C.as;break}}if(null!=u)break}if(null!=u)for(m=0;m<u.length;m++){(v=glhp.crgs("div",this.id+"option"+m,"correct-answer-review")).style="font-size: 13px;",v.innerHTML=u[m].txt,n.appendChild(v)}break;case 22:p=this.id.replace("container","");var g=null;for(m=0;m<e.CurrentOptions.txt.pr.length;m++){for(b=e.CurrentOptions.txt.pr[m],f=0;f<b.inls.length;f++){if("Blank"==(C=b.inls[f]).tm&&C.id==p){g=C;break}}if(null!=g)break}if(null!=g)(v=glhp.crgs("div",this.id+"option","correct-answer-review")).style="font-size: 13px;",v.innerHTML=g.tex,n.appendChild(v);break;case 23:p=this.id.replace("blank","");var w=null;for(m=0;m<e.CurrentOptions.txt.pr.length;m++){for(b=e.CurrentOptions.txt.pr[m],f=0;f<b.inls.length;f++){if("Blank"==(C=b.inls[f]).tm&&C.id==p){for(var y=0;y<C.as.length;y++)if(C.as[y].cr){w=C.as[y];break}if(null!=w)break}if(null!=w)break}if(null!=w)break}if(null!=w)(v=glhp.crgs("div",this.id+"option"+m,"correct-answer-review")).style="font-size: 13px;",v.innerHTML=w.txt,n.appendChild(v);break;case 24:var v;(v=glhp.crgs("div",this.id+"option"+m,"correct-answer-review")).style="font-size: 13px;";for(u=null,m=0;m<e.CurrentOptions.txt.pr.length;m++){for(b=e.CurrentOptions.txt.pr[m],f=0;f<b.inls.length;f++){var C;if("Blank"==(C=b.inls[f]).tm&&C.cor){v.innerHTML=C.tex,n.appendChild(v);break}}if(null!=u)break}}s.appendChild(n);var T=document.getElementById("container");null!=T&&T.appendChild(s)}})),$(".blank-container").mouseleave((function(){var e=document.getElementById("list-items"),t=document.getElementById("container");null!=t&&null!=e&&t.removeChild(e)})),$(".blank-container").mouseup((function(e){e.stopPropagation()}))},DoSortAble:function(e,t){var a,r,s=null,n=this,l=!1,o=e,h=0,d=null,c=document.getElementById(t);$(".object-drag-squence").draggable(((a={revert:!0,revertDuration:500,cursor:"pointer",scroll:!1,opacity:.8,helper:"clone",appendTo:"#container",start:function(t,a){window.dragging=!0,r=this.offsetLeft,e=this.offsetTop,s=this.querySelector("rect").getAttribute("fill"),this.style.visibility="hidden",d=a,tzacmd.isLightbox||(i.x=t.clientX,i.y=t.clientY),qzm.isClickAnswer&&(l=!0)},drag:function(e,t){if(c){var a=c.getElementsByClassName("answerContainer")[0],r=this.parentNode.offsetHeight,s=e.clientY+(this.offsetHeight-e.offsetY)*glRatio,n=e.clientY-e.offsetY*glRatio;if(!tzacmd.isLightbox){var l=t.originalPosition;t.position={left:(e.clientX-i.x+l.left)/glRatio,top:(e.clientY-i.y+l.top)/glRatio}}if(!(s<0))if(s>=(r+o)*glRatio){if(1==h)return;h=1;var d=setInterval((function(){1==h&&a.scrollTop<a.scrollHeight-a.offsetHeight?a.scrollTop+=1:clearInterval(d)}),1)}else if(n<=o*glRatio){if(2==h)return;h=2;var p=setInterval((function(){2==h&&0!=a.scrollTop?a.scrollTop-=1:clearInterval(p)}),1)}else h=0}}}).revert=function(){return d.originalPosition.left/=glRatio,d.originalPosition.top/=glRatio,!0},a.stop=function(e,t){window.dragging=!1,h=0,this.style.visibility="";var i=c.getElementsByClassName("object-drag-squence");if(null!=i&&0!=i.length)for(var a=0;a<i.length;a++)i[a].querySelector("rect").setAttribute("fill",s)},a)),$(".object-drag-squence").droppable({tolerance:"intersect",cursor:"pointer",opacity:.7,over:function(){this.querySelector("rect").setAttribute("fill",DOC.plr.cThe)},out:function(e,t){null!=s?this.querySelector("rect").setAttribute("fill",s):this.querySelector("rect").removeAttribute("fill")},drop:function(t,i){if(null!=s?this.querySelector("rect").setAttribute("fill",s):this.querySelector("rect").removeAttribute("fill"),l){var a=this.offsetLeft,o=this.offsetTop;this.style.left=r+"px",this.style.top=e+"px",i.helper.context.style.left=a+"px",i.helper.context.style.top=o+"px";var h=i.helper.context.children[0].innerHTML;if(i.helper.context.children[0].innerHTML=this.children[0].innerHTML,this.children[0].innerHTML=h,Swape(this,i.helper.context),!c)return;for(var p=c.getElementsByClassName("object-drag-squence"),u=[],m=[],b=0;b<p.length;b++)""!=p[b].id&&(u.push(qzm.GetNumberId(p[b].id)),m.push(n.gtzz(p[b])));var f=qzm.FindParent(this,"answerContainer");d.originalPosition.left=(a+f.parentNode.offsetLeft)*glRatio,d.originalPosition.top=(o+f.parentNode.offsetTop)*glRatio,qzm.slwz(glhp.DataLocal.crsl,u,m.join(" , "))}}}),$(".object-drag-squence").mouseup((function(e){e.stopPropagation()}))},hpdw:function(e){var t=0,a=0;$(".hotspotItem").draggable({revert:"false",cursor:"pointer",opacity:"0.8",start:function(e,r){var s=this.parentNode;s&&(s.style.pointerEvents="none"),r,tzacmd.isLightbox||(i.x=e.clientX,i.y=e.clientY),t=parseFloat(this.style.left.replace("px","").trim()),a=parseFloat(this.style.top.replace("px","").trim())},drag:function(e,t){var a=t.helper.context.parentNode;t.helper.context.getElementsByTagName("svg")[0];if(!tzacmd.isLightbox){var r=t.originalPosition,s=(e.clientX-i.x)/glRatio+r.left,n=(e.clientY-i.y)/glRatio+r.top;s>a.clientWidth?s=a.clientWidth:s<0&&(s=0),n>a.clientHeight?n=a.clientHeight:n<0&&(n=0),t.position={left:s,top:n}}},stop:function(){this.parentNode.style.pointerEvents="all",this.style.opacity=1;for(var e=0;e<glhp.DataLocal.Slide[glhp.DataLocal.crsl].UserReply.length;e++){var i=glhp.DataLocal.Slide[glhp.DataLocal.crsl].UserReply[e];t==i.x&&a==i.y&&(glhp.DataLocal.Slide[glhp.DataLocal.crsl].UserReply[e].x=this.style.left.replace("px","").trim(),glhp.DataLocal.Slide[glhp.DataLocal.crsl].UserReply[e].y=this.style.top.replace("px","").trim())}isDrapHotspot=!0}})},AddHotspot:function(e,t){var i=e;$(".hotspotContent").click((function(e){if(e.stopPropagation(),1!=ishandleHotspot){var t=document.getElementById("hpcontent"+i.CurrentOptions.id),a=i.cwmk();t.appendChild(a);var r=e.offsetX,s=e.offsetY;a.style.transition="0.1s",a.style.left=r+"px",a.style.top=s+"px",t.innerHTML=t.innerHTML,setTimeout((function(){qzm.hpdw(a),qzm.rmhz(a)}),1),null!=glhp.DataLocal.Slide[i.IndexSlide].UserReply&&""!=glhp.DataLocal.Slide[i.IndexSlide].UserReply||(glhp.DataLocal.Slide[i.IndexSlide].UserReply=[]),glhp.DataLocal.Slide[i.IndexSlide].UserReply.push({x:parseFloat(a.style.left.trim().replace("px","")),y:parseFloat(a.style.top.trim().replace("px",""))}),MobileVisibility()}else ishandleHotspot=!1}))},rmhz:function(e){$(".hotspotItem").click((function(){var e=this.parentNode;if(ishandleHotspot=!0,null!=e){e.removeChild(this);for(var t=0;t<glhp.DataLocal.Slide[glhp.DataLocal.crsl].UserReply.length;t++){var i=glhp.DataLocal.Slide[glhp.DataLocal.crsl].UserReply[t],a=parseFloat(this.style.left.trim().replace("px","")),r=parseFloat(this.style.top.trim().replace("px",""));i.x==a&&i.y==r&&glhp.DataLocal.Slide[glhp.DataLocal.crsl].UserReply.splice(t,1)}}}))},dssa:function(e){var t,a=!0,r=this,s=null,n=document.getElementById(e);$(".answerDrag").draggable(((t={revert:"invalid",revertDuration:500,cursor:"pointer",opacity:"0.8",appendTo:"#container",scroll:!0,helper:"clone",start:function(e,t){window.dragging=!0,t.helper[0].style.width=this.offsetWidth*glRatio+"px",t.helper[0].style.height=this.offsetHeight*glRatio+"px",s=t,tzacmd.isLightbox||(i.x=e.clientX,i.y=e.clientY),this.style.visibility="collapse",qzm.isClickAnswer&&(a=!1)},drag:function(e,t){if(!tzacmd.isLightbox){var a=t.originalPosition;t.position={left:(e.clientX-i.x+a.left)/glRatio,top:(e.clientY-i.y+a.top)/glRatio}}}}).revert=function(e,t){return s.originalPosition.left/=glRatio,s.originalPosition.top/=glRatio,!0},t.stop=function(){window.dragging=!1,a||(this.style.visibility="")},t)),$(".drop-contain").droppable({tolerance:"touch",accept:".answerDrag",hoverClass:function(){this.querySelector("rect").setAttribute("stroke-linecap","round"),this.querySelector("rect").setAttribute("stroke-linejoin","round"),!0},out:function(){!1},drop:function(e,t){if(!a){var i=n.getElementsByClassName("answerDrag");if(null==i||0==i.length)return;for(var l=0;l<i.length;l++)i[l].style.visibility="",i[l].select=!1;var o=t.draggable[0].querySelector(".text").cloneNode(!0),h=this.querySelector(".text");null!=h&&h.parentNode.removeChild(h),this.querySelector("g").appendChild(o),t.draggable.context.select=!0,t.draggable.context.style.visibility="collapse",a=!0;l=DOC.slds.indexOf(glrs.crsl.Data);r.slwz(l,r.GetNumberId(t.draggable.context.id),r.gtzz(t.helper.context)),s.originalPosition.left=(this.parentNode.offsetLeft+parseFloat(this.style.left.replace("px","")))*glRatio,s.originalPosition.top=(this.parentNode.offsetTop+parseFloat(this.style.top.replace("px","")))*glRatio}}}),$(".answerDrag").mouseup((function(e){e.stopPropagation()}))},SelectedOneItem:function(e){let t=e;$(".answerDrag").click((function(e){e.stopPropagation();var i=qzm.GetNumberId(this.id),a=document.getElementById(i+"_cc"),r=event.currentTarget.parentNode;if(document&&document.getElementById(t.id)){var s=document.getElementById(t.id).getElementsByClassName("answerContainer")[0],n=s.getElementsByClassName("Circle-Selected");if(null!=s){for(var l=0;l<s.children.length;l++)s.children[l].select=!1,n[l].style.visibility="hidden";a.style.visibility="",r.select=!0}}var o=DOC.slds.indexOf(glrs.crsl.Data);glhp.DataLocal.Slide[o].UserReply=this.id.replace("_s",""),qzm.slwz(o,i,qzm.gtzz(this)),MobileVisibility()}))},rvddz:function(e){if(null==glrs.crsl.Data.tq||_isdroplist)23!=glrs.crsl.Data.tq&&(_isdroplist=!1);else{var t=document.getElementsByClassName("contain-answers ");if(t&&t.length>0&&(t[0].style.pointerEvents="all"),dropdowns=document.getElementsByClassName("drop-list-drop-down"),dropdowns&&dropdowns.length>0)for(let t=0;t<dropdowns.length;t++)dropdowns[t]!=e&&(dropdowns[t].style.display="none")}},tddd:function(e){$(".drop-down-Item").click((function(t){if(t.stopPropagation(),null==glrs.crsl.Data||1!=glhp.DataLocal.Slide[DOC.slds.indexOf(glrs.crsl.Data)].IsSubmit){var i=document.getElementById(e.CurrentOptions.id),a=document.getElementById("answersContainer"+e.CurrentOptions.id),r=document.getElementById("dropdown"+this.id.replace("select",""));if(qzm.rvddz(r),_isdroplist=!0,a.style.pointerEvents="none",r&&"none"!=r.style.display){a.style.pointerEvents="all";var s=r.scrollHeight,n=r.scrollHeight;return r.style.overflowY="hidden",void(timer=setInterval((function(){if(n>20){n-=s/30,r.style.maxHeight=n+"px"}else clearInterval(timer),r.style.maxHeight="",r.style.display="none"}),1))}r.style.display="block";parseFloat(r.style.maxHeight.replace("px",""));var l=parseFloat(this.style.top.replace("px","")),o=e.CurrentOptions.T+l+parseFloat(this.scrollHeight)-a.scrollTop;r.style.top=o+"px";var h=576-o-10;h<2*this.scrollHeight&&r.scrollHeight>h?(h=l-2-a.scrollTop)>r.scrollHeight?r.style.top=l-2-r.scrollHeight+e.CurrentOptions.T+"px":(r.style.top=e.CurrentOptions.T+"px",r.style.maxHeight=h+"px"):r.style.maxHeight=566-o+"px",r.style.overflowY="auto",$(".drop-list-item").hover((function(){$(this).find("rect")[0].attributes.class.value.indexOf("hoverDropDown")>-1||($(this).find("rect")[0].attributes.class.value+=" hoverDropDown")}),(function(){$(this).find("rect")[0].attributes.class.value="drop-list-item-out"}));for(var d=document.getElementsByClassName("drop-list-item"),c=this,p=0;p<d.length;p++)d[p].onclick=function(t){t.stopPropagation(),qzm.rvddz(i);var a=c,r="active"+this.id.replace("dropItem","");!a||a.classList.contains(r)?$(".drop-list-drop-down").hide():(a.className="drop-down-Item",a.classList.add(r));var s=c.getElementsByClassName("text")[0],n=this.lastChild.cloneNode(!0);s.parentNode.appendChild(n),s.parentNode.removeChild(s);var l=DOC.slds.indexOf(glrs.crsl.Data),o=document.getElementById(e.CurrentOptions.id);if(o){var h=o.getElementsByClassName("drop-down-Item");if(h.length>0)for(let e=0;e<h.length;e++)if(h[e]!=a&&h[e].classList.contains(r)){var d=h[e];d.classList.remove(r);var p=d.getElementsByClassName("text");if(p.length>0){var u=p[0].parentNode;u.removeChild(p[0]);var m=glhp.crgs("g","","text"),b=glhp.crgs("text");b.setAttribute("font-family","Arial"),b.setAttribute("font-size","16px"),b.setAttribute("fill","#4B4B4B"),b.setAttribute("fill-opacity","1"),m.appendChild(b);var f=glhp.crgs("tspan");switch(f.setAttribute("x","12"),f.setAttribute("y","30"),f.setAttribute("is-user-choice","no"),DOC.Lang.toUpperCase()){case"EN-US":f.textContent="--Select--";break;case"TH-TH":f.textContent="--เลือก--";break;case"VI-VN":f.textContent="--Lựa chọn--";break;default:f.textContent="--Select--"}b.appendChild(f),u.appendChild(m),d.innerHTML=d.innerHTML;break}}}var g=document.getElementById("answersContainer"+e.CurrentOptions.id);answerItems=g.getElementsByClassName("drop-down-Item");var w=[];for(let e=0;e<answerItems.length;e++){var y="";for(let t=0;t<answerItems[e].classList.length;t++)-1!=answerItems[e].classList[t].indexOf("active")&&(y=answerItems[e].classList[t].replace("active",""),n.id="text"+y);w.push(y)}glhp.DataLocal.Slide[l].UserReply=w,$(".drop-list-drop-down").hide()}}}))},reloadElement:function(e){e.innerHTML=e.innerHTML},qmtd:function(e){var t,a=0,r=0,s=0,n=0,l=0,o=0,h=null,d=this,c=e.CurrentOptions.T,p=e,u=0,m=null,b=null,f=document.getElementById(e.CurrentOptions.id);$(".object-right").draggable(((t={revert:!0,revertDuration:300,cursor:"pointer",zIndex:100,helper:"clone",appendTo:"#container",start:function(e,t){window.dragging=!0,t.helper[0].style.width=this.offsetWidth*glRatio+"px",t.helper[0].style.height=this.offsetHeight*glRatio+"px",a=t.helper.context.offsetLeft,b=t,r=t.helper.context.offsetTop,o=0,tzacmd.isLightbox||(i.x=e.clientX,i.y=e.clientY),this.style.visibility="hidden"},drag:function(e,t){var r=f.getElementsByClassName("answerContainer")[0],s=this.parentNode.offsetHeight,n=e.clientY+(this.offsetHeight-e.offsetY)*glRatio,l=e.clientY-e.offsetY*glRatio;if(!tzacmd.isLightbox){var o=t.originalPosition;t.position={left:(e.clientX-i.x+o.left)/glRatio,top:(e.clientY-i.y+o.top)/glRatio}}for(var h=0;h<p.CurrentOptions.as.length;h++){var d=p.CurrentOptions.as[h],m=document.getElementById(d.ch.id),b=d.ch.T+p.CurrentOptions.T,g=d.ch.l+p.CurrentOptions.l;if(t.position.left>=g&&t.position.left<=g+d.ch.w&&t.position.top+r.scrollTop>=b&&t.position.top+r.scrollTop<=b+d.ch.h)m.querySelector("path").setAttribute("stroke",DOC.plr.cThe);else if(m.querySelector("path").setAttribute("stroke","#C0C0C0"),t.position.left<=a+d.ch.w);}if(!(n<0))if(n>=(s+c)*glRatio){if(1==u)return;u=1;var w=setInterval((function(){1==u&&r.scrollTop<r.scrollHeight-r.offsetHeight?r.scrollTop+=1:clearInterval(w)}),1)}else if(l<=c*glRatio){if(2==u)return;u=2;var y=setInterval((function(){2==u&&0!=r.scrollTop?r.scrollTop-=1:clearInterval(y)}),1)}else u=0}}).revert=function(){b.originalPosition.left/=glRatio,b.originalPosition.top/=glRatio;for(var e=0;e<p.CurrentOptions.as.length;e++){var t=p.CurrentOptions.as[e];document.getElementById(t.ch.id).querySelector("path").setAttribute("stroke","#C0C0C0")}return!0},t.stop=function(t,i){var c=s;u=0;var g=f.getElementsByClassName("answerContainer")[0];if(0==o)for(var w=0;w<p.CurrentOptions.as.length;w++){var y=p.CurrentOptions.as[w],v=(document.getElementById(y.ch.id),y.ch.T+p.CurrentOptions.T),C=y.ch.l+p.CurrentOptions.l;if(i.position.left>=C&&i.position.left<=C+y.ch.w&&i.position.top+g.scrollTop>=v&&i.position.top+g.scrollTop<=v+y.ch.h){var T=document.getElementById(y.ch.id);o=T.getAttribute("data-order")===i.helper.context.getAttribute("data-order")?1:2,h=T.getAttribute("data-order"),T.setAttribute("data-match",i.helper.context.id),s=T.offsetLeft,n=0==h?T.offsetTop+T.offsetHeight/3:T.offsetTop,l=T.offsetWidth;var S,x=e.asws(),A=e.asrt(),M=!1;if(x.length==A.length){e.ArrResult=[];for(w=0;w<x.length;w++)S=x[w].idch,x[w].idMatch===A.filter((function(e){return e.idch===S}))[0].idMatch?e.ArrResult.push(!0):e.ArrResult.push(!1);null!=(M=!(e.ArrResult.indexOf(!1)>-1))&&(M?qzm.SaveDataPoint(e.IndexSlide,wulzz("Correct",e.Options),!0):1==e.NumberRepeat&&qzm.SaveDataPoint(e.IndexSlide,wulzz("Incorrect",e.Options),!1))}var G=f.getElementsByClassName("object-right");for(w=0;w<G.length;w++)if(this.getAttribute("data-order")==G[w].getAttribute("data-order")){m=G[w];break}var D=glhp.DataLocal.Slide[glhp.DataLocal.crsl].UserReply;let t=0,a=0;for(let e=0;e<D.length;e++)D[e].idch==T.id&&(t=e),D[e].idMatch==i.helper.context.id&&(a=e);if(D[t].ismatch=!0,a!=t){let e=D[t].idMatch;D[t].idMatch=i.helper.context.id,D[a].idMatch=e,D[a].ismatch=!1}glhp.DataLocal.Slide[glhp.DataLocal.crsl].UserReply=D;var L=qzm.FindParent(T,"answerContainer"),k=T.getElementsByTagName("svg")[0],O=parseFloat(k.style.top.replace("px",""));isNaN(O)&&(O=0),b.originalPosition.left=(T.offsetLeft+L.parentNode.offsetLeft+k.scrollWidth-27)*glRatio,b.originalPosition.top=(T.offsetTop+O+L.parentNode.offsetTop)*glRatio,c=y.ch.l,n=y.ch.T;break}}if(0==o)i.helper.context.style.left=a+"px",i.helper.context.style.top=r+"px";else if(1==o){i.helper.context.style.left=c+l-27+"px",i.helper.context.style.top=n+"px";w=DOC.slds.indexOf(glrs.crsl.Data);Swape(this,m);for(var E=f.getElementsByClassName("object-right"),H=[],I=0;I<E.length;I++)H.push(E[I].id);if(glhp.DataLocal.Slide[w].Answers=H,(x=d.asws(f)).length==E.length-1){for(var P=f.getElementsByClassName("object-left"),R=[],F=[],B=0;B<P.length;B++)P[B].querySelector("tspan")?R.push(P[B].querySelector("tspan").textContent):R.push(" ");var N=f.getElementsByClassName("object-right");for(B=0;B<N.length;B++)N[B].id&&(N[B].querySelector("tspan")?F.push(N[B].querySelector("tspan").textContent):F.push(" "));D=(D=x.map((function(e,t){return R[t]+"-"+F[t]}))).join(", ")}d.svawz(w,d.gazz())}else if(2==o){i.helper.context.style.left=c+l-27+"px",i.helper.context.style.top=n+"px";var z=f.getElementsByClassName("right");for(w=0;w<z.length;w++)if(z[w].getAttribute("data-order")===h){z[w].style.left=c+l+10+"px",z[w].style.top=r+"px",z[w].setAttribute("data-order",i.helper.context.getAttribute("data-order"));break}var Q=f.getElementsByClassName("left");for(w=0;w<Q.length;w++)if(Q[w].getAttribute("data-order")===i.helper.context.getAttribute("data-order")){Q[w].removeAttribute("data-match");break}i.helper.context.setAttribute("data-order",h),Swape(this,m);for(w=DOC.slds.indexOf(glrs.crsl.Data),E=f.getElementsByClassName("object-right"),H=[],I=0;I<E.length;I++)H.push(E[I].id);if(glhp.DataLocal.Slide[w].Answers=H,(x=d.asws(f)).length==E.length-1){for(P=f.getElementsByClassName("object-left"),R=[],F=[],B=0;B<P.length;B++)P[B].querySelector("tspan")?R.push(P[B].querySelector("tspan").textContent):R.push(" ");N=f.getElementsByClassName("object-right");for(B=0;B<N.length;B++)N[B].id&&(N[B].querySelector("tspan")?F.push(N[B].querySelector("tspan").textContent):F.push(" "));D=(D=x.map((function(e,t){return R[t]+"-"+F[t]}))).join(", ")}}this.style.visibility="";Q=f.getElementsByClassName("left");window.dragging=!1},t)),$(".object-left").droppable({tolerance:"intersect",accept:".object-right",cursor:"pointer",over:function(){f.getElementsByClassName("left");this.querySelector("path").setAttribute("stroke-width",1),this.querySelector("path").setAttribute("stroke",DOC.plr.cThe)},activate:function(){o=0},out:function(){this.querySelector("path").setAttribute("stroke-width",1),this.querySelector("path").setAttribute("stroke","#C0C0C0")},drop:function(t,i){this.querySelector("path").setAttribute("stroke-width",1),this.querySelector("path").setAttribute("stroke","#C0C0C0"),o=this.getAttribute("data-order")===i.helper.context.getAttribute("data-order")?1:2,h=this.getAttribute("data-order"),this.setAttribute("data-match",i.helper.context.id),s=this.offsetLeft,n=0==h?this.offsetTop+this.offsetHeight/3:this.offsetTop,l=this.offsetWidth;var a,r=e.asws(),d=e.asrt(),c=!1;if(r.length==d.length){e.ArrResult=[];for(var p=0;p<r.length;p++)a=r[p].idch,r[p].idMatch===d.filter((function(e){return e.idch===a}))[0].idMatch?e.ArrResult.push(!0):e.ArrResult.push(!1);null!=(c=!(e.ArrResult.indexOf(!1)>-1))&&(c?qzm.SaveDataPoint(e.IndexSlide,wulzz("Correct",e.Options),!0):1==e.NumberRepeat&&qzm.SaveDataPoint(e.IndexSlide,wulzz("Incorrect",e.Options),!1))}var u=f.getElementsByClassName("object-right");for(p=0;p<u.length;p++)if(this.getAttribute("data-order")==u[p].getAttribute("data-order")){m=u[p];break}glhp.DataLocal.Slide[glhp.DataLocal.crsl].UserReply=r;var g=qzm.FindParent(this,"answerContainer"),w=this.getElementsByTagName("svg")[0],y=parseFloat(w.style.top.replace("px",""));isNaN(y)&&(y=0),b.originalPosition.left=(this.offsetLeft+g.parentNode.offsetLeft+w.scrollWidth-27)*glRatio,b.originalPosition.top=(this.offsetTop+y+g.parentNode.offsetTop)*glRatio}})},asws:function(e){for(var t=e.getElementsByClassName("object-left"),i=[],a=0;a<t.length;a++)if(null!=t[a].getAttribute("data-match")){var r={};r.idch=t[a].attributes.id.value,r.idMatch=t[a].attributes["data-match"].value,i.push(r)}return i},gazz:function(){for(var e,t=document.getElementsByClassName("object-right"),i=[],a=0;a<t.length;a++)""!=t[a].id&&({},e=t[a].id,i.push(e));return i},geszz:function(e,t,a){var r,s,n=glhp.crgs("div","","scroll-container"),l=glhp.crgs("div","","scroll-thumb");return e?(r=t.offsetWidth,s=5):(s=t.offsetHeight,r=5),n.setAttribute("style","width:"+r+"px;height:"+(s-10)+"px;position:absolute;top:"+a+"px;display:none;"),l.setAttribute("style","width:"+r+"px;height:"+(s/2-5)+"px;background:#c1c1c1;border-radius:10px;position:absolute;"),l.onmouseover=function(){l.style.background="gray"},l.onmouseleave=function(){l.style.background="#c1c1c1"},t.onmousewheel=function(e){e.deltaY<0?e.currentTarget.scrollTop-=10:e.currentTarget.scrollTop+=10;var t=e.currentTarget.scrollTop/(e.currentTarget.scrollHeight-e.currentTarget.offsetHeight);l.style.top=n.offsetHeight*t/2+"px"},setTimeout((function(a){var r;e?(r=t.offsetHeight-5,n.style.top=r+"px"):(r=t.offsetWidth-5,n.style.left=r+"px"),n.style.display="",$(".scroll-thumb").draggable({axis:"y",containment:"parent",start:function(e){tzacmd.isLightbox||(i.x=e.clientX,i.y=e.clientY)},drag:function(e,t){if(!tzacmd.isLightbox){var a=t.originalPosition;(e.clientY-i.y+a.top)/glRatio>=0&&(e.clientY-i.y+a.top)/glRatio<=n.offsetHeight/2&&(t.position={top:(e.clientY-i.y+a.top)/glRatio})}var r=this.parentNode.parentNode.children[0];null!=r&&null!=r&&(r.scrollTop=(r.scrollHeight-r.offsetHeight)*this.offsetTop/this.offsetHeight)}})}),1),n.appendChild(l),n},GetElement:function(e,t){var i=null;switch(e.tq){case 1:case 2:i=(g=new iikjs(e)).crqtz();break;case 3:i=(g=new nskhd(e)).crqtz();break;case 4:i=(g=new TextInput(e)).crqtz();break;case 5:g=new lpsi(e,t),isMobile?t.dc||(i=g.crqtzMb()):i=t.dc?g.CreateElementDrop():g.crqtz();break;case 6:g=new xxx(e),i=isMobile?g.crqtzMobile():g.crqtz();break;case 7:g=new lols(e),i=isMobile?g.crqtzMobile():g.crqtz();break;case 8:g=new plskw(e),i=isMobile?g.crqtzMobile():g.crqtz();break;case 9:g=new ffy(e),i=isMobile?g.crqtzMobile():g.crqtz();break;case 10:i=(g=new qjkj(e)).crqtz();break;case 11:g=new kslos(e),i=isMobile?g.crqtzMobile():g.crqtz();break;case 12:i=(g=new iikjs(e)).crqtz();break;case 13:i=(g=new nskhd(e)).crqtz();break;case 14:g=new lpsi(e,t),isMobile?t.dc||(i=g.crqtzMb()):i=t.dc?g.CreateElementDrop():g.crqtz();break;case 15:i=(g=new ffhk(e)).crqtz();break;case 16:i=(g=new psldu(e)).crqtz();break;case 17:g=new plskw(e),i=isMobile?g.crqtzMobile():g.crqtz();break;case 18:g=new ffy(e),i=isMobile?g.crqtzMobile():g.crqtz();break;case 19:i=(g=new jhkk(e)).crqtz();break;case 20:i=(g=new pske(e)).crqtz();break;case 21:i=(g=new QuestionHostpot(e)).crqtz();break;case 22:g=new QuestionDragWord(e,t),i=isMobile?g.crqtzMobile():g.crqtz();break;case 23:i=(g=new QuestionSelectList(e)).crqtz();break;case 24:i=(g=new QuestionUnderline(e)).crqtz()}return glrs.CurrentQuestion=g,i},GetElementCanvas:async function(e,t,i){var a=e.tq;if(!isMobile)switch(a){case 1:case 2:g=new iikjs(e),await g.crqtzCanvas(i);break;case 3:g=new nskhd(e),await g.crqtzCanvas(i);break;case 4:g=new TextInput(e),await g.crqtzCanvas(i);break;case 5:g=new lpsi(e,t),t.dc?await g.CreateElementDropCanvas(i):await g.crqtzCanvas(i);break;case 6:g=new xxx(e),await g.drawCanvas(i);break;case 7:g=new lols(e),await g.drawCanvas(i);break;case 8:g=new plskw(e),await g.drawCanvas(i);break;case 9:g=new ffy(e),await g.drawCanvas(i);break;case 10:g=new qjkj(e),await g.drawCanvas(i);break;case 11:g=new kslos(e),await g.crqtzCanvas(i);break;case 12:g=new iikjs(e),await g.crqtzCanvas(i);break;case 13:g=new nskhd(e),await g.crqtzCanvas(i);break;case 14:g=new lpsi(e,t),t.dc?await g.CreateElementDropCanvas(i):await g.crqtzCanvas(i);break;case 15:g=new ffhk(e),await g.drawCanvas(i);break;case 16:g=new psldu(e),await g.drawCanvas(i);break;case 17:g=new plskw(e),await g.drawCanvas(i);break;case 18:g=new ffy(e),await g.drawCanvas(i);break;case 19:g=new jhkk(e),await g.drawCanvas(i);break;case 20:g=new pske(e),await g.crqtzCanvas(i);break;case 21:g=new QuestionHostpot(e),await g.drawCanvas(i);break;case 22:g=new QuestionDragWord(e,t),await g.crqtzCanvas(i);break;case 23:g=new QuestionSelectList(e),await g.crqtzCanvas(i);break;case 24:g=new QuestionUnderline(e),await g.drawCanvas(i)}},gtzz:function(e){var t="";if(e){var i=e.querySelectorAll("tspan");if(i.length>0)for(var a=0;a<i.length;a++)a==i.length-1?t+=i[a].innerHTML:t=t+i[a].innerHTML+" "}return t},inwz:function(){var e=[];if("undefined"!=typeof Storage){if(void 0===glhp.DataLocal.Slide){for(var t=0;t<DOC.slds.length;t++)if("QuestionSlide"===DOC.slds[t].slt){e[t]={Answers:null,UserReply:null,urr:"",IsShowNoti:!1,iF:null,IsSubmit:!1,IsResult:!1,NumberRepeat:null,p:null,Correct:null}}}else void 0!==glhp.DataLocal.Slide&&(e=glhp.DataLocal.Slide);if(glhp.ResetDataLocal(),glhp.SetDataLocalValue("Slide",e),null!=DOC.sbs){var i=[];for(t=0;t<DOC.sbs.length;t++){let e=DOC.sbs[t],r={id:e.id,sls:null};if(null!=e.sls){let t=[];for(var a=0;a<e.sls.length;a++){let i={id:e.sls[a].id,rd:null};t[a]=i}r.sls=t}i[t]=r}}glhp.DataLocal.SlideBanks=i}},ClearDataLocalStorage:function(){glhp.ResetDataLocal()},setIndexResult:function(){for(var t=DOC.slds.length-1;t>0;t--)if("Result"==DOC.slds[t].slt){e=t,"FirstSlide"==DOC.slds[t].stm&&(o=!1);break}},settz:function(i){var a=null,n=[],l=0,o=!1;if(i?null!=e&&DOC.slds[e].iT&&(a=DOC.slds[e].du,"Elapsed"==DOC.slds[e].tfm?(o=!0,s=0):s=a):"Elapsed"==DOC.slds[e].tfm?(o=!0,s=glhp.DataLocal.CurrentTime):(a=glhp.DataLocal.CurrentTime,s=a),1!=glhp.DataLocal.iT){if(null!=s)if(l=DOC.slds[e].du-a,0==a)this.sfwz(e);else{n.push(e);for(var h=0;h<DOC.slds.length;h++)"Result"==DOC.slds[h].slt&&DOC.slds[h].iT&&a>DOC.slds[h].du&&n.push(h);var d=document.getElementById("time"),c=document.getElementById("timemb");null==d&&((d=document.createElement("div")).id="time",d.style.zIndex=100,document.getElementById("container").appendChild(d)),null==c&&((c=glhp.crgs("div","timemb","pr-time")).style.zIndex=100,document.getElementById("mobilewrapper").appendChild(c)),d.innerHTML=M(s),c.innerHTML=M(s);var p=1;!0===DOC.isExVi&&(p=DOC.timSca),w=setInterval((function(){if(r)clearTimeout(w);else{if(!(n.length>0))return t.rvddz(),glrs.crsl.unload(),pc.pauseIcon(),clearTimeout(w),glhp.DataLocal.CurrentTime=0,glhp.DataLocal.Status=!0,pc.mediaControl("pause"),void(qzm.isEndTime=!0);o?s++:s--,d.innerHTML=M(s),c.innerHTML=M(s);for(var e=0;e<n.length;e++)if(o){if(s>=DOC.slds[n[e]].du){var i=glrs.crsl.Data;isMobile&&"Result"==i.slt?QuestionMobile.swfb("timelimit",n[e]):t.sfwz(n[e]),n.splice(e,1),e--}}else a+l-s==DOC.slds[n[e]].du&&(t.sfwz(n[e]),n.splice(e,1),e--)}}),1e3/p)}}else this.sfwz(e)},sfwz:function(e){glhp.DataLocal.iT=1,glhp.dscx(),this.dszs(),glhp.disableSubmit(),this.rmfzz(),document.getElementById("container").appendChild(A("Timelimit"));var i=document.getElementById("btnOke");glhp.DataLocal.CurrentTime=null,window.chrome&&window.chrome.webview&&chrome.webview.postMessage(glrs.ListMedia),i.addEventListener("mouseup",(function(i){i.stopPropagation(),glhp.IsConfirmSubmit=!0,glhp.escrs(),glhp.enableSubmit(),glhp.clearNotifi(),glhp.jtsix(e),glhp.IsConfirmSubmit=!1,t.rmfzz()}))},showInvalidFeedback:function(){this.dszs(),glhp.isQuestionTrig?document.getElementById("myModal").appendChild(A("Invalid")):document.getElementById("container").appendChild(A("Invalid")),document.getElementById("btnOke").addEventListener("mouseup",(function(e){e.stopPropagation(),t.rmfzz(),glhp.enableSubmit(),qzm.ezas()}))},showUserInfoWindow:function(){document.getElementById("userInfoBtn").click()},rmfzz:function(){var e=document.getElementById("warning-feedback");e&&(glhp.DataLocal.iT=0,e.parentElement.removeChild(e))},SubmitResults:function(e){for(var t=DOC.slds.length-1;t>=0;t--)if(e==DOC.slds[t].id)for(var i=0;i<DOC.slds[t].q.length;i++)for(var a=0;a<DOC.slds.length;a++)if(DOC.slds[t].q[i]==DOC.slds[a].id){glrs.crsl.Data&&DOC.slds.indexOf(glrs.crsl.Data)!=a?"QuestionSlide"==DOC.slds[a].slt&&(glhp.DataLocal.Slide[a].IsSubmit=!0):y=a;break}},ReviewResults:function(e,t){if("Result"!=glrs.crsl.Data.slt){let i=DOC.slds.find(t=>t.id===e);i&&(glrs.CurrentResult=i),glhp.jumToSlideID(e),this.svrws(1,t)}else glrs.CurrentResult=glrs.crsl.Data,this.svrws(1,t)},PrintResults:function(e,t){for(var i=[],r=1,s=0;s<DOC.slds.length;s++)if(DOC.slds[s].id==e){var n=x(DOC.slds[s]),l=S(DOC.slds[s])*DOC.slds[s].ps/100;qzm.Results.StudentScore=Math.round(n/l*100*DOC.slds[s].ps)/100,qzm.Results.PassingScore=DOC.slds[s].ps;for(var o=0;o<DOC.slds[s].q.length;o++)for(var h=0;h<DOC.slds.length;h++)if(DOC.slds[s].q[o]==DOC.slds[h].id){var d={Stt:0,Question:"",CorrectAnswer:"",StudentAnswer:"",Result:"",Point:0,IsCorrect:!1},c=this._lkv(DOC.slds[h].tq,DOC.slds[h]);if(d.CorrectAnswer=null==c||null==c?"":c,d.Question=DOC.slds[h].nm,m.indexOf(s)>-1?(d.StudentAnswer=glhp.DataLocal.Slide[h].urr,1==DOC.slds[h].gt?""!=glhp.DataLocal.Slide[h].urr&&null!=glhp.DataLocal.Slide[h].urr&&(d.Result=Language.Neutral):null!=glhp.DataLocal.Slide[h].Correct&&glhp.DataLocal.Slide[h].Correct?d.Result=Language.Correct:d.Result=Language.InCorrect,null!=glhp.DataLocal.Slide[h].p?d.Point=glhp.DataLocal.Slide[h].p:d.Point=0):glhp.DataLocal.Slide[h].IsSubmit?(d.StudentAnswer=glhp.DataLocal.Slide[h].urr,1==DOC.slds[h].gt?""==glhp.DataLocal.Slide[h].urr&&null==glhp.DataLocal.Slide[h].urr||(d.Result=Language.Neutral):null!=glhp.DataLocal.Slide[h].Correct&&glhp.DataLocal.Slide[h].Correct?d.Result=Language.Correct:d.Result=Language.InCorrect,null!=glhp.DataLocal.Slide[h].p?d.Point=glhp.DataLocal.Slide[h].p:d.Point=0):d.StudentAnswer="",!d.StudentAnswer)if(glhp.DataLocal.Slide[h].UserReply)if("string"==typeof glhp.DataLocal.Slide[h].UserReply&&24!=DOC.slds[h].tq)d.StudentAnswer=glhp.DataLocal.Slide[h].UserReply;else{var p=this.getTextUserReplyQuestion(DOC.slds[h].tq,DOC.slds[h],!1,glhp.DataLocal.Slide[h].UserReply);d.StudentAnswer=p}else d.StudentAnswer="";d.Stt=r,d.IsCorrect=d.Result===Language.Correct,r++,i.push(d);break}break}null==a.StudentScore&&null==a.PassingScore||(a.StudentScore>=a.PassingScore?a.Result=Language.pass:a.Result=Language.fail),a.IsPassed=a.Result===Language.pass;var u=0;"VI-VN"!=DOC.Lang.toUpperCase()&&(u=1);let b=document.getElementById("userNameResult");var f={Result:a,ResultDetail:i,Lag:u,UserNameResult:b&&b.value};if(t){let e="https://quiz.cloudlms.top";$.ajax({type:"POST",url:e+"/api/auth/token",dataType:"json",success:function(t){let r={...a,resultDetail:i},s={recipientEmails:[DOC.emarep?DOC.emarep.insema:""],PresentationName:DOC.plr.ti,LearnerName:glhp.DataLocal.LearnerName,result:r,Language:0==u?"vi-vn":"en-us",fields:glhp.DataLocal.UserInfo,idLecture:DOC.idLecture,time:Math.floor((Date.now()-glhp.DataLocal.StartTime)/1e3)};DOC.emarep&&DOC.emarep.issmaiuse&&glhp.DataLocal&&glhp.DataLocal.UserInfo.email&&s.recipientEmails.push(glhp.DataLocal.UserInfo.email.value),t&&$.ajax({type:"POST",url:e+"/api/report/send-email",contentType:"application/json-patch+json",data:JSON.stringify(s),headers:{Authorization:"Bearer "+t}})}})}if(!t){var g=window.location.href.split("/"),w=window.location.href.substring(0,window.location.href.length-g[g.length-1].length)+"result.html",y=window.open(w,"_blank");window.addEventListener("message",(function(e){"getQuizz"===e.data&&y&&y.postMessage(JSON.stringify(f),"*")}))}},ResetResults:function(t){for(var i=0;i<DOC.slds.length;i++)if(DOC.slds[i].id==t){DOC.iS&&t==DOC.sctrc.RsID&&(qzm.isLMS=!1);for(var a=0;a<DOC.vars.length;a++)(DOC.vars[a].nm.indexOf("ScorePoints")>-1||DOC.vars[a].nm.indexOf("ScorePercent")>-1)&&(DOC.vars[a].val=0);var s=document.getElementById("time"),l=DOC.slds.indexOf(glrs.crsl.Data)||0;"Result"==DOC.slds[l].slt?(tfew2(),DOC.slds[i].iT&&s&&("Elapsed"==DOC.slds[i].tfm?s.innerHTML="00:00:00":s.innerHTML=M(DOC.slds[i].du)),i==e&&(n=!0,glhp.DataLocal.CurrentTime=null)):(clearTimeout(w),this.settz(!0));for(a=0;a<DOC.slds[i].q.length;a++)for(var o=0;o<DOC.slds.length;o++)if(DOC.slds[i].q[a]==DOC.slds[o].id){glhp.DataLocal.Slide[o].IsSubmit=!1,glhp.DataLocal.Slide[o].IsResult=!1,glhp.DataLocal.Slide[o].UserReply=null,glhp.DataLocal.Slide[o].isShowNoti=!1,glhp.DataLocal.Slide[o].iF=null,glhp.DataLocal.Slide[o].p=null,glhp.DataLocal.Slide[o].Correct=null,glhp.DataLocal.Slide[o].urr="";break}r=!1;break}glhp.IsSubmit=!0},SubmitInteraction:function(){glhp.IsSubmit&&(this.dszs(),glhp.disableSubmit(),this.qsalq())},qsalq:function(e){if("ByQuestion"==glrs.crsl.Data.ft){if(!glrs.CurrentQuestion)return;e&&(glrs.CurrentQuestion.DisplayFeedback=!1)}glrs.CurrentQuestion&&glrs.CurrentQuestion.pcsmw()},ckswb:function(e){return!glhp.DataLocal.Slide[e].IsSubmit&&!glhp.DataLocal.Slide[e].IsResult},ProcessResult:function(e){if("Result"==e.slt){if(e.iG){var t=x(e),i=S(e)*e.ps/100,a=S(e),r=Math.round(t/i*100*e.ps)/100,s=t>=i;if(s&&(s=glhp.AddPassedResult(e.id)),DOC.iS)if(glhp.IsScormXapi){if(!qzm.isLMS&&"undefined"!=typeof tincanModule&&glhp.isTrackingStatus(TrackingStatus.QUIZRESULT)&&null!=function(e){for(var t=DOC.slds.length-1;t>=0;t--)if(DOC.slds[t].id==DOC.sctrc.RsID){if(DOC.slds.indexOf(e)==t)return t;break}return null}(e)){var n=s?"passed":"failed",l=tincanModule.gKQ(r,"http://id.tincanapi.com/activity/avina/lecture",n);tincanModule.sendStatement(null,l),qzm.isLMS=s}}else if(!qzm.isLMS&&glhp.isTrackingStatus(TrackingStatus.QUIZRESULT)&&e.q.length>0){for(var o=0,h=0;h<e.q.length;h++)for(var d=0;d<DOC.slds.length;d++)if(e.q[h]==DOC.slds[d].id){if(glhp.DataLocal.Slide[d].IsSubmit&&0==DOC.slds[d].gt){var c=glhp.DataLocal.Slide[d].Correct,p=glhp.DataLocal.Slide[d].p;null==c||0==c?null==p&&(p=wulzz("Incorrect",DOC.slds[d])):null==p&&(p=wulzz("Correct",DOC.slds[d])),this.sqzor(glhp.DataLocal.Slide[d].p,glhp.DataLocal.Slide[d].Correct,d),o+=glhp.DataLocal.Slide[d].p/a}break}ScormModule.SetValue(ScormEnum.Name.ScoreRaw,r),glhp.IsScorm2004&&ScormModule.SetValue(ScormEnum.Name.Scale,o),ScormModule.SetValue(ScormEnum.Name.ScoreMin,i),ScormModule.SetValue(ScormEnum.Name.ScoreMax,a),ScormModule.IsCompleted||ScormModule.VerifyCompleteStatus(s),qzm.isLMS=s}for(var u=0;u<e.vars.length;u++){for(h=0;h<DOC.vars.length;h++)if(e.vars[u].id==DOC.vars[h].id){"ScorePoints"==e.vars[u].typ?DOC.vars[h].val=t:"ScorePrecents"==e.vars[u].typ?DOC.vars[h].val=r:"PassPoints"==e.vars[u].typ?DOC.vars[h].val=i:"PassPercents"==e.vars[u].typ&&(DOC.vars[h].val=e.ps);break}tfew2()}}else glhp.AddPassedResult(e.id),glhp.verifyLessonStatus();this.svrws(0)}},svrws:function(t,i){var a=glrs.crsl.Data,s=!0;if(a.q)for(var n=0;n<a.q.length;n++)for(var l=0;l<DOC.slds.length;l++)a.q[n]==DOC.slds[l].id&&("QuestionSlide"==DOC.slds[l].slt&&(glhp.DataLocal.Slide[l].IsSubmit=!0,glhp.DataLocal.Slide[l].iF=null),0!=t&&(glhp.DataLocal.Slide[l].IsShowNoti=i,glhp.DataLocal.Slide[l].IsResult=!0,s&&(glhp.jtsix(l),s=!1)));e&&e==DOC.slds.indexOf(glrs.crsl.Data)&&setTimeout((function(){r=!0}),1)},slwz:function(e,t,i){glhp.DataLocal.Slide[e].UserReply=t,glhp.DataLocal.Slide[e].urr=i},svawz:function(e,t,i){t.length>0&&null!=t[0].Answers&&(t=this.gaesz(t)),glhp.DataLocal.Slide[e].Answers=t,null!=i&&(glhp.DataLocal.Slide[e].NumberRepeat=i)},sttze:function(e,t){glhp.DataLocal.Slide[e].NumberRepeat=t},gaesz:function(e){for(var t=[],i=0;i<e.length;i++){var a={Id:e[i].Answers.id,cr:e[i].Answers.cr};t.push(a)}return t},sevsb:function(e){var t=document.getElementById(e);t&&t.className.indexOf("preventUse")>-1&&t.classList.remove("preventUse");for(var i=0;i<glrs.crsl.Data.lts.length;i++){if(glrs.crsl.Data.lts[0].iM){var a=document.getElementById(glrs.crsl.Data.lts[0].id);a&&ppveo(a,!1)}if(glrs.crsl.Data.lts[i].id==e){"Try Again"!=glrs.crsl.Data.lts[i].lT&&"Invalid Answer"!=glrs.crsl.Data.lts[i].lT||(glhp.enableSubmit(),this.ezas()),"Normal"!=glrs.crsl.Data.lts[i].lT&&qzm.SaveiF(glhp.DataLocal.crsl,null);break}}this.isClickAnswer=!0},pspaz:function(e){if(DOC.iS&&"xapi"!=DOC.scp.nC&&ScormModule.SetValue("cmi.suspend_data",L()),0==e&&glrs.crsl&&e==DOC.slds.indexOf(glrs.crsl.Data))VideoModule.isVideo=!1;else if(null!=glrs.crsl&&null!=glrs.crsl.Data.tq){var t=this.gtawz(glrs.crsl.Data,"Answers");if(isMobile)QuestionMobile.SaveUserAnswer(t);else if(this.dszs(),glrs.crsl&&"QuestionSlide"==glrs.crsl.Data.slt){var i=glrs.crsl.Data.tq,a=DOC.slds.indexOf(glrs.crsl.Data);if(glhp.DataLocal.Slide&&a<glhp.DataLocal.Slide.length&&!glhp.DataLocal.Slide[a].IsSubmit||!glhp.DataLocal.Slide[a].IsSubmit&&glhp.IsConfirmSubmit){t=this.gtawz(glrs.crsl.Data,"Answers");switch(i){case 8:for(var r=this.grrsq(a),s=!0,n=0;n<t.as.length;n++)if(r[n]!=t.as[n].id){s=!1;break}s?this.SaveDataPoint(a,wulzz("Correct",glrs.crsl.Data),!0):this.SaveDataPoint(a,wulzz("Incorrect",glrs.crsl.Data),!1);break;case 1:case 2:case 5:(s=this.qcao(t))?this.SaveDataPoint(a,wulzz("Correct",glrs.crsl.Data),!0):this.SaveDataPoint(a,wulzz("Incorrect",glrs.crsl.Data),!1);break;case 3:(s=this.lk_l(t))?this.SaveDataPoint(a,wulzz("Correct",glrs.crsl.Data),!0):this.SaveDataPoint(a,wulzz("Incorrect",glrs.crsl.Data),!1);break;case 9:var l=document.getElementById("answersContainer"+t.id);answerItems=l.getElementsByClassName("drop-down-Item");var o=[];for(let e=0;e<answerItems.length;e++){var h="";for(let t=0;t<answerItems[e].classList.length;t++)-1!=answerItems[e].classList[t].indexOf("active")&&(h=answerItems[e].classList[t].replace("active",""));o.push(h)}glhp.DataLocal.Slide[a].UserReply=o;break;case 11:null!=glrs.CurrentQuestion&&glrs.CurrentQuestion.saveTextUserSelected();break;case 22:if(glrs.CurrentQuestion){(s=glrs.CurrentQuestion.CheckAnswerDragWord())?this.SaveDataPoint(a,wulzz("Correct",glrs.crsl.Data),!0):this.SaveDataPoint(a,wulzz("Incorrect",glrs.crsl.Data),!1);break}break;case 20:if(null!=glrs.CurrentQuestion){(s=glrs.CurrentQuestion.CheckAnswerFillBlank())?this.SaveDataPoint(a,wulzz("Correct",glrs.crsl.Data),!0):this.SaveDataPoint(a,wulzz("Incorrect",glrs.crsl.Data),!1);break}break;case 4:if(null!=g){(s=this.CheckAnswerTextInput(t))?this.SaveDataPoint(a,wulzz("Correct",glrs.crsl.Data),!0):this.SaveDataPoint(a,wulzz("Incorrect",glrs.crsl.Data),!1);break}case 7:if(null!=glrs.CurrentQuestion){(s=glrs.CurrentQuestion.CheckDropDownMatching())?this.SaveDataPoint(a,wulzz("Correct",glrs.crsl.Data),!0):this.SaveDataPoint(a,wulzz("Incorrect",glrs.crsl.Data),!1);break}break;case 6:if(null!=glrs.CurrentQuestion){(s=glrs.CurrentQuestion.CheckMatching(a))?this.SaveDataPoint(a,wulzz("Correct",glrs.crsl.Data),!0):this.SaveDataPoint(a,wulzz("Incorrect",glrs.crsl.Data),!1);break}break;case 23:if(null!=glrs.CurrentQuestion){(s=glrs.CurrentQuestion.check())?this.SaveDataPoint(a,wulzz("Correct",glrs.crsl.Data),!0):this.SaveDataPoint(a,wulzz("Incorrect",glrs.crsl.Data),!1);break}break;case 24:if(null!=glrs.CurrentQuestion){(s=glrs.CurrentQuestion.CheckResultQuestion())?this.SaveDataPoint(a,wulzz("Correct",glrs.crsl.Data),!0):this.SaveDataPoint(a,wulzz("Incorrect",glrs.crsl.Data),!1);break}break;case 10:case 21:if(null!=glrs.CurrentQuestion){(s=glrs.CurrentQuestion.CheckResultQuestion())?this.SaveDataPoint(a,wulzz("Correct",glrs.crsl.Data),!0):this.SaveDataPoint(a,wulzz("Incorrect",glrs.crsl.Data),!1);break}}}}}},qcao:function(e){var t=DOC.slds.indexOf(glrs.crsl.Data),i=glhp.DataLocal.Slide[t].UserReply;if(null==i)return null;var a=e.as.filter((function(e){return e.id==i}))[0];return a?!!a.cr:null},CheckAnswerTextInput:function(e){var t=DOC.slds.indexOf(glrs.crsl.Data),i=glhp.DataLocal.Slide[t].UserReply;return null==i?null:!!e.as.filter((function(e){return e.txt==i}))[0]},dszs:function(){var e=document.getElementsByClassName("answerContainer")[0];if(e){if(null!=e.children&&e.children.length>0)for(var t=0;t<e.children.length;t++)e.children[t].style.pointerEvents="none";if(e.style.pointerEvents="none",null!=e.children){var i=e.querySelector("textarea");null!=i&&(i.disabled=!0)}var a=e.querySelectorAll(".eventable");if(a.length>0)for(t=0;t<a.length;t++)a[t].style.pointerEvents="none"}d=!1},ezas:function(){var e=document.getElementsByClassName("answerContainer")[0];if(null!=e){if(null!=e.children&&e.children.length>0)for(var t=0;t<e.children.length;t++)e.children[t].style.pointerEvents="";e.style.pointerEvents="";var i=e.querySelector("textarea");null!=i&&(i.disabled=!1);var a=e.querySelectorAll(".eventable");if(a.length>0)for(t=0;t<a.length;t++)a[t].style.pointerEvents=""}qzm.isClickAnswer=!0},gwur:function(e){var t=document.getElementById(e);if(t&&null!=(t=t.getElementsByClassName("answerContainer"))&&t.length>0){t=t[0];for(var i=[],a=0;a<t.children.length;a++){var r=document.getElementById(t.children[a].id.replace("_a","")+"_p");r&&"visible"==r.style.visibility&&i.push(qzm.GetNumberId(t.children[a].id))}return i}},lk_l:function(e){var t=this.gwur(e.id);if(!t)return null;if(0==t.length)return null;for(var i=0,a=[],r=0;r<e.as.length;r++)e.as[r].cr&&a.push(e.as[r].id);if(t.length==a.length){for(r=0;r<t.length;r++)for(var s=0;s<t.length;s++)if(a[r]==t[s]){i++;break}if(i==a.length)return!0}return!1},_lkv:function(e,t,i){var a=this.gtawz(t,"Answers"),r=null;switch(e){case 1:case 2:case 3:case 5:r=this.nzlq(a);break;case 4:r=this.ukl(a);break;case 6:r=this.zashl(a,i);break;case 7:r=this.qmv_(a,i);break;case 8:case 9:r=this.pr_k(a);break;case 10:r=this.oqspNumberic(t)}return r},getTextUserReplyQuestion:function(e,t,i,a){var r=this.gtawz(t,"Answers"),s=null;switch(e){case 1:case 2:case 3:case 5:case 4:break;case 6:s=this.getTextUserReplyMatching(r,i,a);break;case 7:s=this.getTextUserReplyDropdownMatching(r,i,a);break;case 8:case 9:s=this.getTextUserReplyRanking(r,a)}return s},getTextUserReplyMatching:function(e,t,i){var a=" - ";t&&(a="[.]");var r=[];i.map(t=>{e.as.map((function(e){t.idMatch==e.M.id&&e.MatchText.pr.length>0&&r.push(e.MatchText.pr[0].inls)}))});for(var s=[],n=0;n<r.length;n++)s.push(qzm.oqsp(r[n]));for(var l=[],o=e.as.map((function(e){if(e.ct.pr.length>0)return e.ct.pr[0].inls})),h=0;h<o.length;h++)l.push(qzm.oqsp(o[h]));var d=e.as.map((function(e,t){return l[t]+a+s[t]}));return d.length>0&&(d=d.join(", ")),d},getTextUserReplyDropdownMatching:function(e,t,i){var a=" - ";t&&(a="[.]");var r=[];i.map(t=>{e.as.map((function(e){t==e.id&&e.cbT.pr.length>0&&r.push(e.cbT.pr[0].inls)}))});for(var s=[],n=0;n<r.length;n++)s.push(qzm.oqsp(r[n]));for(var l=[],o=e.as.map((function(e){if(e.ct.pr.length>0)return e.ct.pr[0].inls})),h=0;h<o.length;h++)l.push(qzm.oqsp(o[h]));var d=e.as.map((function(e,t){return l[t]+a+s[t]}));return d.length>0&&(d=d.join(", ")),d},getTextUserReplyRanking:function(e,t){var i=[];t.map(t=>{e.as.map((function(e){t==e.id&&e.ct.pr.length>0&&i.push(e.ct.pr[0].inls)}))});for(var a=[],r=0;r<i.length;r++)a.push(qzm.oqsp(i[r]));return a.toString()},oqsp:function(e){var t="";if(e&&e.length>0)for(var i=0;i<e.length;i++)t+=e[i].Txt;return t},grrsq:function(e){for(var i=document.getElementsByClassName("object-drag-squence"),a=[],r=[],s=0;s<i.length;s++)a.push(this.GetNumberId(i[s].id)),r.push(t.gtzz(i[s]));return this.slwz(e,a,r.toString()),a},zashl:function(e,t){var i=" - ";t&&(i="[.]");for(var a=e.as.map((function(e){if(e.MatchText.pr.length>0)return e.MatchText.pr[0].inls})),r=[],s=0;s<a.length;s++)r.push(qzm.oqsp(a[s]));for(var n=[],l=e.as.map((function(e){if(e.ct.pr.length>0)return e.ct.pr[0].inls})),o=0;o<l.length;o++)n.push(qzm.oqsp(l[o]));var h=e.as.map((function(e,t){return n[t]+i+r[t]}));return h.length>0&&(h=h.join(", ")),h},qmv_:function(e,t){var i=" - ";t&&(i="[.]");for(var a=e.as.map((function(e){if(e.cbT.pr.length>0)return e.cbT.pr[0].inls})),r=[],s=0;s<a.length;s++)r.push(qzm.oqsp(a[s]));for(var n=[],l=e.as.map((function(e){if(e.ct.pr.length>0)return e.ct.pr[0].inls})),o=0;o<l.length;o++)n.push(qzm.oqsp(l[o]));var h=e.as.map((function(e,t){return n[t]+i+r[t]}));return h.length>0&&(h=h.join(", ")),h},pr_k:function(e){for(var t=e.as.map((function(e){if(e.ct.pr.length>0)return e.ct.pr[0].inls})),i=[],a=0;a<t.length;a++)i.push(qzm.oqsp(t[a]));return i.toString()},nzlq:function(e){for(var t,i=[],a=e.as.filter((function(e){return 1==e.cr})).map((function(e){if(e.ct.pr.length>0)return e.ct.pr[0].inls})),r=0;r<a.length;r++)i.push(qzm.oqsp(a[r]));return i.length>0&&(t=i.join(", ")),t},ukl:function(e){var t,i=e.as.map((function(e){return e.txt}));return i.length>0&&(t=i.join(", ")),t},oqspNumberic:function(e){var t=[],i=e.nuC.val,a="";function r(e,t,i){switch(e){case 0:a=Language.isEqualTo+" "+t;break;case 1:a=Language.between+" "+t+" "+Language.and+" "+i;break;case"Greater than":a=Language.isGreaThan+" "+t;break;case"Greater than or equal to":a=Language.greaterThanEqual+" "+t;break;case"Less than":a=Language.isLessThan+" "+t;break;case"Less than or equal to":a=Language.lessThanEqual+" "+t;break;case"Not equal to":a=Language.notEqual+" "+t;break;case"Not between":a=Language.notBetween+" "+t+" "+Language.and+" "+i}return a}for(var s=0;s<i.length;s++){var n=i[s].v1,l=i[s].v2,o=i[s].Cp;t.push(r(o,n,l))}var h=e.nuC.NumericMode;textCombine=0==h?Language.and:Language.or;var d="";if(t.length>0){d=Language.correctResponedIs+" "+t[0];for(s=1;s<t.length;s++)d+=" "+textCombine+" "+Language.correctResponed+" "+t[s]}return d},setSelf:function(){t=this},removeTime:function(){var e=document.getElementById("time");e&&e.parentNode.removeChild(e)},gswt:function(e){return M(e)},gelpw:function(){if(document.getElementById("reload-media"))return null;var e=glhp.crgs("div","reload-media"),i=document.createElement("div"),a=document.createElement("div"),s=document.createElementNS(xmlns,"svg"),n=document.createElementNS(xmlns,"g"),l=document.createElementNS(xmlns,"path"),h=document.createElementNS(xmlns,"circle");h.setAttribute("cx","256"),h.setAttribute("cy","256"),h.setAttribute("r","256"),h.setAttribute("fill","white"),i.style.width="100%",i.style.height="100%",e.style.width="100%",e.style.height="100%",e.style.position="absolute",e.style.zIndex="100",e.style.pointerEvents="all",i.style.background="#f1f1f1",i.style.opacity=.8,a.style.position="absolute",a.style.width="64px",a.style.height="64px",a.style.left="45%",a.style.top="40%",a.onmouseover=function(e){e.currentTarget.querySelector("path").setAttribute("fill","#424242")},a.onmouseleave=function(e){e.currentTarget.querySelector("path").setAttribute("fill","#190B07")},this.removeTime();var d=document.getElementById("wrapper");return d&&(d.style.pointerEvents="none"),glrs.crsl.MainTimeline&&glrs.crsl.MainTimeline.paused(),e.onclick=function(e){e.currentTarget&&e.currentTarget.parentElement&&e.currentTarget.parentElement.removeChild(e.currentTarget);var i=document.getElementById("wrapper");i&&(i.style.pointerEvents="all"),v=!0;for(var a=setTimeout((function(){}),1);a>=0;a--)clearInterval(a);var s=document.querySelector("audio");s&&s.autoplay&&s.play(),t.inwz(),o||(r=!1,t.settz(!0));let n=0;if(glrs.crsl&&glrs.crsl.Data){let e=glrs.crsl.Data.id;n=DOC.slds.findIndex(t=>t.id==e)}glhp.onloaded(Math.max(0,n))},s.setAttribute("viewBox","0 0 512 512"),s.setAttribute("width","64px"),s.setAttribute("height","64px"),l.setAttribute("d","M256,0C114.833,0,0,114.844,0,256s114.833,256,256,256s256-114.844,256-256S397.167,0,256,0z M357.771,264.969    l-149.333,96c-1.75,1.135-3.771,1.698-5.771,1.698c-1.75,0-3.521-0.438-5.104-1.302C194.125,359.49,192,355.906,192,352V160    c0-3.906,2.125-7.49,5.563-9.365c3.375-1.854,7.604-1.74,10.875,0.396l149.333,96c3.042,1.958,4.896,5.344,4.896,8.969    S360.813,263.01,357.771,264.969z"),l.setAttribute("fill","#190B07"),n.appendChild(h),n.appendChild(l),s.appendChild(n),a.appendChild(s),e.appendChild(i),e.appendChild(a),isMobile&&glhp.CheckQuestion(glrs.crsl.Data)&&(l.setAttribute("fill","#3DA0E1"),QuestionMobile.DisableSubmitButton()),e},lspiw:function(){if("undefined"!=typeof Storage){var e=null;try{var t=localStorage.getItem(KEY);t&&(e=JSON.parse(Ma.de(t)))}catch(t){null!=T(KEY)&&(e=JSON.parse(Ma.de(T(KEY))))}return e}return null},SelectedAnswer:function(e){var t=e;$(".answer-oneselection").click((function(){if(qzm.isClickAnswer){if(document)var e=document.getElementById("answerContainer"+t.id);if(null!=e)for(var i=0;i<e.children.length;i++)e.children[i].id==this.id?(e.children[i].select=!0,e.children[i].getElementsByClassName("Circle-Selected")[0].style.display="block"):(e.children[i].select=!1,e.children[i].getElementsByClassName("Circle-Selected")[0].style.display="none");var a=DOC.slds.indexOf(glrs.crsl.Data);qzm.slwz(a,this.id,qzm.gtzz(event.currentTarget))}}))},set Results(e){a=e},get Results(){return a},set IsReset(e){n=e},get IsReset(){return n},set ListCorrect(e){l=e},get ListCorrect(){return l},get IndexResult(){return e},set IsFirtsSlide(e){o=e},get IsFirtsSlide(){return o},get IsEndTime(){return r},set IsEndTime(e){r=e},set Coordinates(e){coordinate=e},get Coordinates(){return coordinate},set IsHotspot(e){h=e},get IsHotspot(){return h},set isClickAnswer(e){d=e},get isClickAnswer(){return d},set QuestionHostpot(e){c=e},get QuestionHostpot(){return c},set suuk(e){p=e},get suuk(){return p},set isLMS(e){u=e},get isLMS(){return u},set listResulted(e){m=e},get listResulted(){return m},get startTime(){return b},set indexAnswer(e){y=e},get indexAnswer(){return y},set isClicked(e){v=e},get isClicked(){return v},set isLoadedScript(e){isLoadedScript=e},get isLoadedScript(){return isLoadedScript},set isLoadTime(e){C=e},get isLoadTime(){return C}}}();function Swape(e,t){var i=document.createElement("div");e.parentNode.insertBefore(i,e),t.parentNode.insertBefore(e,t),i.parentNode.insertBefore(t,i),i.parentNode.removeChild(i)}var elemContent=document.getElementById("content");function wulzz(e,t){if(t.fbs){for(var i=0;i<t.fbs.length;i++)if(t.fbs[i].fs==e)return t.fbs[i].sC}else for(var a=0;a<t.lts.length;a++)if(!t.lts[a].iM&&t.lts[a].lT==e)return t.lts[a].sC;return null}function wulzzByID(e,t){for(var i=0;i<t.lts.length;i++)if(!t.lts[i].iM&&t.lts[i].fId==e)return t.lts[i].sC;return null}function swfbById(e,t){for(var i=!1,a=0;a<t.lts.length;a++)if(t.lts[a].iM){var r=document.getElementById(t.lts[a].id);ppveo(r,!0),r.style.position="absolute"}else if(t.lts[a].fId===e){var s=glrs.crsl.lwid(t.lts[a].id),n=document.getElementById(t.lts[a].id);n.className.indexOf("preventUse")>-1==0&&(n.className+=" preventUse"),null!=s&&s.show(!0),i=!0;break}i||glhp.nextSlide()}function swfb(e,t){for(var i=!1,a=0;a<t.lts.length;a++)if(t.lts[a].iM){var r=document.getElementById(t.lts[a].id);r&&(ppveo(r,!0),r.style.position="absolute")}else if(t.lts[a].lT===e){var s=glrs.crsl.lwid(t.lts[a].id),n=document.getElementById(t.lts[a].id);n&&n.className.indexOf("preventUse")>-1==0&&(n.className+=" preventUse"),null!=s&&s.show(!0,!0),i=!0;break}i||glhp.nextSlide()}function ppveo(e,t){if(e){var i=e.querySelectorAll("video"),a=e.querySelectorAll("audio");if(i.length>0)for(var r=0;r<i.length;r++)t?i[r].paused||(i[r].setAttribute("data-status","pause"),i[r].pause()):i[r].getAttribute("data-status")&&(i[r].play(),i[r].removeAttribute("data-status"));if(a.length>0)for(r=0;r<a.length;r++)t?a[r].paused||(a[r].setAttribute("data-status","paused"),a[r].pause()):a[r].getAttribute("data-status")&&(a[r].play(),a[r].removeAttribute("data-status"))}}function swmm(e){if(!isTransaction){var t=document.getElementById("contain-message");null!=t&&t.parentElement.removeChild(t);var i=null;null!=(i=new Notification(e?"Correct":"InCorrect"))&&(glhp.isQuestionTrig?setTimeout(()=>{var e=document.getElementById("myModal");e&&e.appendChild(i.swmm())},100):document.getElementById("container").appendChild(i.swmm()),DOC.isPresentation&&$("#navSubmitBtn").hide())}}elemContent.onclick=function(e){qzm.rvddz()},String.prototype.replaceAll=function(e,t){for(var i=this,a=i.indexOf(e);-1!=a;)a=(i=i.replace(e,t)).indexOf(e);return i};var Notification=function(){function e(e){this.Name=e}return e.prototype.CreateEleQuestion=function(e,t){if(!isTransaction){switch(DOC.Lang.toUpperCase()){case"VI-VN":e="Incorrect"==e?"Không Chính Xác":"Chính Xác";break;case"TH-TH":e="Incorrect"==e?"ไม่ถูกต้อง":"ถูกต้อง"}var i=this,a=document.createElement("div"),r=document.createElement("tspan"),s=document.createElement("tspan");return a.id="contain-message",s.className="closeMessage",s.innerHTML="&times;",s.addEventListener("click",(function(e){i.CloseMessage(e.target.parentElement)}),!1),r.innerHTML=e,a.className="message",a.style.background=t,a.appendChild(r),a.appendChild(s),a}},e.prototype.CloseMessage=function(e){e.parentElement.removeChild(e)},e.prototype.swmm=function(){if(!isTransaction){var e=null;switch(this.Name){case"InCorrect":e=this.CreateEleQuestion("Incorrect","#db5a4b");break;case"Correct":e=this.CreateEleQuestion("Correct","rgb(41, 132, 67)");break;case"Video":e=this.CreateEleVideo()}return e}},e}(),Question=function(){function e(e){this.Options=e,this.IndexSlide=DOC.slds.indexOf(e),this.CurrentOptions=qzm.gtawz(e,"Answers"),this.UserReply=null,this.NumberRepeat=null,this.ArrAnswer=[],this.Type=0,this.DisplayFeedback="None"!=e.ft,this.IsSaveLocal()}return e.prototype.GetiF=function(e){var t=this.Options.lts.filter((function(t){return t.lT==e}))[0],i="";return t&&(i=t.id),i},e.prototype.GetData=function(){switch(this.Options.tq){case 1:case 2:case 3:case 5:case 14:this.GetData_HaveasLocalStorage(),null==qzm.ListCorrect[this.IndexSlide]&&(qzm.ListCorrect[this.IndexSlide]=qzm.nzlq(this.CurrentOptions));break;case 4:this.GetData_HaveasLocalStorage(),null==qzm.ListCorrect[this.IndexSlide]&&(qzm.ListCorrect[this.IndexSlide]=qzm.ukl(this.CurrentOptions));break;case 8:this.GetData_HaveasLocalStorage(),null==qzm.ListCorrect[this.IndexSlide]&&(qzm.ListCorrect[this.IndexSlide]=qzm.pr_k(this.CurrentOptions));break;case 11:case 12:case 13:case 14:case 17:case 21:case 20:case 23:case 22:this.GetData_HaveasLocalStorage()}this.Type=this.Options.gt},e.prototype.GetData_HaveasLocalStorage=function(){var e=this.IndexSlide,t="Initial"==glrs.crsl.Data.slC.rM;if(qzm.IsEndTime&&(t=!1),t&&(glhp.DataLocal.Slide[e].IsSubmit=!1,glhp.DataLocal.Slide[e].urr="",glhp.DataLocal.Slide[e].Answers=null,glhp.DataLocal.Slide[e].UserReply=null,glhp.DataLocal.Slide[e].ArrAnswer=null,glhp.DataLocal.Slide[e].NumberRepeat=this.Options.atm),glhp.DataLocal.Slide&&null!=glhp.DataLocal.Slide[e].Answers)this.ArrAnswer=qzm.rdlw(this.CurrentOptions,glhp.DataLocal.Slide[e].Answers),this.NumberRepeat=glhp.DataLocal.Slide[e].NumberRepeat,this.UserReply=glhp.DataLocal.Slide[e].UserReply;else{if(null!=this.CurrentOptions&&null!=this.CurrentOptions.as)for(var i=0;i<this.CurrentOptions.as.length;i++){var a={Answers:this.CurrentOptions.as[i]};this.ArrAnswer.push(a)}this.NumberRepeat=this.Options.atm,this.Options.sff&&(this.ArrAnswer=qzm.rdaws(this.ArrAnswer)),this.CurrentOptions.as&&qzm.svawz(this.IndexSlide,this.ArrAnswer,this.NumberRepeat)}},e.prototype.GetDataFillBlank=function(){},e.prototype.IsCheckReview=function(){return glhp.DataLocal.Slide[this.IndexSlide]?glhp.DataLocal.Slide[this.IndexSlide]:null},e.prototype.IsSaveLocal=function(){if(null!=glhp.DataLocal.Slide&&null==glhp.DataLocal.Slide[this.IndexSlide]){glhp.DataLocal.Slide[this.IndexSlide]={Answers:null,UserReply:null,urr:null,IsShowNoti:!1,iF:null,IsSubmit:!1,IsResult:!1,NumberRepeat:null,p:null,Correct:null}}},e}(),iikjs=function(e){function t(t){var i=e.call(this,t)||this;return i.GetData(),i}return __extends(t,e),t.prototype.crqtz=function(){var e=document.createElement("div"),t=this,i=0==isMobile?this.CurrentOptions.w:isTabletLandscape?this.CurrentOptions.widtls:isTabletPortrait?this.CurrentOptions.widtpt:isMobileLandscape?this.CurrentOptions.widmls:isMobilePortrait?this.CurrentOptions.widmpt:this.CurrentOptions.w,a=0==isMobile?this.CurrentOptions.h:isTabletLandscape?this.CurrentOptions.heitls:isTabletPortrait?this.CurrentOptions.heitpt:isMobileLandscape?this.CurrentOptions.heimls:isMobilePortrait?this.CurrentOptions.heimpt:this.CurrentOptions.h;e.setAttribute("class","answerContainer"),e.style.width=i+"px",e.style.height=a+"px";for(var r=this.CurrentOptions.as,s=!1,n=DOC.slds.indexOf(glrs.crsl.Data),l=0,o=0;o<r.length;o++){var h=document.createElement("div"),d=glhp.crgs("svg","","one-item");d.style.overflow="hidden";var c=document.createElementNS(xmlns,"g"),p=!1,u=(0==isMobile?this.ArrAnswer[o].Answers.w:isTabletLandscape?this.ArrAnswer[o].Answers.widtls:isTabletPortrait?this.ArrAnswer[o].Answers.widtpt:isMobileLandscape?this.ArrAnswer[o].Answers.widmls:isMobilePortrait?this.ArrAnswer[o].Answers.widmpt:this.ArrAnswer[o].Answers.w)+20,m=0==isMobile?this.ArrAnswer[o].Answers.h:isTabletLandscape?this.ArrAnswer[o].Answers.heitls:isTabletPortrait?this.ArrAnswer[o].Answers.heitpt:isMobileLandscape?this.ArrAnswer[o].Answers.heimls:isMobilePortrait?this.ArrAnswer[o].Answers.heimpt:this.ArrAnswer[o].Answers.h,b=0==isMobile?this.ArrAnswer[o].Answers.T:isTabletLandscape?this.ArrAnswer[o].Answers.toptls:isTabletPortrait?this.ArrAnswer[o].Answers.toptpt:isMobileLandscape?this.ArrAnswer[o].Answers.topmls:isMobilePortrait?this.ArrAnswer[o].Answers.topmpt:this.ArrAnswer[o].Answers.T,f=0==isMobile?this.ArrAnswer[o].Answers.ch.T:isTabletLandscape?this.ArrAnswer[o].Answers.ch.toptls:isTabletPortrait?this.ArrAnswer[o].Answers.ch.toptpt:isMobileLandscape?this.ArrAnswer[o].Answers.ch.topmls:isMobilePortrait?this.ArrAnswer[o].Answers.ch.topmpt:this.ArrAnswer[o].Answers.ch.T,g=shzp.grnz(this.ArrAnswer[o].Answers.shs,{id:this.ArrAnswer[o].Answers.id,width:u,height:m}),w=document.createElementNS(xmlns,"g");if(null!=this.ArrAnswer[o].Answers.efs&&null!=this.ArrAnswer[o].Answers.efs[0]){"SoftEdge"==this.ArrAnswer[o].Answers.efs[0].typ&&(p=!0);var y=EffectModule.genGEffect(this.ArrAnswer[o].Answers.efs[0],{Id:this.ArrAnswer[o].Answers.id,width:u,height:m},this.ArrAnswer[o].Answers.agl,this.ArrAnswer[o].Answers.isX,this.ArrAnswer[o].Answers.isY);null!=y.g&&w.appendChild(y.g)}p||w.appendChild(g);var v=document.createElementNS(xmlns,"g"),C=document.createElementNS(xmlns,"g"),T=document.createElementNS(xmlns,"rect"),S=document.createElementNS(xmlns,"circle"),x=document.createElementNS(xmlns,"circle"),A=document.createElementNS(xmlns,"circle");h.id=this.ArrAnswer[o].Answers.id+"_a";var M=this.CurrentOptions.cl;isMobile&&(M=1);for(var G=Math.floor(o/M),D=0,L=G*M;L<this.CurrentOptions.as.length&&(this.ArrAnswer[L].Answers.h>D&&(D=0==isMobile?this.ArrAnswer[L].Answers.h:isTabletLandscape?this.ArrAnswer[L].Answers.heitls:isTabletPortrait?this.ArrAnswer[L].Answers.heitpt:isMobileLandscape?this.ArrAnswer[L].Answers.heimls:isMobilePortrait?this.ArrAnswer[L].Answers.heimpt:this.ArrAnswer[L].Answers.h),!(L>=G*M+M-1));L++);var k=l+(D-m)/2;0==G?(k+=this.CurrentOptions.as[0].T,o==G*M+M-1&&(l+=this.CurrentOptions.as[0].T)):(k+=10,o==G*M+M-1&&(l+=10)),h.style.marginTop=k+"px",o==G*M+M-1&&(l+=D);var O=this.CurrentOptions.as[o].l;isMobile&&(O=this.CurrentOptions.as[0].l),h.style.marginLeft=O+"px",h.setAttribute("class","myContentSVG"),h.style.position="absolute",h.style.width=u+"px",h.style.height=m+"px",h.select=!1,d.id=this.ArrAnswer[o].Answers.id+"_s",d.setAttribute("xlink:href","http://www.w3.org/1999/xlink/"),d.setAttribute("height",m),d.setAttribute("width",u),T.setAttribute("width",u+"px"),T.setAttribute("height",m+"px"),T.setAttribute("opacity","0"),T.setAttribute("rx","5px"),T.setAttribute("ry","5px"),w.setAttribute("class","eventable"),w.id=this.ArrAnswer[o].Answers.id+"_g";var E=this.ArrAnswer[o].Answers.rB,H=0==isMobile?E.topdkt:isTabletLandscape?E.toptls:isTabletPortrait?E.toptpt:isMobileLandscape?E.topmls:isMobilePortrait?E.topmpt:E.tR;S.setAttribute("cx",E.lR-this.ArrAnswer[o].Answers.l),S.setAttribute("cy",H-b),S.setAttribute("r",E.rCi),S.setAttribute("fill",E.C.col),x.setAttribute("cx",E.lR-this.ArrAnswer[o].Answers.l),x.setAttribute("cy",H-b),x.setAttribute("r",E.r),x.setAttribute("fill",E.C.col),x.setAttribute("stroke-width",E.wB),x.setAttribute("stroke",E.cB.col),A.id=this.ArrAnswer[o].Answers.id+"_cc",A.setAttribute("class","Circle-Selected"),A.setAttribute("cx",E.lR-this.ArrAnswer[o].Answers.l),A.setAttribute("cy",H-b),A.setAttribute("r",E.rC),A.setAttribute("fill",E.cC.col),A.style.visibility="hidden",null!=this.UserReply&&this.UserReply==this.ArrAnswer[o].Answers.id&&(A.style.visibility="visible",h.select=!0);let t=0;if(this.ArrAnswer[o].Answers.img){var I=document.createElementNS(xmlns,"g"),P=document.createElementNS(xmlns,"defs"),R=document.createElementNS(xmlns,"pattern"),F=document.createElementNS(xmlns,"g"),B=document.createElementNS(xmlns,"path"),N=document.createElementNS(xmlns,"image");R.appendChild(N),P.appendChild(R),I.appendChild(P),I.appendChild(F),F.appendChild(B),w.appendChild(I);let e=isMobile?this.ArrAnswer[o].Answers.h/2:this.ArrAnswer[o].Answers.h;i=16*e/9,id=this.ArrAnswer[o].Answers.id,patternId="pattern"+id,t=i+10,R.setAttribute("id",patternId),R.setAttribute("patternUnits","userSpaceOnUse"),R.setAttribute("width",i),R.setAttribute("height",e),B.setAttribute("fill","red"),B.setAttribute("fill","url(#"+patternId+")"),B.setAttribute("d","M0,0L"+i+",0 "+i+","+e+" 0,"+e+"z"),N.setAttribute("href",this.ArrAnswer[o].Answers.img),N.setAttribute("width",i),N.setAttribute("height",e),I.setAttribute("transform","translate("+(this.ArrAnswer[o].Answers.ch.l-this.ArrAnswer[o].Answers.l-10)+","+(m-e)/2+")")}c.setAttribute("transform","translate("+(this.ArrAnswer[o].Answers.ch.l-this.ArrAnswer[o].Answers.l+t)+","+(f-b)+")");var z=TextModule.grezByParas(this.ArrAnswer[o].Answers.ct,"question");if(z.style.pointerEvents="none",0==this.Type&&(this.IsCheckReview().IsResult||glhp.DataLocal.Slide[n].IsSubmit&&!glhp.DataLocal.Slide[n].Correct&&this.Options.scr)){var Q=document.createElementNS(xmlns,"g");Q.setAttribute("transform","translate(0,"+(m-18)/2+")"),1==this.ArrAnswer[o].Answers.cr&&Q.appendChild(qzm.GetShapeTrue("m-8,10.56875l0,-1.1125l2.875,-2.78125l1.15,0l4.025,3.89375l10.925,-10.56875l1.15,0l2.875,2.78125l0,1.1125l-14.375,13.90625l-1.15,0l-7.475,-7.23125z")),d.setAttribute("viewBox","-14 0 "+(u+16)+" "+m),d.setAttribute("width",u+18),s=!0}qzm.ckswb(this.IndexSlide)&&(T.setAttribute("class","myRect"),A.setAttribute("class","Circle-Selected"),glhp.enableSubmit()),v.appendChild(T),C.appendChild(x),C.appendChild(S),C.appendChild(A),w.appendChild(v),w.appendChild(C),null!=Q&&w.appendChild(Q),d.appendChild(w),h.appendChild(d),e.appendChild(h),"G"==z.tagName.toUpperCase()?(c.appendChild(z),w.appendChild(c)):(z.style.left=this.ArrAnswer[o].Answers.ct.l-5+"px",z.style.top=this.CurrentOptions.as[o].T+this.ArrAnswer[o].Answers.ct.ref.t+"px",h.appendChild(z))}return s&&glhp.DataLocal.Slide[this.IndexSlide].IsShowNoti&&(isMobile?glhp.DataLocal.Slide[this.IndexSlide].IsResult?(0==this.Type&&QuestionMobile.ShowResultReview(glhp.DataLocal.Slide[this.IndexSlide].Correct),QuestionMobile.CreateReviewResultButton()):glhp.DataLocal.Slide[this.IndexSlide].IsSubmit&&QuestionMobile.CreateReviewResultButton():swmm(this.IsCheckReview().Correct)),glhp.DataLocal.Slide[n]&&0==glhp.DataLocal.Slide[n].IsSubmit&&setTimeout((function(){qzm.oneAnswerSelect(t.CurrentOptions)}),1),glhp.checkIEBrower()&&(e.innerHTML=e.innerHTML),e},t.prototype.crqtzCanvas=async function(e){for(var t=this.CurrentOptions.as,i=0,a=0;a<t.length;a++){e.save();for(var r=Math.floor(a/this.CurrentOptions.cl),s=0,n=r*this.CurrentOptions.cl;n<this.CurrentOptions.as.length&&(this.ArrAnswer[n].Answers.h>s&&(s=this.ArrAnswer[n].Answers.h),!(n>=r*this.CurrentOptions.cl+this.CurrentOptions.cl-1));n++);var l=i+(s-this.ArrAnswer[a].Answers.h)/2;0==r?(l+=this.CurrentOptions.as[0].T,a==r*this.CurrentOptions.cl+this.CurrentOptions.cl-1&&(i+=this.CurrentOptions.as[0].T)):(l+=10,a==r*this.CurrentOptions.cl+this.CurrentOptions.cl-1&&(i+=10)),a==r*this.CurrentOptions.cl+this.CurrentOptions.cl-1&&(i+=s),e.translate(this.CurrentOptions.as[a].l,l),await shzp.drawCanvas(this.ArrAnswer[a].Answers.shs,{id:this.ArrAnswer[a].Answers.id,width:this.ArrAnswer[a].Answers.w,height:this.ArrAnswer[a].Answers.h},e);var o=this.ArrAnswer[a].Answers.rB;await drawRadioCanvas(e,o.lR-this.ArrAnswer[a].Answers.l,o.tR-this.ArrAnswer[a].Answers.T,o.rCi,o.C.col,o.cB.col,o.wB),null!=this.UserReply&&this.UserReply==this.ArrAnswer[a].Answers.id&&await drawRadioCanvas(e,o.lR-this.ArrAnswer[a].Answers.l,o.tR-this.ArrAnswer[a].Answers.T,o.rC,o.cC.col,o.cB.col,0);let t=0;if(this.ArrAnswer[a].Answers.img){let i=16*this.ArrAnswer[a].Answers.h/9;t=i+10,e.save(),e.translate(this.ArrAnswer[a].Answers.ch.l-this.ArrAnswer[a].Answers.l+(i-this.ArrAnswer[a].Answers.cim.w)/2,0),await drawImageCanvas(e,this.ArrAnswer[a].Answers.img,0,0,this.ArrAnswer[a].Answers.cim.w,this.ArrAnswer[a].Answers.cim.h),e.restore()}e.translate(this.ArrAnswer[a].Answers.ch.l-this.ArrAnswer[a].Answers.l+t+10,this.ArrAnswer[a].Answers.ch.T-this.ArrAnswer[a].Answers.T),await TextModule.drawCanvasByParas(this.ArrAnswer[a].Answers.ct,e),e.restore()}},t.prototype.pcsmw=function(){var e=qzm.qcao(this.CurrentOptions);if(null!=e){if("ByChoice"==this.Options.ft||"ByChoice"==this.Options.st){var t=DOC.slds.indexOf(glrs.crsl.Data),i=glhp.DataLocal.Slide[t].UserReply;if(null==i)return null;var a=this.CurrentOptions.as.filter((function(e){return e.id==i}))[0]}if(0==this.Type){if(e)return this.DisplayFeedback?"ByChoice"==this.Options.ft?(this.NumberRepeat=1,qzm.sttze(this.IndexSlide,this.NumberRepeat),null!=a&&(swfbById(a.fb.fId,this.Options),qzm.SaveiF(this.IndexSlide,a.fb.fId))):"ByQuestion"==this.Options.ft&&(swfb("Correct",this.Options),qzm.SaveiF(this.IndexSlide,this.GetiF("Correct"))):glhp.nextSlide(),"ByChoice"==this.Options.st?qzm.SaveDataPoint(this.IndexSlide,a.fb.sC):qzm.SaveDataPoint(this.IndexSlide,wulzz("Correct",this.Options),!0,!0),void qzm.roswb(this.IndexSlide);if(0==this.NumberRepeat)this.DisplayFeedback&&(swfb("Try Again",this.Options),qzm.SaveiF(this.IndexSlide,this.GetiF("Try Again"))),qzm.sttze(this.IndexSlide,0);else if(1==this.NumberRepeat){if(this.DisplayFeedback?"ByChoice"==this.Options.ft?null!=a&&(swfbById(a.fb.fId,this.Options),qzm.SaveiF(this.IndexSlide,a.fb.fId)):"ByQuestion"==this.Options.ft&&(swfb("Incorrect",this.Options),qzm.SaveiF(this.IndexSlide,this.GetiF("Incorrect"))):glhp.nextSlide(),this.Options.scr)for(let e=0;e<this.ArrAnswer.length;e++){var r=document.getElementById(this.ArrAnswer[e].Answers.id+"_s");if(r){var s=0==isMobile?this.ArrAnswer[e].Answers.h:isTabletLandscape?this.ArrAnswer[e].Answers.heitls:isTabletPortrait?this.ArrAnswer[e].Answers.heitpt:isMobileLandscape?this.ArrAnswer[e].Answers.heimls:isMobilePortrait?this.ArrAnswer[e].Answers.heimpt:this.ArrAnswer[e].Answers.h,n=(0==isMobile?this.ArrAnswer[e].Answers.w:isTabletLandscape?this.ArrAnswer[e].Answers.widtls:isTabletPortrait?this.ArrAnswer[e].Answers.widtpt:isMobileLandscape?this.ArrAnswer[e].Answers.widmls:isMobilePortrait?this.ArrAnswer[e].Answers.widmpt:this.ArrAnswer[e].Answers.w)+20;if(this.ArrAnswer[e].Answers.cr){var l=document.createElementNS(xmlns,"g");l.setAttribute("transform","translate(0,"+(s-18)/2+")"),l.appendChild(qzm.GetShapeTrue("m-8,10.56875l0,-1.1125l2.875,-2.78125l1.15,0l4.025,3.89375l10.925,-10.56875l1.15,0l2.875,2.78125l0,1.1125l-14.375,13.90625l-1.15,0l-7.475,-7.23125z")),r.appendChild(l)}r.setAttribute("viewBox","-14 0 "+(n+16)+" "+s),r.setAttribute("width",n+18)}}qzm.roswb(this.IndexSlide),"ByChoice"==this.Options.st?qzm.SaveDataPoint(this.IndexSlide,a.fb.sC):qzm.SaveDataPoint(this.IndexSlide,wulzz("Incorrect",this.Options),!1,!0)}else this.NumberRepeat--,qzm.sttze(this.IndexSlide,this.NumberRepeat),this.DisplayFeedback&&("ByChoice"==this.Options.ft?null!=a&&(swfbById(a.fb.fId,this.Options),qzm.SaveiF(this.IndexSlide,a.fb.fId)):(swfb("Try Again",this.Options),qzm.SaveiF(this.IndexSlide,this.GetiF("Try Again"))))}else this.DisplayFeedback?"ByChoice"==this.Options.ft?null!=a&&(swfbById(a.fb.fId,this.Options),qzm.SaveiF(this.IndexSlide,a.fb.fId)):"ByQuestion"==this.Options.ft&&(swfb("Thank you",this.Options),qzm.SaveiF(this.IndexSlide,this.GetiF("Thank you"))):glhp.nextSlide(),DOC.iS&&qzm.sqzor("","neutral",this.IndexSlide),qzm.roswb(this.IndexSlide)}else qzm.showInvalidFeedback()},t}(Question),nskhd=function(e){function t(t){var i=e.call(this,t)||this;return i.GetData(),i}return __extends(t,e),t.prototype.GetArrUserSelected=function(){if(null!=this.UserReply)for(var e=this.UserReply.split(","),t=0;t<e.length;t++)this.ArrUserSelected.push(e[t])},t.prototype.crqtz=function(){var e=document.createElement("div");e.className="answerContainer";var t=0==isMobile?this.CurrentOptions.w:isTabletLandscape?this.CurrentOptions.widtls:isTabletPortrait?this.CurrentOptions.widtpt:isMobileLandscape?this.CurrentOptions.widmls:isMobilePortrait?this.CurrentOptions.widmpt:this.CurrentOptions.w,i=0==isMobile?this.CurrentOptions.h:isTabletLandscape?this.CurrentOptions.heitls:isTabletPortrait?this.CurrentOptions.heitpt:isMobileLandscape?this.CurrentOptions.heimls:isMobilePortrait?this.CurrentOptions.heimpt:this.CurrentOptions.h;e.style.width=t+"px",e.style.height=i+"px";for(var a=this,r=!1,s=DOC.slds.indexOf(glrs.crsl.Data),n=0,l=0;l<this.ArrAnswer.length;l++){var o=document.createElement("div"),h=glhp.crgs("svg","","multi-Item"),d=document.createElementNS(xmlns,"g"),c=document.createElementNS(xmlns,"g"),p=document.createElementNS(xmlns,"g"),u=document.createElementNS(xmlns,"g"),m=document.createElementNS(xmlns,"rect"),b=document.createElementNS(xmlns,"path"),f=document.createElementNS(xmlns,"rect"),g=document.createElementNS(xmlns,"rect"),w=document.createElementNS(xmlns,"g"),y=document.createElementNS(xmlns,"g"),v=!1,C=(0==isMobile?this.ArrAnswer[l].Answers.w:isTabletLandscape?this.ArrAnswer[l].Answers.widtls:isTabletPortrait?this.ArrAnswer[l].Answers.widtpt:isMobileLandscape?this.ArrAnswer[l].Answers.widmls:isMobilePortrait?this.ArrAnswer[l].Answers.widmpt:this.ArrAnswer[l].Answers.w)+20,T=0==isMobile?this.ArrAnswer[l].Answers.h:isTabletLandscape?this.ArrAnswer[l].Answers.heitls:isTabletPortrait?this.ArrAnswer[l].Answers.heitpt:isMobileLandscape?this.ArrAnswer[l].Answers.heimls:isMobilePortrait?this.ArrAnswer[l].Answers.heimpt:this.ArrAnswer[l].Answers.h,S=0==isMobile?this.ArrAnswer[l].Answers.T:isTabletLandscape?this.ArrAnswer[l].Answers.toptls:isTabletPortrait?this.ArrAnswer[l].Answers.toptpt:isMobileLandscape?this.ArrAnswer[l].Answers.topmls:isMobilePortrait?this.ArrAnswer[l].Answers.topmpt:this.ArrAnswer[l].Answers.T,x=0==isMobile?this.ArrAnswer[l].Answers.ch.T:isTabletLandscape?this.ArrAnswer[l].Answers.ch.toptls:isTabletPortrait?this.ArrAnswer[l].Answers.ch.toptpt:isMobileLandscape?this.ArrAnswer[l].Answers.ch.topmls:isMobilePortrait?this.ArrAnswer[l].Answers.ch.topmpt:this.ArrAnswer[l].Answers.ch.T,A=shzp.grnz(this.ArrAnswer[l].Answers.shs,{id:this.ArrAnswer[l].Answers.id,width:C,height:T},this.ArrAnswer[l].Answers.agl);if(A.setAttribute("pointerEvents","none"),null!=this.ArrAnswer[l].Answers.efs&&null!=this.ArrAnswer[l].Answers.efs[0]){"SoftEdge"==this.ArrAnswer[l].Answers.efs[0].typ&&(v=!0);var M=EffectModule.genGEffect(this.ArrAnswer[l].Answers.efs[0],{Id:this.ArrAnswer[l].Answers.id,width:C,height:T},this.ArrAnswer[l].Answers.agl,this.ArrAnswer[l].Answers.isX,this.ArrAnswer[l].Answers.isY);null!=M.g&&d.appendChild(M.g)}v||d.appendChild(A),o.id=this.ArrAnswer[l].Answers.id+"_a";var G=this.CurrentOptions.cl;isMobile&&(G=1);for(var D=Math.floor(l/G),L=0,k=D*G;k<this.CurrentOptions.as.length;k++){var O=0==isMobile?this.ArrAnswer[k].Answers.h:isTabletLandscape?this.ArrAnswer[k].Answers.heitls:isTabletPortrait?this.ArrAnswer[k].Answers.heitpt:isMobileLandscape?this.ArrAnswer[k].Answers.heimls:isMobilePortrait?this.ArrAnswer[k].Answers.heimpt:this.ArrAnswer[k].Answers.h;if(O>L&&(L=O),k>=D*G+G-1)break}var E=n+(L-T)/2;0==D?(E+=this.CurrentOptions.as[0].T,l==D*G+G-1&&(n+=this.CurrentOptions.as[0].T)):(E+=10,l==D*G+G-1&&(n+=10)),o.style.marginTop=E+"px",l==D*G+G-1&&(n+=L);var H=this.CurrentOptions.as[l].l;isMobile&&(H=this.CurrentOptions.as[0].l),o.style.marginLeft=H+"px",o.setAttribute("class","myContentSVG"),o.style.position="absolute",o.style.width=C+"px",o.style.height=T+"px",o.select=!1,h.id=this.ArrAnswer[l].Answers.id+"_s",h.setAttribute("height",T),h.setAttribute("width",C),m.setAttribute("width",C+"px"),m.setAttribute("height",T+"px"),m.setAttribute("opacity","0"),m.setAttribute("rx","5"),m.setAttribute("ry","5");var I=this.ArrAnswer[l].Answers.chb,P=0==isMobile?I.topdkt:isTabletLandscape?I.toptls:isTabletPortrait?I.toptpt:isMobileLandscape?I.topmls:isMobilePortrait?I.topmpt:I.tC;f.setAttribute("x",I.lC-this.ArrAnswer[l].Answers.l+(I.wCo-I.wC)/2),f.setAttribute("y",P-S+(I.wCo-I.wC)/2),f.setAttribute("width",I.wC),f.setAttribute("height",I.wC),f.setAttribute("fill",I.cC.col),f.setAttribute("rx",5),f.setAttribute("ry",5),g.setAttribute("x",I.lC-this.ArrAnswer[l].Answers.l),g.setAttribute("y",P-S),g.setAttribute("width",I.wCo),g.setAttribute("height",I.wCo),g.setAttribute("fill",I.cC.col),g.setAttribute("rx",5),g.setAttribute("ry",5),g.setAttribute("stroke",I.cB.col),g.setAttribute("stroke-width",I.wB),d.setAttribute("class","eventable"),d.id="object-g_"+this.ArrAnswer[l].Answers.id,c.id="uniqueDom-a_"+this.ArrAnswer[l].Answers.id,p.id="uniqueDom-b_"+this.ArrAnswer[l].Answers.id,u.id="uniqueDom-c_"+this.ArrAnswer[l].Answers.id,y.setAttribute("transform","translate("+(I.lM-this.ArrAnswer[l].Answers.l)+","+(P-S+(I.wCo-I.wC)/2)+")"),b.id=this.ArrAnswer[l].Answers.id+"_p",b.setAttribute("d",I.pC),b.setAttribute("fill",I.cP.col),b.setAttribute("stroke-linejoin","round"),b.setAttribute("stroke-linecap","round"),b.style.visibility="hidden",b.select=!1;let t=0;if(this.ArrAnswer[l].Answers.img){let e=document.createElementNS(xmlns,"g"),i=document.createElementNS(xmlns,"defs"),a=document.createElementNS(xmlns,"pattern"),r=document.createElementNS(xmlns,"rect"),s=document.createElementNS(xmlns,"image"),n=isMobile?45:90,o=16*n/9,h="pattern"+this.ArrAnswer[l].Answers.id;t=o+10,a.setAttribute("id",h),a.setAttribute("patternUnits","userSpaceOnUse"),a.setAttribute("width",o),a.setAttribute("height",n),r.setAttribute("fill","url(#"+h+")"),r.setAttribute("width",o),r.setAttribute("height",n),s.setAttribute("href",this.ArrAnswer[l].Answers.img),s.setAttribute("width",o),s.setAttribute("height",n),e.setAttribute("width",o),e.setAttribute("height",n),e.setAttribute("transform","translate("+(this.ArrAnswer[l].Answers.ch.l-this.ArrAnswer[l].Answers.l)+","+(T-n)/2+")"),a.appendChild(s),i.appendChild(a),e.appendChild(i),e.appendChild(r),d.appendChild(e)}w.setAttribute("transform","translate("+(this.ArrAnswer[l].Answers.ch.l-this.ArrAnswer[l].Answers.l+t)+","+(x-S)+")");var R=TextModule.grezByParas(this.ArrAnswer[l].Answers.ct,"question");if(null!=this.UserReply)for(var F=0;F<this.UserReply.length;F++)this.ArrAnswer[l].Answers.id==this.UserReply[F]&&(b.style.visibility="visible",o.select=!0);var B=document.createElementNS(xmlns,"g");if(0==this.Type&&(this.IsCheckReview().IsResult||glhp.DataLocal.Slide[s].IsSubmit&&!glhp.DataLocal.Slide[s].Correct&&this.Options.scr)&&(B.setAttribute("transform","translate(0,"+(T-18)/2+")"),1==this.ArrAnswer[l].Answers.cr&&B.appendChild(qzm.GetShapeTrue("m-14,10.56875l0,-1.1125l2.875,-2.78125l1.15,0l4.025,3.89375l10.925,-10.56875l1.15,0l2.875,2.78125l0,1.1125l-14.375,13.90625l-1.15,0l-7.475,-7.23125z")),h.setAttribute("viewBox","-22 0 "+(this.CurrentOptions.as[l].w+8)+" "+T),h.setAttribute("width",this.CurrentOptions.as[l].w+8),r=!0),qzm.ckswb(this.IndexSlide)&&(b.setAttribute("class","myPath"),m.setAttribute("class","myRect"),glhp.enableSubmit()),c.appendChild(m),p.appendChild(g),p.appendChild(f),y.appendChild(b),d.appendChild(c),d.appendChild(p),d.appendChild(y),null!=B&&d.appendChild(B),h.appendChild(d),o.appendChild(h),e.appendChild(o),"G"==R.tagName.toUpperCase())w.appendChild(R),d.appendChild(w);else{null!=this.ArrAnswer[l].Answers.ct.ref&&this.ArrAnswer[l].Answers.ct.ref.t,R.style.left=this.ArrAnswer[l].Answers.ct.l-5+"px",R.style.top=this.CurrentOptions.as[l].T+this.ArrAnswer[l].Answers.ct.ref.t+"px",o.appendChild(R)}}return r&&glhp.DataLocal.Slide[this.IndexSlide].IsShowNoti&&(isMobile?glhp.DataLocal.Slide[this.IndexSlide].IsResult?(0==this.Type&&QuestionMobile.ShowResultReview(glhp.DataLocal.Slide[this.IndexSlide].Correct),QuestionMobile.CreateReviewResultButton()):glhp.DataLocal.Slide[this.IndexSlide].IsSubmit&&QuestionMobile.CreateReviewResultButton():swmm(this.IsCheckReview().Correct)),isTransaction||0!=glhp.DataLocal.Slide[s].IsSubmit||setTimeout((function(){qzm.multiAnswerSelect(a.CurrentOptions)}),1),glhp.checkIEBrower()&&(e.innerHTML=e.innerHTML),e},t.prototype.crqtzCanvas=async function(e){for(var t=0,i=0;i<this.ArrAnswer.length;i++){e.save();var a=!1;if(null!=this.ArrAnswer[i].Answers.efs&&null!=this.ArrAnswer[i].Answers.efs[0]){"SoftEdge"==this.ArrAnswer[i].Answers.efs[0].typ&&(a=!0);var r=EffectModule.genGEffect(this.ArrAnswer[i].Answers.efs[0],{Id:this.ArrAnswer[i].Answers.id,width:this.ArrAnswer[i].Answers.w,height:this.ArrAnswer[i].Answers.h},this.ArrAnswer[i].Answers.agl,this.ArrAnswer[i].Answers.isX,this.ArrAnswer[i].Answers.isY);null!=r.g&&g.appendChild(r.g)}for(var s=Math.floor(i/this.CurrentOptions.cl),n=0,l=s*this.CurrentOptions.cl;l<this.CurrentOptions.as.length&&(this.ArrAnswer[l].Answers.h>n&&(n=this.ArrAnswer[l].Answers.h),!(l>=s*this.CurrentOptions.cl+this.CurrentOptions.cl-1));l++);var o=t+(n-this.ArrAnswer[i].Answers.h)/2;0==s?(o+=this.CurrentOptions.as[0].T,i==s*this.CurrentOptions.cl+this.CurrentOptions.cl-1&&(t+=this.CurrentOptions.as[0].T)):(o+=10,i==s*this.CurrentOptions.cl+this.CurrentOptions.cl-1&&(t+=10)),i==s*this.CurrentOptions.cl+this.CurrentOptions.cl-1&&(t+=n),a||(e.translate(this.CurrentOptions.as[i].l,o),await shzp.drawCanvas(this.ArrAnswer[i].Answers.shs,{id:this.ArrAnswer[i].Answers.id,width:this.ArrAnswer[i].Answers.w,height:this.ArrAnswer[i].Answers.h},e));var h=this.ArrAnswer[i].Answers.chb;await drawRectangleCanvas(e,h.lC-this.ArrAnswer[i].Answers.l,h.tC-this.ArrAnswer[i].Answers.T,h.wCo,h.wCo,5,h.cC.col,h.cB.col,h.wB),await drawRectangleCanvas(e,h.lC-this.ArrAnswer[i].Answers.l+(h.wCo-h.wC)/2,h.tC-this.ArrAnswer[i].Answers.T+(h.wCo-h.wC)/2,h.wC,h.wC,5,h.cC.col,h.cB.col,0);let c=0;if(this.ArrAnswer[i].Answers.img){let t=16*this.ArrAnswer[i].Answers.h/9;c=t+10,e.save(),e.translate(this.ArrAnswer[i].Answers.ch.l-this.ArrAnswer[i].Answers.l+(t-this.ArrAnswer[i].Answers.cim.w)/2,0),await drawImageCanvas(e,this.ArrAnswer[i].Answers.img,0,0,this.ArrAnswer[i].Answers.cim.w,this.ArrAnswer[i].Answers.cim.h),e.restore()}if(null!=this.UserReply)for(var d=0;d<this.UserReply.length;d++)this.ArrAnswer[i].Answers.id==this.UserReply[d]&&(e.save(),e.translate(h.lM-this.ArrAnswer[i].Answers.l,h.tM-this.ArrAnswer[i].Answers.T),await drawCboxSelectedCanvas(e,h.pC,h.cP.col,"round","round"),e.restore());e.translate(this.ArrAnswer[i].Answers.ch.l-this.ArrAnswer[i].Answers.l+c,this.ArrAnswer[i].Answers.ch.T-this.ArrAnswer[i].Answers.T),await TextModule.drawCanvasByParas(this.ArrAnswer[i].Answers.ct,e),e.restore()}},t.prototype.pcsmw=function(){var e=qzm.lk_l(this.CurrentOptions);if(null!=e)if(0==this.Type){if(e)return this.DisplayFeedback?(swfb("Correct",this.Options),qzm.SaveiF(this.IndexSlide,this.GetiF("Correct"))):glhp.nextSlide(),qzm.SaveDataPoint(this.IndexSlide,wulzz("Correct",this.Options),!0,!0),void qzm.roswb(this.IndexSlide);if(0==this.NumberRepeat)this.DisplayFeedback&&(swfb("Try Again",this.Options),qzm.SaveiF(this.IndexSlide,this.GetiF("Try Again"))),qzm.sttze(this.IndexSlide,0);else if(1==this.NumberRepeat){if(this.DisplayFeedback?(swfb("Incorrect",this.Options),qzm.SaveiF(this.IndexSlide,this.GetiF("Incorrect"))):glhp.nextSlide(),qzm.SaveDataPoint(this.IndexSlide,wulzz("Incorrect",this.Options),!1,!0),this.Options.scr)for(let e=0;e<this.ArrAnswer.length;e++){var t=document.getElementById(this.ArrAnswer[e].Answers.id+"_s");if(t){var i=0==isMobile?this.ArrAnswer[e].Answers.h:isTabletLandscape?this.ArrAnswer[e].Answers.heitls:isTabletPortrait?this.ArrAnswer[e].Answers.heitpt:isMobileLandscape?this.ArrAnswer[e].Answers.heimls:isMobilePortrait?this.ArrAnswer[e].Answers.heimpt:this.ArrAnswer[e].Answers.h;if(this.ArrAnswer[e].Answers.cr){var a=document.createElementNS(xmlns,"g");a.setAttribute("transform","translate(0,"+(i-18)/2+")"),a.appendChild(qzm.GetShapeTrue("m-14,10.56875l0,-1.1125l2.875,-2.78125l1.15,0l4.025,3.89375l10.925,-10.56875l1.15,0l2.875,2.78125l0,1.1125l-14.375,13.90625l-1.15,0l-7.475,-7.23125z")),t.appendChild(a)}t.setAttribute("viewBox","-22 0 "+(this.CurrentOptions.as[e].w+8)+" "+i),t.setAttribute("width",this.CurrentOptions.as[e].w+8)}}qzm.roswb(this.IndexSlide)}else this.DisplayFeedback&&(swfb("Try Again",this.Options),qzm.SaveiF(this.IndexSlide,this.GetiF("Try Again"))),this.NumberRepeat--,qzm.sttze(this.IndexSlide,this.NumberRepeat)}else this.DisplayFeedback?(swfb("Thank you",this.Options),qzm.SaveiF(this.IndexSlide,this.GetiF("Thank you"))):glhp.nextSlide(),DOC.iS&&qzm.sqzor("","neutral",this.IndexSlide),qzm.roswb(this.IndexSlide);else qzm.showInvalidFeedback()},t}(Question),lpsi=function(e){var t;function i(t,i){var a=e.call(this,t)||this;if(1==i.dc)a.GetData(),a.CurrentOptions=i;else{glhp.DataLocal.Slide[this.IndexSlide].Answers=null;for(var r=0;r<t.lts.length;r++)if(t.lts[r].iM)for(var s=t.lts[r],n=0;n<s.e.length;n++)if("Answers"==s.e[n].c&&0==s.e[n].dc){this.CurrentOptions=t.lts[r].e[n];break}if(a.GetData(),!this.CurrentOptions.dc){for(r=0;r<t.lts.length;r++)if(t.lts[r].iM)for(s=t.lts[r],n=0;n<s.e.length;n++)if("Answers"==s.e[n].c&&1==s.e[n].dc){_target=t.lts[r].e[n];break}this.UserReply=glhp.DataLocal.Slide[this.IndexSlide].UserReply,null!=_target&&(this.CurrentOptions.wb=_target)}}return a}return __extends(i,e),i.prototype.crqtz=function(){var e=document.createElement("div"),i=0==isMobile?this.CurrentOptions.w:isTabletLandscape?this.CurrentOptions.widtls:isTabletPortrait?this.CurrentOptions.widtpt:isMobileLandscape?this.CurrentOptions.widmls:isMobilePortrait?this.CurrentOptions.widmpt:this.CurrentOptions.w,a=0==isMobile?this.CurrentOptions.h:isTabletLandscape?this.CurrentOptions.heitls:isTabletPortrait?this.CurrentOptions.heitpt:isMobileLandscape?this.CurrentOptions.heimls:isMobilePortrait?this.CurrentOptions.heimpt:this.CurrentOptions.h;e.style.width=i+"px",e.style.height=a+"px",e.setAttribute("class","answerContainer");var r=this,s=!1;t=this.ArrAnswer;for(var n=0;n<this.ArrAnswer.length;n++){var l=document.createElement("div"),o=document.createElementNS(xmlns,"svg"),h=document.createElementNS(xmlns,"rect"),d=document.createElementNS(xmlns,"g"),c=document.createElementNS(xmlns,"g"),p=document.createElementNS(xmlns,"defs");l.id=this.ArrAnswer[n].Answers.id+"_a",l.setAttribute("data-id","#1.2@5.*6."+this.IndexSlide),l.style.position="absolute",l.style.top=this.CurrentOptions.as[n].T+"px",l.style.left=this.CurrentOptions.as[n].l+"px",o.id="drag-answer_"+this.ArrAnswer[n].Answers.id,o.setAttribute("width",this.ArrAnswer[n].Answers.w),o.setAttribute("height",this.ArrAnswer[n].Answers.h),o.setAttribute("class","drag-answer"),h.setAttribute("rx",this.ArrAnswer[n].Answers.cRad),h.setAttribute("ry",this.ArrAnswer[n].Answers.cRad),h.setAttribute("fill","url(#linearDrag)"),h.setAttribute("width",this.ArrAnswer[n].Answers.w),h.setAttribute("height",this.ArrAnswer[n].Answers.h),h.setAttribute("stroke-width",1),h.setAttribute("stroke","#C0C0C0"),h.id="dragShape"+this.ArrAnswer[n].Answers.id;var u=qzm.GetLinearGradient("linearDrag","0%","100%","0%","100%","0%","#FFFFFF","1","100%","#F42F2F2","1"),m=TextModule.grezByParas(this.ArrAnswer[n].Answers.ct,"question");m.style.pointerEvents="none",m.setAttribute("transform","translate("+(this.ArrAnswer[n].Answers.ch.l-this.ArrAnswer[n].Answers.l)+","+(this.ArrAnswer[n].Answers.ch.T-this.ArrAnswer[n].Answers.T)+")"),null!=this.UserReply&&this.UserReply==this.ArrAnswer[n].Answers.id.toString()&&(l.style.visibility="hidden",l.select=!0),qzm.ckswb(this.IndexSlide)&&(h.setAttribute("class","myDropShape"),o.setAttribute("class","myContentDrop drag-answer"),l.setAttribute("class","answerDrag"),l.style.cursor="pointer",glhp.enableSubmit()),0==this.Type&&(this.IsCheckReview().IsResult||glhp.DataLocal.Slide[this.IndexSlide].IsSubmit&&!glhp.DataLocal.Slide[this.IndexSlide].Correct&&this.Options.scr)&&(1==this.ArrAnswer[n].Answers.cr&&this.UserReply!=this.ArrAnswer[n].Answers.id.toString()&&(h.setAttribute("stroke","green"),h.setAttribute("stroke-width","2"),h.setAttribute("width",this.CurrentOptions.as[n].w-4),h.setAttribute("height",this.CurrentOptions.as[n].h-4),h.setAttribute("x",2),h.setAttribute("y",2)),s=!0),d.appendChild(h),p.appendChild(u),o.appendChild(p),o.appendChild(d),o.appendChild(c),l.appendChild(o),e.appendChild(l),"G"==m.tagName.toUpperCase()?c.appendChild(m):(gTextAnswer.style.left=this.ArrAnswer[n].Answers.ct.l-5+"px",gTextAnswer.style.top=this.CurrentOptions.as[n].T+this.ArrAnswer[n].Answers.ct.ref.t+"px",l.appendChild(m))}return qzm.ckswb(this.IndexSlide)&&setTimeout((function(){qzm.dssa(r.CurrentOptions.id)}),1),s&&glhp.DataLocal.Slide[this.IndexSlide].IsShowNoti&&(isMobile?glhp.DataLocal.Slide[this.IndexSlide].IsResult?(0==this.Type&&QuestionMobile.ShowResultReview(glhp.DataLocal.Slide[this.IndexSlide].Correct),QuestionMobile.CreateReviewResultButton()):glhp.DataLocal.Slide[this.IndexSlide].IsSubmit&&QuestionMobile.CreateReviewResultButton():swmm(this.IsCheckReview().Correct)),e},i.prototype.crqtzMb=function(){var e=document.createElement("div"),i=0==isMobile?this.CurrentOptions.w:isTabletLandscape?this.CurrentOptions.widtls:isTabletPortrait?this.CurrentOptions.widtpt:isMobileLandscape?this.CurrentOptions.widmls:isMobilePortrait?this.CurrentOptions.widmpt:this.CurrentOptions.w,a=0==isMobile?this.CurrentOptions.h:isTabletLandscape?this.CurrentOptions.heitls:isTabletPortrait?this.CurrentOptions.heitpt:isMobileLandscape?this.CurrentOptions.heimls:isMobilePortrait?this.CurrentOptions.heimpt:this.CurrentOptions.h;e.style.width=i+"px",e.style.height=a+"px",e.setAttribute("class","answerContainer");var r=this,s=!1;t=this.ArrAnswer;for(var n=0;n<this.ArrAnswer.length;n++){var l=document.createElement("div"),o=document.createElementNS(xmlns,"svg"),h=document.createElementNS(xmlns,"rect"),d=document.createElementNS(xmlns,"g"),c=document.createElementNS(xmlns,"g"),p=document.createElementNS(xmlns,"g"),u=document.createElementNS(xmlns,"defs"),m=document.createElementNS(xmlns,"circle"),b=document.createElementNS(xmlns,"circle"),f=document.createElementNS(xmlns,"circle"),g=0==isMobile?this.ArrAnswer[n].Answers.w:isTabletLandscape?this.ArrAnswer[n].Answers.widtls:isTabletPortrait?this.ArrAnswer[n].Answers.widtpt-10:isMobileLandscape?this.ArrAnswer[n].Answers.widmls:isMobilePortrait?this.ArrAnswer[n].Answers.widmpt-10:this.ArrAnswer[n].Answers.w;l.id=this.ArrAnswer[n].Answers.id+"_a",l.style.top=this.CurrentOptions.as[n].T+"px",l.setAttribute("data-id","#1.2@5.*6."+this.IndexSlide),l.style.position="absolute",l.style.left=this.CurrentOptions.as[n].l+"px",o.id="drag-answer_"+this.ArrAnswer[n].Answers.id,o.setAttribute("width",g),o.setAttribute("height",this.ArrAnswer[n].Answers.h),o.setAttribute("class","drag-answer"),h.setAttribute("rx",this.ArrAnswer[n].Answers.cRad),h.setAttribute("ry",this.ArrAnswer[n].Answers.cRad),h.setAttribute("fill","url(#linearDrag)"),h.setAttribute("width",g),h.setAttribute("height",this.ArrAnswer[n].Answers.h),h.setAttribute("stroke-width",1),h.setAttribute("stroke","#C0C0C0"),h.id="dragShape"+this.ArrAnswer[n].Answers.id;var w=qzm.GetLinearGradient("linearDrag","0%","100%","0%","100%","100%","#FFFFFF","1","0%","#F42F2F2","1");m.setAttribute("cx",25),m.setAttribute("cy",27),m.setAttribute("r",9),m.setAttribute("fill","rgba(255,255,255,1)"),b.setAttribute("cx",25),b.setAttribute("cy",27),b.setAttribute("r",11),b.setAttribute("fill","rgba(255,255,255,1)"),b.setAttribute("stroke-width",2),b.setAttribute("stroke","rgba(173,173,173,1)"),f.id=this.ArrAnswer[n].Answers.id+"_cc",f.setAttribute("class","Circle-Selected"),f.setAttribute("cx",25),f.setAttribute("cy",27),f.setAttribute("r",6),f.setAttribute("fill","rgba(0,0,0,1)"),f.style.visibility="hidden";var y=TextModule.grezByParas(this.ArrAnswer[n].Answers.ct,"question");y.style.pointerEvents="none",y.setAttribute("transform","translate("+(this.ArrAnswer[n].Answers.ch.l-this.ArrAnswer[n].Answers.l+30)+","+(this.ArrAnswer[n].Answers.ch.T-this.ArrAnswer[n].Answers.T)+")"),null!=this.UserReply&&this.UserReply==this.ArrAnswer[n].Answers.id.toString()&&(f.style.visibility="visible",l.select=!0),qzm.ckswb(this.IndexSlide)&&(h.setAttribute("class","myDropShape"),o.setAttribute("class","myContentDrop drag-answer"),l.setAttribute("class","answerDrag"),l.style.cursor="pointer",glhp.enableSubmit()),0==this.Type&&(this.IsCheckReview().IsResult||glhp.DataLocal.Slide[this.IndexSlide].IsSubmit&&!glhp.DataLocal.Slide[this.IndexSlide].Correct&&this.Options.scr)&&(1==this.ArrAnswer[n].Answers.cr&&this.UserReply!=this.ArrAnswer[n].Answers.id.toString()&&(h.setAttribute("stroke","green"),h.setAttribute("stroke-width","2"),h.setAttribute("width",g-4),h.setAttribute("height",this.CurrentOptions.as[n].h-4),h.setAttribute("x",2),h.setAttribute("y",2)),s=!0),d.appendChild(h),u.appendChild(w),o.appendChild(u),c.appendChild(b),c.appendChild(m),c.appendChild(f),o.appendChild(d),o.appendChild(c),o.appendChild(p),l.appendChild(o),e.appendChild(l),"G"==y.tagName.toUpperCase()?p.appendChild(y):(gTextAnswer.style.left=this.ArrAnswer[n].Answers.ct.l-5+"px",gTextAnswer.style.top=this.CurrentOptions.as[n].T+this.ArrAnswer[n].Answers.ct.ref.t+"px",l.appendChild(y))}return qzm.ckswb(this.IndexSlide)&&setTimeout((function(){qzm.SelectedOneItem(r.CurrentOptions)}),1),s&&glhp.DataLocal.Slide[this.IndexSlide].IsShowNoti&&(isMobile?glhp.DataLocal.Slide[this.IndexSlide].IsResult?(0==this.Type&&QuestionMobile.ShowResultReview(glhp.DataLocal.Slide[this.IndexSlide].Correct),QuestionMobile.CreateReviewResultButton()):glhp.DataLocal.Slide[this.IndexSlide].IsSubmit&&QuestionMobile.CreateReviewResultButton():swmm(this.IsCheckReview().Correct)),e},i.prototype.crqtzCanvas=async function(e){for(var i=0;i<t.length;i++){var a=t[i];if(null!=this.UserReply&&this.UserReply==a.Answers.id.toString())continue;e.save(),e.translate(this.CurrentOptions.as[i].l,this.CurrentOptions.as[i].T);const r=e.createLinearGradient(0,0,a.Answers.w,a.Answers.h);r.addColorStop(0,"#FFFFFF"),r.addColorStop(1,"#F2F2F2"),await drawRectangleCanvas(e,0,0,a.Answers.w,a.Answers.h,a.Answers.cRad,r,"#C0C0C0",1),e.translate(a.Answers.ch.l-a.Answers.l,a.Answers.ch.T-a.Answers.T),await TextModule.drawCanvasByParas(a.Answers.ct,e),e.restore()}},i.prototype.CreateElementDrop=function(){var e=document.createElement("div"),t=document.createElementNS(xmlns,"svg"),i=document.createElementNS(xmlns,"g"),a=document.createElementNS(xmlns,"g"),r=document.createElementNS(xmlns,"g"),s=document.createElementNS(xmlns,"rect"),n=0==isMobile?this.CurrentOptions.w:isTabletLandscape?this.CurrentOptions.widtls:isTabletPortrait?this.CurrentOptions.widtpt:isMobileLandscape?this.CurrentOptions.widmls:isMobilePortrait?this.CurrentOptions.widmpt:this.CurrentOptions.w,l=0==isMobile?this.CurrentOptions.h:isTabletLandscape?this.CurrentOptions.heitls:isTabletPortrait?this.CurrentOptions.heitpt:isMobileLandscape?this.CurrentOptions.heimls:isMobilePortrait?this.CurrentOptions.heimpt:this.CurrentOptions.h;e.id=this.CurrentOptions.id,e.className="drop-contain",e.style.left=this.CurrentOptions.l-this.CurrentOptions.l+"px",e.style.top=this.CurrentOptions.T-this.CurrentOptions.T+"px",e.style.width=n+"px",e.style.height=l+"px",e.style.position="absolute",e.style.zIndex=this.CurrentOptions.z,t.setAttribute("width",n),t.setAttribute("height",l),s.id="shape-drop",s.setAttribute("width",n-4),s.setAttribute("height",l-4),s.setAttribute("x",2),s.setAttribute("y",2),s.setAttribute("rx",this.CurrentOptions.cRad),s.setAttribute("ry",this.CurrentOptions.cRad),s.setAttribute("fill","url(#linearDrag)"),s.setAttribute("stroke-width",1),s.setAttribute("stroke","#C0C0C0");var o=qzm.GetLinearGradient("linearDrag","0%","100%","0%","100%","0%","#FFFFFF","1","100%","#F2F2F2","1");if(a.appendChild(o),r.appendChild(s),i.appendChild(a),i.appendChild(r),null!=this.UserReply){for(var h=null,d=0;d<this.Options.lts.length;d++)if(this.Options.lts[d].iM)for(var c=this.Options.lts[d],p=0;p<c.e.length;p++)if("Answers"==c.e[p].c&&0==c.e[p].dc){h=this.Options.lts[d].e[p];break}for(d=0;d<h.as.length;d++){if(null!=this.UserReply){if(h.as[d].id!=this.UserReply)continue;var u=document.createElementNS(xmlns,"g"),m=document.createElementNS(xmlns,"g");m.setAttribute("transform","translate("+(h.as[d].ch.l-h.as[d].l)+","+(h.as[d].ch.T-h.as[d].T)+")");var b=new Text(h.as[d].ct);if(b){var f=b.GenTexts();m.appendChild(f)}u.appendChild(m),i.appendChild(u)}if(0==this.Type)if(glhp.DataLocal.Slide[this.IndexSlide].IsResult||glhp.DataLocal.Slide[this.IndexSlide].IsSubmit&&!glhp.DataLocal.Slide[this.IndexSlide].Correct&&this.Options.scr){this.UserReply==h.as[d].id.toString()&&1==h.as[d].cr?(s.setAttribute("stroke","green"),s.setAttribute("stroke-width","2")):(s.setAttribute("stroke","red"),s.setAttribute("stroke-width","2")),s.setAttribute("x",2),s.setAttribute("y",2);break}}}return t.appendChild(i),e.appendChild(t),e},i.prototype.CreateElementDropCanvas=async function(e){const t=e.createLinearGradient(2,2,this.CurrentOptions.w-4,this.CurrentOptions.h-4);if(t.addColorStop(0,"#FFFFFF"),t.addColorStop(1,"#F2F2F2"),await drawRectangleCanvas(e,2,2,this.CurrentOptions.w-4,this.CurrentOptions.h-4,this.CurrentOptions.cRad,t,"#C0C0C0",1),null!=this.UserReply){for(var i=null,a=0;a<this.Options.lts.length;a++)if(this.Options.lts[a].iM)for(var r=this.Options.lts[a],s=0;s<r.e.length;s++)if("Answers"==r.e[s].c&&0==r.e[s].dc){i=this.Options.lts[a].e[s];break}for(a=0;a<i.as.length;a++)if(null!=this.UserReply){if(i.as[a].id!=this.UserReply)continue;e.translate(i.as[a].ch.l-i.as[a].l,i.as[a].ch.T-i.as[a].T),await TextModule.drawCanvasByParas(i.as[a].ct,e)}}},i.prototype.pcsmw=function(){var e=qzm.qcao(this.CurrentOptions);if(null!=e)if(0==this.Type)if(e)this.DisplayFeedback?(swfb("Correct",this.Options),qzm.SaveiF(this.IndexSlide,this.GetiF("Correct"))):glhp.nextSlide(),qzm.SaveDataPoint(this.IndexSlide,wulzz("Correct",this.Options),!0,!0),qzm.roswb(this.IndexSlide);else if(0==this.NumberRepeat)this.DisplayFeedback&&(swfb("Try Again",this.Options),qzm.SaveiF(this.IndexSlide,this.GetiF("Try Again"))),qzm.sttze(this.IndexSlide,this.NumberRepeat);else if(1==this.NumberRepeat){if(this.DisplayFeedback?(swfb("Incorrect",this.Options),qzm.SaveiF(this.IndexSlide,this.GetiF("Incorrect"))):glhp.nextSlide(),qzm.SaveDataPoint(this.IndexSlide,wulzz("Incorrect",this.Options),!1,!0),this.Options.scr){if(!isMobile){var t=document.getElementById("shape-drop");t&&(t.setAttribute("stroke","red"),t.setAttribute("stroke-width","2"))}for(let e=0;e<this.ArrAnswer.length;e++){var i=0==isMobile?this.ArrAnswer[e].Answers.w:isTabletLandscape?this.ArrAnswer[e].Answers.widtls:isTabletPortrait?this.ArrAnswer[e].Answers.widtpt-10:isMobileLandscape?this.ArrAnswer[e].Answers.widmls:isMobilePortrait?this.ArrAnswer[e].Answers.widmpt-10:this.ArrAnswer[e].Answers.w;if(1==this.ArrAnswer[e].Answers.cr){var a=document.getElementById("dragShape"+this.ArrAnswer[e].Answers.id);if(!a)continue;a.setAttribute("stroke","green"),a.setAttribute("stroke-width","2"),a.setAttribute("width",i-4),a.setAttribute("height",this.CurrentOptions.as[e].h-4),a.setAttribute("x",2),a.setAttribute("y",2)}}}qzm.roswb(this.IndexSlide)}else this.DisplayFeedback&&(swfb("Try Again",this.Options),qzm.SaveiF(this.IndexSlide,this.GetiF("Try Again"))),this.NumberRepeat--,qzm.sttze(this.IndexSlide,this.NumberRepeat);else this.DisplayFeedback?(swfb("Thank you",this.Options),qzm.SaveiF(this.IndexSlide,this.GetiF("Thank you"))):glhp.nextSlide(),qzm.roswb(this.IndexSlide),DOC.iS&&qzm.sqzor("","neutral",this.IndexSlide);else qzm.showInvalidFeedback()},i}(Question),TextInput=function(e){function t(t){var i=e.call(this,t)||this;return i.GetData(),i.idQuestion=i.CurrentOptions.id,i}return __extends(t,e),t.prototype.crqtz=function(){var e=document.createElement("div"),t=document.createElement("textarea"),i=0==isMobile?this.CurrentOptions.w:isTabletLandscape?this.CurrentOptions.widtls:isTabletPortrait?this.CurrentOptions.widtpt:isMobileLandscape?this.CurrentOptions.widmls:isMobilePortrait?this.CurrentOptions.widmpt:this.CurrentOptions.w,a=0==isMobile?this.CurrentOptions.h:isTabletLandscape?this.CurrentOptions.heitls:isTabletPortrait?this.CurrentOptions.heitpt:isMobileLandscape?this.CurrentOptions.heimls:isMobilePortrait?this.CurrentOptions.heimpt:this.CurrentOptions.h;e.style.width=i+"px",e.style.height=a+"px",e.id="answerContainer"+this.CurrentOptions.id,e.setAttribute("class","answerContainer"),e.style.overflow="visible",t.id="input"+this.CurrentOptions.id,t.style.width=i-10+"px",t.style.height=this.CurrentOptions.tip.fs+10+"px",t.style.border="1px solid #bebebe",t.style.borderRadius="4px",t.style.resize="none",t.style.maxHeight=a-4+"px",t.setAttribute("maxlength",5e4),t.style.overflow="auto",t.style.visibility="hidden";var r=this;if(t.onkeypress=function(){setTimeout((function(){qzm.UpdateHTMLTextArea(t,r)}),1)},t.addEventListener("keydown",(function(e){var i=(e=e||window.event).which||e.keyCode,a=e.ctrlKey?e.ctrlKey:17===i;86==i&&a&&setTimeout((function(){qzm.UpdateHTMLTextArea(t,r)}),1)}),!1),t.onclick=function(e){e.stopPropagation()},this.CurrentOptions.tip.fg)var s=this.CurrentOptions.tip.fg.col;else s="black";if(setTimeout((function(){qzm.UpdateHTMLTextArea(t,r)}),1),t.style.color=s,t.placeholder=this.CurrentOptions.tip.txt,t.style.textAlign=this.CurrentOptions.tip.talg,t.style.fontFamily=this.CurrentOptions.tip.ff,t.style.fontSize=this.CurrentOptions.tip.fs+"px",t.style.position="absolute",t.style.background="transparent",t.className="inputFill",null!=this.UserReply&&(t.value=this.UserReply),qzm.ckswb(this.IndexSlide)?glhp.enableSubmit():t.disabled=!0,e.appendChild(t),0==this.Type&&(this.IsCheckReview().IsResult||glhp.DataLocal.Slide[this.IndexSlide].IsSubmit&&!glhp.DataLocal.Slide[this.IndexSlide].Correct&&this.Options.scr)){var n=document.createElement("div"),l=document.createElement("tspan"),o=document.createElement("text");l.innerHTML=Language.correctResponed,l.style.fontFamily="Arial",l.style.fontSize=isMobile?"18px":"22px",l.style.pointerEvents="none",n.style.height="auto",n.style.width=i+"px",n.style.position="absolute",n.style.maxHeight="120px",n.style.overflowY="auto",n.style.overflowX="hidden",o.appendChild(l),n.appendChild(o);var h=document.createElement("ul");h.style.marginTop="7px",h.style.marginLeft="15px";for(var d=0;d<this.CurrentOptions.as.length;d++)if(""!=this.CurrentOptions.as[d].txt){var c=document.createElement("li");c.innerHTML="+ "+this.CurrentOptions.as[d].txt,c.style.fontFamily="Arial",c.style.fontSize=isMobile?"16px":"20px",h.appendChild(c),n.appendChild(h)}e.appendChild(n),glhp.DataLocal.Slide[this.IndexSlide].IsShowNoti&&(isMobile?glhp.DataLocal.Slide[this.IndexSlide].IsResult?(0==this.Type&&QuestionMobile.ShowResultReview(glhp.DataLocal.Slide[this.IndexSlide].Correct),QuestionMobile.CreateReviewResultButton()):glhp.DataLocal.Slide[this.IndexSlide].IsSubmit&&QuestionMobile.CreateReviewResultButton():swmm(this.IsCheckReview().Correct))}return e},t.prototype.crqtzCanvas=async function(e){var t="black";this.CurrentOptions.tip.fg&&(t=this.CurrentOptions.tip.fg.col);var i=!1,a=DOC.slds.indexOf(glrs.crsl.Data),r=this.CurrentOptions.tip.fs+"px "+this.CurrentOptions.tip.ff,s=this.CurrentOptions.tip.txt;glhp.DataLocal.Slide[a]&&glhp.DataLocal.Slide[a].UserReply?(s=glhp.DataLocal.Slide[a].UserReply,e.globalAlpha=1,i=!1):(e.globalAlpha=.5,i=!0),await this.DrawTextWrapCanvas(e,s,0,0,r,t,this.CurrentOptions.tip.talg,this.CurrentOptions.w-4,this.CurrentOptions.tip.fs+10,5,this.CurrentOptions.tip.fs,i)},t.prototype.DrawTextWrapCanvas=async function(e,t,i,a,r,s,n,l,o,h,d,c){for(var p=t.replace(/\n/g,"\n ").split(" "),u="",m=0;m<p.length;m++){if(a>=o)return;e.save();var b=u+p[m];e.fillStyle=s,e.font=r,e.textAlign=n,e.measureText(b).width>l?(e.translate(5,20),await drwtCanvas(e,u,i,a,s,r,n),a+=h+d,u=p[m]+" "):p[m].includes("\n")?(e.translate(5,20),await drwtCanvas(e,b,i,a,s,r,n),a+=h+d,u=""):m==p.length-1?(c?e.translate(5,this.CurrentOptions.h-5):e.translate(5,this.CurrentOptions.h/2+5),await drwtCanvas(e,b,i,a,s,r,n),a+=h,u=p[m]+""):u+=p[m]+" ",e.restore()}},t.prototype.pcsmw=function(){if(!glhp.DataLocal.Slide[this.IndexSlide].isSubmit){var e=document.getElementById(this.CurrentOptions.id),t=null;if(e&&(t=e.querySelector("textarea")),null!=t&&"undefined"!=t)if(this.StringAnswer=t.value.trim(),""!=this.StringAnswer)if(0==this.Type){for(var i=0;i<this.CurrentOptions.as.length;i++)if(glhp.areStringsEqualIgnoreCase(this.StringAnswer,this.CurrentOptions.as[i].txt))return this.DisplayFeedback?(swfb("Correct",this.Options),qzm.SaveiF(this.IndexSlide,this.GetiF("Correct"))):glhp.nextSlide(),qzm.SaveDataPoint(this.IndexSlide,wulzz("Correct",this.Options),!0,!0),void qzm.roswb(this.IndexSlide);if(0==this.NumberRepeat)this.DisplayFeedback&&(swfb("Try Again",this.Options),qzm.SaveiF(this.IndexSlide,this.GetiF("Try Again"))),qzm.sttze(this.IndexSlide,this.NumberRepeat);else if(1==this.NumberRepeat){if(this.DisplayFeedback?(swfb("Incorrect",this.Options),qzm.SaveiF(this.IndexSlide,this.GetiF("Incorrect"))):glhp.nextSlide(),qzm.SaveDataPoint(this.IndexSlide,wulzz("Incorrect",this.Options),!1,!0),this.Options.scr){var a=0==isMobile?this.CurrentOptions.w:isTabletLandscape?this.CurrentOptions.widtls:isTabletPortrait?this.CurrentOptions.widtpt:isMobileLandscape?this.CurrentOptions.widmls:isMobilePortrait?this.CurrentOptions.widmpt:this.CurrentOptions.w,r=document.getElementById("answerContainer"+this.CurrentOptions.id),s=document.createElement("div"),n=document.createElement("tspan"),l=document.createElement("text");n.innerHTML=Language.correctResponed,n.style.fontFamily="Arial",n.style.fontSize="22px",n.style.pointerEvents="none",s.style.height="auto",s.style.width=a+"px",s.style.position="absolute",s.style.maxHeight="120px",s.style.overflowY="auto",s.style.overflowX="hidden",l.appendChild(n),s.appendChild(l);var o=document.createElement("ul");o.style.marginTop="7px",o.style.marginLeft="15px";for(i=0;i<this.CurrentOptions.as.length;i++)if(""!=this.CurrentOptions.as[i].txt){var h=document.createElement("li");h.innerHTML="+ "+this.CurrentOptions.as[i].txt,h.style.fontFamily="Arial",h.style.fontSize="20px",o.appendChild(h),s.appendChild(o)}r&&r.appendChild(s)}qzm.roswb(this.IndexSlide)}else this.DisplayFeedback&&(swfb("Try Again",this.Options),qzm.SaveiF(this.IndexSlide,this.GetiF("Try Again"))),this.NumberRepeat--,qzm.sttze(this.IndexSlide,this.NumberRepeat)}else this.DisplayFeedback?(swfb("Thank you",this.Options),qzm.SaveiF(this.IndexSlide,this.GetiF("Thank you"))):glhp.nextSlide(),qzm.roswb(this.IndexSlide),DOC.iS&&qzm.sqzor("","neutral",this.IndexSlide);else qzm.showInvalidFeedback()}},t.prototype.callProcess=function(){var e=this,t="#"+e.idQuestion+" textarea";$("#mainContent").on("change",t,(function(t){if(""!=$(this).val()){var i=$(this).val();if(e.StringAnswer=i,qzm.slwz(e.IndexSlide,e.StringAnswer,e.StringAnswer),""!=e.StringAnswer&&0==e.Type){for(var a=0;a<e.CurrentOptions.as.length;a++)if(e.StringAnswer.toUpperCase()==e.CurrentOptions.as[a].txt.toUpperCase())return void qzm.SaveDataPoint(e.IndexSlide,wulzz("Correct",e.Options),!0,!1);1==e.NumberRepeat&&qzm.SaveDataPoint(e.IndexSlide,wulzz("Incorrect",e.Options),!1,!1)}}}))},t}(Question),plskw=function(e){function t(t){var i=e.call(this,t)||this;return i.GetData(),i}return __extends(t,e),t.prototype.crqtz=function(){var e=document.createElement("div"),t=0==isMobile?this.CurrentOptions.w:isTabletLandscape?this.CurrentOptions.widtls:isTabletPortrait?this.CurrentOptions.widtpt:isMobileLandscape?this.CurrentOptions.widmls:isMobilePortrait?this.CurrentOptions.widmpt:this.CurrentOptions.w,i=0==isMobile?this.CurrentOptions.h:isTabletLandscape?this.CurrentOptions.heitls:isTabletPortrait?this.CurrentOptions.heitpt:isMobileLandscape?this.CurrentOptions.heimls:isMobilePortrait?this.CurrentOptions.heimpt:this.CurrentOptions.h;e.id="contain-answers",e.style.width=t+"px",e.style.height=i+"px",e.setAttribute("class","answerContainer");var a=this;if(null!=this.UserReply){for(var r=this.UserReply.toString().split(","),s=[],n=0;n<this.CurrentOptions.as.length;n++)for(var l=0;l<this.CurrentOptions.as.length;l++)if(r[n]==this.CurrentOptions.as[l].id){var o={Answers:this.CurrentOptions.as[l]};s.push(o);break}this.ArrAnswer=s}var h=!1,d=0;for(n=0;n<this.ArrAnswer.length;n++){var c=0==isMobile?this.ArrAnswer[n].Answers.h:isTabletLandscape?this.ArrAnswer[n].Answers.heitls:isTabletPortrait?this.ArrAnswer[n].Answers.heitpt:isMobileLandscape?this.ArrAnswer[n].Answers.heimls:isMobilePortrait?this.ArrAnswer[n].Answers.heimpt:this.ArrAnswer[n].Answers.h,p=document.createElement("div"),u=document.createElementNS(xmlns,"svg"),m=document.createElementNS(xmlns,"g"),b=document.createElementNS(xmlns,"rect"),f=document.createElementNS(xmlns,"g"),g=document.createElementNS(xmlns,"g"),w=document.createElementNS(xmlns,"defs"),y=document.createElement("div");y.id="divNum"+this.ArrAnswer[n].Answers.id,p.id=this.ArrAnswer[n].Answers.id+"_a",p.style.width=this.ArrAnswer[n].Answers.w+24+"px",p.style.height=this.ArrAnswer[n].Answers.h+"px";for(var v=Math.floor(n/this.CurrentOptions.cl),C=0,T=v*this.CurrentOptions.cl;T<this.CurrentOptions.as.length;T++){var S=0==isMobile?this.ArrAnswer[T].Answers.h:isTabletLandscape?this.ArrAnswer[T].Answers.heitls:isTabletPortrait?this.ArrAnswer[T].Answers.heitpt:isMobileLandscape?this.ArrAnswer[T].Answers.heimls:isMobilePortrait?this.ArrAnswer[T].Answers.heimpt:this.ArrAnswer[T].Answers.h;if(S>C&&(C=S),T>=v*this.CurrentOptions.cl+this.CurrentOptions.cl-1)break}var x=d+(C-c)/2;if(0==v?(x+=this.CurrentOptions.as[0].T,n==v*this.CurrentOptions.cl+this.CurrentOptions.cl-1&&(d+=this.CurrentOptions.as[0].T)):(x+=10,n==v*this.CurrentOptions.cl+this.CurrentOptions.cl-1&&(d+=10)),p.style.top=x+"px",n==v*this.CurrentOptions.cl+this.CurrentOptions.cl-1&&(d+=C),p.style.position="absolute",p.style.left=this.CurrentOptions.as[n].l+"px",p.className="object-drag-squence",p.style.display="flex",p.setAttribute("data-order",n),u.setAttribute("class","myDrag"),u.setAttribute("width",this.ArrAnswer[n].Answers.w+"px"),u.setAttribute("height",this.ArrAnswer[n].Answers.h+"px"),b.id="object-drag-shape"+n,b.setAttribute("width",this.ArrAnswer[n].Answers.w+"px"),b.setAttribute("height",this.ArrAnswer[n].Answers.h+"px"),b.setAttribute("rx",4),b.setAttribute("ry",4),b.setAttribute("stroke-width",1),b.setAttribute("stroke","#C0C0C0"),b.setAttribute("fill","url(#linearDrag)"),y.className="myAnswerNum",y.style.lineHeight=this.ArrAnswer[n].Answers.h+"px",y.style.width="24px",y.style.Height=this.ArrAnswer[n].Answers.h+"px",y.innerHTML=n+1+".",0==this.Type&&(this.IsCheckReview().IsResult||glhp.DataLocal.Slide[this.IndexSlide].IsSubmit&&!glhp.DataLocal.Slide[this.IndexSlide].Correct&&this.Options.scr)){if(this.ArrAnswer[n].Answers.id==this.CurrentOptions.as[n].id)y.innerHTML=n+1+".",y.style.color="green";else for(l=0;l<this.CurrentOptions.as.length;l++)this.ArrAnswer[n].Answers.id==this.CurrentOptions.as[l].id&&(y.innerHTML=l+1+".",y.style.color="red");h=!0}var A=qzm.GetLinearGradient("linearDrag","0%","100%","0%","100%","0%","#FFFFFF","1","100%","#F2F2F2","1"),M=TextModule.grezByParas(this.ArrAnswer[n].Answers.ct,"question");if(M.style.pointerEvents="none",m.setAttribute("transform","translate("+(this.ArrAnswer[n].Answers.ch.l-this.ArrAnswer[n].Answers.l)+","+(c-textHeight)/2+")"),qzm.ckswb(this.IndexSlide)&&(u.setAttribute("class","myContentDrop myDrag"),b.setAttribute("class","myDropShape"),p.style.cursor="pointer"),w.appendChild(A),f.appendChild(b),u.appendChild(w),u.appendChild(f),u.appendChild(g),p.appendChild(y),p.appendChild(u),e.appendChild(p),"G"==M.tagName.toUpperCase())m.appendChild(M),g.appendChild(m);else{var G=0;null!=this.ArrAnswer[n].Answers.ct.ref&&(G=this.ArrAnswer[n].Answers.ct.ref.t),gTextAnswer.style.left=this.ArrAnswer[n].Answers.ct.l-5+"px",gTextAnswer.style.top=this.CurrentOptions.as[n].T+G+"px",p.appendChild(M)}}return qzm.ckswb(this.IndexSlide)&&(setTimeout((function(){qzm.DoSortAble(a.CurrentOptions.T,a.CurrentOptions.id)}),1),glhp.enableSubmit()),h&&glhp.DataLocal.Slide[this.IndexSlide].IsShowNoti&&(isMobile?glhp.DataLocal.Slide[this.IndexSlide].IsResult?(0==this.Type&&QuestionMobile.ShowResultReview(glhp.DataLocal.Slide[this.IndexSlide].Correct),QuestionMobile.CreateReviewResultButton()):glhp.DataLocal.Slide[this.IndexSlide].IsSubmit&&QuestionMobile.CreateReviewResultButton():swmm(this.IsCheckReview().Correct)),e},t.prototype.crqtzMobile=function(){var e=0==isMobile?this.CurrentOptions.w:isTabletLandscape?this.CurrentOptions.widtls:isTabletPortrait?this.CurrentOptions.widtpt:isMobileLandscape?this.CurrentOptions.widmls:isMobilePortrait?this.CurrentOptions.widmpt:this.CurrentOptions.w,t=0==isMobile?this.CurrentOptions.h:isTabletLandscape?this.CurrentOptions.heitls:isTabletPortrait?this.CurrentOptions.heitpt:isMobileLandscape?this.CurrentOptions.heimls:isMobilePortrait?this.CurrentOptions.heimpt:this.CurrentOptions.h,i=glhp.crgs("div","content"+this.CurrentOptions.id,"content-question");i.style="width:"+e+"px;height:"+t+"px;overflow-y: auto;";var a=glhp.crgs("div","draganswer_"+this.CurrentOptions.id,"draganswer-items");a.style="margin: 14px 18px;background:transparent";for(var r=DOC.slds.indexOf(glrs.crsl.Data),s=glhp.DataLocal.Slide[r],n=0;n<s.Answers.length;n++){var l=null;r=DOC.slds.indexOf(glrs.crsl.Data);l=null!=s.UserReply?QuestionMobile.GetAnswersFromId(this.CurrentOptions.as,s.UserReply[n]):QuestionMobile.GetAnswersFromId(this.CurrentOptions.as,s.Answers[n].Id);var o=glhp.crgs("div",l.id);o.className="answer-item",o.onclick=function(e){var t=this.parentNode.id;QuestionMobile.CreateSequenceDirect(t);var i=this.parentNode;if(i){var a=i.getElementsByClassName("selected-item");if(a.length>0)for(var r=0;r<a.length;r++)a[r].className="answer-item"}this.classList.contains("selected-item"),this.classList.add("selected-item");var s=document.getElementById(t+"direct");s.style.display="block",s.style.opacity=0;var n=0,l=0;l=setInterval((function(){n+=.01,s.style.opacity=n,s.style.transform="matrix("+n+", 0, 0,"+n+", 0, 0)",n>=1&&(s.style.opacity=1,s.style.transform="matrix(1, 0, 0,1, 0, 0)",clearInterval(l))}),1);var o=this.parentNode.getElementsByClassName("answer-item"),h=QuestionMobile.GetIndexAnswer(o,this),d=document.getElementById(this.parentNode.id+"up");h<1?d&&(d.style.opacity=.5,d.style.pointerEvents="none"):d&&(d.style.opacity=1,d.style.pointerEvents="all");var c=document.getElementById(this.parentNode.id+"down");h>o.length-2?c&&(c.style.opacity=.5,c.style.pointerEvents="none"):c&&(c.style.opacity=1,c.style.pointerEvents="all")};var h=QuestionMobile.GetQuestionMobile(l.ct);o.appendChild(h),a.appendChild(o);var d=glhp.crgs("div","dropIcon","icon-area"),c=glhp.crgs("svg");c.setAttribute("width",16),c.setAttribute("height",20),c.setAttribute("viewBox","0 0 50 40");var p=glhp.crgs("rect");p.setAttribute("width",50),p.setAttribute("height",4),p.setAttribute("y",2),p.style.fill="#EBEDEE";var u=glhp.crgs("rect");u.setAttribute("width",50),u.setAttribute("height",4),u.setAttribute("y",14),u.style.fill="#EBEDEE";var m=glhp.crgs("rect");m.setAttribute("width",50),m.setAttribute("height",4),m.setAttribute("y",26),m.style.fill="#EBEDEE";var b=glhp.crgs("rect");b.setAttribute("width",50),b.setAttribute("height",4),b.setAttribute("y",38),b.style.fill="#EBEDEE";var f=glhp.crgs("g");f.appendChild(p),f.appendChild(u),f.appendChild(m),f.appendChild(b),c.appendChild(f),d.appendChild(c),o.appendChild(d),(s.IsResult||glhp.DataLocal.Slide[this.IndexSlide].IsSubmit&&!glhp.DataLocal.Slide[this.IndexSlide].Correct&&this.Options.scr)&&(0==this.Type?(l!=this.CurrentOptions.as[n]?o.classList.add("item-fail"):o.classList.add("item-correct"),o.setAttribute("index",this.CurrentOptions.as.indexOf(l)+1+".")):o.classList.add("item-correct"))}s.IsResult||glhp.DataLocal.Slide[this.IndexSlide].IsSubmit&&!glhp.DataLocal.Slide[this.IndexSlide].Correct&&this.Options.scr?(0==this.Type&&(a.classList.add("review"),QuestionMobile.ShowResultReview(s.Correct)),QuestionMobile.CreateReviewResultButton()):s.IsSubmit&&QuestionMobile.CreateReviewResultButton(),glhp.DataLocal.Slide[glhp.DataLocal.crsl].IsSubmit&&(a.style.pointerEvents="none");var g=this;return setTimeout((function(){QuestionMobile.SequenceSort(g.CurrentOptions.id)}),1),i.append(a),i},t.prototype.drawCanvas=async function(e){if(e.save(),null!=this.UserReply){for(var t=this.UserReply.toString().split(","),i=[],a=0;a<this.CurrentOptions.as.length;a++)for(var r=0;r<this.CurrentOptions.as.length;r++)if(t[a]==this.CurrentOptions.as[r].id){var s={Answers:this.CurrentOptions.as[r]};i.push(s);break}this.ArrAnswer=i}for(a=0;a<this.ArrAnswer.length;a++){e.save(),e.translate(this.CurrentOptions.as[a].l,this.CurrentOptions.as[a].T),e.font="21px Arial",e.fillText(a+1+".",0,2*this.ArrAnswer[a].Answers.h/3,24),e.beginPath(),e.lineWidth=1,e.strokeStyle="#C0C0C0";const t=e.createLinearGradient(24,0,this.ArrAnswer[a].Answers.w+24,this.ArrAnswer[a].Answers.h);t.addColorStop(0,"#FFFFFF"),t.addColorStop(1,"#F2F2F2"),e.fillStyle=t,e.closePath(),e.roundRect(24,0,this.ArrAnswer[a].Answers.w+24,this.ArrAnswer[a].Answers.h,[4]),e.stroke(),e.fill(),e.translate(24+this.ArrAnswer[a].Answers.ch.l-this.ArrAnswer[a].Answers.l,(this.ArrAnswer[a].Answers.ch.T-this.ArrAnswer[a].Answers.T)/2),this.ArrAnswer[a].Answers.ct.pr.forEach(t=>{t.inls.forEach(t=>{if(e.font=t.fst+" "+t.fw+" "+t.fs+"px "+t.ff,e.fillStyle=t.col.col,e.fillText(t.Txt,t.Ls[0],t.T),t.Ul)if("Single"==t.u){var i=t.Ul.X1,a=t.Ul.Y+t.Ul.W/4,r=t.Ul.X2-i,s=t.Ul.W/10;e.fillRect(i,a,r,s)}else if("Double"==t.u){i=t.Ul.X1,s=t.Ul.W/15;var n=t.Ul.Y+t.Ul.W/4-s,l=t.Ul.Y+t.Ul.W/4+s;r=t.Ul.X2-i;e.fillRect(i,n,r,s),e.fillRect(i,l,r,s)}})}),e.restore()}e.restore()},t.prototype.pcsmw=function(){if(0==this.Type){var e=0;this.StringOrderSort=qzm.grrsq(this.IndexSlide);var t=!0;if(isMobile){if(p=document.getElementById(this.CurrentOptions.id))if((u=document.getElementById("draganswer_"+this.CurrentOptions.id+"direct"))&&(u.style.opacity="0"),0==this.Type){var i=p.getElementsByClassName("answer-item"),a=DOC.slds.indexOf(glrs.crsl.Data);(s=glhp.DataLocal.Slide[a]).UserReply=[];for(var r=0;r<i.length;r++)s.UserReply.push(i[r].id),i[r].id!=this.CurrentOptions.as[r].id&&(t=!1)}}else for(r=0;r<this.CurrentOptions.as.length&&this.CurrentOptions.as[r].id==this.StringOrderSort[r];r++)e++;if(e==this.CurrentOptions.as.length||isMobile&&t)this.DisplayFeedback?(swfb("Correct",this.Options),qzm.SaveiF(this.IndexSlide,this.GetiF("Correct"))):glhp.nextSlide(),qzm.SaveDataPoint(this.IndexSlide,wulzz("Correct",this.Options),!0,!0),qzm.roswb(this.IndexSlide);else if(0==this.NumberRepeat)this.DisplayFeedback&&(swfb("Try Again",this.Options),qzm.SaveiF(this.IndexSlide,this.GetiF("Try Again"))),qzm.sttze(this.IndexSlide,this.NumberRepeat);else if(1==this.NumberRepeat){if(this.DisplayFeedback?(swfb("Incorrect",this.Options),qzm.SaveiF(this.IndexSlide,this.GetiF("Incorrect"))):glhp.nextSlide(),qzm.SaveDataPoint(this.IndexSlide,wulzz("Incorrect",this.Options),!1,!0),qzm.roswb(this.IndexSlide),0==this.Type&&this.Options.scr)if(isMobile){a=DOC.slds.indexOf(glrs.crsl.Data);var s=glhp.DataLocal.Slide[a];for(r=0;r<s.Answers.length;r++){var n=null;a=DOC.slds.indexOf(glrs.crsl.Data);n=null!=s.UserReply?QuestionMobile.GetAnswersFromId(this.CurrentOptions.as,s.UserReply[r]):QuestionMobile.GetAnswersFromId(this.CurrentOptions.as,s.Answers[r].Id);var l=document.getElementById(n.id),o=document.getElementById("draganswer_"+this.CurrentOptions.id);l&&o&&(0==this.Type?(n!=this.CurrentOptions.as[r]?l.classList.add("item-fail"):l.classList.add("item-correct"),l.setAttribute("index",this.CurrentOptions.as.indexOf(n)+1+"."),o.classList.add("review"),QuestionMobile.ShowResultReview(s.Correct)):l.classList.add("item-correct"))}}else for(var h=glhp.DataLocal.Slide[this.IndexSlide].UserReply,r=0;r<h.length;r++){var d=document.getElementById("divNum"+h[r]);if(d)if(h[r]==this.CurrentOptions.as[r].id)d.innerHTML=r+1+".",d.style.color="green";else for(var c=0;c<this.CurrentOptions.as.length;c++)h[r]==this.CurrentOptions.as[c].id&&(d.innerHTML=c+1+".",d.style.color="red")}}else this.DisplayFeedback&&(swfb("Try Again",this.Options),qzm.SaveiF(this.IndexSlide,this.GetiF("Try Again"))),this.NumberRepeat--,qzm.sttze(this.IndexSlide,this.NumberRepeat)}else{var p,u;if((u=document.getElementById("draganswer_"+this.CurrentOptions.id+"direct"))&&(u.style.opacity="0"),this.DisplayFeedback?(swfb("Thank you",this.Options),qzm.SaveiF(this.IndexSlide,this.GetiF("Thank you"))):glhp.nextSlide(),isMobile){if(p=document.getElementById(this.CurrentOptions.id))if((u=document.getElementById("draganswer_"+this.CurrentOptions.id+"direct"))&&(u.style.opacity="0"),0==this.Type){i=p.getElementsByClassName("answer-item"),a=DOC.slds.indexOf(glrs.crsl.Data);(s=glhp.DataLocal.Slide[a]).UserReply=[];for(r=0;r<i.length;r++)s.UserReply.push(i[r].id),i[r].id!=this.CurrentOptions.as[r].id&&(t=!1)}}else qzm.roswb(this.IndexSlide);DOC.iS&&qzm.sqzor("","neutral",this.IndexSlide)}},t}(Question),kslos=function(e){function t(t){var i=e.call(this,t)||this;return this.urr=[],i.GetData(),i}return __extends(t,e),t.prototype.crqtz=function(){var e=document.createElement("div"),t=0==isMobile?this.CurrentOptions.w:isTabletLandscape?this.CurrentOptions.widtls:isTabletPortrait?this.CurrentOptions.widtpt:isMobileLandscape?this.CurrentOptions.widmls:isMobilePortrait?this.CurrentOptions.widmpt:this.CurrentOptions.w,i=0==isMobile?this.CurrentOptions.h:isTabletLandscape?this.CurrentOptions.heitls:isTabletPortrait?this.CurrentOptions.heitpt:isMobileLandscape?this.CurrentOptions.heimls:isMobilePortrait?this.CurrentOptions.heimpt:this.CurrentOptions.h;e.id="contain-answers",e.style.width=t+"px",e.style.height=i+"px",e.setAttribute("class","answerContainer");for(var a=DOC.slds.indexOf(glrs.crsl.Data),r=0;r<this.ArrAnswer.length;r++){var s=document.createElement("div"),n=document.createElement("div"),l=document.createElement("div"),o=document.createElementNS(xmlns,"svg"),h=document.createElementNS(xmlns,"svg"),d=document.createElement("div");o.setAttribute("width",this.CurrentOptions.as[r].ch.w+"px"),o.setAttribute("height",this.CurrentOptions.as[r].ch.h+"px");var c=TextModule.grezByParas(this.ArrAnswer[r].Answers.ct,"question");c.style.pointerEvents="none",c.setAttribute("transform","translate("+(this.ArrAnswer[r].Answers.ch.l-this.ArrAnswer[r].Answers.l)+","+(this.ArrAnswer[r].Answers.ch.T-this.ArrAnswer[r].Answers.T)+")"),n.style.width=this.CurrentOptions.as[r].ch.w+"px",n.style.height=this.CurrentOptions.as[r].ch.h+"px",n.style.left=this.CurrentOptions.as[r].ch.l+"px",n.style.top=this.CurrentOptions.as[r].ch.T-this.CurrentOptions.as[r].T+"px",n.style.position="absolute",n.style.pointerEvents="none",s.id="group-answer-survey"+r,s.className="myGroupRadioCircle",s.style.position="absolute",s.style.width=this.CurrentOptions.as[r].lC.w+"px",s.style.height=this.CurrentOptions.as[r].lC.h+"px",s.style.left=this.CurrentOptions.as[r].lC.l-this.CurrentOptions.as[r].l+"px",s.style.top="0px",l.id="group-answer-circle"+r,l.style.position="absolute",l.style.width=this.CurrentOptions.as[r].w+"px",l.style.height=this.CurrentOptions.as[r].h+"px",l.style.left=this.CurrentOptions.as[r].l+"px",l.style.top=this.CurrentOptions.as[r].T+"px",d.style.position="absolute",d.style.top="0px",d.style.left="0px",d.style.pointerEvents="none",h.setAttribute("width",this.CurrentOptions.as[r].w+"px"),h.setAttribute("height",this.CurrentOptions.as[r].h+"px"),h.style.overflow="hidden";var p=!1,u=shzp.grnz(this.CurrentOptions.as[r].shs,{id:this.CurrentOptions.as[r].id,width:this.CurrentOptions.as[r].w,height:this.CurrentOptions.as[r].h}),m=document.createElementNS(xmlns,"g");if(null!=this.CurrentOptions.as[r].efs&&null!=this.CurrentOptions.as[r].efs[0]){"SoftEdge"==this.CurrentOptions.as[r].efs[0].typ&&(p=!0);var b=EffectModule.genGEffect(this.CurrentOptions.as[r].efs[0],{Id:this.CurrentOptions.as[r].id,width:this.CurrentOptions.as[r].w,height:this.CurrentOptions.as[r].h},this.CurrentOptions.as[r].agl,this.CurrentOptions.as[r].isX,this.CurrentOptions.as[r].isY);null!=b.g&&m.appendChild(b.g)}p||(m.appendChild(u),h.appendChild(m),d.appendChild(h),l.appendChild(d));for(var f=0;f<this.CurrentOptions.as[r].S.length;f++){var g=glhp.crgs("div","","likert-item"),w=document.createElementNS(xmlns,"svg"),y=document.createElementNS(xmlns,"circle"),v=document.createElementNS(xmlns,"circle"),C=document.createElementNS(xmlns,"circle"),T=document.createElementNS(xmlns,"g"),S=r+"-"+f,x=this.CurrentOptions.as[r].S[f].ch;if(g.id=S+"_s",g.style.position="absolute",g.style.left=x.lR+(32-x.r)+"px",g.style.top=(this.CurrentOptions.as[r].h-2*this.CurrentOptions.as[r].S[0].ch.r-2*this.CurrentOptions.as[r].S[0].ch.wB)/2+"px",w.setAttribute("width",2*(x.r+x.wB)),w.setAttribute("height",2*(x.r+x.wB)),y.setAttribute("r",x.r),y.setAttribute("cx",x.r+x.wB),y.setAttribute("cy",x.r+x.wB),y.setAttribute("fill","white"),y.setAttribute("stroke",x.cB.col),y.setAttribute("stroke-width",x.wB),v.setAttribute("r",x.rCi),v.setAttribute("cx",x.r+x.wB),v.setAttribute("cy",x.r+x.wB),v.setAttribute("fill",x.C.col),C.id=S+"_p",C.setAttribute("r",x.rC),C.setAttribute("cx",x.r+x.wB),C.setAttribute("cy",x.r+x.wB),C.setAttribute("fill",x.cC.col),C.setAttribute("stroke-width",1),C.setAttribute("stroke","Gray"),C.style.display="none",g.setAttribute("title-survey",this.CurrentOptions.as[r].S[f].txt),null!=this.UserReply&&this.UserReply!=[])for(var A=0;A<this.UserReply.length;A++){var M=parseInt(this.UserReply[A].split("-")[0]),G=parseInt(this.UserReply[A].split("-")[1]);if(M==r&&G==f){C.style.display="",g.select=!0;break}}qzm.ckswb(this.IndexSlide)?C.setAttribute("class","myPathCircleInside"):g.style.pointerEvents="none",T.appendChild(y),T.appendChild(v),T.appendChild(C),w.appendChild(T),g.appendChild(w),s.appendChild(g)}if(n.appendChild(o),l.appendChild(n),l.appendChild(s),e.appendChild(l),"G"==c.tagName.toUpperCase())o.appendChild(c);else{var D=0;null!=this.ArrAnswer[r].Answers.ct.ref&&(D=this.ArrAnswer[r].Answers.ct.ref.t),c.style.left=this.ArrAnswer[r].Answers.ct.l-5+"px",c.style.top=this.CurrentOptions.as[r].T+D+"px",n.appendChild(c)}}if(null==this.UserReply){for(var L=[],k=0;k<this.CurrentOptions.as.length;k++)L.push(null);this.UserReply=L}return qzm.ckswb(this.IndexSlide)&&glhp.enableSubmit(),isTransaction||0!=glhp.DataLocal.Slide[a].IsSubmit||setTimeout((function(){qzm.likertScaleSelect()}),1),glhp.checkIEBrower()&&(e.innerHTML=e.innerHTML),e},t.prototype.crqtzMobile=function(){var e=0==isMobile?this.CurrentOptions.w:isTabletLandscape?this.CurrentOptions.widtls:isTabletPortrait?this.CurrentOptions.widtpt:isMobileLandscape?this.CurrentOptions.widmls:isMobilePortrait?this.CurrentOptions.widmpt:this.CurrentOptions.w,t=0==isMobile?this.CurrentOptions.h:isTabletLandscape?this.CurrentOptions.heitls:isTabletPortrait?this.CurrentOptions.heitpt:isMobileLandscape?this.CurrentOptions.heimls:isMobilePortrait?this.CurrentOptions.heimpt:this.CurrentOptions.h,i=glhp.crgs("div","content"+this.CurrentOptions.id,"content-question");i.style="width:"+e+"px;height:"+t+"px;overflow-y: auto;";var a=glhp.crgs("div",this.CurrentOptions.id,"likert-items");a.style="margin: 14px 18px;background:transparent";var r=DOC.slds.indexOf(glrs.crsl.Data),s=glhp.DataLocal.Slide[r],n=null;null!=s.UserReply&&(n=s.UserReply);for(var l=0;l<s.Answers.length;l++){var o=QuestionMobile.GetAnswersFromId(this.CurrentOptions.as,s.Answers[l].Id),h=glhp.crgs("div",o.id);h.className="likert-statement";r=DOC.slds.indexOf(glrs.crsl.Data);h.setAttribute("data-id",this.ArrAnswer[l].id);var d=glhp.crgs("div","","statement"),c=QuestionMobile.GetQuestionMobile(o.ct);d.appendChild(c),h.appendChild(d);var p=glhp.crgs("div","saperator","saperator");p.style="left: 12px;right: 12px;height: 1px;content: '';position: absolute;background: #E0E0E0;z-index:1;",h.appendChild(p);var u=glhp.crgs("div","","scales");h.appendChild(u);for(var m=0;m<o.S.length;m++){var b=glhp.crgs("div","scale-item"+m,"scale-item");null!=n&&""!=n[l].toString()&&n[l]==m&&b.classList.add("selected-item");var f=glhp.crgs("div","","scale-content");f.innerHTML=o.S[m].txt;var g=glhp.crgs("div","","scale-selection"),w=glhp.crgs("div","","mbone_outlineBorder");w.style="position:absolute;border-radius:24px;width: 24px;height:24px;";var y=glhp.crgs("div","","mbone_inlineBorder");y.style="position:absolute;border-radius:14px;width: 14px;height:14px";var v=glhp.crgs("div","","inner");v.style="position:absolute;border-radius:20px;width: 20px;height:20px;background:#ffffff",g.appendChild(w),g.appendChild(v),g.appendChild(y),h.appendChild(g),b.appendChild(f),b.appendChild(g),u.appendChild(b),glhp.DataLocal.Slide[glhp.DataLocal.crsl].IsSubmit&&(u.style.pointerEvents="none")}s.IsResult&&h.classList.add("item-correct"),a.appendChild(h)}return(s.IsResult||s.IsSubmit)&&QuestionMobile.CreateReviewResultButton(),setTimeout((function(){QuestionMobile.LikertSelected()}),1),i.append(a),i},t.prototype.crqtzCanvas=async function(e){e.save();for(var t=0;t<this.ArrAnswer.length;t++){e.save(),e.translate(this.CurrentOptions.as[t].l,this.CurrentOptions.as[t].T),e.translate(this.ArrAnswer[t].Answers.ch.l-this.ArrAnswer[t].Answers.l,this.ArrAnswer[t].Answers.ch.T-this.ArrAnswer[t].Answers.T),await TextModule.drawCanvasByParas(this.ArrAnswer[t].Answers.ct,e),e.translate(this.CurrentOptions.as[t].lC.l-this.CurrentOptions.as[t].l,0);for(var i=0;i<this.CurrentOptions.as[t].S.length;i++){e.save();var a=this.CurrentOptions.as[t].S[i].ch;e.translate(a.lR+(32-a.r),0),await drawRadioCanvas(e,a.r+a.wB,a.r+a.wB,a.r,"white",a.cB.col,a.wB),e.restore()}e.restore()}e.restore()},t.prototype.pcsmw=function(){var e=!1;if(isMobile){var t=document.getElementById(this.CurrentOptions.id);if(t)t.getElementsByClassName("selected-item").length<this.CurrentOptions.as.length&&(e=!0)}else this.gwur(this.CurrentOptions.id).length!=this.CurrentOptions.as.length&&(e=!0);e?qzm.showInvalidFeedback():(this.DisplayFeedback?(swfb("Thank you",this.Options),qzm.SaveiF(this.IndexSlide,this.GetiF("Thank you"))):glhp.nextSlide(),isMobile?QuestionMobile.SaveUserAnswer(this.CurrentOptions):this.saveTextUserSelected(!0),DOC.iS&&qzm.sqzor("","neutral",this.IndexSlide),qzm.roswb(this.IndexSlide))},t.prototype.gwur=function(){var e=[],t=document.getElementById(this.CurrentOptions.id);if(t)for(var i=t.getElementsByClassName("myGroupRadioCircle"),a=0;a<i.length;a++)for(var r=0;r<i[a].children.length;r++)if(i[a].children[r].select){var s=qzm.GetNumberId(i[a].children[r].id);e.push(s);break}return e},t.prototype.saveTextUserSelected=function(){var e=this.gwur(),t=[];if(e.length>=this.CurrentOptions.as.length){var i=document.getElementsByClassName("myGroupRadioCircle")[0];if(i&&i.children.length>0)for(var a=0;a<i.children.length;a++)t.push(i.children[a].getAttribute("title-survey"));var r=this.CurrentOptions.as.map((function(e){return e.ct.pr.length>0?qzm.oqsp(e.ct.pr[0].inls):""}));this.urr=r.map((function(i,a){return i+"--"+t[parseInt(e[a].split("-")[1])]})).join(",")}qzm.slwz(this.IndexSlide,e,this.urr)},t}(Question),psldu=function(e){function t(t){var i=e.call(this,t)||this;return i.tip=t.lts[0].e[1].tip,i.idQuestion=t.lts[0].e[1].id,i.GetData(),i}return __extends(t,e),t.prototype.GetData=function(){var e=this.IndexSlide,t="Initial"==glrs.crsl.Data.slC.rM;if(qzm.IsEndTime&&(t=!1),t&&(glhp.DataLocal.Slide[e].IsSubmit=!1,glhp.DataLocal.Slide[e].urr="",glhp.DataLocal.Slide[e].Answers=null,glhp.DataLocal.Slide[e].UserReply=null,glhp.DataLocal.Slide[e].ArrAnswer=null,glhp.DataLocal.Slide[e].NumberRepeat=this.Options.atm),null==glhp.DataLocal.Slide[e].UserReply){var i="",a="#"+this.idQuestion;return(i=$(a).find("textarea").val())||(i=""),this.UserReply=i}this.UserReply=glhp.DataLocal.Slide[e].UserReply},t.prototype.crqtz=function(){var e=0==isMobile?this.CurrentOptions.w:isTabletLandscape?this.CurrentOptions.widtls:isTabletPortrait?this.CurrentOptions.widtpt:isMobileLandscape?this.CurrentOptions.widmls:isMobilePortrait?this.CurrentOptions.widmpt:this.CurrentOptions.w,t=0==isMobile?this.CurrentOptions.h:isTabletLandscape?this.CurrentOptions.heitls:isTabletPortrait?this.CurrentOptions.heitpt:isMobileLandscape?this.CurrentOptions.heimls:isMobilePortrait?this.CurrentOptions.heimpt:this.CurrentOptions.h,i=glhp.crgs("div","","slide-layer base-layer question shown");i.setAttribute("style","z-index:0; width:"+this.Options.w+"px; height:"+this.Options.h+"px;"),i.setAttribute("type-question","essay");var a=glhp.crgs("div","","slide-object slide-object-textinput shown answerContainer");a.setAttribute("style","z-index:1;width:"+e+"px;height:"+t+"px;opacity:1; overflow: visible;");var r=glhp.crgs("div",this.Options.lts[0].e[1].id);r.setAttribute("style","height:"+t+"px; width:"+(e+1)+"px; transform:translate(0px, 0px);");var s=glhp.crgs("textarea","input"+this.CurrentOptions.id),n=this.CurrentOptions.tip.ff,l=this.CurrentOptions.tip.fs,o="left";if(this.CurrentOptions.tip.fg)var h=this.CurrentOptions.tip.fg.col;else h="black";this.CurrentOptions.tip.talg&&(o=this.CurrentOptions.tip.talg);s.setAttribute("style","font-family:"+n+"; font-size:"+l+"px; line-height:normal;font-weight:normal; direction:ltr; text-align:"+o+"; color:"+h+"; width:"+(e-12)+"px; margin-top:0px; margin-left: 10px; resize: none;"),s.setAttribute("type",this.TypeInput),s.style.height=this.CurrentOptions.tip.fs+5+"px",s.style.maxHeight=this.CurrentOptions.h+"px",s.style.overflow="auto",s.style.visibility="hidden";var d=this;return s.onkeypress=function(){setTimeout((function(){qzm.UpdateHTMLTextArea(s,d)}),1)},s.addEventListener("keydown",(function(e){var t=(e=e||window.event).which||e.keyCode,i=e.ctrlKey?e.ctrlKey:17===t;86==t&&i&&setTimeout((function(){qzm.UpdateHTMLTextArea(s,d)}),1)}),!1),a.onclick=function(e){e.stopPropagation()},qzm.ckswb(this.IndexSlide)?glhp.enableSubmit():s.disabled=!0,s.value=this.UserReply,""==this.CurrentOptions.tip.txt?s.setAttribute("placeholder",""):s.setAttribute("placeholder",this.CurrentOptions.tip.txt),s.setAttribute("maxlength",this.Options.ml),setTimeout((function(){qzm.UpdateHTMLTextArea(s,d)}),1),r.appendChild(s),a.appendChild(r),i.appendChild(a),a},t.prototype.drawCanvas=async function(e){e.save();var t=$("textarea").val(),i=this.CurrentOptions.w,a=this.CurrentOptions.h,r=(this.CurrentOptions.T,this.CurrentOptions.l,this.CurrentOptions.tip.ff),s=this.CurrentOptions.tip.fs;if(this.CurrentOptions.tip.fg)var n=this.CurrentOptions.tip.fg.col;else n="black";this.CurrentOptions.tip.talg&&this.CurrentOptions.tip.talg;var l=s+"px "+r,o=this.CurrentOptions.tip.txt;t?o=t:e.globalAlpha=.5,await this.DrawTextWrapCanvas(e,o,0,0,l,n,this.CurrentOptions.tip.talg,i,a,5,this.CurrentOptions.tip.fs),e.restore()},t.prototype.DrawTextWrapCanvas=async function(e,t,i,a,r,s,n,l,o,h,d){for(var c=t.replace(/\n/g,"\n ").split(" "),p="",u=0;u<c.length;u++){if(a>=o)return;e.save();var m=p+c[u];e.fillStyle=s,e.font=r,e.textAlign=n,e.measureText(m).width>l?(e.translate(8,this.CurrentOptions.h/2+5),await drwtCanvas(e,p,i,a,s,r,n),a+=h+d,p=c[u]+" "):c[u].includes("\n")?(e.translate(8,this.CurrentOptions.h/2+5),await drwtCanvas(e,m,i,a,s,r,n),a+=h+d,p=""):u==c.length-1?(e.translate(8,this.CurrentOptions.h/2+5),await drwtCanvas(e,m,i,a,s,r,n),a+=h,p=c[u]+""):p+=c[u]+" ",e.restore()}},t.prototype.pcsmw=function(){var e=this.IndexSlide;null!=glhp.DataLocal.Slide[e].as&&(this.NumberRepeat=glhp.DataLocal.Slide[e].NumberRepeat),""!=$("#"+this.idQuestion+" textarea").val()?(this.DisplayFeedback?(swfb("Thank you",this.Options),qzm.SaveiF(this.IndexSlide,this.GetiF("Thank you"))):glhp.nextSlide(),qzm.roswb(this.IndexSlide),DOC.iS&&qzm.sqzor("","neutral",this.IndexSlide)):qzm.showInvalidFeedback()},t.prototype.callProcess=function(){var e=this,t="#"+e.idQuestion+" textarea";$("#mainContent").on("change",t,(function(t){if(""!=$(this).val()){var i=$(this).val();e.UserReply=i,qzm.slwz(e.IndexSlide,e.UserReply,e.UserReply)}}))},t}(Question),ffy=function(e){function t(t){var i=e.call(this,t)||this;return i.datach=null,i.idQuestion=i.Options.lts[0].e.filter((function(e){return e.as}))[0].id,i.loaiCauHoi="rankingDropDown",i.GetData(),i}return __extends(t,e),t.prototype.GetData=function(){this.CurrentOptions=this.Options.lts[0].e.filter((function(e){return e.as}))[0];var e=this.IndexSlide,t="Initial"==glrs.crsl.Data.slC.rM;if(qzm.IsEndTime&&(t=!1),t&&(glhp.DataLocal.Slide[e].IsSubmit=!1,glhp.DataLocal.Slide[e].urr="",glhp.DataLocal.Slide[e].Answers=null,glhp.DataLocal.Slide[e].UserReply=null,glhp.DataLocal.Slide[e].ArrAnswer=null,glhp.DataLocal.Slide[e].NumberRepeat=this.Options.atm),null!=glhp.DataLocal.Slide[e].Answers)this.ArrAnswer=glhp.DataLocal.Slide[e].Answers,this.UserReply=glhp.DataLocal.Slide[e].UserReply,this.NumberRepeat=glhp.DataLocal.Slide[e].NumberRepeat;else{for(var i=this.CurrentOptions.as,a=[],r=0;r<i.length;r++)if(isMobile){var s={Answers:i[r]};a.push(s),a=qzm.rdaws(a)}else a.push(qzm.rdaws(i.map((function(e){return e.ch.id}))));this.UserReply=glhp.DataLocal.Slide[e].UserReply,this.ArrAnswer=a,this.NumberRepeat=this.Options.atm,null==qzm.ListCorrect[this.IndexSlide]&&(qzm.ListCorrect[this.IndexSlide]=qzm.pr_k(this.CurrentOptions))}this.Type=this.Options.gt,qzm.svawz(this.IndexSlide,this.ArrAnswer,this.NumberRepeat)},t.prototype.crqtz=function(){var e=this.CurrentOptions.as,t=this.CurrentOptions.as.map((function(e){return e.ct})),i=this.CurrentOptions.as.map((function(e){return e.ch})),a=this.CurrentOptions,r=glhp.crgs("div","answersContainer"+this.CurrentOptions.id,"contain-answers answerContainer");r.setAttribute("style","height: "+a.h+"px; width:"+1*a.w+"px;; top:0px;");var s=[],n=[],l=0,o=this,h="";switch(DOC.Lang.toUpperCase()){case"EN-US":h="--Select--";break;case"EN-US":h="--เลือก--";break;case"VI-VN":h="--Lựa chọn--"}for(var d=qzm.MeasureFontHeight("normal 16px Arial",h),c=!1,p=0;p<e.length;p++){s=[],n=[];var u=glhp.crgs("tspan");u.setAttribute("x","12"),u.setAttribute("y",e[p].h/2+d.height),u.setAttribute("is-user-choice","no");var m=glhp.crgs("g","","select"),b=glhp.crgs("rect");b.setAttribute("width",1*a.as[p].w),b.setAttribute("height",a.as[p].h),b.setAttribute("rx",8),b.setAttribute("ry",8),b.setAttribute("stroke","#cecece"),b.setAttribute("fill","white"),b.id="rect"+e[p].id,m.appendChild(b);var f=document.createTextNode(h);u.appendChild(f);var g=glhp.crgs("text","","text");g.setAttribute("font-family","Arial"),g.setAttribute("font-size","16px"),g.setAttribute("fill","#4B4B4B"),g.setAttribute("fill-opacity","1"),g.appendChild(u);var w=glhp.crgs("div","select"+e[p].id,"drop-down-Item");w.setAttribute("style","position:absolute;width:"+a.as[p].w+"px;height:"+a.as[p].h+"px;opacity:1;transform-origin:115px 11px;transform:rotate(0deg) scale(1, 1);"),w.style.left=a.as[p].l+"px",w.style.top=a.as[p].T+"px",w.style.position="absolute";var y=glhp.DataLocal.Slide[this.IndexSlide].UserReply;if(y&&y[p]){var v=e.filter((function(e){return e.id==y[p]}))[0],C=TextModule.grezByParas(v.ct,"question");this.IsCheckReview().IsResult&&0==glrs.crsl.Data.gt||glhp.DataLocal.Slide[this.IndexSlide].IsSubmit&&!glhp.DataLocal.Slide[this.IndexSlide].Correct&&this.Options.scr?C.setAttribute("transform","translate("+(v.ct.l-e.filter((function(e){return e.ch.id===v.ch.id}))[0].l+15)+","+(v.ct.T-v.ch.T)+")"):C.setAttribute("transform","translate("+(v.ct.l-e.filter((function(e){return e.ch.id===v.ch.id}))[0].l)+","+(v.ct.T-v.ch.T)+")"),w.classList.add("active"+this.UserReply[p]),C.setAttribute("data-id",v.ch.id),C.id="text"+e[p].id,m.appendChild(C)}else{var T=glhp.crgs("g","","text");T.appendChild(g),m.appendChild(T)}(this.IsCheckReview().IsResult&&0==glrs.crsl.Data.gt||glhp.DataLocal.Slide[this.IndexSlide].IsSubmit&&!glhp.DataLocal.Slide[this.IndexSlide].Correct&&this.Options.scr)&&(null==y||y[p]!=e[p].id?(b.setAttribute("stroke","#EA5F4F"),w.classList.add("item-fail")):(b.setAttribute("stroke","#70C425"),w.classList.add("item-correct")),w.setAttribute("index",this.CurrentOptions.as.indexOf(QuestionMobile.GetAnswersFromId(this.CurrentOptions.as,y[p]))+1+"."),c=!0);var S=glhp.crgs("g");S.setAttribute("transform","translate("+(1*a.as[p].w-20)+", "+i[p].h/2+")");var x=glhp.crgs("path");x.setAttribute("d","M 0 0 L 10 0 5 5 0 0"),x.setAttribute("fill","#494949"),x.setAttribute("stroke","rgba(255, 255, 255, 0.8"),S.appendChild(x),m.appendChild(S);var A=glhp.crgs("svg");A.setAttribute("width",a.as[p].w),A.setAttribute("height",a.as[p].h),A.setAttribute("style","z-index:"+i[p].z+";"),A.appendChild(m),qzm.ckswb(this.IndexSlide)&&(b.setAttribute("style","cursor: pointer;"),glhp.enableSubmit()),w.appendChild(A),w.innerHTML=w.innerHTML;var M=glhp.crgs("g","","drop-list-cover"),G=0;for(n=this.ArrAnswer[p],l=0,l=0;l<n.length;l++)s.push(this.CurrentOptions.as.filter((function(e){return e.ch.id==n[l]}))[0]);for(var D=0;D<s.length;D++){var L=TextModule.grezByParas(s[D].ct,"question"),k=this.CurrentOptions.as.filter((function(e){return e.ch.id==n[D]}))[0];L.setAttribute("transform","translate("+(t[p].l-k.l)+",0)"),L.setAttribute("data-id",n[D]);var O=glhp.crgs("rect");O.setAttribute("width",1*a.as[p].w),O.setAttribute("height",e[p].h),O.setAttribute("class","drop-list-item-out"),O.setAttribute("fill","white"),dropdownItem=glhp.crgs("g","dropItem"+s[D].id,"drop-list-item"),dropdownItem.setAttribute("transform","translate(0,"+G+")"),dropdownItem.appendChild(O),dropdownItem.appendChild(L),M.appendChild(dropdownItem),dropdownItem.addEventListener("mouseup",(function(e){e.stopPropagation()})),G+=e[p].h}var E=glhp.crgs("svg");E.setAttribute("width",a.as[p].w),E.setAttribute("height",G),E.setAttribute("z-index",s.length-p),E.appendChild(M);var H=glhp.crgs("div","","drop-list-drop-down-inner");H.appendChild(E);var I=glhp.crgs("div","dropdown"+e[p].id,"drop-list-drop-down");I.setAttribute("style","width:"+1*(a.as[p].w-2)+"px;border-color:#cecece;display:none;border-width: 1px;border-radius: 8px; top:"+(a.as[p].h-16+a.T+a.as[p].T)+"px;left:"+(a.l+a.as[p].l)+"px"),I.setAttribute("data-model-id",p),I.appendChild(H);var P=document.getElementById("container-items");P||((P=document.createElement("div")).id="container-items",document.getElementById("container").appendChild(P)),P.appendChild(I),r.appendChild(w)}return setTimeout((function(){qzm.tddd(o)}),1),this.IsCheckReview()&&this.IsCheckReview().IsResult&&(r.style.overflowX="auto",setTimeout((function(){var e=setInterval((function(){var t=r.scrollLeft;r.scrollLeft+=1,r.scrollLeft==t&&clearInterval(e)}),5)}),1)),c&&glhp.DataLocal.Slide[this.IndexSlide].IsShowNoti&&(isMobile?glhp.DataLocal.Slide[this.IndexSlide].IsResult?(0==this.Type&&QuestionMobile.ShowResultReview(glhp.DataLocal.Slide[this.IndexSlide].Correct),QuestionMobile.CreateReviewResultButton()):glhp.DataLocal.Slide[this.IndexSlide].IsSubmit&&QuestionMobile.CreateReviewResultButton():swmm(this.IsCheckReview().Correct)),r},t.prototype.crqtzMobile=function(){var e=0==isMobile?this.CurrentOptions.w:isTabletLandscape?this.CurrentOptions.widtls:isTabletPortrait?this.CurrentOptions.widtpt:isMobileLandscape?this.CurrentOptions.widmls:isMobilePortrait?this.CurrentOptions.widmpt:this.CurrentOptions.w,t=0==isMobile?this.CurrentOptions.h:isTabletLandscape?this.CurrentOptions.heitls:isTabletPortrait?this.CurrentOptions.heitpt:isMobileLandscape?this.CurrentOptions.heimls:isMobilePortrait?this.CurrentOptions.heimpt:this.CurrentOptions.h,i=glhp.crgs("div","content"+this.CurrentOptions.id,"content-question");i.style="width:"+e+"px;height:"+t+"px;overflow-y: auto;";var a=glhp.crgs("div","sequenceAnswers"+this.CurrentOptions.id,"dropanswer-items");a.style="margin: 14px 18px;background:transparent";for(var r=DOC.slds.indexOf(glrs.crsl.Data),s=glhp.DataLocal.Slide[r].UserReply,n=glhp.DataLocal.Slide[r],l=0;l<n.Answers.length;l++){var o=QuestionMobile.GetAnswersFromId(this.CurrentOptions.as,n.Answers[l].Id),h=glhp.crgs("div",o.id);h.className="answer-item";r=DOC.slds.indexOf(glrs.crsl.Data);var d=glhp.crgs("div","","text-content");if(d.classList.add("label"),d.style="min-height:22px;",s)if(""!=s[l]){h.classList.add("active-item"),h.classList.add(s[l]+"-popup-answer");for(var c="",p=0;p<this.CurrentOptions.as.length;p++)if(this.CurrentOptions.as[p].id==s[l]){c=QuestionMobile.GetQuestionMobile(this.CurrentOptions.as[p].ct);break}d.appendChild(c)}else{var u=null;switch(DOC.Lang.toUpperCase()){case"EN-US":u="-Select-";break;case"VI-VN":u="-Lựa chọn-";break;case"TH-TH":u="-เลือก-";break;default:u="-Select-"}d.innerHTML=u}else{u=null;switch(DOC.Lang.toUpperCase()){case"EN-US":u="-Select-";break;case"VI-VN":u="-Lựa chọn-";break;case"TH-TH":u="-เลือก-";break;default:u="-Select-"}d.innerHTML=u}if(h.appendChild(d),a.appendChild(h),!n.IsResult&&(this.Options.scr&&!glhp.DataLocal.Slide[this.IndexSlide].IsSubmit||!n.IsResult&&!glhp.DataLocal.Slide[this.IndexSlide].IsSubmit||glhp.DataLocal.Slide[this.IndexSlide].IsSubmit&&!this.Options.scr)){var m=glhp.crgs("div","dropIcon","icon-area");m.id="dropIcon"+o.id;var b=glhp.crgs("svg");b.setAttribute("width",12),b.setAttribute("height",7),b.setAttribute("viewBox","0 0 17 9");var f=glhp.crgs("path");f.setAttribute("fill","rgba(162, 162, 161, 1)"),f.setAttribute("d","M0.232,1.015l0.601-0.49c0.321-0.277,0.855-0.277,1.177,0 \tl6.485,5.473l6.507-5.473c0.32-0.277,0.855-0.277,1.177,0l0.579,0.49c0.342,0.277,0.319,0.724,0,0.98 \tc-2.547,2.172-5.095,4.324-7.662,6.474C8.944,8.617,8.73,8.682,8.515,8.682H8.494c-0.213,0-0.428-0.064-0.6-0.213 \tc-2.546-2.15-5.093-4.302-7.641-6.474C-0.088,1.738-0.088,1.292,0.232,1.015L0.232,1.015z"),b.appendChild(f),m.appendChild(b),h.appendChild(m)}(n.IsResult||glhp.DataLocal.Slide[this.IndexSlide].IsSubmit&&!glhp.DataLocal.Slide[this.IndexSlide].Correct&&this.Options.scr)&&(0==this.Type&&null!=s?(null!=s&&this.CurrentOptions.as[l].id==s[l]?h.classList.add("item-correct"):h.classList.add("item-fail"),h.setAttribute("index",this.CurrentOptions.as.indexOf(QuestionMobile.GetAnswersFromId(this.CurrentOptions.as,s[l]))+1+".")):h.classList.add("item-correct"))}n.IsResult||glhp.DataLocal.Slide[this.IndexSlide].IsSubmit&&!glhp.DataLocal.Slide[this.IndexSlide].Correct&&this.Options.scr?(0==this.Type&&(a.classList.add("review"),n.IsResult&&QuestionMobile.ShowResultReview(n.Correct)),QuestionMobile.CreateReviewResultButton()):n.IsSubmit&&QuestionMobile.CreateReviewResultButton(),glhp.DataLocal.Slide[glhp.DataLocal.crsl].IsSubmit&&(a.style.pointerEvents="none");var g=this;return setTimeout((function(){QuestionMobile.ShowSequenceDropLayer(g.CurrentOptions)}),1),i.append(a),i},t.prototype.drawCanvas=async function(e){var t=this.CurrentOptions.as,i=(this.CurrentOptions.as.map((function(e){return e.ct})),this.CurrentOptions.as.map((function(e){return e.ch}))),a=this.CurrentOptions,r="";switch(DOC.Lang.toUpperCase()){case"EN-US":r="--Select--";break;case"VI-VN":r="--Lựa chọn--";break;case"TH-TH":r="-เลือก-";break;default:r="--Select--"}e.save();for(var s=0;s<t.length;s++){[],[],e.save(),e.beginPath(),e.translate(a.as[s].l,a.as[s].T),e.roundRect(0,0,1*a.as[s].w,a.as[s].h,[8]),e.strokeStyle="#cecece",e.fillStyle="white",e.stroke(),e.fill(),e.closePath();var n=glhp.DataLocal.Slide[this.IndexSlide].UserReply;if(n&&n[s]){var l=t.filter((function(e){return e.id==n[s]}))[0];e.translate(l.ct.l-t.filter((function(e){return e.ch.id===l.ch.id}))[0].l,l.ct.T-l.ch.T),l.ct.pr.forEach(t=>{t.inls.forEach(t=>{if(e.font=t.fst+" "+t.fw+" "+t.fs+"px "+t.ff,e.fillStyle=t.col.col,e.fillText(t.Txt,t.Ls[0],t.T),t.Ul)if("Single"==t.u){var i=t.Ul.X1,a=t.Ul.Y+t.Ul.W/4,r=t.Ul.X2-i,s=t.Ul.W/10;e.fillRect(i,a,r,s)}else if("Double"==t.u){i=t.Ul.X1,s=t.Ul.W/15;var n=t.Ul.Y+t.Ul.W/4-s,l=t.Ul.Y+t.Ul.W/4+s;r=t.Ul.X2-i;e.fillRect(i,n,r,s),e.fillRect(i,l,r,s)}})}),e.translate(1*a.as[s].w-20-(l.ct.l-t.filter((function(e){return e.ch.id===l.ch.id}))[0].l),i[s].h/2-(l.ct.T-l.ch.T))}else{var o=qzm.MeasureFontHeight("normal 16px Arial",r);e.font="16px Arial",e.fillStyle="#4B4B4B",e.fillText(r,12,t[s].h/2+o.height),e.translate(1*a.as[s].w-20,i[s].h/2)}var h=new Path2D("M 0 0 L 10 0 5 5 0 0");e.fillStyle="#494949",e.strokeStyle="rgba(255, 255, 255, 0.8)",e.stroke(h),e.fill(h),e.restore()}e.restore()},t.prototype.pcsmw=function(){if(!glhp.DataLocal.Slide[this.IndexSlide]||1!=glhp.DataLocal.Slide[this.IndexSlide].IsSubmit){var e=!1;if(isMobile){var t=document.getElementById(this.CurrentOptions.id);if(t){var i=t.getElementsByClassName("active-item");i.length<this.CurrentOptions.as.length&&(e=!0)}}else{var a=glhp.DataLocal.Slide[this.IndexSlide].UserReply;if(a){for(let t=0;t<a.length;t++)if(""==a[t]){e=!0;break}}else e=!0}if(e)qzm.showInvalidFeedback();else if(0==this.Type){var r=!0;if(isMobile){QuestionMobile.SaveUserAnswer(this.CurrentOptions);for(var s=0;s<i.length;s++){for(var n=0;n<i[s].classList.length;n++)if(i[s].classList[n].includes("-popup-answer")&&i[s].classList[n].replace("-popup-answer","")!=this.CurrentOptions.as[s].id){r=!1;break}if(!r)break}}else for(let e=0;e<a.length;e++)if(this.CurrentOptions.as[e].id!=a[e]){r=!1;break}if(r)return this.DisplayFeedback?(swfb("Correct",this.Options),qzm.SaveDataPoint(this.IndexSlide,wulzz("Correct",this.Options),!0,!0),qzm.SaveiF(this.IndexSlide,this.GetiF("Correct"))):glhp.nextSlide(),void qzm.roswb(this.IndexSlide);if(0==this.NumberRepeat)this.DisplayFeedback&&(swfb("Try Again",this.Options),qzm.SaveiF(this.IndexSlide,this.GetiF("Try Again"))),qzm.sttze(this.IndexSlide,0);else if(1==this.NumberRepeat){if(this.DisplayFeedback?(swfb("Incorrect",this.Options),qzm.SaveiF(this.IndexSlide,this.GetiF("Incorrect"))):glhp.nextSlide(),qzm.roswb(this.IndexSlide),qzm.SaveDataPoint(this.IndexSlide,wulzz("Incorrect",this.Options),!1,!0),this.Options.scr)if(isMobile){var l=DOC.slds.indexOf(glrs.crsl.Data),o=glhp.DataLocal.Slide[l].UserReply,h=glhp.DataLocal.Slide[l];for(s=0;s<h.Answers.length;s++){var d=QuestionMobile.GetAnswersFromId(this.CurrentOptions.as,h.Answers[s].Id),c=document.getElementById(d.id),p=document.getElementById("dropIcon"+d.id),u=document.getElementById("sequenceAnswers"+this.CurrentOptions.id);c&&p&&u&&(c.removeChild(p),0==this.Type&&null!=o?(null!=o&&this.CurrentOptions.as[s].id==o[s]?c.classList.add("item-correct"):c.classList.add("item-fail"),c.setAttribute("index",this.CurrentOptions.as.indexOf(QuestionMobile.GetAnswersFromId(this.CurrentOptions.as,o[s]))+1+".")):c.classList.add("item-fail"),0==this.Type&&u.classList.add("review"),QuestionMobile.CreateReviewResultButton())}}else for(var s=0;s<this.CurrentOptions.as.length;s++){var m=glhp.DataLocal.Slide[this.IndexSlide].UserReply,b=document.getElementById("rect"+this.CurrentOptions.as[s].id),f=document.getElementById("select"+this.CurrentOptions.as[s].id),g=document.getElementById("text"+m[s]);b&&f&&g&&(null==m||m[s]!=this.CurrentOptions.as[s].id?(b.setAttribute("stroke","#EA5F4F"),f.classList.add("item-fail")):(b.setAttribute("stroke","#70C425"),f.classList.add("item-correct")),f.setAttribute("index",this.CurrentOptions.as.indexOf(QuestionMobile.GetAnswersFromId(this.CurrentOptions.as,m[s]))+1+"."),g.setAttribute("transform","translate(25,0)"))}}else this.NumberRepeat--,this.DisplayFeedback&&(swfb("Try Again",this.Options),qzm.SaveiF(this.IndexSlide,this.GetiF("Try Again"))),qzm.sttze(this.IndexSlide,this.NumberRepeat)}else isMobile&&QuestionMobile.SaveUserAnswer(this.CurrentOptions),this.DisplayFeedback?(swfb("Thank you",this.Options),qzm.SaveiF(this.IndexSlide,this.GetiF("Thank you"))):glhp.nextSlide(),DOC.iS&&qzm.sqzor("","neutral",this.IndexSlide),qzm.roswb(this.IndexSlide)}},t}(Question),ffhk=function(e){function t(t){var i=e.call(this,t)||this;return i.idQuestion=i.CurrentOptions.id,i.TypeInput="text",i.clauseReview=[],i.IsKhaoSat=!0,i.TypeQuestion=t.tq,i.GetData(),i}return __extends(t,e),t.prototype.GetData=function(){var e=this.IndexSlide,t="Initial"==glrs.crsl.Data.slC.rM;qzm.IsEndTime&&(t=!1),t&&(glhp.DataLocal.Slide[e].IsSubmit=!1,glhp.DataLocal.Slide[e].urr="",glhp.DataLocal.Slide[e].Answers=null,glhp.DataLocal.Slide[e].UserReply=null,glhp.DataLocal.Slide[e].ArrAnswer=null,glhp.DataLocal.Slide[e].NumberRepeat=this.Options.atm),null!=glhp.DataLocal.Slide[e].UserReply?(this.UserReply=glhp.DataLocal.Slide[e].UserReply,this.NumberRepeat=glhp.DataLocal.Slide[e].NumberRepeat):(this.UserReply="",this.NumberRepeat=this.Options.atm),qzm.slwz(this.IndexSlide,this.UserReply,this.UserReply)},t.prototype.callProcess=function(){var e=this,t="#"+e.idQuestion+" textarea";$("#mainContent").on("change",t,(function(t){if(""!=$(this).val()){var i=$(this).val();e.UserReply=i,qzm.slwz(e.IndexSlide,e.UserReply,e.UserReply),qzm.sttze(e.IndexSlide,e.Options.atm)}}))},t.prototype.crqtz=function(){this.CurrentOptions.T,this.CurrentOptions.l;var e=0==isMobile?this.CurrentOptions.w:isTabletLandscape?this.CurrentOptions.widtls:isTabletPortrait?this.CurrentOptions.widtpt:isMobileLandscape?this.CurrentOptions.widmls:isMobilePortrait?this.CurrentOptions.widmpt:this.CurrentOptions.w,t=0==isMobile?this.CurrentOptions.h:isTabletLandscape?this.CurrentOptions.heitls:isTabletPortrait?this.CurrentOptions.heitpt:isMobileLandscape?this.CurrentOptions.heimls:isMobilePortrait?this.CurrentOptions.heimpt:this.CurrentOptions.h,i=glhp.crgs("div","","slide-object slide-object-textinput shown answerContainer");i.setAttribute("style","z-index:1;width:"+e+"px;height:"+t+"px;opacity:1; overflow: visible;");var a=glhp.crgs("div","div"+this.Options.lts[0].e[1].id);a.setAttribute("style","height:"+t+"px; width:"+(e+1)+"px; transform:translate(0px, 0px);");var r=glhp.crgs("textarea","input"+this.CurrentOptions.id),s=this.CurrentOptions.tip.ff,n=this.CurrentOptions.tip.fs,l="left";if(this.CurrentOptions.tip.fg)var o=this.CurrentOptions.tip.fg.col;else o="black";this.CurrentOptions.tip.talg&&(l=this.CurrentOptions.tip.talg);r.setAttribute("style","font-family:"+s+"; font-size:"+n+"px; line-height:normal;font-weight:normal; direction:ltr; text-align:"+l+"; color:"+o+"; width:"+(e-15)+"px; margin-top:0px; margin-left: 5px; resize: none;"),r.setAttribute("type",this.TypeInput),r.style.height=this.CurrentOptions.tip.fs+5+"px",r.style.maxHeight=this.CurrentOptions.h-4+"px",r.style.border="1px solid #bebebe",r.style.borderRadius="4px",r.style.overflow="auto",r.style.visibility="hidden";var h=this;if(r.onkeypress=function(){r.style.overflow="hidden",setTimeout((function(){qzm.UpdateHTMLTextArea(r,h)}),1)},r.addEventListener("keydown",(function(e){var t=(e=e||window.event).which||e.keyCode,i=e.ctrlKey?e.ctrlKey:17===t;r.style.overflow="hidden",86==t&&i&&setTimeout((function(){qzm.UpdateHTMLTextArea(r,h)}),1)}),!1),i.onclick=function(e){e.stopPropagation()},"number"===this.TypeInput);if(""==this.CurrentOptions.tip.txt?r.setAttribute("placeholder",""):r.setAttribute("placeholder",this.CurrentOptions.tip.txt),qzm.ckswb(this.IndexSlide)?glhp.enableSubmit():r.disabled=!0,r.value=this.UserReply,15==this.TypeQuestion&&r.setAttribute("maxlength",256),setTimeout((function(){qzm.UpdateHTMLTextArea(r,h),r.style.visibility=""}),1),a.appendChild(r),!this.IsKhaoSat&&this.IsCheckReview()){var d=glhp.crgs("div","","review");d.style.maxHeight="120px",d.style.overflowY="auto",(this.IsCheckReview().IsResult||glhp.DataLocal.Slide[this.IndexSlide].IsSubmit&&!glhp.DataLocal.Slide[this.IndexSlide].Correct&&this.Options.scr)&&(d.innerHTML=this.review(),glhp.DataLocal.Slide[this.IndexSlide].IsShowNoti&&(isMobile?glhp.DataLocal.Slide[this.IndexSlide].IsResult?(0==this.Type&&QuestionMobile.ShowResultReview(glhp.DataLocal.Slide[this.IndexSlide].Correct),QuestionMobile.CreateReviewResultButton()):glhp.DataLocal.Slide[this.IndexSlide].IsSubmit&&QuestionMobile.CreateReviewResultButton():swmm(this.IsCheckReview().Correct)),a.appendChild(d))}return i.appendChild(a),this.genHTML=i,i},t.prototype.drawCanvas=async function(e){e.save();var t=$("textarea[type=text]").val(),i=(this.CurrentOptions.w,this.CurrentOptions.h,this.CurrentOptions.T,this.CurrentOptions.l,this.CurrentOptions.tip.ff),a=this.CurrentOptions.tip.fs;if(this.CurrentOptions.tip.fg)var r=this.CurrentOptions.tip.fg.col;else r="black";this.CurrentOptions.tip.talg&&this.CurrentOptions.tip.talg;var s=a+"px "+i,n=this.CurrentOptions.tip.txt,l=!0;t?(n=t,l=!1):e.globalAlpha=.5,await this.DrawTextWrapCanvas(e,n,0,0,s,r,this.CurrentOptions.tip.talg,this.CurrentOptions.w-4,this.CurrentOptions.tip.fs+10,5,this.CurrentOptions.tip.fs,l),e.restore()},t.prototype.DrawTextWrapCanvas=async function(e,t,i,a,r,s,n,l,o,h,d,c){for(var p=t.replace(/\n/g,"\n ").split(" "),u="",m=0;m<p.length;m++){if(a>=o)return;e.save();var b=u+p[m];e.fillStyle=s,e.font=r,e.textAlign=n,e.measureText(b).width>l?(e.translate(5,20),await drwtCanvas(e,u,i,a,s,r,n),a+=h+d,u=p[m]+" "):p[m].includes("\n")?(e.translate(5,20),await drwtCanvas(e,b,i,a,s,r,n),a+=h+d,u=""):m==p.length-1?(c?e.translate(5,this.CurrentOptions.h-5):e.translate(5,this.CurrentOptions.h/2+5),await drwtCanvas(e,b,i,a,s,r,n),a+=h,u=p[m]+""):u+=p[m]+" ",e.restore()}},t.prototype.pcsmw=function(){var e=$("#"+this.idQuestion+" textarea");if(""!=e.val()){var t=e.val();this.UserReply={Text:t},this.DisplayFeedback?(swfb("Thank you",this.Options),qzm.SaveiF(this.IndexSlide,this.GetiF("Thank you"))):glhp.nextSlide(),DOC.iS&&qzm.sqzor(0,"neutral",this.IndexSlide),qzm.roswb(this.IndexSlide)}else qzm.showInvalidFeedback()},t}(Question),qjkj=function(e){function t(t){var i=e.call(this,t)||this;return i.TypeInput="number",i.IsKhaoSat=!1,qzm.sttze(i.IndexSlide,i.NumberRepeat),i}return __extends(t,e),t.prototype.GetData=function(){e.prototype.GetData.call(this),null==qzm.ListCorrect[this.IndexSlide]&&(qzm.ListCorrect[this.IndexSlide]=qzm.oqspNumberic(this.Options))},t.prototype.callProcess=function(){e.prototype.callProcess.call(this);var t=this,i="#"+t.idQuestion+" textarea";$("#mainContent").on("change",i,(function(e){if(""!=$(this).val()){var i=$(this).val();t.UserReply=i,t.process(),t.resultOfQuestion()?qzm.SaveDataPoint(t.IndexSlide,wulzz("Correct",t.Options),!0,!1):1==t.NumberRepeat&&qzm.SaveDataPoint(t.IndexSlide,wulzz("Incorrect",t.Options),!1,!1),qzm.slwz(t.IndexSlide,t.UserReply,t.UserReply),qzm.sttze(t.IndexSlide,t.Options.atm)}}))},t.prototype.tcrnw=function(){if(this.process(),0==this.Options.nuC.NumericMode?textCombine=Language.or:textCombine=Language.and,this.clauseReview.length>0){for(var e=Language.correctResponedIs+" "+this.clauseReview[0],t=1;t<this.clauseReview.length;t++)e+=" "+textCombine+" "+Language.correctResponed+" "+this.clauseReview[t];e+=" "}return e},t.prototype.review=function(){if(this.process(),0==this.Options.nuC.NumericMode?textCombine=Language.or:textCombine=Language.and,this.clauseReview.length>0){for(var e='<span style="font-family:'+this.CurrentOptions.tip.ff+'; font-size:22px; margin-top:15px;">'+Language.correctResponed+'</span><br/><ul style="font-family:'+this.CurrentOptions.tip.ff+'; margin-left: 15px; margin-top: 7px; font-size:20px;"><li>+ '+this.clauseReview[0]+"</li>",t=1;t<this.clauseReview.length;t++)e+="<li>+ "+textCombine+" "+this.clauseReview[t]+"</li>";e+="</ul>"}return e},t.prototype.crqtz=function(){return e.prototype.crqtz.call(this),setTimeout((function(){function e(e,t){for(var i=0,a=0;a<e.length;a++)e.charAt(a)===t&&(i+=1);return i}$.fn.focusToEnd=function(){return this.each((function(){var e=$(this).val();$(this).focus().val("").val(e)}))},$("textarea[type=number]").bind("paste",(function(e){var t=e.originalEvent.clipboardData.getData("text");return $.isNumeric(t)})),$("textarea[type=number]").keypress((function(t){if(0===this.selectionStart){if("-"===t.key)return 0===e(t.target.value,"-")||($(this).focusToEnd(),!1);if("."===t.key)return 0===e(t.target.value,".")&&0===e(t.target.value,"-")||($(this).focusToEnd(),!1);if(t.which<48||t.which>57)return $(this).focusToEnd(),!1;if(0!==e(t.target.value,"-")||0!==e(t.target.value,"."))return $(this).focusToEnd(),!1}else if(this.selectionEnd===t.target.value.length){if(t.which<48||t.which>57)return"."===t.key&&0===e(t.target.value,".")}else if("."===t.key){if(0!==e(t.target.value,"."))return $(this).focusToEnd(),!1}else if(t.which<48||t.which>57)return $(this).focusToEnd(),!1})).keydown((function(e){switch(event.keyCode){case 86:if(event.ctrlKey){$(this).val();return!0}break;case 36:if(event.shiftKey)return!0;case 8:return!0}}))}),10),this.genHTML},t.prototype.drawCanvas=async function(e){e.save();var t=$("textarea[type=number]").val(),i=(this.CurrentOptions.w,this.CurrentOptions.h,this.CurrentOptions.T,this.CurrentOptions.l,this.CurrentOptions.tip.ff),a=this.CurrentOptions.tip.fs,r="left";if(this.CurrentOptions.tip.fg)var s=this.CurrentOptions.tip.fg.col;else s="black";this.CurrentOptions.tip.talg&&(r=this.CurrentOptions.tip.talg);var n=!0,l=a+"px "+i,o=this.CurrentOptions.tip.txt;t&&(n=!1,o=t),await this.DrawTextWrapCanvas(e,o,0,0,l,s,r,this.CurrentOptions.w-4,this.CurrentOptions.tip.fs+10,0,this.CurrentOptions.tip.fs,n),e.restore()},t.prototype.DrawTextWrapCanvas=async function(e,t,i,a,r,s,n,l,o,h,d,c){for(var p=Array.from(t),u="",m=0;m<p.length;m++){if(a>=o)return;e.save();var b=u+p[m];e.fillStyle=s,e.font=r,e.textAlign=n,e.measureText(b).width>l?(e.translate(5,20),await drwtCanvas(e,u,i,a,s,r,n),a+=h+d,u=p[m]):m==p.length-1?(c?e.translate(5,this.CurrentOptions.h-5):e.translate(5,this.CurrentOptions.h/2+5),await drwtCanvas(e,b,i,a,s,r,n),a+=h,u=p[m]):u+=p[m],e.restore()}},t.prototype.resultOfQuestion=function(){return"Any"!==this.Options.nuC.nmode?!(this.ArrResult.indexOf(!1)>-1):this.ArrResult.indexOf(!0)>-1},t.prototype.pcsmw=function(){if(""!=$("#"+this.idQuestion+" textarea").val())if(this.process(),this.resultOfQuestion())this.DisplayFeedback?(swfb("Correct",this.Options),qzm.SaveiF(this.IndexSlide,this.GetiF("Correct"))):glhp.nextSlide(),qzm.SaveDataPoint(this.IndexSlide,wulzz("Correct",this.Options),!0,!0),qzm.roswb(this.IndexSlide);else if(0==this.NumberRepeat)this.DisplayFeedback&&(swfb("Try Again",this.Options),qzm.SaveiF(this.IndexSlide,this.GetiF("Try Again")));else if(1==this.NumberRepeat){if(this.DisplayFeedback?(swfb("Incorrect",this.Options),qzm.SaveiF(this.IndexSlide,this.GetiF("Incorrect"))):glhp.nextSlide(),qzm.SaveDataPoint(this.IndexSlide,wulzz("Incorrect",this.Options),!1,!0),qzm.roswb(this.IndexSlide),!this.IsKhaoSat&&this.Options.scr){var e=document.getElementById("div"+this.Options.lts[0].e[1].id);if(!e)return;var t=glhp.crgs("div","","review");t.style.maxHeight="120px",t.style.overflowY="auto",t.innerHTML=this.review(),e.appendChild(t)}}else this.DisplayFeedback&&(swfb("Try Again",this.Options),qzm.SaveiF(this.IndexSlide,this.GetiF("Try Again"))),this.NumberRepeat--,qzm.sttze(this.IndexSlide,this.NumberRepeat);else qzm.showInvalidFeedback()},t.prototype.CheckResultQuestion=function(){return""!=$("#"+this.idQuestion+" textarea").val()&&(this.process(),this.resultOfQuestion())},t.prototype.process=function(){this.clauseReview=[],this.ArrResult=[];for(var e=this.Options.nuC.val,t=0;t<e.length;t++){var i=e[t],a=this.processAnswer(i);this.ArrResult.push(a)}},t.prototype.processAnswer=function(e){var t=e.Cp,i=e.v1,a=e.v2,r=DOC.slds.indexOf(glrs.crsl.Data),s=parseFloat(glhp.DataLocal.Slide[r].UserReply);return this.ckcsw(["Equal to","Between","Less than","Less than or equal to","Greater than","Greater than or equal to","Not equal to","Not between"][t],s,i,a)},t.prototype.checkEqual=function(e,t){return e===t},t.prototype.checkBetween=function(e,t,i){var a=Math.max(t,i);return e>=Math.min(t,i)&&e<=a},t.prototype.cgwt=function(e,t){return e>t},t.prototype.cklwt=function(e,t){return e<t},t.prototype.ckcsw=function(e,t,i,a){var r;switch(e){case"Equal to":var s=this.checkEqual(t,i);r=Language.isEqualTo+" "+i,this.clauseReview.push(r);break;case"Between":s=this.checkBetween(t,i,a);r=Language.between+" "+i+" "+Language.and+" "+a,this.clauseReview.push(r);break;case"Greater than":s=this.cgwt(t,i);r=Language.isGreaThan+" "+i,this.clauseReview.push(r);break;case"Greater than or equal to":s=this.cgwt(t,i)||this.checkEqual(t,i);r=Language.greaterThanEqual+" "+i,this.clauseReview.push(r);break;case"Less than":s=this.cklwt(t,i);r=Language.isLessThan+" "+i,this.clauseReview.push(r);break;case"Less than or equal to":s=this.cklwt(t,i)||this.checkEqual(t,i);r=Language.lessThanEqual+" "+i,this.clauseReview.push(r);break;case"Not equal to":s=!this.checkEqual(t,i);r=Language.notEqual+" "+i,this.clauseReview.push(r);break;case"Not between":s=!this.checkBetween(t,i,a);r=Language.notBetween+" "+i+" "+Language.and+" "+a,this.clauseReview.push(r)}return s},t}(ffhk),jhkk=function(e){function t(t){var i=e.call(this,t)||this;return i.TypeInput="number",i.IsKhaoSat=!0,i}return __extends(t,e),t.prototype.crqtz=function(){return e.prototype.crqtz.call(this),setTimeout((function(){function e(e,t){for(var i=0,a=0;a<e.length;a++)e.charAt(a)===t&&(i+=1);return i}$.fn.focusToEnd=function(){return this.each((function(){var e=$(this).val();$(this).focus().val("").val(e)}))},$("textarea[type=number]").bind("paste",(function(e){var t=e.originalEvent.clipboardData.getData("text");return $.isNumeric(t)})),$("textarea[type=number]").keypress((function(t){if(0===this.selectionStart){if("-"===t.key)return 0===e(t.target.value,"-")||($(this).focusToEnd(),!1);if("."===t.key)return 0===e(t.target.value,".")&&0===e(t.target.value,"-")||($(this).focusToEnd(),!1);if(t.which<48||t.which>57)return $(this).focusToEnd(),!1;if(0!==e(t.target.value,"-")||0!==e(t.target.value,"."))return $(this).focusToEnd(),!1}else if(this.selectionEnd===t.target.value.length){if(t.which<48||t.which>57)return"."===t.key&&0===e(t.target.value,".")}else if("."===t.key){if(0!==e(t.target.value,"."))return $(this).focusToEnd(),!1}else if(t.which<48||t.which>57)return $(this).focusToEnd(),!1})).keydown((function(e){switch(event.keyCode){case 86:if(event.ctrlKey){$(this).val();return!0}break;case 36:if(event.shiftKey)return!0;case 8:return!0}}))}),1),this.genHTML},t.prototype.drawCanvas=async function(e){e.save();var t=$("textarea[type=number]").val(),i=(this.CurrentOptions.w,this.CurrentOptions.h),a=(this.CurrentOptions.T,this.CurrentOptions.l,this.CurrentOptions.tip.ff),r=this.CurrentOptions.tip.fs,s="left";if(this.CurrentOptions.tip.fg)var n=this.CurrentOptions.tip.fg.col;else n="black";this.CurrentOptions.tip.talg&&(s=this.CurrentOptions.tip.talg),e.alignText=s,e.font=r+"px "+a,t?(e.fillStyle=n,e.fillText(t,5,i/2+5)):(e.fillStyle="#757582",e.fillText(this.CurrentOptions.tip.txt,5,i-5)),e.restore()},t}(ffhk),QuestionSequenceDropdown=function(e){function t(t){var i=e.call(this,t)||this;return i.loaiCauHoi="SequenceMatching",i}return __extends(t,e),t.prototype.review=function(){for(var e=this.CurrentOptions.as.map((function(e){return e.ch})),t=glhp.crgs("div","","review"),i=0;i<this.CurrentOptions.as.length;i++){var a=glhp.crgs("div","","slide-object slide-object-shufflegroup shown"),r=document.createElement("span");a.style.left=e[i].w+e[i].l+50+"px",a.style.top=e[i].T+"px",a.style.width="auto",a.style.fontSize="20px",a.style.height=e[i].h+"px",a.style.lineHeight=e[i].h+"px",a.style.whiteSpace="nowrap",a.style.fontFamily="Arial",a.style.position="absolute";var s=this.asrt()[i],n=this.CurrentOptions.as.filter((function(e){return e.ch.id==s}))[0],l="";if(null!=n.ct.pr&&n.ct.pr.length>0)for(var o=0;o<n.ct.pr.length;o++)l=qzm.oqsp(n.ct.pr[o].inls);r.textContent=l,a.appendChild(r),t.appendChild(a)}return t},t.prototype.pcsmw=function(){this.mark()},t.prototype.asrt=function(){return this.CurrentOptions.as.map((function(e){return e.ch.id}))},t.prototype.mark=function(){var e=this.answerUser(),t=[];if(this.answerUser()){for(var i=this.asrt(),a=0;a<i.length;a++)e[a]==i[a]?t.push(!0):t.push(!1);t.indexOf(!1)>-1?0==this.NumberRepeat?(this.DisplayFeedback&&swfb("Try Again",this.Options),qzm.SaveiF(this.IndexSlide,this.divSlideLayek("Try Again")),this.NumberRepeat--):1==this.NumberRepeat?(this.DisplayFeedback?swfb("Incorrect",this.Options):glhp.nextSlide(),qzm.SaveDataPoint(this.IndexSlide,wulzz("Incorrect",this.Options),!1,!0),qzm.SaveiF(this.IndexSlide,this.GetiF("Incorrect")),qzm.roswb(this.IndexSlide)):(this.DisplayFeedback&&swfb("Try Again",this.Options),this.NumberRepeat--):(this.DisplayFeedback?swfb("Correct",this.Options):glhp.nextSlide(),qzm.SaveiF(this.IndexSlide,this.GetiF("Correct")),qzm.SaveDataPoint(this.IndexSlide,wulzz("Correct",this.Options),!0,!0),qzm.roswb(this.IndexSlide))}else qzm.showInvalidFeedback()},t}(Question),xxx=function(e){function t(t){var i=e.call(this,t)||this;if(i.idQuestion=i.CurrentOptions.id,i.ArrResult=[],i.isShow=!1,i.GetData(),isMobile){var a=DOC.slds.indexOf(glrs.crsl.Data);if(null==glhp.DataLocal.Slide[a].Apair){glhp.DataLocal.Slide[a].Apair=[];for(var r=[],s=0;s<glhp.DataLocal.Slide[a].Answers.length;s++)isMobile?r.push(glhp.DataLocal.Slide[a].Answers[s]):r.push(this.ArrAnswer[s]);for(var n=0,l=0;l<r.length;l++)n=Math.floor(Math.random()*r.length),glhp.DataLocal.Slide[a].Apair.push(r[n]),r.splice(n,1),l--}}return i}return __extends(t,e),t.prototype.GetData=function(){var e=this.IndexSlide,t="Initial"==glrs.crsl.Data.slC.rM;if(qzm.IsEndTime&&(t=!1),t&&(glhp.DataLocal.Slide[e].IsSubmit=!1,glhp.DataLocal.Slide[e].urr="",glhp.DataLocal.Slide[e].Answers=null,glhp.DataLocal.Slide[e].UserReply=null,glhp.DataLocal.Slide[e].ArrAnswer=null,glhp.DataLocal.Slide[e].NumberRepeat=this.Options.atm),null!=glhp.DataLocal.Slide[e].Answers){this.ArrAnswer=[],this.UserReply=glhp.DataLocal.Slide[e].UserReply;for(var i=glhp.DataLocal.Slide[e].Answers,a=0;a<i.length;a++){var r=i[a];this.ArrAnswer.push(this.CurrentOptions.as.filter((function(e){return e.M.id==r}))[0])}this.NumberRepeat=glhp.DataLocal.Slide[e].NumberRepeat}else{for(var s=0;s<this.CurrentOptions.as.length;s++)if(isMobile){var n={Answers:this.CurrentOptions.as[s]};this.ArrAnswer.push(n)}else this.ArrAnswer.push(this.CurrentOptions.as[s]);if(this.ArrAnswer=qzm.rdaws(this.ArrAnswer),this.NumberRepeat=this.Options.atm,isMobile)qzm.svawz(this.IndexSlide,this.ArrAnswer,this.NumberRepeat);else{var l=this.ArrAnswer.map((function(e){return e.M.id}));qzm.svawz(this.IndexSlide,l,this.NumberRepeat)}}null==qzm.ListCorrect[this.IndexSlide]&&(qzm.ListCorrect[this.IndexSlide]=qzm.zashl(this.CurrentOptions))},t.prototype.drawCanvas=async function(e){if(e.save(),this.UserReply&&(lenUserReply_LocalStorage=this.UserReply.length),null==this.UserReply){var t=[];for(let e=0;e<this.CurrentOptions.as.length;e++){let i=new Object;i.idch=this.CurrentOptions.as[e].ch.id,i.idMatch=this.ArrAnswer[e].M.id,i.ismatch=!1,t.push(i)}glhp.DataLocal.Slide[glhp.DataLocal.crsl].UserReply=t}var i,a=this.ArrAnswer,r=this.CurrentOptions.as;a.forEach(async(t,s)=>{e.save(),await shzp.drawCanvas(r[s].shs,{ID:r[s].id,Width:r[s].w,Height:r[s].h},e),e.restore(),e.save(),await this.leftHTMLCavnvas(this.CurrentOptions.as[s],s,e),i=a[s],await this.rightHTMLCavnvas(i,s,e),e.restore()}),e.restore()},t.prototype.leftHTML=function(e,t){var i=glhp.crgs("div",e.ch.id,"slide-object object-left left");i.setAttribute("style","left:"+e.ch.l+"px; top:"+e.ch.T+"px;"),i.style.width=e.ch.w+"px";var a=glhp.crgs("svg");a.id=e.ch.id+"svg";var r=e.ch.h;if(0!=t&&t!=this.CurrentOptions.as.length-1||(0==t&&(i.style.top=e.ch.T-r/2+"px",a.style.top=r/2+"px"),r*=1.5),i.style.height=r+"px",i.setAttribute("data-order",t),this.UserReply&&this.UserReply!=[]&&this.UserReply.filter((function(e){return e.idch==i.attributes.id.value}))!=[]){var s=this.UserReply.filter((function(e){return e.idch==i.attributes.id.value}))[0];s&&i.setAttribute("data-match",s.idMatch)}a.setAttribute("width",e.ch.w),a.setAttribute("height",e.ch.h);var n=FillColorHelper.genGTag(e.cC,{id:e.ch.id,width:e.ch.w,height:e.ch.h});a.appendChild(n.Tag);var l=glhp.crgs("path");l.setAttribute("d",e.cP),l.setAttribute("fill",n.ID),l.setAttribute("stroke","#C0C0C0"),l.setAttribute("stroke-width",1);var o=TextModule.grezByParas(e.ct,"question");if(o.setAttribute("transform","translate("+(e.ct.l-e.ch.l+10)+","+(e.ct.T-e.ch.T)+")"),a.appendChild(l),a.appendChild(o),e.cim&&e.cim.s){var h=document.createElement("div");h.style.position="absolute",h.style.left=e.cim.l+"px";var d=e.cim.T;0==t&&(d=e.ch.h/2+d),h.style.top=d+"px";var c=document.createElement("IMG");c.setAttribute("src","./"+e.cim.s),c.setAttribute("width",e.cim.w),c.setAttribute("height",e.cim.h),h.appendChild(c)}if(this.IsCheckReview()&&(this.IsCheckReview().IsResult||glhp.DataLocal.Slide[this.IndexSlide].IsSubmit&&!glhp.DataLocal.Slide[this.IndexSlide].Correct&&this.Options.scr)){i.style.left=e.ch.l+5+"px";var p=glhp.crgs("g");p.setAttribute("transform","translate(-2,1)");var u=glhp.crgs("circle");u.setAttribute("cx",0),u.setAttribute("cy",0),u.setAttribute("r",8),u.setAttribute("fill","black"),u.setAttribute("stroke","none");var m=glhp.crgs("circle");m.setAttribute("cx",0),m.setAttribute("cy",0),m.setAttribute("r",8),m.setAttribute("fill","transparent"),m.setAttribute("stroke-width",1);var b=!0,f=glhp.DataLocal.Slide[this.IndexSlide].UserReply;if(null!=f&&f.length>0)for(var g=0;g<f.length;g++)if(f[g].idch==this.CurrentOptions.as[t].ch.id&&f[g].idMatch==this.CurrentOptions.as[t].M.id){m.setAttribute("stroke","#008408"),b=!1;break}b&&m.setAttribute("stroke","#db0000");var w=glhp.crgs("text");w.setAttribute("text-anchor","middle"),w.textContent=t+1,w.setAttribute("fill","white"),w.setAttribute("x",0),w.setAttribute("y",3),p.appendChild(u),p.appendChild(m),p.appendChild(w);var y=glhp.crgs("g");y.appendChild(p),a.appendChild(y),this.isShow=!0}return i.appendChild(a),e.cim&&e.cim.s&&i.appendChild(h),i},t.prototype.leftHTMLCavnvas=async function(e,t,i){i.save(),i.save();var a=await FillColorHelper.getCanvasColor(e.cC,{id:e.ch.id,width:e.w,height:e.h},i);i.restore(),i.save(),i.beginPath(),i.translate(e.l,e.T);var r=new Path2D(e.cP);if(i.lineWidth=1,i.strokeStyle="#C0C0C0",i.fillStyle=a,i.stroke(r),i.fill(r),i.closePath(),i.restore(),e.cim&&e.cim.s){i.save();var s=await loadImage("./"+e.cim.s);i.translate(e.l,e.T),i.drawImage(s,e.cim.l,e.cim.T,e.cim.w,e.cim.h),i.translate(e.ct.l-e.ch.l,+e.ct.T-e.ch.T),await TextModule.drawCanvasByParas(e.ct,i),i.restore()}else i.save(),i.translate(e.l+e.ct.l-e.ch.l,e.T+e.ct.T-e.ch.T),await TextModule.drawCanvasByParas(e.ct,i),i.restore();i.restore()},t.prototype.rightHTMLCavnvas=async function(e,t,i){if(i.save(),e.mim&&e.mim.s)var a=await loadImage("./"+e.mim.s);i.save();var r=await FillColorHelper.getCanvasColor(e.mC,{id:e.M.id,width:e.M.w,height:e.M.h},i);i.restore();var s=new Path2D(e.mP);if(this.UserReply){var n=null;for(let t=0;t<this.UserReply.length;t++)if(e.M.id==this.UserReply[t].idMatch){n=this.UserReply[t];break}if(null!=n){let e=0;for(let t=0;t<this.CurrentOptions.as.length;t++)if(this.CurrentOptions.as[t].ch.id==n.idch){e=t;break}1==n.ismatch?(i.translate(this.CurrentOptions.as[e].M.l-37,this.CurrentOptions.as[e].M.T),isC=!1):i.translate(this.CurrentOptions.as[e].M.l,this.CurrentOptions.as[e].M.T)}else i.translate(this.CurrentOptions.as[t].M.l,this.CurrentOptions.as[t].M.T)}else i.translate(this.CurrentOptions.as[t].M.l,this.CurrentOptions.as[t].M.T);i.lineWidth=1,i.strokeStyle="rgba(226,226,226,255)",i.fillStyle=r,i.stroke(s),i.fill(s),i.translate(e.mT.l-e.M.l,e.mT.T-e.M.T),e.mT.pr.forEach(e=>{e.inls.forEach(e=>{if(i.font=e.fst+" "+e.fw+" "+e.fs+"px "+e.ff,i.fillStyle=e.col.col,i.fillText(e.Txt,e.Ls[0],e.T),e.Ul)if("Single"==e.u){var t=e.Ul.X1,a=e.Ul.Y+e.Ul.W/4,r=e.Ul.X2-t,s=e.Ul.W/10;i.fillRect(t,a,r,s)}else if("Double"==e.u){t=e.Ul.X1,s=e.Ul.W/15;var n=e.Ul.Y+e.Ul.W/4-s,l=e.Ul.Y+e.Ul.W/4+s;r=e.Ul.X2-t;i.fillRect(t,n,r,s),i.fillRect(t,l,r,s)}})}),e.mim&&e.mim.s&&(i.translate(e.mim.l-e.M.l+e.l-37,e.mim.T),i.drawImage(a,0,0,e.mim.w,e.mim.h)),i.restore()},t.prototype.rightHTML=function(e,t){var i=glhp.crgs("div",e.M.id,"slide-object object-right right"),a=!0;if(this.UserReply){var r=null;for(let t=0;t<this.UserReply.length;t++)if(e.M.id==this.UserReply[t].idMatch){r=this.UserReply[t];break}if(null!=r){let t=0;for(let e=0;e<this.CurrentOptions.as.length;e++)if(this.CurrentOptions.as[e].ch.id==r.idch){t=e;break}1==r.ismatch?(i.setAttribute("style","width:"+e.M.w+"px; height:"+e.M.h+"px;left:"+(this.CurrentOptions.as[t].M.l-37)+"px; top:"+this.CurrentOptions.as[t].M.T+"px; z-index: 1;"),i.setAttribute("data-order",t),a=!1):(i.setAttribute("style","width:"+e.M.w+"px; height:"+e.M.h+"px;left:"+this.CurrentOptions.as[t].M.l+"px; top:"+this.CurrentOptions.as[t].M.T+"px; z-index: 1;"),i.setAttribute("data-order",t))}else i.setAttribute("style","width:"+e.M.w+"px; height:"+e.M.h+"px;left:"+this.CurrentOptions.as[t].M.l+"px; top:"+this.CurrentOptions.as[t].M.T+"px; z-index: 1;"),i.setAttribute("data-order",t)}else i.setAttribute("style","width:"+e.M.w+"px; height:"+e.M.h+"px;left:"+this.CurrentOptions.as[t].M.l+"px; top:"+this.CurrentOptions.as[t].M.T+"px; z-index: 1;"),i.setAttribute("data-order",t);var s=glhp.crgs("svg");s.id=e.M.id+"svg",s.setAttribute("width",e.M.w),s.setAttribute("height",e.M.h);var n=FillColorHelper.genGTag(e.mC,{id:e.M.id,width:e.M.w,height:e.M.h});s.appendChild(n.Tag);var l=glhp.crgs("path");l.setAttribute("d",e.mP),l.setAttribute("fill",n.ID),l.setAttribute("stroke","#C0C0C0"),l.setAttribute("stroke-width",1);var o=TextModule.grezByParas(e.mT,"question");if(o.setAttribute("transform","translate("+(e.mT.l-e.M.l)+","+(e.mT.T-e.M.T)+")"),s.appendChild(l),s.appendChild(o),e.mim&&e.mim.s){var h=document.createElement("div");h.style.position="absolute",h.style.left=e.mim.l-e.M.l+e.l+"px",h.style.top=e.mim.T+"px";var d=document.createElement("IMG");d.setAttribute("src","./"+e.mim.s),d.setAttribute("width",e.mim.w),d.setAttribute("height",e.mim.h),h.appendChild(d)}if(this.IsCheckReview()&&(this.IsCheckReview().IsResult||glhp.DataLocal.Slide[this.IndexSlide].IsSubmit&&!glhp.DataLocal.Slide[this.IndexSlide].Correct&&this.Options.scr)){i.style.left=a?this.CurrentOptions.as[t].M.l:this.CurrentOptions.as[t].M.l-32+"px";var c=glhp.crgs("g");c.setAttribute("transform","translate("+(e.M.w+2)+",1)");var p=glhp.crgs("circle","rleft");p.setAttribute("cx",0),p.setAttribute("cy",0),p.setAttribute("r",8),p.setAttribute("fill","transparent"),p.setAttribute("stroke-width",1);var u=glhp.crgs("circle","rright");u.setAttribute("cx",0),u.setAttribute("cy",0),u.setAttribute("r",7),u.setAttribute("stroke-width",1.5);var m=glhp.DataLocal.Slide[this.IndexSlide].UserReply,b=glhp.crgs("text");b.setAttribute("text-anchor","middle"),b.setAttribute("fill","white"),b.setAttribute("x",0),b.setAttribute("y",3);for(var f=0;f<this.ArrAnswer.length;f++)this.CurrentOptions.as[f].M.id==this.ArrAnswer[t].M.id&&(b.textContent=f+1);this.CurrentOptions.as;var g=m.filter((function(t){return t.idMatch==e.M.id}))[0];g&&1==g.ismatch&&g.idch==e.ch.id?(p.setAttribute("stroke","#5cc959"),u.setAttribute("fill","#33a833"),u.setAttribute("stroke","#008408")):(p.setAttribute("stroke","#fb3b3b"),u.setAttribute("fill","red"),u.setAttribute("stroke","black")),c.appendChild(p),c.appendChild(u),c.appendChild(b);var w=glhp.crgs("g");w.appendChild(c),s.appendChild(w),this.IsCheckReview().IsResult&&swmm(this.IsCheckReview().Correct)}return i.appendChild(s),e.mim&&e.mim.s&&i.appendChild(h),i},t.prototype.crqtz=function(){var e=0==isMobile?this.CurrentOptions.w:isTabletLandscape?this.CurrentOptions.widtls:isTabletPortrait?this.CurrentOptions.widtpt:isMobileLandscape?this.CurrentOptions.widmls:isMobilePortrait?this.CurrentOptions.widmpt:this.CurrentOptions.w,t=0==isMobile?this.CurrentOptions.h:isTabletLandscape?this.CurrentOptions.heitls:isTabletPortrait?this.CurrentOptions.heitpt:isMobileLandscape?this.CurrentOptions.heimls:isMobilePortrait?this.CurrentOptions.heimpt:this.CurrentOptions.h;if(this.UserReply&&this.UserReply.length,null==this.UserReply){var i=[];for(let e=0;e<this.CurrentOptions.as.length;e++){let t=new Object;t.idch=this.CurrentOptions.as[e].ch.id,t.idMatch=this.ArrAnswer[e].M.id,t.ismatch=!1,i.push(t)}glhp.DataLocal.Slide[glhp.DataLocal.crsl].UserReply=i}var a,r,s=glhp.crgs("div","answersContainer"+this.CurrentOptions.id,"answer-list answerContainer");s.setAttribute("style","position: absolute; top: 0px; width:"+e+"px; height:"+t+"px; overflow-y: auto; overflow-x: hidden;");for(var n=this.ArrAnswer,l=this.CurrentOptions.as,o=0;o<n.length;o++){var h=glhp.crgs("div");h.setAttribute("style","position: absolute; left:"+l[o].l+"px;top:"+l[o].ch.T+"px; width:"+l[o].w+"px; height:"+l[o].h+"px; z-index: 0;");var d=glhp.crgs("svg");d.setAttribute("width",l[o].w),d.setAttribute("height",l[o].h),d.style.overflow="hidden";var c=shzp.grnz(l[o].shs,{ID:l[o].id,Width:l[o].w,Height:l[o].h});d.appendChild(c),h.appendChild(d),s.appendChild(h),a=n[o],r=this.leftHTML(this.CurrentOptions.as[o],o),s.appendChild(r),r=this.rightHTML(a,o),s.appendChild(r)}var p=glhp.crgs("div",this.CurrentOptions.id);p.setAttribute("style","width:"+e+"px; height:"+t+"px; position: absolute; left:"+this.CurrentOptions.l+"px; top:"+this.CurrentOptions.T+"px;");var u=this;return qzm.ckswb(this.IndexSlide)&&(setTimeout((function(){qzm.qmtd(u)}),10),glhp.enableSubmit()),p.appendChild(s),this.isShow&&glhp.DataLocal.Slide[this.IndexSlide].IsShowNoti&&(isMobile?glhp.DataLocal.Slide[this.IndexSlide].IsResult?(0==this.Type&&QuestionMobile.ShowResultReview(glhp.DataLocal.Slide[this.IndexSlide].Correct),QuestionMobile.CreateReviewResultButton()):glhp.DataLocal.Slide[this.IndexSlide].IsSubmit&&QuestionMobile.CreateReviewResultButton():swmm(this.IsCheckReview().Correct)),s},t.prototype.crqtzMobile=function(){var e=0==isMobile?this.CurrentOptions.w:isTabletLandscape?this.CurrentOptions.widtls:isTabletPortrait?this.CurrentOptions.widtpt:isMobileLandscape?this.CurrentOptions.widmls:isMobilePortrait?this.CurrentOptions.widmpt:this.CurrentOptions.w,t=0==isMobile?this.CurrentOptions.h:isTabletLandscape?this.CurrentOptions.heitls:isTabletPortrait?this.CurrentOptions.heitpt:isMobileLandscape?this.CurrentOptions.heimls:isMobilePortrait?this.CurrentOptions.heimpt:this.CurrentOptions.h,i=glhp.crgs("div","content"+this.CurrentOptions.id,"content-question");i.style="width:"+e+"px;height:"+t+"px;overflow-y: auto;";var a=glhp.crgs("div",this.CurrentOptions.id,"mathching-items");a.style="margin: 14px 18px;background:transparent;";for(var r=DOC.slds.indexOf(glrs.crsl.Data),s=glhp.DataLocal.Slide[r],n=s.UserReply,l=0;l<s.Answers.length;l++){var o=QuestionMobile.GetAnswersFromId(this.CurrentOptions.as,s.Answers[l].Id),h=glhp.crgs("div",o.id);h.className="answer-item",h.classList.add("matching-answer");var d=glhp.crgs("div","left-match"+o.id,"match-item"),c=glhp.crgs("div","right-match"+o.id,"match-item"),p=glhp.crgs("div","saperator","saperator");p.style="left: 12px;right: 12px;height: 1px;content: '';position: absolute;background: #E0E0E0;z-index:1;",d.style="display: flex !important;",h.appendChild(d),h.appendChild(p),h.appendChild(c);var u=glhp.crgs("div","","image");if(u.style.display="none",d.appendChild(u),null!=o.cim)u.style="width:"+o.cim.w+"px;height: "+o.cim.h+"px; margin: auto; margin-right: 10px;",g=(g="./"+o.cim.s.replace("\\","/")).replace("\\","/"),u.style.backgroundImage="url("+g+")",u.style.display="block";var m=QuestionMobile.GetQuestionMobile(o.ct);d.appendChild(m);var b=glhp.crgs("div","","image");b.style.display="none",c.appendChild(b);var f=glhp.crgs("div","","text-content");if(f.style="min-height:22px;",c.appendChild(f),n)if(""!=n[l]){if(h.classList.add("active-item"),h.classList.add(n[l]+"-popup-answer"),answer_match=QuestionMobile.GetAnswersFromId(this.CurrentOptions.as,n[l]),answer_match){var g,w=null;switch(glrs.crsl.Data.tq){case 6:w=QuestionMobile.GetQuestionMobile(answer_match.MatchText);break;case 7:w=QuestionMobile.GetQuestionMobile(answer_match.cbT)}if(f.appendChild(w),null!=answer_match.mim)b.style="width:"+answer_match.mim.w+"px;height: "+answer_match.mim.h+"px;",g=(g="./"+answer_match.mim.s.replace("\\","/")).replace("\\","/"),b.style.backgroundImage="url("+g+")",b.style.display="block"}}else{var y=null;switch(DOC.Lang.toUpperCase()){case"EN-US":y="-Select-";break;case"VI-VN":y="-Lựa chọn-";break;case"TH-TH":y="-เลือก-";break;default:y="-Select-"}f.innerHTML=y}else{y=null;switch(DOC.Lang.toUpperCase()){case"EN-US":y="-Select-";break;case"VI-VN":y="-Lựa chọn-";break;case"TH-TH":y="-เลือก-";break;default:y="-Select-"}f.innerHTML=y}if(a.appendChild(h),!s.IsResult&&(this.Options.scr&&!glhp.DataLocal.Slide[this.IndexSlide].IsSubmit||!s.IsResult&&!glhp.DataLocal.Slide[this.IndexSlide].IsSubmit||!s.IsResult&&!glhp.DataLocal.Slide[this.IndexSlide].IsSubmit||glhp.DataLocal.Slide[this.IndexSlide].IsSubmit&&!this.Options.scr)){var v=glhp.crgs("div","dropIcon","icon-area"),C=glhp.crgs("svg");C.setAttribute("width",17),C.setAttribute("height",9),C.setAttribute("viewBox","0 0 17 9");var T=glhp.crgs("path");T.setAttribute("fill","rgba(162, 162, 161, 1)"),v.id="dropIcon"+o.id,T.setAttribute("d","M0.232,1.015l0.601-0.49c0.321-0.277,0.855-0.277,1.177,0 l6.485,5.473l6.507-5.473c0.32-0.277,0.855-0.277,1.177,0l0.579,0.49c0.342,0.277,0.319,0.724,0,0.98 \tc-2.547,2.172-5.095,4.324-7.662,6.474C8.944,8.617,8.73,8.682,8.515,8.682H8.494c-0.213,0-0.428-0.064-0.6-0.213 \tc-2.546-2.15-5.093-4.302-7.641-6.474C-0.088,1.738-0.088,1.292,0.232,1.015L0.232,1.015z"),C.appendChild(T),v.appendChild(C),c.appendChild(v)}else if(null==n||n[l]!=o.id){var S=glhp.crgs("div","dropIcon","icon-area");c.appendChild(S);var x=glhp.crgs("svg");S.appendChild(x);var A=glhp.crgs("g");x.appendChild(A);var M=glhp.crgs("path");M.style.fill="#EA5F4F",A.appendChild(M),M.setAttribute("d","M612,306C612,137.004,474.995,0,306,0C137.004,0,0,137.004,0,306c0,168.995,137.004,306,306,306    C474.995,612,612,474.995,612,306z M27.818,306C27.818,152.36,152.36,27.818,306,27.818S584.182,152.36,584.182,306    S459.64,584.182,306,584.182S27.818,459.64,27.818,306z");var G=glhp.crgs("path");G.style.fill="#EA5F4F",A.appendChild(G),G.setAttribute("d","M336.962,200.875c7.956,9.792,11.906,21.337,11.906,34.634c0,9.514-2.727,18.666-8.151,27.512    c-2.977,5.007-6.898,9.848-11.795,14.465l-16.301,16.107c-15.634,15.356-25.732,28.958-30.35,40.865    c-4.618,11.878-6.927,27.54-6.927,46.957h36.275c0-17.108,1.947-30.044,5.814-38.807c3.866-8.763,12.323-19.444,25.37-32.102    c17.942-17.387,29.849-30.572,35.746-39.53s8.874-20.641,8.874-35.051c0-23.756-8.039-43.285-24.146-58.585    c-16.106-15.3-37.526-22.922-64.288-22.922c-28.931,0-51.686,8.929-68.266,26.789s-24.87,41.449-24.87,70.797h36.275    c0.667-17.665,3.478-31.184,8.346-40.559c8.679-16.83,24.369-25.259,47.068-25.259    C315.875,186.187,329.033,191.083,336.962,200.875z");var D=glhp.crgs("rect");D.style.fill="#EA5F4F",A.appendChild(D),D.setAttribute("x",274.51),D.setAttribute("y",274.51),D.setAttribute("width",40.559),D.setAttribute("height",42.367),D.style.fill="#EA5F4F",x.setAttribute("viewBox","0,0,612,612"),x.style.width="20px",x.style.height="20px"}(s.IsResult&&s.IsSubmit||glhp.DataLocal.Slide[this.IndexSlide].IsSubmit&&!glhp.DataLocal.Slide[this.IndexSlide].Correct&&this.Options.scr)&&(0==this.Type?h.classList.contains("active-item")&&null!=n&&n[l]==o.id?(h.classList.add("item-correct"),h.style.pointerEvents="none"):h.classList.add("item-fail"):(h.classList.add("item-correct"),h.style.pointerEvents="none"))}var L=this;return s.IsResult&&s.IsSubmit||glhp.DataLocal.Slide[this.IndexSlide].IsSubmit&&!glhp.DataLocal.Slide[this.IndexSlide].Correct&&this.Options.scr?(0==this.Type&&s.IsResult&&s.IsSubmit&&QuestionMobile.ShowResultReview(s.Correct),QuestionMobile.CreateReviewResultButton(),setTimeout((function(){QuestionMobile.ShowAnswersReview(L.CurrentOptions)}),1)):setTimeout((function(){QuestionMobile.ShowMatchinglayer(L.CurrentOptions)}),1),!s.IsResult&&s.IsSubmit&&QuestionMobile.CreateReviewResultButton(),i.appendChild(a),i},t.prototype.asrt=function(){for(var e={},t=[],i=this.CurrentOptions.as,a=0;a<i.length;a++)(e={}).idch=i[a].ch.id,e.idMatch=i[a].M.id,t.push(e);return t},t.prototype.asws=function(){for(var e,t,i=$("#"+this.idQuestion+"> div > div[data-match]"),a=[],r=0;r<i.length;r++){t=new Object;var s=(e=i[r]).attributes.id.value,n=e.attributes["data-match"].value;t.idch=s,t.idMatch=n,a.push(t)}return a},t.prototype.check=function(e){var t,i=!0,a=glhp.DataLocal.Slide[e].UserReply;if(isMobile){var r=document.getElementById(this.CurrentOptions.id);if(r){var s=r.getElementsByClassName("active-item");if(s.length<this.CurrentOptions.as.length)return qzm.showInvalidFeedback(),null;if(QuestionMobile.SaveUserAnswer(this.CurrentOptions),0==this.Type)for(var n=0;n<s.length;n++){for(var l=0;l<s[n].classList.length;l++)if(s[n].classList[l].includes("-popup-answer")&&s[n].classList[l].replace("-popup-answer","")!=s[n].id){i=!1;break}if(!i)break}}}else{null==a&&(t=!0);for(let e=0;e<a.length;e++){if(0==a[e].ismatch){t=!0;break}var o=this.CurrentOptions.as.filter((function(t){return t.ch.id==a[e].idch}))[0];if(null==o||o.M.id!=a[e].idMatch){i=!1;break}if(0==i)break}}return 1==t?(qzm.showInvalidFeedback(),null):i},t.prototype.pcsmw=function(){var e=this.check(this.IndexSlide);if(null!=e)if(e)this.DisplayFeedback?(swfb("Correct",this.Options),qzm.SaveiF(this.IndexSlide,this.GetiF("Correct"))):glhp.nextSlide(),qzm.SaveDataPoint(this.IndexSlide,wulzz("Correct",this.Options),!0,!0),qzm.roswb(this.IndexSlide);else if(0==this.NumberRepeat)this.DisplayFeedback&&(swfb("Try Again",this.Options),qzm.SaveiF(this.IndexSlide,this.GetiF("Try Again")));else if(1==this.NumberRepeat){if(this.DisplayFeedback?(swfb("Incorrect",this.Options),qzm.SaveiF(this.IndexSlide,this.GetiF("Incorrect"))):glhp.nextSlide(),qzm.SaveDataPoint(this.IndexSlide,wulzz("Incorrect",this.Options),!1,!0),qzm.roswb(this.IndexSlide),this.Options.scr)for(var t=this.ArrAnswer,i=glhp.DataLocal.Slide[this.IndexSlide],a=i.UserReply,r=0;r<t.length;r++){var s=QuestionMobile.GetAnswersFromId(this.CurrentOptions.as,i.Answers[r].Id);if(isMobile){var n=document.getElementById("right-match"+s.id),l=document.getElementById("dropIcon"+s.id);if(!n||!l)continue;if(n.removeChild(l),null==a||a[r]!=s.id){var o=glhp.crgs("div","dropIcon","icon-area");n.appendChild(o);var h=glhp.crgs("svg");o.appendChild(h);var d=glhp.crgs("g");h.appendChild(d);var c=glhp.crgs("path");c.style.fill="#EA5F4F",d.appendChild(c),c.setAttribute("d","M612,306C612,137.004,474.995,0,306,0C137.004,0,0,137.004,0,306c0,168.995,137.004,306,306,306    C474.995,612,612,474.995,612,306z M27.818,306C27.818,152.36,152.36,27.818,306,27.818S584.182,152.36,584.182,306    S459.64,584.182,306,584.182S27.818,459.64,27.818,306z");var p=glhp.crgs("path");p.style.fill="#EA5F4F",d.appendChild(p),p.setAttribute("d","M336.962,200.875c7.956,9.792,11.906,21.337,11.906,34.634c0,9.514-2.727,18.666-8.151,27.512    c-2.977,5.007-6.898,9.848-11.795,14.465l-16.301,16.107c-15.634,15.356-25.732,28.958-30.35,40.865    c-4.618,11.878-6.927,27.54-6.927,46.957h36.275c0-17.108,1.947-30.044,5.814-38.807c3.866-8.763,12.323-19.444,25.37-32.102    c17.942-17.387,29.849-30.572,35.746-39.53s8.874-20.641,8.874-35.051c0-23.756-8.039-43.285-24.146-58.585    c-16.106-15.3-37.526-22.922-64.288-22.922c-28.931,0-51.686,8.929-68.266,26.789s-24.87,41.449-24.87,70.797h36.275    c0.667-17.665,3.478-31.184,8.346-40.559c8.679-16.83,24.369-25.259,47.068-25.259    C315.875,186.187,329.033,191.083,336.962,200.875z");var u=glhp.crgs("rect");u.style.fill="#EA5F4F",d.appendChild(u),u.setAttribute("x",274.51),u.setAttribute("y",274.51),u.setAttribute("width",40.559),u.setAttribute("height",42.367),u.style.fill="#EA5F4F",h.setAttribute("viewBox","0,0,612,612"),h.style.width="20px",h.style.height="20px"}var m=document.getElementById(s.id);if(!m)continue;0==this.Type?(m.classList.contains("active-item")&&null!=a&&a[r]==s.id?(m.classList.add("item-correct"),m.style.pointerEvents="none"):m.classList.add("item-fail"),setTimeout((function(){QuestionMobile.ShowAnswersReview(this.CurrentOptions)}),1)):(m.classList.add("item-correct"),m.style.pointerEvents="none")}else this.showCorrecLeftHTML(this.CurrentOptions.as[r],r),this.showCorrecRightHTML(t[r],r)}}else this.DisplayFeedback&&(swfb("Try Again",this.Options),qzm.SaveiF(this.IndexSlide,this.GetiF("Try Again"))),this.NumberRepeat--,qzm.sttze(this.IndexSlide,this.NumberRepeat)},t.prototype.showCorrecLeftHTML=function(e,t){var i=document.getElementById(e.ch.id),a=document.getElementById(e.ch.id+"svg");if(i&&a){i.style.left=e.ch.l+5+"px";var r=glhp.crgs("g");r.setAttribute("transform","translate(-2,1)");var s=glhp.crgs("circle");s.setAttribute("cx",0),s.setAttribute("cy",0),s.setAttribute("r",8),s.setAttribute("fill","black"),s.setAttribute("stroke","none");var n=glhp.crgs("circle");n.setAttribute("cx",0),n.setAttribute("cy",0),n.setAttribute("r",8),n.setAttribute("fill","transparent"),n.setAttribute("stroke-width",1);var l=!0,o=glhp.DataLocal.Slide[this.IndexSlide].UserReply;if(null!=o&&o.length>0)for(var h=0;h<o.length;h++)if(o[h].idch==this.CurrentOptions.as[t].ch.id&&o[h].idMatch==this.CurrentOptions.as[t].M.id){n.setAttribute("stroke","#008408"),l=!1;break}l&&n.setAttribute("stroke","#db0000");var d=glhp.crgs("text");d.setAttribute("text-anchor","middle"),d.textContent=t+1,d.setAttribute("fill","white"),d.setAttribute("x",0),d.setAttribute("y",3),r.appendChild(s),r.appendChild(n),r.appendChild(d);var c=glhp.crgs("g");c.appendChild(r),a.appendChild(c),i.appendChild(a)}},t.prototype.showCorrecRightHTML=function(e,t){var i=document.getElementById(e.M.id),a=document.getElementById(e.M.id+"svg");if(i&&a){i.style.left=this.CurrentOptions.as[t].M.l-32+"px";var r=glhp.crgs("g");r.setAttribute("transform","translate("+(e.M.w+2)+",1)");var s=glhp.crgs("circle","rleft");s.setAttribute("cx",0),s.setAttribute("cy",0),s.setAttribute("r",8),s.setAttribute("fill","transparent"),s.setAttribute("stroke-width",1);var n=glhp.crgs("circle","rright");n.setAttribute("cx",0),n.setAttribute("cy",0),n.setAttribute("r",7),n.setAttribute("stroke-width",1.5);var l=glhp.DataLocal.Slide[this.IndexSlide].UserReply,o=glhp.crgs("text");o.setAttribute("text-anchor","middle"),o.setAttribute("fill","white"),o.setAttribute("x",0),o.setAttribute("y",3);for(var h=0;h<this.ArrAnswer.length;h++)this.CurrentOptions.as[h].M.id==this.ArrAnswer[t].M.id&&(o.textContent=h+1);this.CurrentOptions.as;var d=l.filter((function(t){return t.idMatch==e.M.id}))[0];d&&1==d.ismatch&&d.idch==e.ch.id?(s.setAttribute("stroke","#5cc959"),n.setAttribute("fill","#33a833"),n.setAttribute("stroke","#008408")):(s.setAttribute("stroke","#fb3b3b"),n.setAttribute("fill","red"),n.setAttribute("stroke","black")),r.appendChild(s),r.appendChild(n),r.appendChild(o);var c=glhp.crgs("g");c.appendChild(r),a.appendChild(c),i.appendChild(a)}},t.prototype.CheckMatching=function(e){var t,i=!0,a=glhp.DataLocal.Slide[e].UserReply;null==a&&(t=!0);for(let e=0;e<a.length;e++){if(0==a[e].ismatch){t=!0;break}var r=this.CurrentOptions.as.filter((function(t){return t.ch.id==a[e].idch}))[0];if(null==r||r.M.id!=a[e].idMatch){i=!1;break}if(0==i)break}return 1!=t&&i},t}(Question),lols=function(e){function t(t){var i=e.call(this,t)||this;i.dataMatch=null,i.datach=null,i.idQuestion=i.CurrentOptions.id,i.GetData();var a=DOC.slds.indexOf(glrs.crsl.Data);if(isMobile&&null==glhp.DataLocal.Slide[a].Apair){glhp.DataLocal.Slide[a].Apair=[];for(var r=[],s=0;s<glhp.DataLocal.Slide[a].Answers.length;s++)r.push(glhp.DataLocal.Slide[a].Answers[s]);for(var n=0,l=0;l<r.length;l++)n=Math.floor(Math.random()*r.length),glhp.DataLocal.Slide[a].Apair.push(r[n]),r.splice(n,1),l--}return i}return __extends(t,e),t.prototype.GetData=function(){var e=this.IndexSlide,t="Initial"==glrs.crsl.Data.slC.rM;if(qzm.IsEndTime&&(t=!1),t&&(glhp.DataLocal.Slide[e].IsSubmit=!1,glhp.DataLocal.Slide[e].urr="",glhp.DataLocal.Slide[e].Answers=null,glhp.DataLocal.Slide[e].UserReply=null,glhp.DataLocal.Slide[e].ArrAnswer=null,glhp.DataLocal.Slide[e].NumberRepeat=this.Options.atm),null!=glhp.DataLocal.Slide[e].Answers)this.ArrAnswer=glhp.DataLocal.Slide[e].Answers,this.UserReply=glhp.DataLocal.Slide[e].UserReply,this.NumberRepeat=glhp.DataLocal.Slide[e].NumberRepeat;else{var i=this.CurrentOptions.as,a=[];if(this.Options.sff)for(var r=0;r<i.length;r++)if(isMobile){var s={Answers:i[r]};a.push(s),a=qzm.rdaws(a)}else a.push(qzm.rdaws(i.map((function(e){return e.id}))));else if(isMobile){s={Answers:i[r]};a.push(s),a=qzm.rdaws(a)}else for(r=0;r<i.length;r++)a.push(i.map((function(e){return e.id})));null==qzm.ListCorrect[this.IndexSlide]&&(qzm.ListCorrect[this.IndexSlide]=qzm.qmv_(this.CurrentOptions)),this.UserReply=glhp.DataLocal.Slide[e].UserReply,this.ArrAnswer=a,this.NumberRepeat=this.Options.atm,null==qzm.ListCorrect[this.IndexSlide]&&(qzm.ListCorrect[this.IndexSlide]=qzm.qmv_(this.CurrentOptions))}qzm.svawz(this.IndexSlide,this.ArrAnswer,this.NumberRepeat)},t.prototype.crqtz=function(){var e=this,t=this.CurrentOptions.as,i=t.map((function(e){return e.ct}));this.datach=i;var a=t.map((function(e){return e.cbT}));this.dataMatch=a;var r=t.map((function(e){return e.ch})),s=t.map((function(e){return e.Cb})),n=this.CurrentOptions,l=t.length,o=glhp.crgs("div","content"+this.CurrentOptions.id,"group"),h=[],d=[],c=0,p=e;switch(holderContent="",DOC.Lang.toUpperCase()){case"EN-US":holderContent="--Select--";break;case"TH-TH":holderContent="--เลือก--";break;case"VI-VN":holderContent="--Lựa chọn--"}for(var u=0;u<l;u++){h=[],d=[];var m=glhp.crgs("svg",t[u].id,"answer-item");m.setAttribute("style","position:absolute; width:"+t[u].w+"px;height:"+t[u].h+"px;opacity:1;transform-origin:"+(r[u].w-1)/2+"px "+(r[u].h-1)/2+"px;transform:translate("+t[u].l+"px, "+t[u].T+"px) rotate(0deg) scale(1, 1);overflow: hidden;"),m.setAttribute("data-type","left-answer-question"),m.setAttribute("data-model-id",t[u].id);var b=shzp.grnz(t[u].shs,{id:t[u].id,width:t[u].w,height:t[u].h});m.appendChild(b);var f=glhp.crgs("g"),g=glhp.crgs("g","","background"),w=glhp.crgs("path");w.setAttribute("fill","#FFFFFF"),w.setAttribute("fill-opacity","0"),w.setAttribute("d","M0,0 L"+t[u].w+",0 "+t[u].h+","+t[u].h+" 0,"+t[u].h+"Z"),g.appendChild(w);var y,v=TextModule.grezByParas(i[u],"question");f.appendChild(g),f.appendChild(v),v.setAttribute("transform","translate("+(i[u].l-t[u].l)+","+(i[u].T-t[u].T)+")"),m.appendChild(f),o.appendChild(m);var C=glhp.crgs("tspan");C.setAttribute("x","12"),C.setAttribute("y","30"),C.setAttribute("is-user-choice","no");var T=glhp.crgs("g","","select"),S=glhp.crgs("rect");S.setAttribute("width",1*s[u].w),S.setAttribute("height",s[u].h),S.setAttribute("rx",8),S.setAttribute("ry",8),S.setAttribute("stroke","#cecece"),S.setAttribute("fill","white"),S.id="rect"+t[u].id,T.appendChild(S),C.textContent=holderContent;var x=glhp.crgs("text");x.setAttribute("font-family","Arial"),x.setAttribute("font-size","16px"),x.setAttribute("fill","#4B4B4B"),x.setAttribute("fill-opacity","1"),x.appendChild(C);var A=glhp.crgs("div","select"+t[u].id,"drop-down-Item");A.style.top=s[u].T+"px",A.style.left=s[u].l+"px",A.style.position="absolute";var M=glhp.DataLocal.Slide[this.IndexSlide].UserReply;if(M&&M[u]){var G=t.filter((function(t){return t.id==e.UserReply[u]}))[0],D=TextModule.grezByParas(G.cbT,"question");D.setAttribute("transform","translate("+(G.cbT.l-G.Cb.l)+","+(G.cbT.T-G.Cb.T)+")"),D.setAttribute("data-id",G.id),T.appendChild(D),A.classList.add("active"+this.UserReply[u])}else(y=glhp.crgs("g","","text")).appendChild(x),T.appendChild(y);(this.IsCheckReview().IsResult||glhp.DataLocal.Slide[this.IndexSlide].IsSubmit&&!glhp.DataLocal.Slide[this.IndexSlide].Correct&&this.Options.scr)&&(1==this.Type?S.setAttribute("stroke","#70C425"):null==M||M[u]!=t[u].id?S.setAttribute("stroke","#EA5F4F"):S.setAttribute("stroke","#70C425"));var L=glhp.crgs("g");L.setAttribute("transform","translate("+(1*s[u].w-20)+", "+s[u].h/2+")");var k=glhp.crgs("path");k.setAttribute("d","M 0 0 L 10 0 5 5 0 0"),k.setAttribute("fill","#494949"),k.setAttribute("stroke","rgba(255, 255, 255, 0.8)"),L.appendChild(k),T.appendChild(L);var O=glhp.crgs("svg");O.setAttribute("width",1*s[u].w),O.setAttribute("height",s[u].h),O.setAttribute("style","z-index:"+s[u].z+";"),O.appendChild(T),A.setAttribute("data-model-id",u),A.appendChild(O),A.innerHTML=A.innerHTML;var E=glhp.crgs("g","","drop-list-cover"),H=0;for(d=this.ArrAnswer[u],c=0,c=0;c<d.length;c++)h.push(this.CurrentOptions.as.filter((function(e){return e.id==d[c]}))[0]);for(var I=0;I<h.length;I++){var P=TextModule.grezByParas(h[I].cbT,"question"),R=glhp.crgs("rect");P.setAttribute("transform","translate("+(a[u].l-s[u].l)+","+(a[u].T-s[u].T)+")"),P.setAttribute("data-id",d[I]),R.setAttribute("width",s[u].w),R.setAttribute("height",t[u].h),R.setAttribute("class","drop-list-item-out"),R.setAttribute("fill","white"),droplistItem=glhp.crgs("g","dropItem"+h[I].id,"drop-list-item"),droplistItem.setAttribute("transform","translate(0,"+H+")"),droplistItem.appendChild(R),droplistItem.appendChild(P),E.appendChild(droplistItem),droplistItem.addEventListener("mouseup",(function(e){e.stopPropagation()})),H+=s[u].h}var F=glhp.crgs("svg");F.setAttribute("width",s[u].w),F.setAttribute("height",H),F.appendChild(E);var B=glhp.crgs("div","","drop-list-drop-down-inner");B.appendChild(F);var N=glhp.crgs("div","dropdown"+t[u].id,"drop-list-drop-down");N.appendChild(B),N.setAttribute("style","width:"+(1*s[u].w-2)+"px;border-color:#cecece;display:none; border-width: 1px;border-radius:8px;top:"+(n.as[u].h+n.T+n.as[u].T)+"px;left:"+(n.l+s[u].l)+"px"),N.setAttribute("data-model-id",u);var z=document.getElementById("container-items");z||((z=document.createElement("div")).id="container-items",document.getElementById("container").appendChild(z)),z.appendChild(N),o.appendChild(A)}var Q=glhp.crgs("div","","slide-object slide-object-shufflegroup shown");Q.appendChild(o);var V=glhp.crgs("div","answersContainer"+this.CurrentOptions.id,"contain-answers  answerContainer");return V.setAttribute("style","height: "+n.h+"px; width:"+n.w+"px; position: absolute; overflow-y: auto; left: 0px; top: 0px; overflow-x: hidden;"),V.setAttribute("data-type","question"),V.setAttribute("data-type-question","matchingDropdown"),V.appendChild(Q),this.IsCheckReview(this.IndexSlide).IsResult&&(glhp.DataLocal.Slide[this.IndexSlide].IsShowNoti&&(isMobile?glhp.DataLocal.Slide[this.IndexSlide].IsResult?(0==this.Type&&QuestionMobile.ShowResultReview(glhp.DataLocal.Slide[this.IndexSlide].Correct),QuestionMobile.CreateReviewResultButton()):glhp.DataLocal.Slide[this.IndexSlide].IsSubmit&&QuestionMobile.CreateReviewResultButton():swmm(this.IsCheckReview().Correct),this.CurrentOptions.T+this.CurrentOptions.h<document.getElementById("mainContent").offsetHeight-document.getElementById("contain-message").offsetHeight&&(V.style.overflowY="auto")),V.style.overflowX="auto",setTimeout((function(){var e=setInterval((function(){var t=V.scrollLeft;V.scrollLeft+=1,V.scrollLeft==t&&clearInterval(e)}),5)}),1),V.style.height=o.offsetHeight-50-this.CurrentOptions.T+"px"),qzm.ckswb(this.IndexSlide)&&(setTimeout((function(){qzm.tddd(p)}),1),glhp.enableSubmit()),glhp.checkIEBrower()&&(V.innerHTML=V.innerHTML),V},t.prototype.crqtzMobile=function(){var e=0==isMobile?this.CurrentOptions.w:isTabletLandscape?this.CurrentOptions.widtls:isTabletPortrait?this.CurrentOptions.widtpt:isMobileLandscape?this.CurrentOptions.widmls:isMobilePortrait?this.CurrentOptions.widmpt:this.CurrentOptions.w,t=0==isMobile?this.CurrentOptions.h:isTabletLandscape?this.CurrentOptions.heitls:isTabletPortrait?this.CurrentOptions.heitpt:isMobileLandscape?this.CurrentOptions.heimls:isMobilePortrait?this.CurrentOptions.heimpt:this.CurrentOptions.h,i=glhp.crgs("div","content"+this.CurrentOptions.id,"content-question");i.style="width:"+e+"px;height:"+t+"px;overflow-y: auto;";var a=glhp.crgs("div",this.CurrentOptions.id,"mathching-items");a.style="margin: 14px 18px;background:transparent";for(var r=DOC.slds.indexOf(glrs.crsl.Data),s=glhp.DataLocal.Slide[r],n=s.UserReply,l=0;l<s.Answers.length;l++){var o=QuestionMobile.GetAnswersFromId(this.CurrentOptions.as,s.Answers[l].Id),h=glhp.crgs("div",o.id);h.className="answer-item",h.classList.add("matching-answer");var d=glhp.crgs("div","left-match"+o.id,"match-item"),c=glhp.crgs("div","right-match"+o.id,"match-item"),p=glhp.crgs("div","saperator","saperator");p.style="left: 12px;right: 12px;height: 1px;content: '';position: absolute;background: #E0E0E0;z-index:1;",h.appendChild(d),h.appendChild(p),h.appendChild(c);var u=glhp.crgs("div","","image");if(u.style.display="none",d.appendChild(u),null!=o.cim)u.style="width:"+o.cim.w+"px;height: "+o.cim.h+"px;",g=(g="./"+o.cim.s.replace("\\","/")).replace("\\","/"),u.style.backgroundImage="url("+g+")",u.style.display="block";var m=QuestionMobile.GetQuestionMobile(o.ct);d.appendChild(m);var b=glhp.crgs("div","","image");b.style.display="none",c.appendChild(b);var f=glhp.crgs("div","","text-content");if(f.style="min-height:22px;",c.appendChild(f),n)if(""!=n[l]){if(h.classList.add("active-item"),h.classList.add(n[l]+"-popup-answer"),answer_match=QuestionMobile.GetAnswersFromId(this.CurrentOptions.as,n[l]),answer_match){var g,w=null;switch(glrs.crsl.Data.tq){case 6:w=QuestionMobile.GetQuestionMobile(answer_match.MatchText);break;case 7:w=QuestionMobile.GetQuestionMobile(answer_match.cbT)}if(f.appendChild(w),null!=answer_match.mim)b.style="width:"+answer_match.mim.w+"px;height: "+answer_match.mim.h+"px;",g=(g="./"+answer_match.mim.s.replace("\\","/")).replace("\\","/"),b.style.backgroundImage="url("+g+")",b.style.display="block"}}else{var y=null;switch(DOC.Lang.toUpperCase()){case"EN-US":y="-Select-";break;case"TH-TH":y="-เลือก-";break;case"VI-VN":y="-Lựa chọn-";break;default:y="-Select-"}f.innerHTML=y}else{y=null;switch(DOC.Lang.toUpperCase()){case"EN-US":y="-Select-";break;case"TH-TH":y="-เลือก-";break;case"VI-VN":y="-Lựa chọn-";break;default:y="-Select-"}f.innerHTML=y}if(a.appendChild(h),!s.IsResult&&(this.Options.scr&&!glhp.DataLocal.Slide[this.IndexSlide].IsSubmit||!s.IsResult&&!glhp.DataLocal.Slide[this.IndexSlide].IsSubmit||glhp.DataLocal.Slide[this.IndexSlide].IsSubmit&&!this.Options.scr)){var v=glhp.crgs("div","dropIcon","icon-area");v.id="dropIcon"+o.id;var C=glhp.crgs("svg");C.setAttribute("width",17),C.setAttribute("height",9),C.setAttribute("viewBox","0 0 17 9");var T=glhp.crgs("path");T.setAttribute("fill","rgba(162, 162, 161, 1)"),T.setAttribute("d","M0.232,1.015l0.601-0.49c0.321-0.277,0.855-0.277,1.177,0 l6.485,5.473l6.507-5.473c0.32-0.277,0.855-0.277,1.177,0l0.579,0.49c0.342,0.277,0.319,0.724,0,0.98 \tc-2.547,2.172-5.095,4.324-7.662,6.474C8.944,8.617,8.73,8.682,8.515,8.682H8.494c-0.213,0-0.428-0.064-0.6-0.213 \tc-2.546-2.15-5.093-4.302-7.641-6.474C-0.088,1.738-0.088,1.292,0.232,1.015L0.232,1.015z"),C.appendChild(T),v.appendChild(C),c.appendChild(v)}else if(null==n||n[l]!=o.id){var S=glhp.crgs("div","dropIcon","icon-area");c.appendChild(S);var x=glhp.crgs("svg");S.appendChild(x);var A=glhp.crgs("g");x.appendChild(A);var M=glhp.crgs("path");M.style.fill="#EA5F4F",A.appendChild(M),M.setAttribute("d","M612,306C612,137.004,474.995,0,306,0C137.004,0,0,137.004,0,306c0,168.995,137.004,306,306,306    C474.995,612,612,474.995,612,306z M27.818,306C27.818,152.36,152.36,27.818,306,27.818S584.182,152.36,584.182,306    S459.64,584.182,306,584.182S27.818,459.64,27.818,306z");var G=glhp.crgs("path");G.style.fill="#EA5F4F",A.appendChild(G),G.setAttribute("d","M336.962,200.875c7.956,9.792,11.906,21.337,11.906,34.634c0,9.514-2.727,18.666-8.151,27.512    c-2.977,5.007-6.898,9.848-11.795,14.465l-16.301,16.107c-15.634,15.356-25.732,28.958-30.35,40.865    c-4.618,11.878-6.927,27.54-6.927,46.957h36.275c0-17.108,1.947-30.044,5.814-38.807c3.866-8.763,12.323-19.444,25.37-32.102    c17.942-17.387,29.849-30.572,35.746-39.53s8.874-20.641,8.874-35.051c0-23.756-8.039-43.285-24.146-58.585    c-16.106-15.3-37.526-22.922-64.288-22.922c-28.931,0-51.686,8.929-68.266,26.789s-24.87,41.449-24.87,70.797h36.275    c0.667-17.665,3.478-31.184,8.346-40.559c8.679-16.83,24.369-25.259,47.068-25.259    C315.875,186.187,329.033,191.083,336.962,200.875z");var D=glhp.crgs("rect");D.style.fill="#EA5F4F",A.appendChild(D),D.setAttribute("x",274.51),D.setAttribute("y",274.51),D.setAttribute("width",40.559),D.setAttribute("height",42.367),D.style.fill="#EA5F4F",x.setAttribute("viewBox","0,0,612,612"),x.style.width="20px",x.style.height="20px"}(s.IsResult&&s.IsSubmit||glhp.DataLocal.Slide[this.IndexSlide].IsSubmit&&!glhp.DataLocal.Slide[this.IndexSlide].Correct&&this.Options.scr)&&(0==this.Type?h.classList.contains("active-item")&&null!=n&&n[l]==o.id?(h.classList.add("item-correct"),h.style.pointerEvents="none"):h.classList.add("item-fail"):(h.classList.add("item-correct"),h.style.pointerEvents="none"))}var L=this;return s.IsResult&&s.IsSubmit||glhp.DataLocal.Slide[this.IndexSlide].IsSubmit&&!glhp.DataLocal.Slide[this.IndexSlide].Correct&&this.Options.scr?(0==this.Type&&s.IsResult&&s.IsSubmit&&QuestionMobile.ShowResultReview(s.Correct),QuestionMobile.CreateReviewResultButton(),setTimeout((function(){QuestionMobile.ShowAnswersReview(L.CurrentOptions)}),1)):setTimeout((function(){QuestionMobile.ShowMatchinglayer(L.CurrentOptions)}),1),!s.IsResult&&s.IsSubmit&&QuestionMobile.CreateReviewResultButton(),i.appendChild(a),i},t.prototype.drawCanvas=async function(e){e.save();var t=this,i=this.CurrentOptions.as,a=i.map((function(e){return e.ct}));this.datach=a;var r=i.map((function(e){return e.cbT}));this.dataMatch=r;i.map((function(e){return e.ch}));var s=i.map((function(e){return e.Cb})),n=(this.CurrentOptions,i.length);switch(holderContent="",DOC.Lang.toUpperCase()){case"EN-US":holderContent="--Select--";break;case"TH-TH":holderContent="--เลือก--";break;case"VI-VN":holderContent="--Lựa chọn--"}e.save();for(var l=0;l<n;l++){[],[],e.save(),e.translate(i[l].l,i[l].T),await shzp.drawCanvas(i[l].shs,{id:i[l].id,width:i[l].w,height:i[l].h},e),e.translate(a[l].l-i[l].l,a[l].T-i[l].T),await TextModule.drawCanvasByParas(a[l],e),e.restore(),e.save(),e.beginPath(),e.strokeStyle="#cecece",e.fillStyle="white",e.translate(s[l].l,s[l].T),e.roundRect(0,0,1*s[l].w,s[l].h,[8]),e.stroke(),e.fill(),e.closePath();var o=glhp.DataLocal.Slide[this.IndexSlide].UserReply;if(o&&o[l]){var h=i.filter((function(e){return e.id==t.UserReply[l]}))[0];e.translate(h.cbT.l-h.Cb.l,h.cbT.T-h.Cb.T),h.cbT.pr.forEach(t=>{t.inls.forEach(t=>{if(e.font=t.fst+" "+t.fw+" "+t.fs+"px "+t.ff,e.fillStyle=t.col.col,e.fillText(t.Txt,t.Ls[0],t.T),t.Ul)if("Single"==t.u){var i=t.Ul.X1,a=t.Ul.Y+t.Ul.W/4,r=t.Ul.X2-i,s=t.Ul.W/10;e.fillRect(i,a,r,s)}else if("Double"==t.u){i=t.Ul.X1,s=t.Ul.W/15;var n=t.Ul.Y+t.Ul.W/4-s,l=t.Ul.Y+t.Ul.W/4+s;r=t.Ul.X2-i;e.fillRect(i,n,r,s),e.fillRect(i,l,r,s)}})}),e.translate(1*s[l].w-20-(h.cbT.l-h.Cb.l),s[l].h/2-(h.cbT.T-h.Cb.T))}else e.font="16px Arial",e.fillStyle="#4B4B4B",e.fillText(holderContent,12,30),e.translate(1*s[l].w-20,+s[l].h/2);var d=new Path2D("M 0 0 L 10 0 5 5 0 0");e.fillStyle="#494949",e.strokeStyle="rgba(255, 255, 255, 0.8)",e.stroke(d),e.fill(d),e.restore()}e.restore()},t.prototype.pcsmw=function(){var e=document.getElementById(this.CurrentOptions.id);if(e)qzm.rvddz(e);else{var t=document.getElementById("container-items");t&&t.parentNode.removeChild(t)}if(!glhp.DataLocal.Slide[this.IndexSlide]||1!=glhp.DataLocal.Slide[this.IndexSlide].IsSubmit){var i=!1;if(isMobile){var a=document.getElementById(this.CurrentOptions.id);if(a){var r=a.getElementsByClassName("active-item");r.length<this.CurrentOptions.as.length&&(i=!0)}}else{var s=glhp.DataLocal.Slide[this.IndexSlide].UserReply;if(s){for(let e=0;e<s.length;e++)if(""==s[e]){i=!0;break}}else i=!0}if(i)qzm.showInvalidFeedback();else if(0==this.Type){var n=!0;if(isMobile){QuestionMobile.SaveUserAnswer(this.CurrentOptions);for(var l=0;l<r.length;l++){for(var o=0;o<r[l].classList.length;o++)if(r[l].classList[o].includes("-popup-answer")&&r[l].classList[o].replace("-popup-answer","")!=r[l].id){n=!1;break}if(!n)break}}else for(let e=0;e<s.length;e++)if(this.CurrentOptions.as[e].id!=s[e]){n=!1;break}if(n)return this.DisplayFeedback?(swfb("Correct",this.Options),qzm.SaveiF(this.IndexSlide,this.GetiF("Correct"))):glhp.nextSlide(),qzm.SaveDataPoint(this.IndexSlide,wulzz("Correct",this.Options),!0,!0),void qzm.roswb(this.IndexSlide);if(0==this.NumberRepeat)this.DisplayFeedback&&(swfb("Try Again",this.Options),qzm.SaveiF(this.IndexSlide,this.GetiF("Try Again"))),qzm.sttze(this.IndexSlide,0);else if(1==this.NumberRepeat){if(this.DisplayFeedback?(swfb("Incorrect",this.Options),qzm.SaveiF(this.IndexSlide,this.GetiF("Incorrect"))):glhp.nextSlide(),qzm.roswb(this.IndexSlide),qzm.SaveDataPoint(this.IndexSlide,wulzz("Incorrect",this.Options),!1,!0),this.Options.scr)if(isMobile){var h=DOC.slds.indexOf(glrs.crsl.Data),d=glhp.DataLocal.Slide[h],c=d.UserReply;for(l=0;l<d.Answers.length;l++){var p=QuestionMobile.GetAnswersFromId(this.CurrentOptions.as,d.Answers[l].Id),u=document.getElementById("dropIcon"+p.id),m=document.getElementById("right-match"+p.id);if(m&&u){if(m.removeChild(u),null==c||c[l]!=p.id){var b=glhp.crgs("div","dropIcon","icon-area");m.appendChild(b);var f=glhp.crgs("svg");b.appendChild(f);var g=glhp.crgs("g");f.appendChild(g);var w=glhp.crgs("path");w.style.fill="#EA5F4F",g.appendChild(w),w.setAttribute("d","M612,306C612,137.004,474.995,0,306,0C137.004,0,0,137.004,0,306c0,168.995,137.004,306,306,306    C474.995,612,612,474.995,612,306z M27.818,306C27.818,152.36,152.36,27.818,306,27.818S584.182,152.36,584.182,306    S459.64,584.182,306,584.182S27.818,459.64,27.818,306z");var y=glhp.crgs("path");y.style.fill="#EA5F4F",g.appendChild(y),y.setAttribute("d","M336.962,200.875c7.956,9.792,11.906,21.337,11.906,34.634c0,9.514-2.727,18.666-8.151,27.512    c-2.977,5.007-6.898,9.848-11.795,14.465l-16.301,16.107c-15.634,15.356-25.732,28.958-30.35,40.865    c-4.618,11.878-6.927,27.54-6.927,46.957h36.275c0-17.108,1.947-30.044,5.814-38.807c3.866-8.763,12.323-19.444,25.37-32.102    c17.942-17.387,29.849-30.572,35.746-39.53s8.874-20.641,8.874-35.051c0-23.756-8.039-43.285-24.146-58.585    c-16.106-15.3-37.526-22.922-64.288-22.922c-28.931,0-51.686,8.929-68.266,26.789s-24.87,41.449-24.87,70.797h36.275    c0.667-17.665,3.478-31.184,8.346-40.559c8.679-16.83,24.369-25.259,47.068-25.259    C315.875,186.187,329.033,191.083,336.962,200.875z");var v=glhp.crgs("rect");v.style.fill="#EA5F4F",g.appendChild(v),v.setAttribute("x",274.51),v.setAttribute("y",274.51),v.setAttribute("width",40.559),v.setAttribute("height",42.367),v.style.fill="#EA5F4F",f.setAttribute("viewBox","0,0,612,612"),f.style.width="20px",f.style.height="20px"}var C=document.getElementById(p.id);0==this.Type?(C.classList.contains("active-item")&&null!=c&&c[l]==p.id?(C.classList.add("item-correct"),C.style.pointerEvents="none"):C.classList.add("item-fail"),QuestionMobile.CreateReviewResultButton(),setTimeout((function(){QuestionMobile.ShowAnswersReview(this.CurrentOptions)}),1)):(C.classList.add("item-correct"),C.style.pointerEvents="none")}}}else for(var T=this.CurrentOptions.as,S=glhp.DataLocal.Slide[this.IndexSlide].UserReply,l=0;l<T.length;l++){var x=document.getElementById("rect"+T[l].id);x&&(1==this.Type?x.setAttribute("stroke","#70C425"):null==S||S[l]!=T[l].id?x.setAttribute("stroke","#EA5F4F"):x.setAttribute("stroke","#70C425"))}}else this.NumberRepeat--,this.DisplayFeedback&&(swfb("Try Again",this.Options),qzm.SaveiF(this.IndexSlide,this.GetiF("Try Again"))),qzm.sttze(this.IndexSlide,this.NumberRepeat)}else this.DisplayFeedback?(swfb("Thank you",this.Options),qzm.SaveiF(this.IndexSlide,this.GetiF("Thank you"))):glhp.nextSlide(),DOC.iS&&qzm.sqzor("","neutral",this.IndexSlide),qzm.roswb(this.IndexSlide)}},t.prototype.CheckDropDownMatching=function(){var e=document.getElementById(this.CurrentOptions.id);if(e)qzm.rvddz(e);else{var t=document.getElementById("container-items");t&&t.parentNode.removeChild(t)}if(!glhp.DataLocal.Slide[this.IndexSlide]||1!=glhp.DataLocal.Slide[this.IndexSlide].IsSubmit){var i=glhp.DataLocal.Slide[this.IndexSlide].UserReply,a=!1;if(i){for(let e=0;e<i.length;e++)if(""==i[e]){a=!0;break}}else a=!0;if(a)return!1;if(0==this.Type){var r=!0;for(let e=0;e<i.length;e++)if(this.CurrentOptions.as[e].id!=i[e]){r=!1;break}return!!r}return this.DisplayFeedback?null:void 0}},t}(Question),QuestionHostpot=function(e){function t(t){var i=e.call(this,t)||this;return i.isCorrect=!1,i.imp=t.imp,i.GetData(),i.id=-1,question=i,i}return __extends(t,e),t.prototype.crqtz=function(){if(null!=this.CurrentOptions.hp){var e=0==isMobile?this.CurrentOptions.w:isTabletLandscape?this.CurrentOptions.widtls:isTabletPortrait?this.CurrentOptions.widtpt:isMobileLandscape?this.CurrentOptions.widmls:isMobilePortrait?this.CurrentOptions.widmpt:this.CurrentOptions.w,t=0==isMobile?this.CurrentOptions.h:isTabletLandscape?this.CurrentOptions.heitls:isTabletPortrait?this.CurrentOptions.heitpt:isMobileLandscape?this.CurrentOptions.heimls:isMobilePortrait?this.CurrentOptions.heimpt:this.CurrentOptions.h,i=glhp.crgs("div","answers"+this.CurrentOptions.id,"answerContainer");i.setAttribute("style","height: "+t+"px; width:"+e+"px;overflow: visible;");var a=glhp.crgs("div","hpcontainer"+this.CurrentOptions.id,"hotspotContainer"),r=0==isMobile?this.CurrentOptions.hp.topdkt:isTabletLandscape?this.CurrentOptions.hp.toptls:isTabletPortrait?this.CurrentOptions.hp.toptpt:isMobileLandscape?this.CurrentOptions.hp.topmls:isMobilePortrait?this.CurrentOptions.hp.topmpt:this.CurrentOptions.hp.tR,s=0==isMobile?this.CurrentOptions.hp.lefdkt:isTabletLandscape?this.CurrentOptions.hp.leftls:isTabletPortrait?this.CurrentOptions.hp.leftpt:isMobileLandscape?this.CurrentOptions.hp.lefmls:isMobilePortrait?this.CurrentOptions.hp.lefmpt:this.CurrentOptions.hp.l,n=0==isMobile?this.CurrentOptions.hp.w:isTabletLandscape?this.CurrentOptions.hp.widtls:isTabletPortrait?this.CurrentOptions.hp.widtpt:isMobileLandscape?this.CurrentOptions.hp.widmls:isMobilePortrait?this.CurrentOptions.hp.widmpt:this.CurrentOptions.hp.w,l=0==isMobile?this.CurrentOptions.hp.h:isTabletLandscape?this.CurrentOptions.hp.heitls:isTabletPortrait?this.CurrentOptions.hp.heitpt:isMobileLandscape?this.CurrentOptions.hp.heimls:isMobilePortrait?this.CurrentOptions.hp.heimpt:this.CurrentOptions.hp.h;a.style.position="absoulute",a.style.width=n+"px",a.style.height=l+"px",a.style.transform="translate("+s+"px ,"+r+"px)";var o=glhp.crgs("img");o.style.position="absolute",o.setAttribute("src","./"+this.CurrentOptions.hp.ims),o.setAttribute("width",n),o.setAttribute("height",l),a.appendChild(o);var h=glhp.crgs("div","hpcontent"+this.CurrentOptions.id,"hotspotContent");if(h.style.position="absolute",h.style.width=n+"px",h.style.height=l+"px",a.appendChild(h),i.appendChild(a),null==glhp.DataLocal.Slide[this.IndexSlide].UserReply)glhp.DataLocal.Slide[this.IndexSlide].UserReply=[];else if(glhp.DataLocal.Slide[this.IndexSlide].UserReply.length>0)for(var d=0;d<glhp.DataLocal.Slide[this.IndexSlide].UserReply.length;d++){var c=glhp.DataLocal.Slide[this.IndexSlide].UserReply[d],p=this.cwmk();qzm.ckswb(this.IndexSlide)?setTimeout((function(){qzm.hpdw(p)}),1):p.pointerEvents="none",p.style.transition="0.1s",p.style.left=c.x+"px",p.style.top=c.y+"px",h.appendChild(p)}if(this.IsCheckReview().IsResult||glhp.DataLocal.Slide[this.IndexSlide].IsSubmit&&!glhp.DataLocal.Slide[this.IndexSlide].Correct&&this.Options.scr){glhp.DataLocal.Slide[this.IndexSlide].IsShowNoti&&(isMobile?glhp.DataLocal.Slide[this.IndexSlide].IsResult?(0==this.Type&&QuestionMobile.ShowResultReview(glhp.DataLocal.Slide[this.IndexSlide].Correct),QuestionMobile.CreateReviewResultButton()):glhp.DataLocal.Slide[this.IndexSlide].IsSubmit&&QuestionMobile.CreateReviewResultButton():swmm(this.IsCheckReview().Correct));for(d=0;d<this.CurrentOptions.hps.length;d++){var u=this.CurrentOptions.hps[d],m=glhp.crgs("div");r=0==isMobile?u.topdkt:isTabletLandscape?u.toptls:isTabletPortrait?u.toptpt:isMobileLandscape?u.topmls:isMobilePortrait?u.topmpt:u.T,s=0==isMobile?u.lefdkt:isTabletLandscape?u.leftls:isTabletPortrait?u.leftpt:isMobileLandscape?u.lefmls:isMobilePortrait?u.lefmpt:u.l,n=0==isMobile?u.widdkt:isTabletLandscape?u.widtls:isTabletPortrait?u.widtpt:isMobileLandscape?u.widmls:isMobilePortrait?u.widmpt:u.w,l=0==isMobile?u.heidkt:isTabletLandscape?u.heitls:isTabletPortrait?u.heitpt:isMobileLandscape?u.heimls:isMobilePortrait?u.heimpt:u.h;m.setAttribute("style","width:"+n+"px; height:"+l+"px; position: absolute; left:"+s+"px; top:"+r+"px;");var b=glhp.crgs("svg");b.setAttribute("width",n),b.setAttribute("height",l),b.style.overflow="hidden";var f=shzp.grnz(u.shs,{id:u.id,width:n,height:l});b.appendChild(f),m.appendChild(b),a.appendChild(m)}}else{var g=this;setTimeout((function(){qzm.AddHotspot(g,h)}),1)}return i.innerHTML=i.innerHTML,i}},t.prototype.drawCanvas=async function(e){if(this.CurrentOptions.hp&&(!this.CurrentOptions.hp||""!=this.CurrentOptions.hp.ims)){e.save();var t=await loadImage("./"+this.CurrentOptions.hp.ims);if(e.drawImage(t,this.CurrentOptions.hp.l,this.CurrentOptions.hp.t,this.CurrentOptions.hp.w,this.CurrentOptions.hp.h),null==glhp.DataLocal.Slide[this.IndexSlide].UserReply)glhp.DataLocal.Slide[this.IndexSlide].UserReply=[];else if(glhp.DataLocal.Slide[this.IndexSlide].UserReply.length>0)for(var i=0;i<glhp.DataLocal.Slide[this.IndexSlide].UserReply.length;i++){var a=glhp.DataLocal.Slide[this.IndexSlide].UserReply[i];await this.cwmkCanvas(a.x+this.CurrentOptions.hp.l,a.y+this.CurrentOptions.hp.t,e)}e.restore()}},t.prototype.cwmkCanvas=async function(e,t,i){i.save(),i.beginPath(),i.translate(e-12,t-24);var a=new Path2D("M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z");i.fillStyle="#CD2A00",i.strokeStyle="white",i.fill(a),i.stroke(a),i.closePath(),i.beginPath(),i.translate(12,32),i.fillStyle="white",i.ellipse(0,0,10,8,0,0,2*Math.PI),i.fill(),i.closePath(),i.beginPath(),i.fillStyle="#CD2A00",i.ellipse(0,0,3,2,0,0,2*Math.PI),i.fill(),i.closePath(),i.beginPath(),i.lineWidth=2,i.strokeStyle="#CD2A00",i.ellipse(0,0,10,8,0,0,2*Math.PI),i.stroke(),i.closePath(),i.restore()},t.prototype.cwmk=function(){this.id++;var e=glhp.crgs("div","","hotspotItem");e.setAttribute("data-id","$1.@9.7.3t.h2."+this.id);var t=glhp.crgs("div","","pin"),i=glhp.crgs("div","","hotspot-marker"),a=(glhp.crgs("div"),glhp.crgs("svg"));a.setAttribute("viewBox","0 0 600 500"),a.setAttribute("width","24px"),a.setAttribute("height","36px");var r=glhp.crgs("g"),s=glhp.crgs("path");s.setAttribute("d","M243.15,0v104.4c44.11,0,80,35.88,80,80c0,44.11-35.89,80-80,80v221.9l146.43-184.1   c26.29-33.25,40.19-73.21,40.19-115.58C429.77,83.72,346.05,0,243.15,0z"),s.setAttribute("fill","#CD2A00");var n=glhp.crgs("path");n.setAttribute("d","M323.15,184.4c0-44.12-35.89-80-80-80v160C287.26,264.4,323.15,228.51,323.15,184.4z"),n.setAttribute("fill","#D8D7DA");var l=glhp.crgs("path");l.setAttribute("d","M163.15,184.4c0-44.12,35.89-80,80-80V0C140.25,0,56.53,83.72,56.53,186.62   c0,42.37,13.9,82.33,40.23,115.62L243.15,486.3V264.4C199.04,264.4,163.15,228.51,163.15,184.4z"),l.setAttribute("fill","#FF3501");var o=glhp.crgs("path");o.setAttribute("d","M163.15,184.4c0,44.11,35.89,80,80,80v-160C199.04,104.4,163.15,140.28,163.15,184.4z"),o.setAttribute("fill","#ffffff"),r.appendChild(s),r.appendChild(n),r.appendChild(l),r.appendChild(o),a.appendChild(r),t.appendChild(a);var h=glhp.crgs("svg"),d=glhp.crgs("g");h.setAttribute("height","16"),h.setAttribute("width","20");var c=glhp.crgs("ellipse");c.setAttribute("cx","10"),c.setAttribute("cy","8"),c.setAttribute("rx","10"),c.setAttribute("ry","8"),c.setAttribute("fill","#CD2A00");var p=glhp.crgs("ellipse");p.setAttribute("cx","10"),p.setAttribute("cy","8"),p.setAttribute("rx","8"),p.setAttribute("ry","6"),p.setAttribute("fill","#ffffff");var u=glhp.crgs("ellipse");return u.setAttribute("cx","10"),u.setAttribute("cy","8"),u.setAttribute("rx","3"),u.setAttribute("ry","2"),u.setAttribute("fill","#CD2A00"),d.appendChild(c),d.appendChild(p),d.appendChild(u),h.appendChild(d),i.appendChild(h),e.appendChild(i),e.appendChild(t),e},t.prototype.pcsmw=function(){var e=!0,t=!1,i=!1;if(null!==glhp.DataLocal.Slide[this.IndexSlide].UserReply&&0!=glhp.DataLocal.Slide[this.IndexSlide].UserReply.length||(t=!0),!t){for(var a=0;a<glhp.DataLocal.Slide[this.IndexSlide].UserReply.length;a++){for(var r=!1,s=glhp.DataLocal.Slide[this.IndexSlide].UserReply[a],n=0;n<this.CurrentOptions.hps.length;n++){var l=0==isMobile?this.CurrentOptions.hps[n].psdkt:isTabletLandscape?this.CurrentOptions.hps[n].pstls:isTabletPortrait?this.CurrentOptions.hps[n].pstp:isMobileLandscape?this.CurrentOptions.hps[n].psmls:isMobilePortrait?this.CurrentOptions.hps[n].psmp:this.CurrentOptions.hps[n].ps;if(r=qzm.clgwz(s.x,s.y,l))break}if(0==r){i=!0;break}}if(!i)for(a=0;a<this.CurrentOptions.hps.length;a++){for(r=!1,n=0;n<glhp.DataLocal.Slide[this.IndexSlide].UserReply.length;n++){s=glhp.DataLocal.Slide[this.IndexSlide].UserReply[n],l=0==isMobile?this.CurrentOptions.hps[a].psdkt:isTabletLandscape?this.CurrentOptions.hps[a].pstls:isTabletPortrait?this.CurrentOptions.hps[a].pstp:isMobileLandscape?this.CurrentOptions.hps[a].psmls:isMobilePortrait?this.CurrentOptions.hps[a].psmp:this.CurrentOptions.hps[a].ps;if(r=qzm.clgwz(s.x,s.y,l))break}if(0==r){e=!1;break}}}if(t)return qzm.showInvalidFeedback(),void((g=document.getElementById("list-items"))&&g.parentNode.removeChild(g));if(e&&!i)return this.DisplayFeedback?(swfb("Correct",this.Options),qzm.SaveiF(this.IndexSlide,this.GetiF("Correct"))):glhp.nextSlide(),qzm.SaveDataPoint(this.IndexSlide,wulzz("Correct",this.Options),!0,!0),qzm.roswb(this.IndexSlide),void((g=document.getElementById("list-items"))&&g.parentNode.removeChild(g));if(1==this.NumberRepeat){if(this.DisplayFeedback)swfb("Incorrect",this.Options),qzm.SaveiF(this.IndexSlide,this.GetiF("Incorrect")),(g=document.getElementById("list-items"))&&g.parentNode.removeChild(g);else glhp.nextSlide();qzm.roswb(this.IndexSlide),qzm.SaveDataPoint(this.IndexSlide,wulzz("Incorrect",this.Options),!1,!0);var o=document.getElementById("hpcontainer"+this.CurrentOptions.id);if(o&&this.Options.scr)for(a=0;a<this.CurrentOptions.hps.length;a++){var h=this.CurrentOptions.hps[a],d=glhp.crgs("div"),c=0==isMobile?h.topdkt:isTabletLandscape?h.toptls:isTabletPortrait?h.toptpt:isMobileLandscape?h.topmls:isMobilePortrait?h.topmpt:h.T,p=0==isMobile?h.lefdkt:isTabletLandscape?h.leftls:isTabletPortrait?h.leftpt:isMobileLandscape?h.lefmls:isMobilePortrait?h.lefmpt:h.l,u=0==isMobile?h.widdkt:isTabletLandscape?h.widtls:isTabletPortrait?h.widtpt:isMobileLandscape?h.widmls:isMobilePortrait?h.widmpt:h.w,m=0==isMobile?h.heidkt:isTabletLandscape?h.heitls:isTabletPortrait?h.heitpt:isMobileLandscape?h.heimls:isMobilePortrait?h.heimpt:h.h;d.setAttribute("style","width:"+u+"px; height:"+m+"px; position: absolute; left:"+p+"px; top:"+c+"px;");var b=glhp.crgs("svg");b.setAttribute("width",u),b.setAttribute("height",m),b.style.overflow="hidden";var f=shzp.grnz(h.shs,{id:h.id,width:u,height:m});b.appendChild(f),d.appendChild(b),o.appendChild(d)}}else{var g;if(this.NumberRepeat--,this.DisplayFeedback)swfb("Try Again",this.Options),qzm.SaveiF(this.IndexSlide,this.GetiF("Try Again")),(g=document.getElementById("list-items"))&&g.parentNode.removeChild(g);qzm.sttze(this.IndexSlide,this.NumberRepeat)}},t.prototype.CheckResultQuestion=function(){var e=!0,t=!1,i=!1,a=0==isMobile?this.CurrentOptions.rtwdkt:isTabletLandscape?this.CurrentOptions.rtwtls:isTabletPortrait?this.CurrentOptions.rtwtpt:isMobileLandscape?this.CurrentOptions.rtwmls:isMobilePortrait?this.CurrentOptions.rtwmpt:1;if(null!==glhp.DataLocal.Slide[this.IndexSlide].UserReply&&0!=glhp.DataLocal.Slide[this.IndexSlide].UserReply.length||(t=!0),!t){for(var r=0;r<glhp.DataLocal.Slide[this.IndexSlide].UserReply.length;r++){for(var s=!1,n=glhp.DataLocal.Slide[this.IndexSlide].UserReply[r],l=0;l<this.CurrentOptions.hps.length&&!(s=qzm.clgwz(n.x,n.y,this.CurrentOptions.hps[l].ps,a));l++);if(0==s){i=!0;break}}if(!i)for(r=0;r<this.CurrentOptions.hps.length;r++){for(s=!1,l=0;l<glhp.DataLocal.Slide[this.IndexSlide].UserReply.length;l++){n=glhp.DataLocal.Slide[this.IndexSlide].UserReply[l];if(s=qzm.clgwz(n.x,n.y,this.CurrentOptions.hps[r].ps,a))break}if(0==s){e=!1;break}}}return!t&&!(!e||i)},t.prototype.ProcessOne=function(e,t,i){var a=document.getElementById("list-items");if(null==a){a=glhp.crgs("div","list-items","");var r=document.getElementById("container");null!=r&&r.appendChild(a)}var s=e.cwmk();a.appendChild(s),s.style.transition="0.1s",s.style.left=t+"px",s.style.top=i+"px",setTimeout((function(){qzm.hpdw(s),qzm.rmhz(s)}),1),null==glhp.DataLocal.Slide[e.IndexSlide].UserReply&&(glhp.DataLocal.Slide[e.IndexSlide].UserReply=[]),glhp.DataLocal.Slide[e.IndexSlide].UserReply.push({x:parseFloat(s.style.left.trim().replace("px","")),y:parseFloat(s.style.top.trim().replace("px",""))})},t.prototype.MouseDown=function(e,t){t.onclick=function(t){if(t.stopPropagation(),qzm.isClickAnswer&&qzm.ckswb(e.IndexSlide)){var i=$("#content").offset(),a=(t.pageX-i.left)/glRatio,r=(t.pageY-i.top)/glRatio;e.ProcessOne(e,a,r)}}},t}(Question),QuestionSelectList=function(e){function t(t){var i=e.call(this,t)||this;return i.idQuestion=i.CurrentOptions.id,i.ArrResult=[],i.isShow=!1,i.GetData(),i}return __extends(t,e),t.prototype.GetData=function(){var e=this.IndexSlide,t="Initial"==glrs.crsl.Data.slC.rM;if(qzm.IsEndTime&&(t=!1),t&&(glhp.DataLocal.Slide[e].IsSubmit=!1,glhp.DataLocal.Slide[e].urr="",glhp.DataLocal.Slide[e].Answers=null,glhp.DataLocal.Slide[e].UserReply=null,glhp.DataLocal.Slide[e].ArrAnswer=null,glhp.DataLocal.Slide[e].NumberRepeat=this.Options.atm),null!=glhp.DataLocal.Slide[e].Answers){this.ArrAnswer=[],this.UserReply=glhp.DataLocal.Slide[e].UserReply;for(var i=glhp.DataLocal.Slide[e].Answers,a=0;a<i.length;a++){var r=i[a];this.ArrAnswer.push(this.CurrentOptions.as.filter((function(e){return e.M.id==r}))[0])}this.NumberRepeat=glhp.DataLocal.Slide[e].NumberRepeat}else{for(var s=0;s<this.CurrentOptions.as.length;s++)this.ArrAnswer.push(this.CurrentOptions.as[s]);this.ArrAnswer=qzm.rdaws(this.ArrAnswer),this.NumberRepeat=this.Options.atm;var n=this.ArrAnswer.map((function(e){return e.M.id}));qzm.svawz(this.IndexSlide,n,this.NumberRepeat)}null==qzm.ListCorrect[this.IndexSlide]&&(qzm.ListCorrect[this.IndexSlide]=qzm.zashl(this.CurrentOptions))},t.prototype.leftHTML=function(e,t){var i=glhp.crgs("div",e.ch.id,"slide-object object-left left");i.setAttribute("style","left:"+e.ch.l+"px; top:"+e.ch.T+"px;"),i.style.width=1.5*e.ch.w+"px";var a=glhp.crgs("svg"),r=e.ch.h;if(0!=t&&t!=this.CurrentOptions.as.length-1||(0==t&&(i.style.top=e.ch.T-r/2+"px",a.style.top=r/2+"px"),r*=1.5),i.style.height=r+"px",i.setAttribute("data-order",t),this.UserReply&&this.UserReply!=[]&&this.UserReply.filter((function(e){return e.idch==i.attributes.id.value}))!=[]){var s=this.UserReply.filter((function(e){return e.idch==i.attributes.id.value}))[0];s&&i.setAttribute("data-match",s.idMatch)}a.setAttribute("width",e.ch.w),a.setAttribute("height",e.ch.h);var n=FillColorHelper.genGTag(e.cC,{id:e.ch.id,width:e.ch.w,height:e.ch.h});a.appendChild(n.Tag);var l=glhp.crgs("path");l.setAttribute("d",e.cP),l.setAttribute("fill",n.ID),l.setAttribute("stroke","rgba(226,226,226,255)");var o=TextModule.grezByParas(e.ct,"question");if(o.setAttribute("transform","translate("+(e.ct.l-e.ch.l)+","+(e.ct.T-e.ch.T)+")"),a.appendChild(l),a.appendChild(o),e.cim&&e.cim.s){var h=document.createElement("div");h.style.position="absolute",h.style.left=e.cim.l+"px";var d=e.cim.T;0==t&&(d=e.ch.h/2+d),h.style.top=d+"px";var c=document.createElement("IMG");c.setAttribute("src","./"+e.cim.s),c.setAttribute("width",e.cim.w),c.setAttribute("height",e.cim.h),h.appendChild(c)}if(this.IsCheckReview()&&this.IsCheckReview().IsResult){i.style.left=e.ch.l+5+"px";var p=glhp.crgs("g");p.setAttribute("transform","translate(-2,1)");var u=glhp.crgs("circle");u.setAttribute("cx",0),u.setAttribute("cy",0),u.setAttribute("r",8),u.setAttribute("fill","black"),u.setAttribute("stroke","none");var m=glhp.crgs("circle");m.setAttribute("cx",0),m.setAttribute("cy",0),m.setAttribute("r",8),m.setAttribute("fill","transparent"),m.setAttribute("stroke-width",1);var b=!0,f=glhp.DataLocal.Slide[this.IndexSlide].UserReply;if(null!=f&&f.length>0)for(var g=0;g<f.length;g++)if(f[g].idch==this.CurrentOptions.as[t].ch.id&&f[g].idMatch==this.CurrentOptions.as[t].M.id){m.setAttribute("stroke","#008408"),b=!1;break}b&&m.setAttribute("stroke","#db0000");var w=glhp.crgs("text");w.setAttribute("text-anchor","middle"),w.textContent=t+1,w.setAttribute("fill","white"),w.setAttribute("x",0),w.setAttribute("y",3),p.appendChild(u),p.appendChild(m),p.appendChild(w);var y=glhp.crgs("g");y.appendChild(p),a.appendChild(y),this.isShow=!0}return i.appendChild(a),e.cim&&e.cim.s&&i.appendChild(h),i},t.prototype.rightHTML=function(e,t){var i=glhp.crgs("div",e.M.id,"slide-object object-right right"),a=!0;this.UserReply?this.UserReply.map((function(e){return e.idMatch})).indexOf(e.M.id)>-1?(i.setAttribute("style","width:"+e.M.w+"px; height:"+e.M.h+"px;left:"+(this.CurrentOptions.as[t].M.l-37)+"px; top:"+this.CurrentOptions.as[t].M.T+"px; z-index: 1;"),a=!1):i.setAttribute("style","width:"+e.M.w+"px; height:"+e.M.h+"px;left:"+this.CurrentOptions.as[t].M.l+"px; top:"+this.CurrentOptions.as[t].M.T+"px; z-index: 1;"):i.setAttribute("style","width:"+e.M.w+"px; height:"+e.M.h+"px;left:"+this.CurrentOptions.as[t].M.l+"px; top:"+this.CurrentOptions.as[t].M.T+"px; z-index: 1;");i.setAttribute("data-order",t);var r=glhp.crgs("svg");r.setAttribute("width",e.M.w),r.setAttribute("height",e.M.h);var s=FillColorHelper.genGTag(e.mC,{id:e.M.id,width:e.M.w,height:e.M.h});r.appendChild(s.Tag);var n=glhp.crgs("path");n.setAttribute("d",e.mP),n.setAttribute("fill",s.ID),n.setAttribute("stroke","rgba(226,226,226,255)");var l=TextModule.grezByParas(e.mT,"question");if(l.setAttribute("transform","translate("+(e.mT.l-e.M.l)+","+(e.mT.T-e.M.T)+")"),r.appendChild(n),r.appendChild(l),e.mim&&e.mim.s){var o=document.createElement("div");o.style.position="absolute",o.style.left=e.mim.l-e.M.l+e.l+"px",o.style.top=e.mim.T+"px";var h=document.createElement("IMG");h.setAttribute("src","./"+e.mim.s),h.setAttribute("width",e.mim.w),h.setAttribute("height",e.mim.h),o.appendChild(h)}if(this.IsCheckReview()&&this.IsCheckReview().IsResult){i.style.left=a?this.CurrentOptions.as[t].M.l:this.CurrentOptions.as[t].M.l-32+"px";var d=glhp.crgs("g");d.setAttribute("transform","translate("+(e.M.w+2)+",1)");var c=glhp.crgs("circle");c.setAttribute("cx",0),c.setAttribute("cy",0),c.setAttribute("r",8),c.setAttribute("fill","transparent"),c.setAttribute("stroke-width",1);var p=glhp.crgs("circle");p.setAttribute("cx",0),p.setAttribute("cy",0),p.setAttribute("r",7),p.setAttribute("stroke-width",1.5);var u=glhp.DataLocal.Slide[this.IndexSlide].UserReply,m=!0,b=glhp.crgs("text");b.setAttribute("text-anchor","middle"),b.setAttribute("fill","white"),b.setAttribute("x",0),b.setAttribute("y",3);for(var f=0;f<this.ArrAnswer.length;f++)this.CurrentOptions.as[f].M.id==this.ArrAnswer[t].M.id&&(b.textContent=f+1);if(null!=u&&u.length>0)for(var g=0;g<u.length;g++)if(u[g].idch==this.CurrentOptions.as[t].ch.id&&u[g].idMatch==this.CurrentOptions.as[t].M.id){c.setAttribute("stroke","#5cc959"),p.setAttribute("fill","#33a833"),p.setAttribute("stroke","#008408"),m=!1;break}m&&(c.setAttribute("stroke","#fb3b3b"),p.setAttribute("fill","red"),p.setAttribute("stroke","black")),d.appendChild(c),d.appendChild(p),d.appendChild(b);var w=glhp.crgs("g");w.appendChild(d),r.appendChild(w),swmm(this.IsCheckReview().Correct)}return i.appendChild(r),e.mim&&e.mim.s&&i.appendChild(o),i},t.prototype.crqtz=function(){var e=[],t=0==isMobile?this.CurrentOptions.w:isTabletLandscape?this.CurrentOptions.widtls:isTabletPortrait?this.CurrentOptions.widtpt:isMobileLandscape?this.CurrentOptions.widmls:isMobilePortrait?this.CurrentOptions.widmpt:this.CurrentOptions.w,i=0==isMobile?this.CurrentOptions.h:isTabletLandscape?this.CurrentOptions.heitls:isTabletPortrait?this.CurrentOptions.heitpt:isMobileLandscape?this.CurrentOptions.heimls:isMobilePortrait?this.CurrentOptions.heimpt:this.CurrentOptions.h;this.UserReply&&(e=this.UserReply.length);for(var a=0;a<e;a++)this.UserReply[a];var r,s,n=glhp.crgs("div","","answer-list answerContainer");n.setAttribute("style","position: absolute; top: 0px; width:"+t+"px; height:"+i+"px; overflow-y: auto; overflow-x: hidden;");for(var l=this.ArrAnswer,o=this.CurrentOptions.as,h=0;h<l.length;h++){var d=glhp.crgs("div");d.setAttribute("style","position: absolute; left:"+o[h].l+"px;top:"+o[h].ch.T+"px; width:"+o[h].w+"px; height:"+o[h].h+"px; z-index: 0;");var c=glhp.crgs("svg");c.setAttribute("width",o[h].w),c.setAttribute("height",o[h].h),c.style.overflow="hidden";var p=shzp.grnz(o[h].shs,{id:o[h].id,width:o[h].w,height:o[h].h});c.appendChild(p),d.appendChild(c),n.appendChild(d),r=l[h],s=this.leftHTML(this.CurrentOptions.as[h],h),n.appendChild(s),s=this.rightHTML(r,h),n.appendChild(s)}glhp.crgs("div",this.CurrentOptions.id);var u=this;return qzm.ckswb(this.IndexSlide)&&(setTimeout((function(){qzm.qmtd(u)}),10),glhp.enableSubmit()),this.isShow&&glhp.DataLocal.Slide[this.IndexSlide].IsShowNoti&&(isMobile?glhp.DataLocal.Slide[this.IndexSlide].IsResult?(0==this.Type&&QuestionMobile.ShowResultReview(glhp.DataLocal.Slide[this.IndexSlide].Correct),QuestionMobile.CreateReviewResultButton()):glhp.DataLocal.Slide[this.IndexSlide].IsSubmit&&QuestionMobile.CreateReviewResultButton():swmm(this.IsCheckReview().Correct)),glhp.checkIEBrower()&&(n.innerHTML=n.innerHTML),n},t.prototype.asrt=function(){for(var e={},t=[],i=this.CurrentOptions.as,a=0;a<i.length;a++)(e={}).idch=i[a].ch.id,e.idMatch=i[a].M.id,t.push(e);return t},t.prototype.asws=function(){for(var e,t,i=$("#"+this.idQuestion+"> div > div[data-match]"),a=[],r=0;r<i.length;r++){t=new Object;var s=(e=i[r]).attributes.id.value,n=e.attributes["data-match"].value;t.idch=s,t.idMatch=n,a.push(t)}return a},t.prototype.check=function(){var e,t=this.asrt(),i=this.asws();if(i.length<t.length)return swfb("Invalid Answer",this.Options),qzm.SaveiF(this.IndexSlide,this.GetiF("Correct")),null;for(var a=[],r=0;r<i.length;r++)e=i[r].idch,i[r].idMatch===t.filter((function(t){return t.idch===e}))[0].idMatch?a.push(!0):a.push(!1);return!(a.indexOf(!1)>-1)},t.prototype.pcsmw=function(){var e=this.check();null!=e&&(e?(this.DisplayFeedback?(swfb("Correct",this.Options),qzm.SaveiF(this.IndexSlide,this.GetiF("Correct"))):glhp.nextSlide(),qzm.SaveDataPoint(this.IndexSlide,wulzz("Correct",this.Options),!0,!0),qzm.roswb(this.IndexSlide)):0==this.NumberRepeat?this.DisplayFeedback&&(swfb("Try Again",this.Options),qzm.SaveiF(this.IndexSlide,this.GetiF("Try Again"))):1==this.NumberRepeat?(this.DisplayFeedback?(swfb("Incorrect",this.Options),qzm.SaveiF(this.IndexSlide,this.GetiF("Incorrect"))):glhp.nextSlide(),qzm.SaveDataPoint(this.IndexSlide,wulzz("Incorrect",this.Options),!1,!0),qzm.roswb(this.IndexSlide)):(this.DisplayFeedback&&(swfb("Try Again",this.Options),qzm.SaveiF(this.IndexSlide,this.GetiF("Try Again"))),this.NumberRepeat--,qzm.sttze(this.IndexSlide,this.NumberRepeat)))},t}(Question),pske=(QuestionSelectList=function(e){function t(t){var i=e.call(this,t)||this;return i.GetData(),i}return __extends(t,e),t.prototype.GetData=function(){var e=this.IndexSlide,t="Initial"==glrs.crsl.Data.slC.rM;qzm.IsEndTime&&(t=!1),t&&(glhp.DataLocal.Slide[e].IsSubmit=!1,glhp.DataLocal.Slide[e].urr="",glhp.DataLocal.Slide[e].Answers=null,glhp.DataLocal.Slide[e].UserReply=null,glhp.DataLocal.Slide[e].ArrAnswer=null,glhp.DataLocal.Slide[e].NumberRepeat=this.Options.atm),null!=glhp.DataLocal.Slide[e].ArrAnswer?(this.ArrAnswer=glhp.DataLocal.Slide[e].ArrAnswer,this.NumberRepeat=glhp.DataLocal.Slide[e].NumberRepeat):this.NumberRepeat=this.Options.atm,null==this.numberRepeat&&(this.NumberRepeat=this.Options.atm)},t.prototype.crqtz=function(){var e=document.createElement("div"),t=this,i=new Array,a=0==isMobile?this.CurrentOptions.w:isTabletLandscape?this.CurrentOptions.widtls:isTabletPortrait?this.CurrentOptions.widtpt:isMobileLandscape?this.CurrentOptions.widmls:isMobilePortrait?this.CurrentOptions.widmpt:this.CurrentOptions.w,r=0==isMobile?this.CurrentOptions.h:isTabletLandscape?this.CurrentOptions.heitls:isTabletPortrait?this.CurrentOptions.heitpt:isMobileLandscape?this.CurrentOptions.heimls:isMobilePortrait?this.CurrentOptions.heimpt:this.CurrentOptions.h;e.setAttribute("class","answerContainer"),e.style.width=a+"px",e.style.height=r+"px",e.setAttribute("left",this.CurrentOptions.txt.l),e.setAttribute("top",this.CurrentOptions.txt.l);var s=glhp.crgs("svg","","textcontainer");s.style.position="absolute",s.setAttribute("width",a),s.setAttribute("height",r),s.setAttribute("left",this.CurrentOptions.txt.l),s.setAttribute("top",this.CurrentOptions.txt.T);var n=TextModule.grezByParas(this.CurrentOptions.txt,"question");textHeight>r&&s.setAttribute("height",textHeight+5),n.style.pointerEvents="none",s.appendChild(n);var l=document.createElement("div");l.style.position="absolute";for(var o=0==isMobile?this.CurrentOptions.txt.prdkt:isTabletLandscape?this.CurrentOptions.txt.prtls:isTabletPortrait?this.CurrentOptions.txt.prtp:isMobileLandscape?this.CurrentOptions.txt.prmls:isMobilePortrait?this.CurrentOptions.txt.prmp:this.CurrentOptions.txt.pr,h=0;h<o.length;h++)for(var d=o[h],c=0;c<d.inls.length;c++){var p=d.inls[c];if("Blank"==p.tm){var u=CreateCombobox(p,this);if(null!=this.ArrAnswer||0==this.ArrAnswer.length){var m=new AnswerUser(p.id,null);i.push(m)}l.appendChild(u)}}if(null==this.ArrAnswer||0==this.ArrAnswer.length){var b=DOC.slds.indexOf(glrs.crsl.Data);glhp.DataLocal.Slide[b].ArrAnswer=i}(this.IsCheckReview().IsResult||glhp.DataLocal.Slide[this.IndexSlide].IsSubmit&&!glhp.DataLocal.Slide[this.IndexSlide].Correct&&this.Options.scr)&&(setTimeout((function(){qzm.rvzz(t)}),1),glhp.DataLocal.Slide[this.IndexSlide].IsShowNoti&&(isMobile?glhp.DataLocal.Slide[this.IndexSlide].IsResult?(0==this.Type&&QuestionMobile.ShowResultReview(glhp.DataLocal.Slide[this.IndexSlide].Correct),QuestionMobile.CreateReviewResultButton()):glhp.DataLocal.Slide[this.IndexSlide].IsSubmit&&QuestionMobile.CreateReviewResultButton():swmm(this.IsCheckReview().Correct))),e.appendChild(s),e.appendChild(l),e.innerHTML=e.innerHTML,setTimeout((function(){qzm.dowss("",t),qzm.seels("")}),1);var f=document.getElementById("container");return null!=f&&(f.onclick=function(e){qzm.rmlw()}),e},t.prototype.crqtzCanvas=async function(e){await TextModule.drawCanvasByParas(this.CurrentOptions.txt,e);for(var t=0;t<this.CurrentOptions.txt.pr.length;t++)for(var i=this.CurrentOptions.txt.pr[t],a=0;a<i.inls.length;a++){var r=i.inls[a];if("Blank"==r.tm){e.save();var s=r.fs+"px "+r.ff,n="";switch(DOC.Lang.toUpperCase()){case"EN-US":n="-select-";break;case"TH-TH":n="-เลือก-";break;case"VI-VN":n="-lựa chọn-";break;default:n="-select-"}if(null!=this.ArrAnswer&&this.ArrAnswer.length>0){var l=this.ArrAnswer.filter((function(e){return e.source===r.id}))[0];null!=l&&null!=l.target&&(n=r.as[parseInt(l.target)].txt)}e.translate(r.Ls[0],r.T-r.h),await drawRectangleCanvas(e,0,0,r.w,r.h,4,"white","rgb(190, 190, 190)",1),await drwtCanvas(e,n,r.w/2,2*r.h/3,s,r.col.col,"center",r.w),e.restore()}}},t.prototype.pcsmw=function(){var e=document.getElementById("list-items");e&&e.parentNode.removeChild(e);document.getElementById(this.CurrentOptions.id);for(var t=!1,i=!0,a=0==isMobile?this.CurrentOptions.txt.prdkt:isTabletLandscape?this.CurrentOptions.txt.prtls:isTabletPortrait?this.CurrentOptions.txt.prtp:isMobileLandscape?this.CurrentOptions.txt.prmls:isMobilePortrait?this.CurrentOptions.txt.prmp:this.CurrentOptions.txt.pr,r=0;r<a.length;r++){for(var s=a[r],n=0;n<s.inls.length;n++){if("Blank"==(u=s.inls[n]).tm){var l=document.getElementById("blank"+u.id);if(null!=l){for(var o=!0,h=l.getElementsByTagName("span")[0].textContent,d=0;d<l.classList.length;d++)if(-1!=l.classList[d].indexOf("select-option")){o=!1,_idAnswerSelect=l.classList[d];break}if(t=o)break;for(var c="",p=0;p<u.as.length;p++)if(1==u.as[p].cr){c=u.as[p].txt;break}h==c&&""!=c||(i=!1)}}if(t)break}if(t)break}if(t)qzm.showInvalidFeedback();else{if(i)return this.DisplayFeedback?(swfb("Correct",this.Options),qzm.SaveiF(this.IndexSlide,this.GetiF("Correct"))):glhp.nextSlide(),qzm.SaveDataPoint(this.IndexSlide,wulzz("Correct",this.Options),!0,!0),void qzm.roswb(this.IndexSlide);if(1==this.NumberRepeat){if(this.DisplayFeedback?(swfb("Incorrect",this.Options),qzm.SaveiF(this.IndexSlide,this.GetiF("Incorrect"))):glhp.nextSlide(),qzm.roswb(this.IndexSlide),qzm.SaveDataPoint(this.IndexSlide,wulzz("Incorrect",this.Options),!1,!0),this.Options.scr)for(a=0==isMobile?this.CurrentOptions.txt.prdkt:isTabletLandscape?this.CurrentOptions.txt.prtls:isTabletPortrait?this.CurrentOptions.txt.prtp:isMobileLandscape?this.CurrentOptions.txt.prmls:isMobilePortrait?this.CurrentOptions.txt.prmp:this.CurrentOptions.txt.pr,r=0;r<a.length;r++)for(s=a[r],n=0;n<s.inls.length;n++){var u;if("Blank"==(u=s.inls[n]).tm){var m=document.getElementById("blank"+u.id),b=document.getElementById(u.id+"tag");if(!b||!m)continue;var f=u.as.filter((function(e){return e.txt===b.textContent}))[0];null!=f&&1==f.cr?m.style.color="#71BF6C":(m.style.color="#DB5A4B",m.classList.add("blank-container"))}}}else this.NumberRepeat--,this.DisplayFeedback&&(swfb("Try Again",this.Options),qzm.SaveiF(this.IndexSlide,this.GetiF("Try Again"))),isMobile||qzm.sttze(this.IndexSlide,this.NumberRepeat)}},t.prototype.check=function(){var e=document.getElementById("list-items");e&&e.parentNode.removeChild(e);for(var t=!1,i=!0,a=0;a<this.CurrentOptions.txt.pr.length;a++){for(var r=this.CurrentOptions.txt.pr[a],s=0;s<r.inls.length;s++){var n=r.inls[s];if("Blank"==n.tm){var l=document.getElementById("blank"+n.id);if(null!=l){for(var o=!0,h=l.getElementsByTagName("span")[0].textContent,d=0;d<l.classList.length;d++)if(-1!=l.classList[d].indexOf("select-option")){o=!1,_idAnswerSelect=l.classList[d];break}if(t=o)break;for(var c="",p=0;p<n.as.length;p++)if(1==n.as[p].cr){c=n.as[p].txt;break}h==c&&""!=c||(i=!1)}}if(t)break}if(t)break}return!t&&!!i},t}(Question),function(e){function t(t){var i=e.call(this,t)||this;return i.GetData(),i}return __extends(t,e),t.prototype.GetData=function(){var e=this.IndexSlide,t="Initial"==glrs.crsl.Data.slC.rM;qzm.IsEndTime&&(t=!1),t&&(glhp.DataLocal.Slide[e].IsSubmit=!1,glhp.DataLocal.Slide[e].urr="",glhp.DataLocal.Slide[e].Answers=null,glhp.DataLocal.Slide[e].UserReply=null,glhp.DataLocal.Slide[e].ArrAnswer=null,glhp.DataLocal.Slide[e].NumberRepeat=this.Options.atm),null!=glhp.DataLocal.Slide[e].ArrAnswer?(this.ArrAnswer=glhp.DataLocal.Slide[e].ArrAnswer,this.NumberRepeat=glhp.DataLocal.Slide[e].NumberRepeat):this.NumberRepeat=this.Options.atm,null==this.numberRepeat&&(this.NumberRepeat=this.Options.atm)},t.prototype.crqtz=function(){var e=document.createElement("div"),t=this,i=0==isMobile?this.CurrentOptions.w:isTabletLandscape?this.CurrentOptions.widtls:isTabletPortrait?this.CurrentOptions.widtpt:isMobileLandscape?this.CurrentOptions.widmls:isMobilePortrait?this.CurrentOptions.widmpt:this.CurrentOptions.w,a=0==isMobile?this.CurrentOptions.h:isTabletLandscape?this.CurrentOptions.heitls:isTabletPortrait?this.CurrentOptions.heitpt:isMobileLandscape?this.CurrentOptions.heimls:isMobilePortrait?this.CurrentOptions.heimpt:this.CurrentOptions.h;e.setAttribute("class","answerContainer"),e.style.width=i+"px",e.style.height=a+"px";this.CurrentOptions.as;var r=glhp.crgs("svg","","textcontainer");r.style.position="absolute";i=0==isMobile?this.CurrentOptions.txt.w:isTabletLandscape?this.CurrentOptions.txt.widtls:isTabletPortrait?this.CurrentOptions.txt.widtpt:isMobileLandscape?this.CurrentOptions.txt.widmls:isMobilePortrait?this.CurrentOptions.txt.widmpt:this.CurrentOptions.txt.w,a=0==isMobile?this.CurrentOptions.txt.h:isTabletLandscape?this.CurrentOptions.txt.heitls:isTabletPortrait?this.CurrentOptions.txt.heitpt:isMobileLandscape?this.CurrentOptions.txt.heimls:isMobilePortrait?this.CurrentOptions.txt.heimpt:this.CurrentOptions.txt.h;r.setAttribute("width",i),r.setAttribute("height",a),r.setAttribute("left",this.CurrentOptions.txt.l),r.setAttribute("top",this.CurrentOptions.txt.T);var s=TextModule.grezByParas(this.CurrentOptions.txt,"question");textHeight>a&&r.setAttribute("height",textHeight+5),s.style.pointerEvents="none",r.appendChild(s);var n=new Array,l=document.createElement("div");l.style.position="absolute";for(var o=0==isMobile?this.CurrentOptions.txt.prdkt:isTabletLandscape?this.CurrentOptions.txt.prtls:isTabletPortrait?this.CurrentOptions.txt.prtp:isMobileLandscape?this.CurrentOptions.txt.prmls:isMobilePortrait?this.CurrentOptions.txt.prmp:this.CurrentOptions.txt.pr,h=0;h<o.length;h++)for(var d=o[h],c=0;c<d.inls.length;c++){var p=d.inls[c];if("Blank"==p.tm){var u=CreateTextInput(p,this);if(null!=this.ArrAnswer||0==this.ArrAnswer.length){var m=new AnswerUser(p.id,null);n.push(m)}l.appendChild(u)}}if(null==this.ArrAnswer||0==this.ArrAnswer.length){var b=DOC.slds.indexOf(glrs.crsl.Data);glhp.DataLocal.Slide[b].ArrAnswer=n}return(this.IsCheckReview().IsResult||glhp.DataLocal.Slide[this.IndexSlide].IsSubmit&&!glhp.DataLocal.Slide[this.IndexSlide].Correct&&this.Options.scr)&&(setTimeout((function(){qzm.rvzz(t)}),1),glhp.DataLocal.Slide[this.IndexSlide].IsShowNoti&&(isMobile?glhp.DataLocal.Slide[this.IndexSlide].IsResult?(0==this.Type&&QuestionMobile.ShowResultReview(glhp.DataLocal.Slide[this.IndexSlide].Correct),QuestionMobile.CreateReviewResultButton()):glhp.DataLocal.Slide[this.IndexSlide].IsSubmit&&QuestionMobile.CreateReviewResultButton():swmm(this.IsCheckReview().Correct))),e.appendChild(r),e.appendChild(l),e.innerHTML=e.innerHTML,setTimeout((function(){qzm.InputText("")}),1),e},t.prototype.crqtzCanvas=async function(e){await TextModule.drawCanvasByParas(this.CurrentOptions.txt,e);for(var t=0;t<this.CurrentOptions.txt.pr.length;t++)for(var i=this.CurrentOptions.txt.pr[t],a=0;a<i.inls.length;a++){e.save();var r=i.inls[a];if("Blank"==r.tm){CreateTextInput(r,this);var s=r.fs+"px "+r.ff;if(e.translate(r.Ls[0],r.T-r.h),await drawRectangleCanvas(e,0,0,r.w,r.h,4,"white","#C0C0C0",1),null!=this.ArrAnswer&&this.ArrAnswer.length>0){var n=this.ArrAnswer.filter((function(e){return e.source===r.id}))[0];null!=n&&null!=n.target&&await drwtCanvas(e,n.target,r.w/2,2*r.h/3,s,r.col.col,"center",r.w-10)}}e.restore()}if(null==this.ArrAnswer||0==this.ArrAnswer.length){var l=DOC.slds.indexOf(glrs.crsl.Data);glhp.DataLocal.Slide[l].ArrAnswer=_asws}},t.prototype.pcsmw=function(){document.getElementById(this.CurrentOptions.id);for(var e=!1,t=!0,i=0;i<this.CurrentOptions.txt.pr.length;i++){for(var a=this.CurrentOptions.txt.pr[i],r=0;r<a.inls.length;r++){if("Blank"==(d=a.inls[r]).tm){var s=document.getElementById("input_"+d.id);if(null!=s){if(""==s.value){e=!0;break}for(var n=!1,l=0;l<d.as.length;l++)if(glhp.areStringsEqualIgnoreCase(d.as[l].txt.trim(),s.value.trim())){n=!0;break}n||(t=!1)}}if(e)break}if(e)break}if(e)qzm.showInvalidFeedback();else{if(t)return this.DisplayFeedback?(swfb("Correct",this.Options),qzm.SaveiF(this.IndexSlide,this.GetiF("Correct"))):glhp.nextSlide(),qzm.SaveDataPoint(this.IndexSlide,wulzz("Correct",this.Options),!0,!0),qzm.roswb(this.IndexSlide),void qzm.diwz(this.CurrentOptions);if(1==this.NumberRepeat){if(this.DisplayFeedback?(swfb("Incorrect",this.Options),qzm.SaveiF(this.IndexSlide,this.GetiF("Incorrect"))):glhp.nextSlide(),qzm.roswb(this.IndexSlide),qzm.SaveDataPoint(this.IndexSlide,wulzz("Incorrect",this.Options),!1,!0),qzm.diwz(this.CurrentOptions),this.Options.scr){var o=0==isMobile?this.CurrentOptions.txt.prdkt:isTabletLandscape?this.CurrentOptions.txt.prtls:isTabletPortrait?this.CurrentOptions.txt.prtp:isMobileLandscape?this.CurrentOptions.txt.prmls:isMobilePortrait?this.CurrentOptions.txt.prmp:this.CurrentOptions.txt.pr,h=DOC.slds.indexOf(glrs.crsl.Data);for(i=0;i<o.length;i++)for(a=o[i],r=0;r<a.inls.length;r++){var d;if("Blank"==(d=a.inls[r]).tm){var c=document.getElementById("input_"+d.id),p=document.getElementById("divinput"+d.id);if(!c||!p)continue;if(null!=glhp.DataLocal.Slide[h].ArrAnswer&&glhp.DataLocal.Slide[h].ArrAnswer.length>0){var u=glhp.DataLocal.Slide[h].ArrAnswer.filter((function(e){return e.source===d.id}))[0];null!=d.as.filter((function(e){return e.txt.trim().toLowerCase()===u.target.trim().toLowerCase()}))[0]?c.style.color="#71BF6C":(c.style.color="#DB5A4B",p.classList.add("review-Result"))}}}setTimeout((function(){qzm.rvzz(self)}),1)}}else this.NumberRepeat--,this.DisplayFeedback&&(swfb("Try Again",this.Options),qzm.SaveiF(this.IndexSlide,this.GetiF("Try Again"))),qzm.sttze(this.IndexSlide,this.NumberRepeat)}},t.prototype.CheckAnswerFillBlank=function(){for(var e=!1,t=!0,i=0;i<this.CurrentOptions.txt.pr.length;i++){for(var a=this.CurrentOptions.txt.pr[i],r=0;r<a.inls.length;r++){var s=a.inls[r];if("Blank"==s.tm){var n=document.getElementById("input_"+s.id);if(null!=n){if(""==n.value){e=!0;break}for(var l=!1,o=0;o<s.as.length;o++)if(glhp.areStringsEqualIgnoreCase(s.as[o].txt.trim(),n.value.trim())){l=!0;break}l||(t=!1)}}if(e)break}if(e)break}return!e&&!!t},t}(Question));function CreateUnderline(e,t,i){var a=glhp.crgs("div","input_"+e.id,"ip-answer");a.value=e.cor,a.innerHTML=e.tex,a.setAttribute("style","width:"+e.w+"px; height:"+e.h+"px;text-overflow: ellipsis;box-sizing: border-box;font-size:"+e.fs+"px; font-family:"+e.ff+"; color:"+e.col.col+"; background:white;cursor: pointer");var r=glhp.crgs("div","numberinput_"+e.id,"ip-number-answer");r.value=i,r.innerHTML=i,r.setAttribute("style","width:"+e.w+"px; height:"+e.h+"px;text-overflow: ellipsis;border-top: 1px solid "+e.col.col+";box-sizing: border-box;font-size:"+e.fs+"px; font-family:"+e.ff+"; text-align:center; margin-top: 5px;cursor: pointer"),a.appendChild(r);var s=glhp.crgs("div","divinput"+e.id,"blank-container"),n=e.Ls[0],l=e.T-e.h;s.setAttribute("style"," position: absolute;width:"+e.w+"px; height:"+e.h+"px; transform: translate("+n+"px ,"+l+"px"),a.classList.add("underline-item"),s.appendChild(a);var o=DOC.slds.indexOf(glrs.crsl.Data);if(e.id==t.UserReply)if(t.IsCheckReview().IsResult||glhp.DataLocal.Slide[t.IndexSlide].IsSubmit&&!glhp.DataLocal.Slide[t.IndexSlide].Correct&&t.Options.scr){var h=glhp.DataLocal.Slide[o].UserReply;e.cor&&h==e.id.toString()?a.classList.add("selected"):a.classList.add("incorrec")}else a.classList.add("selected");return null==glrs.crsl.Data||isTransaction||1!=glhp.DataLocal.Slide[o].IsSubmit||(a.disabled=!0),s}function getIndex(e){return e<=26?e:e%(26*Math.floor(e/26))+1}function getNumber(e){let t=new Array;for(let a=0;a<e;a++){let e=getIndex(a+1)+64;var i=String.fromCharCode(e);Math.floor((a+1)/26)>1&&(i+=Math.floor((a+1)/26)),t.push(i)}return t}var QuestionUnderline=function(e){function t(t){var i=e.call(this,t)||this;return i.GetData(),i}return __extends(t,e),t.prototype.GetData=function(){var e=this.IndexSlide,t="Initial"==glrs.crsl.Data.slC.rM;qzm.IsEndTime&&(t=!1),t&&(glhp.DataLocal.Slide[e].IsSubmit=!1,glhp.DataLocal.Slide[e].urr="",glhp.DataLocal.Slide[e].Answers=null,glhp.DataLocal.Slide[e].UserReply=null,glhp.DataLocal.Slide[e].ArrAnswer=null,glhp.DataLocal.Slide[e].NumberRepeat=this.Options.atm),null!=glhp.DataLocal.Slide[e].ArrAnswer?(this.ArrAnswer=glhp.DataLocal.Slide[e].ArrAnswer,this.NumberRepeat=glhp.DataLocal.Slide[e].NumberRepeat):this.NumberRepeat=this.Options.atm,null==this.numberRepeat&&(this.NumberRepeat=this.Options.atm),this.UserReply=glhp.DataLocal.Slide[e].UserReply},t.prototype.crqtz=function(){var e=document.createElement("div"),t=this,i=0==isMobile?this.CurrentOptions.w:isTabletLandscape?this.CurrentOptions.widtls:isTabletPortrait?this.CurrentOptions.widtpt:isMobileLandscape?this.CurrentOptions.widmls:isMobilePortrait?this.CurrentOptions.widmpt:this.CurrentOptions.w,a=0==isMobile?this.CurrentOptions.h:isTabletLandscape?this.CurrentOptions.heitls:isTabletPortrait?this.CurrentOptions.heitpt:isMobileLandscape?this.CurrentOptions.heimls:isMobilePortrait?this.CurrentOptions.heimpt:this.CurrentOptions.h;e.setAttribute("class","answerContainer"),e.style.width=i+"px",e.style.height=a+"px";this.CurrentOptions.as;var r=glhp.crgs("svg","","textcontainer");r.style.position="absolute",r.setAttribute("width",i),r.setAttribute("height",a),r.setAttribute("left",this.CurrentOptions.txt.l),r.setAttribute("top",this.CurrentOptions.txt.T);var s=TextModule.grezByParas(this.CurrentOptions.txt,"question");textHeight>a&&r.setAttribute("height",textHeight+5),s.style.pointerEvents="none",r.appendChild(s);var n=new Array,l=document.createElement("div");l.style.position="absolute",0==glhp.DataLocal.Slide[this.IndexSlide].IsSubmit&&setTimeout((function(){qzm.Underline("","")}),1);let o=new Array;for(var h=0==isMobile?this.CurrentOptions.txt.prdkt:isTabletLandscape?this.CurrentOptions.txt.prtls:isTabletPortrait?this.CurrentOptions.txt.prtp:isMobileLandscape?this.CurrentOptions.txt.prmls:isMobilePortrait?this.CurrentOptions.txt.prmp:this.CurrentOptions.txt.pr,d=0;d<h.length;d++)for(var c=h[d],p=0;p<c.inls.length;p++){var u=c.inls[p];"Blank"==u.tm&&o.push(u)}var m=getNumber(o.length);if(o.forEach((function(e,t,i){var a=CreateUnderline(e,this,m[t]);if(null!=this.ArrAnswer||0==this.ArrAnswer.length){var r=new AnswerUser(e.id,null);n.push(r)}l.appendChild(a)}),this),null==this.ArrAnswer||0==this.ArrAnswer.length){var b=DOC.slds.indexOf(glrs.crsl.Data);glhp.DataLocal.Slide[b].ArrAnswer=n}return(this.IsCheckReview().IsResult||glhp.DataLocal.Slide[this.IndexSlide].IsSubmit&&!glhp.DataLocal.Slide[this.IndexSlide].Correct&&this.Options.scr)&&(setTimeout((function(){qzm.rvzz(t)}),1),glhp.DataLocal.Slide[this.IndexSlide].IsShowNoti&&(isMobile?glhp.DataLocal.Slide[this.IndexSlide].IsResult?(0==this.Type&&QuestionMobile.ShowResultReview(glhp.DataLocal.Slide[this.IndexSlide].Correct),QuestionMobile.CreateReviewResultButton()):glhp.DataLocal.Slide[this.IndexSlide].IsSubmit&&QuestionMobile.CreateReviewResultButton():swmm(this.IsCheckReview().Correct))),e.appendChild(r),e.appendChild(l),e.innerHTML=e.innerHTML,setTimeout((function(){qzm.InputText("")}),1),e},t.prototype.drawCanvas=async function(e){e.save(),e.translate(this.CurrentOptions.txt.l,this.CurrentOptions.txt.t),this.CurrentOptions.txt.pr.forEach(t=>{t.inls.forEach(t=>{if(e.font=t.fst+" "+t.fw+" "+t.fs+"px "+t.ff,e.fillStyle=t.col.col,e.fillText(t.Txt,t.Ls[0],t.T),t.Ul)if("Single"==t.u){var i=t.Ul.X1,a=t.Ul.Y+t.Ul.W/4,r=t.Ul.X2-i,s=t.Ul.W/10;e.fillRect(i,a,r,s)}else if("Double"==t.u){i=t.Ul.X1,s=t.Ul.W/15;var n=t.Ul.Y+t.Ul.W/4-s,l=t.Ul.Y+t.Ul.W/4+s;r=t.Ul.X2-i;e.fillRect(i,n,r,s),e.fillRect(i,l,r,s)}})});let t=new Array;for(var i=0;i<this.CurrentOptions.txt.pr.length;i++)for(var a=this.CurrentOptions.txt.pr[i],r=0;r<a.inls.length;r++){var s=a.inls[r];"Blank"==s.tm&&t.push(s)}new Array;var n=getNumber(t.length);t.forEach((async function(t,i,a){e.translate(this.CurrentOptions.txt.l,this.CurrentOptions.txt.t),await this.CreateUnderlineCanvas(t,n[i],e)}),this),e.restore()},t.prototype.CreateUnderlineCanvas=async function(e,t,i){var a=!1;e.id==this.UserReply&&(a=!0);var r=e.Ls[0],s=e.T;i.save(),i.fillStyle=a?"#28c76f":"rgba(0,0,0,255)",i.font=e.fs+"px "+e.ff,i.fillText(e.tex,r,s-e.h/2-3,e.w),i.translate(0,e.h),i.textAlign="center",i.fillText(t,r+e.w/2,s-3*e.h/4);var n=new Path2D;n.moveTo(r,s-4*e.h/3),n.lineTo(r+e.w,s-4*e.h/3),n.closePath(),i.strokeStyle=a?"#28c76f":"rgba(0,0,0,255)",i.stroke(n),i.restore()},t.prototype.pcsmw=function(){document.getElementById(this.CurrentOptions.id);for(var e=!1,t=!1,i=0;i<this.CurrentOptions.txt.pr.length;i++){for(var a=this.CurrentOptions.txt.pr[i],r=0;r<a.inls.length;r++){if("Blank"==(l=a.inls[r]).tm){var s=DOC.slds.indexOf(glrs.crsl.Data);if(d=glhp.DataLocal.Slide[s].UserReply){if(t=l.cor&&d==l.id.toString())break}else e=!0}}if(t)break}if(e)qzm.showInvalidFeedback();else{if(t)return this.DisplayFeedback?(swfb("Correct",this.Options),qzm.SaveiF(this.IndexSlide,this.GetiF("Correct"))):glhp.nextSlide(),qzm.SaveDataPoint(this.IndexSlide,wulzz("Correct",this.Options),!0,!0),qzm.roswb(this.IndexSlide),void qzm.diwz(this.CurrentOptions);if(1==this.NumberRepeat){if(this.DisplayFeedback?(swfb("Incorrect",this.Options),qzm.SaveiF(this.IndexSlide,this.GetiF("Incorrect"))):glhp.nextSlide(),qzm.roswb(this.IndexSlide),qzm.SaveDataPoint(this.IndexSlide,wulzz("Incorrect",this.Options),!1,!0),qzm.diwz(this.CurrentOptions),this.Options.scr){let e=new Array;var n=0==isMobile?this.CurrentOptions.txt.prdkt:isTabletLandscape?this.CurrentOptions.txt.prtls:isTabletPortrait?this.CurrentOptions.txt.prtp:isMobileLandscape?this.CurrentOptions.txt.prmls:isMobilePortrait?this.CurrentOptions.txt.prmp:this.CurrentOptions.txt.pr;for(i=0;i<n.length;i++)for(a=n[i],r=0;r<a.inls.length;r++){var l;"Blank"==(l=a.inls[r]).tm&&e.push(l)}for(i=0;i<e.length;i++){var o=document.getElementById("input_"+e[i].id);if(o){var h=DOC.slds.indexOf(glrs.crsl.Data),d=glhp.DataLocal.Slide[h].UserReply;e[i].id==d&&(e[i].cor&&d==e[i].id.toString()?o.classList.add("selected"):o.classList.add("incorrec"))}}setTimeout((function(){qzm.rvzz(this)}),1)}}else this.NumberRepeat--,this.DisplayFeedback&&(swfb("Try Again",this.Options),qzm.SaveiF(this.IndexSlide,this.GetiF("Try Again"))),qzm.sttze(this.IndexSlide,this.NumberRepeat)}},t.prototype.CheckResultQuestion=function(){for(var e=!1,t=!1,i=0;i<this.CurrentOptions.txt.pr.length;i++){for(var a=this.CurrentOptions.txt.pr[i],r=0;r<a.inls.length;r++){var s=a.inls[r];if("Blank"==s.tm){var n=document.getElementById("input_"+s.id);if(null!=n&&(null==n.value&&(e=!0),t=s.cor&&n.value==s.cor.toString()))break}}if(t)break}return!e&&!!t},t}(Question),QuestionDragWord=function(e){function t(t,i){var a=e.call(this,t)||this;this.CurrentOptions=i;var r="";if(null!=this.CurrentOptions.dc&&this.CurrentOptions.dc)for(s=0;s<t.lts.length;s++){if(t.lts[s].iM)for(n=0;n<t.lts[s].e.length;n++)if("Answers"==t.lts[s].e[n].c&&(null==t.lts[s].e[n].dc||!t.lts[s].e[n].dc)){r=t.lts[s].e[n];break}if(""!=r)break}else for(var s=0;s<t.lts.length;s++){if(t.lts[s].iM)for(var n=0;n<t.lts[s].e.length;n++)if("Answers"==t.lts[s].e[n].c&&1==t.lts[s].e[n].dc){r=t.lts[s].e[n];break}if(""!=r)break}return this.Target=r,a.GetData(),a}return __extends(t,e),t.prototype.GetData=function(){var e=this.IndexSlide,t="Initial"==glrs.crsl.Data.slC.rM;qzm.IsEndTime&&(t=!1),t&&(glhp.DataLocal.Slide[e].IsSubmit=!1,glhp.DataLocal.Slide[e].urr="",glhp.DataLocal.Slide[e].Answers=null,glhp.DataLocal.Slide[e].UserReply=null,glhp.DataLocal.Slide[e].ArrAnswer=null,glhp.DataLocal.Slide[e].NumberRepeat=this.Options.atm),null!=glhp.DataLocal.Slide[e].ArrAnswer?(this.ArrAnswer=glhp.DataLocal.Slide[e].ArrAnswer,this.NumberRepeat=glhp.DataLocal.Slide[e].NumberRepeat):this.NumberRepeat=this.Options.atm,null==this.numberRepeat&&(this.NumberRepeat=this.Options.atm)},t.prototype.crqtz=function(){var e=document.createElement("div"),t=this,i=0==isMobile?this.CurrentOptions.w:isTabletLandscape?this.CurrentOptions.widtls:isTabletPortrait?this.CurrentOptions.widtpt:isMobileLandscape?this.CurrentOptions.widmls:isMobilePortrait?this.CurrentOptions.widmpt:this.CurrentOptions.w,a=0==isMobile?this.CurrentOptions.h:isTabletLandscape?this.CurrentOptions.heitls:isTabletPortrait?this.CurrentOptions.heitpt:isMobileLandscape?this.CurrentOptions.heimls:isMobilePortrait?this.CurrentOptions.heimpt:this.CurrentOptions.h;e.setAttribute("class","answerContainer"),e.style.width=i+"px",e.style.height=a+"px";this.CurrentOptions.as;if(null!=this.CurrentOptions.dc&&this.CurrentOptions.dc){var r=glhp.crgs("svg","text"+this.CurrentOptions.id,"dragcontainer");r.classList.add("target"+this.Target.id),r.style.position="absolute",r.setAttribute("width",i),r.setAttribute("height",a),(o=glhp.crgs("div","drap"+this.CurrentOptions.id,"dragcontainer")).classList.add("target"+this.Target.id),o.style.position="absolute";for(d=0;d<this.CurrentOptions.ds.length;d++){var s=CreateAnswerDragWord(this.CurrentOptions.ds[d],this);o.appendChild(s)}e.appendChild(r),e.appendChild(o),e.innerHTML=e.innerHTML,setTimeout((function(){qzm.DragWord("",t),qzm.Click("")}),1)}else{e.style.width=i+"px",e.style.height=a+"px",e.classList.add("dropAnswerContainer");var n=glhp.crgs("svg","text"+this.CurrentOptions.id,"dropcontainer");n.style.position="absolute",n.setAttribute("width",this.CurrentOptions.txt.w),n.setAttribute("height",this.CurrentOptions.txt.h),n.setAttribute("left",this.CurrentOptions.txt.l),n.setAttribute("top",this.CurrentOptions.txt.T);var l=TextModule.grezByParas(this.CurrentOptions.txt,"question");l.style.pointerEvents="none",n.appendChild(l),e.appendChild(n);var o,h=new Array;(o=glhp.crgs("div","drop"+this.CurrentOptions.id,"dropcontainer")).classList.add("target"+this.Target.id),o.style.position="absolute";for(var d=0;d<this.CurrentOptions.txt.pr.length;d++)for(var c=this.CurrentOptions.txt.pr[d],p=0;p<c.inls.length;p++){var u=c.inls[p];if("Blank"==u.tm){var m=CreateAnswerDropWord(u,this);if(o.appendChild(m),null!=this.ArrAnswer||0==this.ArrAnswer.length){var b=new AnswerUser(u.id,null);h.push(b)}}}e.appendChild(n),e.appendChild(o),e.innerHTML=e.innerHTML,setTimeout((function(){qzm.DragWord("",t),qzm.Click("")}),1),(this.IsCheckReview().IsResult||glhp.DataLocal.Slide[this.IndexSlide].IsSubmit&&!glhp.DataLocal.Slide[this.IndexSlide].Correct&&this.Options.scr)&&(setTimeout((function(){qzm.rvzz(t)}),1),glhp.DataLocal.Slide[this.IndexSlide].IsShowNoti&&(isMobile?glhp.DataLocal.Slide[this.IndexSlide].IsResult?(0==this.Type&&QuestionMobile.ShowResultReview(glhp.DataLocal.Slide[this.IndexSlide].Correct),QuestionMobile.CreateReviewResultButton()):glhp.DataLocal.Slide[this.IndexSlide].IsSubmit&&QuestionMobile.CreateReviewResultButton():swmm(this.IsCheckReview().Correct)))}if(null==this.ArrAnswer||0==this.ArrAnswer.length){var f=DOC.slds.indexOf(glrs.crsl.Data);let e=glhp.DataLocal.Slide[f];e&&(e.ArrAnswer=h)}return e},t.prototype.crqtzMobile=function(){var e=document.createElement("div"),t=this,i=0==isMobile?this.CurrentOptions.w:isTabletLandscape?this.CurrentOptions.widtls:isTabletPortrait?this.CurrentOptions.widtpt:isMobileLandscape?this.CurrentOptions.widmls:isMobilePortrait?this.CurrentOptions.widmpt:this.CurrentOptions.w,a=0==isMobile?this.CurrentOptions.h:isTabletLandscape?this.CurrentOptions.heitls:isTabletPortrait?this.CurrentOptions.heitpt:isMobileLandscape?this.CurrentOptions.heimls:isMobilePortrait?this.CurrentOptions.heimpt:this.CurrentOptions.h;e.setAttribute("class","answerContainer"),e.style.width=i+"px",e.style.height=a+"px";this.CurrentOptions.as;if(null==this.CurrentOptions.dc||!this.CurrentOptions.dc){e.style.width=i+"px",e.style.height=a+"px",e.classList.add("dropAnswerContainer");var r=glhp.crgs("svg","text"+this.CurrentOptions.id,"dropcontainer");r.style.position="absolute",r.setAttribute("width",i),r.setAttribute("height",a),r.setAttribute("left",this.CurrentOptions.txt.l),r.setAttribute("top",this.CurrentOptions.txt.T);var s=TextModule.grezByParas(this.CurrentOptions.txt,"question");textHeight>a&&r.setAttribute("height",textHeight+5),s.style.pointerEvents="none",r.appendChild(s),e.appendChild(r);var n=new Array,l=glhp.crgs("div","drop"+this.CurrentOptions.id,"dropcontainer");l.classList.add("target"+this.Target.id),l.style.position="absolute";for(var o=0==isMobile?this.CurrentOptions.txt.prdkt:isTabletLandscape?this.CurrentOptions.txt.prtls:isTabletPortrait?this.CurrentOptions.txt.prtp:isMobileLandscape?this.CurrentOptions.txt.prmls:isMobilePortrait?this.CurrentOptions.txt.prmp:this.CurrentOptions.txt.pr,h=0;h<o.length;h++)for(var d=o[h],c=0;c<d.inls.length;c++){var p=d.inls[c];if("Blank"==p.tm){var u=CreateAnswerDropWordMobile(p,this);if(l.appendChild(u),null!=this.ArrAnswer||0==this.ArrAnswer.length){var m=new AnswerUser(p.id,null);n.push(m)}}}if(e.appendChild(r),e.appendChild(l),e.innerHTML=e.innerHTML,glhp.DataLocal.Slide[this.IndexSlide].IsSubmit||setTimeout((function(){QuestionMobile.ShowDragwordlayer(t.CurrentOptions,t.Target)}),1),(this.IsCheckReview().IsResult||glhp.DataLocal.Slide[this.IndexSlide].IsSubmit&&!glhp.DataLocal.Slide[this.IndexSlide].Correct&&this.Options.scr)&&(setTimeout((function(){qzm.rvzz(t)}),1),glhp.DataLocal.Slide[this.IndexSlide].IsShowNoti&&(isMobile?glhp.DataLocal.Slide[this.IndexSlide].IsResult?(0==this.Type&&QuestionMobile.ShowResultReview(glhp.DataLocal.Slide[this.IndexSlide].Correct),QuestionMobile.CreateReviewResultButton()):glhp.DataLocal.Slide[this.IndexSlide].IsSubmit&&QuestionMobile.CreateReviewResultButton():swmm(this.IsCheckReview().Correct))),null==this.ArrAnswer||0==this.ArrAnswer.length){var b=DOC.slds.indexOf(glrs.crsl.Data);glhp.DataLocal.Slide[b].ArrAnswer=n}return e}},t.prototype.crqtzCanvas=async function(e){var t=document.createElement("div");if(t.setAttribute("class","answerContainer"),t.style.width=this.CurrentOptions.w+"px",t.style.height=this.CurrentOptions.h+"px",null!=this.CurrentOptions.dc&&this.CurrentOptions.dc){for(r=0;r<this.CurrentOptions.ds.length;r++)if(this.CurrentOptions.ds[r].t<=this.CurrentOptions.h){var i=this.CurrentOptions.ds[r].id;e.save();const t=e.createLinearGradient(this.CurrentOptions.ds[r].l,this.CurrentOptions.ds[r].t,this.CurrentOptions.ds[r].w,this.CurrentOptions.ds[r].h);t.addColorStop(0,"#FFFFFF"),t.addColorStop(1,"#F2F2F2");h=this.CurrentOptions.ds[r].fs+"px "+this.CurrentOptions.ds[r].ff;e.translate(this.CurrentOptions.ds[r].l,this.CurrentOptions.ds[r].t);var a=this.CurrentOptions.ds[r].h;if(this.CurrentOptions.ds[r].t+this.CurrentOptions.ds[r].h>this.CurrentOptions.h&&(a=this.CurrentOptions.ds[r].h-(this.CurrentOptions.ds[r].t+this.CurrentOptions.ds[r].h-this.CurrentOptions.h)),await drawRectangleCanvas(e,0,0,this.CurrentOptions.ds[r].w,a,4,t,"#C0C0C0",1),null!=this.ArrAnswer&&this.ArrAnswer.length>0)(o=this.ArrAnswer.filter((function(e){if(e.target)return e.target===i}))[0])||await drwtCanvas(e,this.CurrentOptions.ds[r].txt,this.CurrentOptions.ds[r].w/2,2*this.CurrentOptions.ds[r].h/3,h,this.CurrentOptions.ds[r].fg.col,"center",this.CurrentOptions.ds[r].w);e.restore()}}else{TextModule.drawCanvasByParas(this.CurrentOptions.txt,e);for(var r=0;r<this.CurrentOptions.txt.pr.length;r++)for(var s=this.CurrentOptions.txt.pr[r],n=0;n<s.inls.length;n++){var l=s.inls[n];if("Blank"==l.tm){e.save();const t=e.createLinearGradient(l.Ls[0],l.T-l.h,l.w,l.h);t.addColorStop(0,"#FFFFFF"),t.addColorStop(1,"#F2F2F2");var o,h=l.fs+"px "+l.ff;if(e.translate(l.Ls[0],l.T-l.h),await drawRectangleCanvas(e,0,0,l.w,l.h,4,t,"#C0C0C0",1),null!=this.ArrAnswer&&this.ArrAnswer.length>0)if(null!=(o=this.ArrAnswer.filter((function(e){return e.source===l.id}))[0])&&null!=o.target){var d=this.Target.ds.filter((function(e){return e.id===o.target}))[0];null!=d&&await drwtCanvas(e,d.txt,l.w/2,2*l.h/3,h,l.col.col,"center",l.w-2)}e.restore()}}}},t.prototype.pcsmw=function(){var e=null;e=this.CurrentOptions.dc?this.Target:this.CurrentOptions;document.getElementById(e.id);var t=!1,i=!0,a=0==isMobile?e.txt.prdkt:isTabletLandscape?e.txt.prtls:isTabletPortrait?e.txt.prtp:isMobileLandscape?e.txt.prmls:isMobilePortrait?e.txt.prmp:e.txt.pr;if(isMobile){for(var r=document.getElementById(this.CurrentOptions.id).getElementsByClassName("dragword-item"),s=0;s<r.length;s++)if(!r[s].classList.contains("active-item")){t=!0;break}if(!t){for(var n=0;n<r.length;n++){if(r[n].getElementsByClassName("text-content")[0].innerHTML!=QuestionMobile.GetBlankFromId(this.CurrentOptions.txt.pr,r[n].id).tex){i=!1;break}}QuestionMobile.SaveUserAnswer(this.CurrentOptions)}}else for(s=0;s<a.length;s++){for(var l=a[s],o=0;o<l.inls.length;o++){if("Blank"==(d=l.inls[o]).tm){var h=document.getElementById("content"+d.id);if(null!=h){if(""==h.innerHTML){t=!0;break}h.innerHTML.toLowerCase()!=d.tex.toLowerCase()&&(i=!1)}}if(t)break}if(t)break}if(t)qzm.showInvalidFeedback();else{if(i)return this.DisplayFeedback?(swfb("Correct",this.Options),qzm.SaveiF(this.IndexSlide,this.GetiF("Correct"))):glhp.nextSlide(),qzm.SaveDataPoint(this.IndexSlide,wulzz("Correct",this.Options),!0,!0),void qzm.roswb(this.IndexSlide);if(1==this.NumberRepeat){if(this.DisplayFeedback?(swfb("Incorrect",this.Options),qzm.SaveiF(this.IndexSlide,this.GetiF("Incorrect"))):glhp.nextSlide(),qzm.roswb(this.IndexSlide),qzm.SaveDataPoint(this.IndexSlide,wulzz("Incorrect",this.Options),!1,!0),this.Options.scr)for(s=0;s<this.CurrentOptions.txt.pr.length;s++)for(l=this.CurrentOptions.txt.pr[s],o=0;o<l.inls.length;o++){var d;if("Blank"==(d=l.inls[o]).tm){var c=document.getElementById("content"+d.id);c.innerHTML.trim().toLowerCase()==d.tex.trim().toLowerCase()?c.style.color="#71BF6C":c.style.color="#DB5A4B"}}}else this.NumberRepeat--,this.DisplayFeedback&&(swfb("Try Again",this.Options),qzm.SaveiF(this.IndexSlide,this.GetiF("Try Again"))),qzm.sttze(this.IndexSlide,this.NumberRepeat)}},t.prototype.CheckAnswerDragWord=function(){var e=null;e=this.CurrentOptions.dc?this.Target:this.CurrentOptions;for(var t=!1,i=!0,a=0;a<e.txt.pr.length;a++){for(var r=e.txt.pr[a],s=0;s<r.inls.length;s++){var n=r.inls[s];if("Blank"==n.tm){var l=document.getElementById("content"+n.id);if(null!=l){if(""==l.innerHTML){t=!0;break}l.innerHTML.toLowerCase()!=n.tex.toLowerCase()&&(i=!1)}}if(t)break}if(t)break}return!t&&!!i},t}(Question);function Hotspot(e,t){var i=DOC.slds.indexOf(glrs.crsl.Data);return{grez:function(){var a=glhp.crgs("div"),r=glhp.crgs("svg"),s=shzp.grnz(e.shs,{id:e.id,width:e.w,height:e.h});if(r.setAttribute("width",e.w+"px"),r.setAttribute("height",e.h+"px"),glhp.DataLocal.Slide[i].IsResult){var n=s.querySelector("path");n&&(n.setAttribute("fill","#ffffff"),n.setAttribute("opacity","0"))}return s.onclick=function(e){t.imp||(glhp.DataLocal.Slide[i].Correct=!0,qzm.QuestionHostpot.isCorrect=!0)},r.appendChild(s),a.appendChild(r),a}}}function CreateCombobox(e,t){var i=glhp.crgs("div","blank"+e.id,"fbl-answer-list"),a=glhp.crgs("span",e.id+"tag",""),r="";switch(DOC.Lang.toUpperCase()){case"EN-US":r="-select-";break;case"TH-TH":r="-เลือก-";break;case"VI-VN":r="-lựa chọn-";break;default:r="-select-"}a.textContent=r,i.appendChild(a);var s=e.Ls[0],n=e.T-e.h;if(i.setAttribute("style","position: absolute;width:"+e.w+"px; max-width:"+e.w+"px; height:"+e.h+"px;font-family:"+e.ff+";font-size:"+e.fs+"px;font-weight: normal;font-style: +"+e.ft+";display: inline-block;text-overflow: ellipsis;white-space: nowrap; overflow: hidden;display: table-cell;vertical-align: middle;color:"+e.col.col+";background: white ;transform :translate("+s+"px ,"+n+"px)"),null!=t.ArrAnswer&&t.ArrAnswer.length>0){var l=t.ArrAnswer.filter((function(t){return t.source.replace("blank","")===e.id}))[0];null!=l&&null!=l.target&&(a.textContent=e.as[parseInt(l.target)].txt,i.classList.add("select-option"+l.target))}var o=DOC.slds.indexOf(glrs.crsl.Data);if(t.IsCheckReview().IsResult||glhp.DataLocal.Slide[o].IsSubmit&&!glhp.DataLocal.Slide[o].Correct&&t.Options.scr){var h=e.as.filter((function(e){return e.txt===a.textContent}))[0];null!=h&&1==h.cr?i.style.color="#71BF6C":(i.style.color="#DB5A4B",i.classList.add("blank-container"))}return i}async function drawImageCanvas(e,t,i,a,r,s){e.save();var n=await loadImage(t);e.drawImage(n,i,a,r,s),e.restore()}async function loadImage(e){return new Promise((t,i)=>{let a=document.createElement("img");a.onload=()=>{t(a)},a.onerror=i,a.src=e})}async function drawRadioCanvas(e,t,i,a,r,s,n){e.save(),e.beginPath(),e.fillStyle=r,e.strokeStyle=s,e.lineWidth=n,e.arc(t,i,a,0,2*Math.PI),e.fill(),e.closePath(),n>0&&e.stroke(),e.restore()}async function drawRectangleCanvas(e,t,i,a,r,s,n,l,o){e.save(),e.beginPath(),e.fillStyle=n,e.strokeStyle=l,e.lineWidth=o,e.roundRect(t,i,a,r,s),e.fill(),e.closePath(),o>0&&e.stroke(),e.restore()}async function drawCboxSelectedCanvas(e,t,i,a,r){e.save(),e.beginPath();let s=new Path2D(t);e.fillStyle=i,e.lineCap=a,e.lineJoin,e.fill(s),e.stroke(s),e.restore()}async function drwtCanvas(e,t,i,a,r,s,n,l){e.save(),e.fillStyle=s,e.font=r,e.textAlign=n,l?e.fillText(fittingString(e,t,l),i,a):e.fillText(t,i,a),e.restore()}function fittingString(e,t,i){var a=e.measureText(t).width,r=e.measureText("…").width;if(a<=i||a<=r)return t;for(var s=t.length;a>i-r&&s-- >2;)t=t.substring(0,s),a=e.measureText(t).width;return t+"…"}function CreateAnswerDropWord(e,t){var i=glhp.crgs("div","container"+e.id,"ContainerAnswer");i.classList.add("content_empty"),i.setAttribute("style","position:absolute; width:"+e.w+"px; height:"+e.h+"px;font-family:"+e.ff+";font-size:"+e.fs+"px;font-weight: normal;font-style: +"+e.ft+"; background: linear-gradient(to bottom, #FFFFFF, #F2F2F2);");var a=glhp.crgs("div","content"+e.id,"ContentAnswer");a.setAttribute("style","width:"+e.w+"px; height:"+e.h+"px;font-family:"+e.ff+";font-size:"+e.fs+"px;font-weight: normal;font-style: +"+e.ft+"; opacity:0;border: 1px solid transparent; background: linear-gradient(to bottom, #FFFFFF, #F2F2F2);box-sizing: border-box;padding: 3px;color:"+e.col.col+";"),a.style.opacity=0,i.appendChild(a);var r=e.Ls[0],s=e.T-e.h,n=DOC.slds.indexOf(glrs.crsl.Data);if(i.style.transform="translate("+r+"px ,"+s+"px)",null!=t.ArrAnswer&&t.ArrAnswer.length>0){var l=t.ArrAnswer.filter((function(t){return t.source===e.id}))[0];if(null!=l&&null!=l.target){var o=t.Target.ds.filter((function(e){return e.id===l.target}))[0];null!=o&&(a.innerHTML=o.txt,a.style.opacity=1,a.classList.add("target_content"+o.id))}}(t.IsCheckReview().IsResult||glhp.DataLocal.Slide[n].IsSubmit&&!glhp.DataLocal.Slide[n].Correct&&t.Options.scr)&&(a.innerHTML.trim().toLowerCase()==e.tex.trim().toLowerCase()?a.style.color="#71BF6C":(i.classList.add("blank-container"),a.style.color="#DB5A4B"));let h=glrs.crsl.Data,d=DOC.slds.indexOf(h),c=glhp.DataLocal.Slide[d];return c&&1==c.IsSubmit&&a.classList.add("disable"),i}function CreateAnswerDropWordMobile(e,t){var i=glhp.crgs("div",e.id,"dragword-item");i.classList.add("content_empty"),i.setAttribute("style","position:absolute; width:"+e.w+"px; height:"+e.h+"px;font-family:"+e.ff+";font-size:"+e.fs+"px;font-weight: normal;font-style: +"+e.ft+"; background: linear-gradient(to bottom, #FFFFFF, #F2F2F2);");var a=glhp.crgs("div","content"+e.id,"text-content");a.setAttribute("style","px; height:"+e.h+"px;font-family:"+e.ff+";font-size:"+e.fs+"px;font-weight: normal;text-align: left;border: 1px solid transparent; background: linear-gradient(to bottom, #FFFFFF, #F2F2F2);box-sizing: border-box;color:"+e.col.col+";"),i.appendChild(a);var r=e.Ls[0],s=e.T-e.h;if(i.style.transform="translate("+r+"px ,"+s+"px)",null!=t.ArrAnswer&&t.ArrAnswer.length>0){var n=t.ArrAnswer.filter((function(t){return t.source===e.id}))[0];if(null!=n&&null!=n.target){i.classList.add("active-item"),i.classList.add("active"+n.target),o=QuestionMobile.GetAnswersFromId(t.Target.ds,n.target).txt;var l=QuestionMobile.GetTextWidth(o,e.fs+"px "+e.ff);a.innerHTML=o,i.style.width=l+"px"}else{switch(i.classList.add("label"),DOC.Lang.toUpperCase()){case"EN-US":o="-select-";break;case"TH-TH":o="-เลือก-";break;case"VI-VN":o="-lựa chọn-"}l=QuestionMobile.GetTextWidth(o,e.fs+"px "+e.ff);a.innerHTML=o,i.style.width=e.w+"px"}}else{var o="";switch(i.classList.add("label"),DOC.Lang.toUpperCase()){case"EN-US":o="-select-";break;case"TH-TH":o="-เลือก-";break;case"VI-VN":o="-lựa chọn-"}l=QuestionMobile.GetTextWidth(o,e.fs+"px "+e.ff);a.innerHTML=o,i.style.width=e.w+"px"}var h=glhp.crgs("div","dropIcon","icon-area");h.setAttribute("width",18),h.setAttribute("height",e.h);var d=glhp.crgs("svg");d.setAttribute("width",18),d.setAttribute("height",9),d.style.marginTop=isTabletLandscape?e.h/2:10,d.setAttribute("viewBox","0 0 20 16");var c=glhp.crgs("path");c.setAttribute("fill","rgba(162, 162, 161, 1)"),c.setAttribute("d","M0.232,1.015l0.601-0.49c0.321-0.277,0.855-0.277,1.177,0 l6.485,5.473l6.507-5.473c0.32-0.277,0.855-0.277,1.177,0l0.579,0.49c0.342,0.277,0.319,0.724,0,0.98 \tc-2.547,2.172-5.095,4.324-7.662,6.474C8.944,8.617,8.73,8.682,8.515,8.682H8.494c-0.213,0-0.428-0.064-0.6-0.213 \tc-2.546-2.15-5.093-4.302-7.641-6.474C-0.088,1.738-0.088,1.292,0.232,1.015L0.232,1.015z"),d.appendChild(c),h.appendChild(d),i.appendChild(h);var p=DOC.slds.indexOf(glrs.crsl.Data);return(t.IsCheckReview().IsResult||glhp.DataLocal.Slide[p].IsSubmit&&!glhp.DataLocal.Slide[p].Correct&&t.Options.scr)&&(a.innerHTML.trim().toLowerCase()==e.tex.trim().toLowerCase()?a.style.color="#71BF6C":(i.classList.add("blank-container"),a.style.color="#DB5A4B")),null!=glrs.crsl.Data&&1==glhp.DataLocal.Slide[DOC.slds.indexOf(glrs.crsl.Data)].IsSubmit&&a.classList.add("disable"),i}function CreateAnswerDragWord(e,t){var i=glhp.crgs("div","container"+e.id,"ContainerAnswer");i.classList.add("content_word"),i.setAttribute("style","position:absolute; width:"+e.w+"px; height:"+e.h+"px;font-family:"+e.ff+";font-size:"+e.fs+"px;font-weight: normal;font-style: +"+e.ft+";display: inline-block;text-overflow: ellipsis;white-space: nowrap; background: linear-gradient(to bottom, #FFFFFF, #F2F2F2);transform: translate("+e.l+"px ,"+e.t+"px);");var a=glhp.crgs("div","content"+e.id,"ContentAnswer");if(a.innerHTML=e.txt,a.setAttribute("style","width:"+e.w+"px; height:"+e.h+"px;font-family:"+e.ff+";font-size:"+e.fs+"px;font-weight: normal;font-style: +"+e.ft+";border: 1px solid transparent;background: linear-gradient(to bottom, #FFFFFF, #F2F2F2);box-sizing: border-box;padding: 3px;color:"+e.fg.col+";"),a.style.opacity=1,i.appendChild(a),qzm.dssa(i.id),null!=t.ArrAnswer&&t.ArrAnswer.length>0){var r=t.ArrAnswer.filter((function(t){return t.target===e.id}))[0];null!=r&&null!=r.target&&(a.style.opacity=0)}let s=glrs.crsl.Data,n=DOC.slds.indexOf(s),l=glhp.DataLocal.Slide[n];return l&&1==l.IsSubmit&&a.classList.add("disable"),i}function CreateTextInput(e,t){var i=glhp.crgs("input","input_"+e.id,"ip-answer");i.value="abc",i.setAttribute("style","width:"+e.w+"px; height:"+e.h+"px;text-overflow: ellipsis;border-radius:4px; border: 1px solid #bebebe !important; padding: 5px;box-sizing: border-box;font-size:"+e.fs+"px; font-family:"+e.ff+"; color:"+e.col.col+"; background:white");var a=glhp.crgs("div","divinput"+e.id,"blank-container"),r=e.Ls[0],s=e.T-e.h;a.setAttribute("style"," position: absolute;width:"+e.w+"px; height:"+e.h+"px; transform: translate("+r+"px ,"+s+"px"),a.appendChild(i);var n=DOC.slds.indexOf(glrs.crsl.Data);if(null!=t.ArrAnswer&&t.ArrAnswer.length>0){var l=t.ArrAnswer.filter((function(t){return t.source===e.id}))[0];if(null!=l&&null!=l.target)if(i.setAttribute("value",l.target),t.IsCheckReview().IsResult||glhp.DataLocal.Slide[n].IsSubmit&&!glhp.DataLocal.Slide[n].Correct&&t.Options.scr)null!=e.as.filter((function(e){return e.txt.trim().toLowerCase()===l.target.trim().toLowerCase()}))[0]?i.style.color="#71BF6C":(i.style.color="#DB5A4B",a.classList.add("review-Result"))}return null!=glrs.crsl.Data&&glhp.DataLocal.Slide[DOC.slds.indexOf(glrs.crsl.Data)]&&1==glhp.DataLocal.Slide[DOC.slds.indexOf(glrs.crsl.Data)].IsSubmit&&(i.disabled=!0),a}function odtw(){qzm.inwz(),qzm.IsFirtsSlide||VideoModule.isVideo||qzm.settz(!0),glhp.onloaded()}glrs.addModule({Level:glen.ModuleLevel.Element,ContentType:"Answers",grez:function(e,t){return qzm.GetElement(t,e)},drawCanvas:async function(e,t,i){var a=qzm.GetElementCanvas(t,e,i);await a}}),qzm.LoadScorm(),qzm.setSelf(),qzm.setIndexResult(),window.onload=function(){odtw()};var AnswerUser=function(e,t){this.source=e,this.target=t},QuestionMobile=function(){var e=null,t=function(){function e(e){this.Options=e,this.IndexSlide=DOC.slds.indexOf(e),this.CurrentOptions=qzm.gtawz(e,"Answers"),this.UserReply=null,this.NumberRepeat=null,this.ArrAnswer=[],this.Type=e.gt,this.DisplayFeedback="None"!=e.ft}return e.prototype.GetData=function(){var e=this.IndexSlide;if(null!=glhp.DataLocal.Slide[e].Answers)this.ArrAnswer=qzm.rdlw(this.CurrentOptions,glhp.DataLocal.Slide[e].Answers),this.NumberRepeat=glhp.DataLocal.Slide[e].NumberRepeat,this.UserReply=glhp.DataLocal.Slide[e].UserReply;else{if(null!=this.CurrentOptions.as)for(var t=0;t<this.CurrentOptions.as.length;t++){var i={Answers:this.CurrentOptions.as[t]};this.ArrAnswer.push(i)}this.NumberRepeat=this.Options.atm,this.Options.sff&&(this.ArrAnswer=qzm.rdaws(this.ArrAnswer)),this.CurrentOptions.as&&qzm.svawz(this.IndexSlide,this.ArrAnswer,this.NumberRepeat)}e=DOC.slds.indexOf(glrs.crsl.Data),24==this.Options.tq&&(this.UserReply=glhp.DataLocal.Slide[e].UserReply)},e.prototype.IsCheckReview=function(){return glhp.DataLocal.Slide[this.IndexSlide]?glhp.DataLocal.Slide[this.IndexSlide].IsResult:null},e}(),i=function(e){function t(t){var i=e.call(this,t)||this;if(5==t.tq||14==t.tq)for(var a=0;a<t.lts.length;a++)if(t.lts[a].iM)for(var r=t.lts[a],s=0;s<r.e.length;s++)if("Answers"==r.e[s].c&&0==r.e[s].dc){this.CurrentOptions=t.lts[a].e[s];break}return i.GetData(),i}return __extends(t,e),t.prototype.crqtz=function(){var e=glhp.crgs("div",this.CurrentOptions.id,"answer-items");e.className="answer-one",e.style="margin: 14px 18px;background:rgba(247, 247, 247, 1)";var t=DOC.slds.indexOf(glrs.crsl.Data);isTransaction&&(t-=1);for(var i=glhp.DataLocal.Slide[t],a=0;a<i.Answers.length;a++){var r=QuestionMobile.GetAnswersFromId(this.CurrentOptions.as,i.Answers[a].Id),s=glhp.crgs("div",r.id);s.className="answer-item";t=DOC.slds.indexOf(glrs.crsl.Data);null!=i.UserReply&&s.id==i.UserReply&&s.classList.add("selected-item");var n=glhp.crgs("div","","icon-area"),l=glhp.crgs("div","","mbone_outlineBorder");l.style="position:absolute;border-radius:24px;left:0px;top:0px;width: 24px;height:24px;";var o=glhp.crgs("div","","mbone_inlineBorder");o.style="position:absolute;border-radius:14px;left:5px;top:5px;width: 14px;height:14px";var h=glhp.crgs("div","","inner");h.style="position:absolute;border-radius:20px;left:2px;top:2px;width: 20px;height:20px;background:#ffffff",n.appendChild(l),n.appendChild(h),n.appendChild(o);var d=QuestionMobile.GetQuestionMobile(r.ct);let c=this.ArrAnswer[a].Answers.img?90:0;if(c>0){let e=document.createElementNS(xmlns,"svg"),t=document.createElementNS(xmlns,"g"),i=document.createElementNS(xmlns,"defs"),r=document.createElementNS(xmlns,"pattern"),n=document.createElementNS(xmlns,"image"),l=document.createElementNS(xmlns,"rect"),o="pattern"+this.ArrAnswer[a].Answers.id;e.setAttribute("width",80),e.setAttribute("height",45),e.setAttribute("style","position: absolute; top: 6px"),t.setAttribute("width",80),t.setAttribute("height",45),r.setAttribute("patternUnits","userSpaceOnUse"),r.setAttribute("width",80),r.setAttribute("height",45),r.setAttribute("id",o),n.setAttribute("width",80),n.setAttribute("height",45),n.setAttribute("href",this.ArrAnswer[a].Answers.img),l.setAttribute("width",80),l.setAttribute("height",45),l.setAttribute("fill","red"),l.setAttribute("fill","url(#"+o+")"),r.appendChild(n),i.appendChild(r),t.appendChild(i),t.appendChild(l),e.appendChild(t),s.appendChild(e)}d.style.marginLeft=c+"px",s.appendChild(n),s.appendChild(d),e.appendChild(s),i.IsResult&&(0==this.Type?i.Correct?s.classList.contains("selected-item")&&(s.classList.add("item-correct"),o.classList.add("item-correct"),l.classList.add("item-correct")):(s.classList.contains("selected-item")&&(s.classList.add("item-fail"),o.classList.add("item-fail"),l.classList.add("item-fail")),r.cr&&(s.classList.add("item-correct"),l.classList.add("item-correct"))):1==this.Type&&s.classList.contains("selected-item")&&(s.classList.add("item-correct"),o.classList.add("item-correct"),l.classList.add("item-correct")))}return i.IsResult?(0==this.Type&&QuestionMobile.ShowResultReview(i.Correct),QuestionMobile.CreateReviewResultButton()):i.IsSubmit&&QuestionMobile.CreateReviewResultButton(),setTimeout((function(){QuestionMobile.SelectedOneItem()}),1),glhp.DataLocal.Slide[isTransaction?t-1:t].IsSubmit&&(e.style.pointerEvents="none"),e},t.prototype.ProcessSubmit=function(){var e=document.getElementById(this.CurrentOptions.id);if(e){var t=e.getElementsByClassName("selected-item")[0];if(!t)return void QuestionMobile.swfb("invalid");if(0==this.Type){var i=QuestionMobile.GetCorrectAnswerId(glhp.DataLocal.Slide[this.IndexSlide].Answers);t.id==i?(this.DisplayFeedback?(QuestionMobile.swfb("correct"),qzm.SaveiF(this.IndexSlide,QuestionMobile.GetIdFeedBack("Correct",this.Options.lts)),QuestionMobile.DisableAnswerContent(this.CurrentOptions.id)):glhp.nextSlide(),qzm.SaveDataPoint(this.IndexSlide,wulzz("Correct",this.Options),!0,!0),qzm.roswb(this.IndexSlide)):1==this.NumberRepeat?(this.DisplayFeedback?(QuestionMobile.swfb("incorrect"),qzm.SaveiF(this.IndexSlide,QuestionMobile.GetIdFeedBack("Incorrect",this.Options.lts)),QuestionMobile.DisableAnswerContent(this.CurrentOptions.id)):glhp.nextSlide(),qzm.roswb(this.IndexSlide),qzm.SaveDataPoint(this.IndexSlide,wulzz("Incorrect",this.Options),!1,!0)):(this.NumberRepeat--,this.DisplayFeedback&&(QuestionMobile.swfb("tryagain"),qzm.SaveiF(this.IndexSlide,QuestionMobile.GetIdFeedBack("Try Again",this.Options.lts))),qzm.sttze(this.IndexSlide,this.NumberRepeat))}else 1==this.Type&&(this.DisplayFeedback?(QuestionMobile.swfb("thankyou"),qzm.SaveiF(this.IndexSlide,QuestionMobile.GetIdFeedBack("Thank you",this.Options.lts))):glhp.nextSlide(),DOC.iS&&qzm.sqzor("","neutral",this.IndexSlide),qzm.roswb(this.IndexSlide));glhp.DataLocal.Slide[this.IndexSlide].IsSubmit=!0,glhp.DataLocal.Slide[this.IndexSlide].UserReply=t.id}},t}(t),a=function(e){function t(t){var i=e.call(this,t)||this;return i.GetData(),i}return __extends(t,e),t.prototype.crqtz=function(){var e=glhp.crgs("div",this.CurrentOptions.id,"answer-multi");e.style="margin: 14px 18px;background:rgba(247, 247, 247, 1)";var t=DOC.slds.indexOf(glrs.crsl.Data);isTransaction&&(t-=1);for(var i=glhp.DataLocal.Slide[t],a=0;a<i.Answers.length;a++){var r=QuestionMobile.GetAnswersFromId(this.CurrentOptions.as,i.Answers[a].Id),s=glhp.crgs("div",r.id);s.className="answer-item";t=DOC.slds.indexOf(glrs.crsl.Data);if(null!=glhp.DataLocal.Slide[t].UserReply)for(var n=glhp.DataLocal.Slide[t].UserReply,l=0;l<n.length;l++)if(s.id==n[l]){s.classList.add("selected-item");break}QuestionMobile.GetMobileText(r.ct);var o=glhp.crgs("div","","icon-area"),h=glhp.crgs("svg");h.setAttribute("viewBox","0 0 22 22"),h.setAttribute("width",22),h.setAttribute("height",22);var d=glhp.crgs("rect","","check_bg");d.setAttribute("width",22),d.setAttribute("height",22),d.setAttribute("rx",4),d.setAttribute("ry",4);var c=glhp.crgs("rect","","fill_outline");c.setAttribute("width",18),c.setAttribute("height",18),c.setAttribute("rx",2),c.setAttribute("ry",2),c.setAttribute("x",2),c.setAttribute("y",2),c.style="fill:white;";var p=glhp.crgs("path","","check");p.setAttribute("d","M9.3,13.1s-1.25-1.55-1.9-2.15l-.45-.45-.3-.2a.769.769,0,0,0-.4-.1,1.309,1.309,0,0,0-.95.45,1.178,1.178,0,0,0-.15,1.4l.1.2.8.9s.7.8.85,1l.75,1,.5.75a1.5,1.5,0,0,0,.35.45,1.118,1.118,0,0,0,.75.2,1.274,1.274,0,0,0,.7-.2c.1-.1.7-.9,1.05-1.3s1.45-1.85,1.45-1.85L13.4,12l1.1-1.4.85-1.05L16.7,8a1.447,1.447,0,0,0,.25-.8,1.415,1.415,0,0,0-.45-.9,1.2,1.2,0,0,0-1.2-.15l-.25.1-.15.1L13.55,7.9,12,9.7,9.65,12.6l-.35.5Z"),h.appendChild(d),h.appendChild(c),h.appendChild(p),o.appendChild(h),s.appendChild(o);var u=QuestionMobile.GetQuestionMobile(r.ct);let m=this.ArrAnswer[a].Answers.img?90:0;if(m>0){let e=document.createElementNS(xmlns,"svg"),t=document.createElementNS(xmlns,"g"),i=document.createElementNS(xmlns,"defs"),r=document.createElementNS(xmlns,"pattern"),n=document.createElementNS(xmlns,"image"),l=document.createElementNS(xmlns,"rect"),o="pattern"+this.ArrAnswer[a].Answers.id;e.setAttribute("width",80),e.setAttribute("height",45),e.setAttribute("style","position: absolute; top: 6px"),t.setAttribute("width",80),t.setAttribute("height",45),r.setAttribute("patternUnits","userSpaceOnUse"),r.setAttribute("width",80),r.setAttribute("height",45),r.setAttribute("id",o),n.setAttribute("width",80),n.setAttribute("height",45),n.setAttribute("href",this.ArrAnswer[a].Answers.img),l.setAttribute("width",80),l.setAttribute("height",45),l.setAttribute("fill","red"),l.setAttribute("fill","url(#"+o+")"),r.appendChild(n),i.appendChild(r),t.appendChild(i),t.appendChild(l),e.appendChild(t),s.appendChild(e)}u.style.marginLeft=m+"px",s.appendChild(u),e.appendChild(s),i.IsResult&&i.IsSubmit&&(0==this.Type?r.cr?(s.classList.add("item-correct"),d.classList.add("item-correct")):s.classList.contains("selected-item")&&(s.classList.add("item-fail"),d.classList.add("item-fail")):s.classList.contains("selected-item")&&(s.classList.add("item-correct"),d.classList.add("item-correct")))}return glhp.DataLocal.Slide[isTransaction?t-1:t].IsSubmit&&(e.style.pointerEvents="none"),i.IsResult&&i.IsSubmit?(0==this.Type&&QuestionMobile.ShowResultReview(i.Correct),QuestionMobile.CreateReviewResultButton()):i.IsSubmit&&QuestionMobile.CreateReviewResultButton(),setTimeout((function(){QuestionMobile.SelectedMultiItem()})),e},t.prototype.ProcessSubmit=function(){var e=document.getElementById(this.CurrentOptions.id);if(e){var t=e.getElementsByClassName("selected-item");if(!t.length>0)return void QuestionMobile.swfb("invalid");if(QuestionMobile.SaveUserAnswer(this.CurrentOptions),0==this.Type){for(var i=!0,a=0,r=0;r<this.CurrentOptions.as.length;r++)this.CurrentOptions.as[r].cr&&a++;if(a!=t.length)i=!1;else for(var s=0;s<t.length;s++){for(var n=!1,l=0;l<this.CurrentOptions.as.length;l++)if(t[s].id==this.CurrentOptions.as[l].id&&this.CurrentOptions.as[l].cr){n=!0;break}if(!n){i=!1;break}}i?(this.DisplayFeedback?(QuestionMobile.swfb("correct"),qzm.SaveiF(this.IndexSlide,QuestionMobile.GetIdFeedBack("Correct",this.Options.lts)),QuestionMobile.DisableAnswerContent(this.CurrentOptions.id)):glhp.nextSlide(),qzm.SaveDataPoint(this.IndexSlide,wulzz("Correct",this.Options),!0,!0),qzm.roswb(this.IndexSlide)):1==this.NumberRepeat?(this.DisplayFeedback?(QuestionMobile.swfb("incorrect"),qzm.SaveiF(this.IndexSlide,QuestionMobile.GetIdFeedBack("Incorrect",this.Options.lts)),QuestionMobile.DisableAnswerContent(this.CurrentOptions.id)):glhp.nextSlide(),qzm.roswb(this.IndexSlide),qzm.SaveDataPoint(this.IndexSlide,wulzz("Incorrect",this.Options),!1,!0)):(this.NumberRepeat--,this.DisplayFeedback&&(QuestionMobile.swfb("tryagain"),qzm.SaveiF(this.IndexSlide,QuestionMobile.GetIdFeedBack("Try Again",this.Options.lts))),qzm.sttze(this.IndexSlide,this.NumberRepeat))}else 1==this.Type&&(this.DisplayFeedback?(QuestionMobile.swfb("thankyou"),qzm.SaveiF(this.IndexSlide,QuestionMobile.GetIdFeedBack("Thank you",this.Options.lts))):glhp.nextSlide(),DOC.iS&&qzm.sqzor("","neutral",this.IndexSlide),qzm.roswb(this.IndexSlide));glhp.DataLocal.Slide[this.IndexSlide].IsSubmit=!0}},t}(t),r=function(e){function t(t){var i=e.call(this,t)||this;return i.GetData(),i}return __extends(t,e),t.prototype.crqtz=function(){var e=this,t=glhp.crgs("div",this.CurrentOptions.id,"answer-input");t.style="margin: 14px 18px;background:rgba(247, 247, 247, 1);position:relative;";var i=DOC.slds.indexOf(glrs.crsl.Data);isTransaction&&(i-=1);var a=glhp.DataLocal.Slide[i],r=glhp.crgs("input","input"+this.CurrentOptions.id,"input-area");if(t.appendChild(r),null!=a.UserReply&&(r.value=a.UserReply),a.IsSubmit&&(r.disabled=!0),a.IsResult&&a.IsSubmit){if(0==this.Type)if(QuestionMobile.ShowResultReview(a.Correct),a.Correct)r.classList.add("item-correct");else{r.classList.add("item-fail");var s=QuestionMobile.CreateIconReview();t.appendChild(s),setTimeout((function(){QuestionMobile.ShowAnswersReview(e.CurrentOptions,r.value)}),1)}else 1==this.Type&&r.classList.add("item-correct");QuestionMobile.CreateReviewResultButton()}else a.IsSubmit&&QuestionMobile.CreateReviewResultButton();return t},t.prototype.ProcessSubmit=function(){if(document.getElementById(this.CurrentOptions.id)){var e=document.getElementById("input"+this.CurrentOptions.id).value;if(""==e)return void QuestionMobile.swfb("invalid");if(0==this.Type){for(var t=!1,i=0;i<this.CurrentOptions.as.length;i++)if(glhp.areStringsEqualIgnoreCase(e,this.CurrentOptions.as[i].txt)){t=!0;break}t?(this.DisplayFeedback?(QuestionMobile.swfb("correct"),qzm.SaveiF(this.IndexSlide,QuestionMobile.GetIdFeedBack("Correct",this.Options.lts)),QuestionMobile.DisableAnswerContent(this.CurrentOptions.id)):glhp.nextSlide(),qzm.SaveDataPoint(this.IndexSlide,wulzz("Correct",this.Options),!0,!0),qzm.roswb(this.IndexSlide)):1==this.NumberRepeat?(this.DisplayFeedback?(QuestionMobile.swfb("incorrect"),qzm.SaveiF(this.IndexSlide,QuestionMobile.GetIdFeedBack("Incorrect",this.Options.lts)),QuestionMobile.DisableAnswerContent(this.CurrentOptions.id)):glhp.nextSlide(),qzm.roswb(this.IndexSlide),qzm.SaveDataPoint(this.IndexSlide,wulzz("Incorrect",this.Options),!1,!0)):(this.NumberRepeat--,this.DisplayFeedback&&(QuestionMobile.swfb("tryagain"),qzm.SaveiF(this.IndexSlide,QuestionMobile.GetIdFeedBack("Try Again",this.Options.lts))),qzm.sttze(this.IndexSlide,this.NumberRepeat))}else 1==this.Type&&(this.DisplayFeedback?(QuestionMobile.swfb("thankyou"),qzm.SaveiF(this.IndexSlide,QuestionMobile.GetIdFeedBack("Thank you",this.Options.lts))):glhp.nextSlide(),DOC.iS&&qzm.sqzor("","neutral",this.IndexSlide),qzm.roswb(this.IndexSlide));glhp.DataLocal.Slide[this.IndexSlide].IsSubmit=!0,glhp.DataLocal.Slide[this.IndexSlide].UserReply=e}},t}(t),s=function(e){function t(t){var i=e.call(this,t)||this;return i.GetData(),i}return __extends(t,e),t.prototype.crqtz=function(){var e=glhp.crgs("div",this.CurrentOptions.id,"draganswer-items");e.style="margin: 14px 18px;background:rgba(247, 247, 247, 1)";var t=DOC.slds.indexOf(glrs.crsl.Data);isTransaction&&(t-=1);for(var i=glhp.DataLocal.Slide[t],a=0;a<i.Answers.length;a++){var r=null;t=DOC.slds.indexOf(glrs.crsl.Data);r=null!=i.UserReply?QuestionMobile.GetAnswersFromId(this.CurrentOptions.as,i.UserReply[a]):QuestionMobile.GetAnswersFromId(this.CurrentOptions.as,i.Answers[a].Id);var s=glhp.crgs("div",r.id);s.className="answer-item",s.onclick=function(e){var t=this.parentNode.id;QuestionMobile.CreateSequenceDirect(t);var i=this.parentNode;if(i){var a=i.getElementsByClassName("selected-item");if(a.length>0)for(var r=0;r<a.length;r++)a[r].className="answer-item"}this.classList.contains("selected-item"),this.classList.add("selected-item");var s=document.getElementById(t+"direct");s.style.display="block",s.style.opacity=0;var n=0,l=0;l=setInterval((function(){n+=.01,s.style.opacity=n,s.style.transform="matrix("+n+", 0, 0,"+n+", 0, 0)",n>=1&&(s.style.opacity=1,s.style.transform="matrix(1, 0, 0,1, 0, 0)",clearInterval(l))}),1);var o=this.parentNode.getElementsByClassName("answer-item"),h=QuestionMobile.GetIndexAnswer(o,this),d=document.getElementById(this.parentNode.id+"up");h<1?d&&(d.style.opacity=.5,d.style.pointerEvents="none"):d&&(d.style.opacity=1,d.style.pointerEvents="all");var c=document.getElementById(this.parentNode.id+"down");h>o.length-2?c&&(c.style.opacity=.5,c.style.pointerEvents="none"):c&&(c.style.opacity=1,c.style.pointerEvents="all")};var n=QuestionMobile.GetQuestionMobile(r.ct);s.appendChild(n),e.appendChild(s);var l=glhp.crgs("div","dropIcon","icon-area"),o=glhp.crgs("svg");o.setAttribute("width",16),o.setAttribute("height",20),o.setAttribute("viewBox","0 0 50 40");var h=glhp.crgs("rect");h.setAttribute("width",50),h.setAttribute("height",4),h.setAttribute("y",2),h.style.fill="#EBEDEE";var d=glhp.crgs("rect");d.setAttribute("width",50),d.setAttribute("height",4),d.setAttribute("y",14),d.style.fill="#EBEDEE";var c=glhp.crgs("rect");c.setAttribute("width",50),c.setAttribute("height",4),c.setAttribute("y",26),c.style.fill="#EBEDEE";var p=glhp.crgs("rect");p.setAttribute("width",50),p.setAttribute("height",4),p.setAttribute("y",38),p.style.fill="#EBEDEE";var u=glhp.crgs("g");u.appendChild(h),u.appendChild(d),u.appendChild(c),u.appendChild(p),o.appendChild(u),l.appendChild(o),s.appendChild(l),i.IsResult&&(0==this.Type?(r!=this.CurrentOptions.as[a]?s.classList.add("item-fail"):s.classList.add("item-correct"),s.setAttribute("index",this.CurrentOptions.as.indexOf(r)+1+".")):s.classList.add("item-correct"))}i.IsResult?(0==this.Type&&(e.classList.add("review"),QuestionMobile.ShowResultReview(i.Correct)),QuestionMobile.CreateReviewResultButton()):i.IsSubmit&&QuestionMobile.CreateReviewResultButton(),glhp.DataLocal.Slide[glhp.DataLocal.crsl].IsSubmit&&(e.style.pointerEvents="none");var m=this;return setTimeout((function(){QuestionMobile.SequenceSort(m.CurrentOptions.id)}),1),e},t.prototype.ProcessSubmit=function(){var e=document.getElementById(this.CurrentOptions.id);if(e){var t=document.getElementById(this.CurrentOptions.id+"direct");if(t&&(t.style.opacity="0"),0==this.Type){var i=!0,a=e.getElementsByClassName("answer-item"),r=DOC.slds.indexOf(glrs.crsl.Data),s=glhp.DataLocal.Slide[r];s.UserReply=[];for(var n=0;n<a.length;n++)s.UserReply.push(a[n].id),a[n].id!=this.CurrentOptions.as[n].id&&(i=!1);i?(this.DisplayFeedback?(QuestionMobile.swfb("correct"),qzm.SaveiF(this.IndexSlide,QuestionMobile.GetIdFeedBack("Correct",this.Options.lts)),QuestionMobile.DisableAnswerContent(this.CurrentOptions.id)):glhp.nextSlide(),qzm.SaveDataPoint(this.IndexSlide,wulzz("Correct",this.Options),!0,!0),qzm.roswb(this.IndexSlide)):1==this.NumberRepeat?(this.DisplayFeedback?(QuestionMobile.swfb("incorrect"),qzm.SaveiF(this.IndexSlide,QuestionMobile.GetIdFeedBack("Incorrect",this.Options.lts)),QuestionMobile.DisableAnswerContent(this.CurrentOptions.id)):glhp.nextSlide(),qzm.roswb(this.IndexSlide),qzm.SaveDataPoint(this.IndexSlide,wulzz("Incorrect",this.Options),!1,!0)):(this.NumberRepeat--,this.DisplayFeedback&&(QuestionMobile.swfb("tryagain"),qzm.SaveiF(this.IndexSlide,QuestionMobile.GetIdFeedBack("Try Again",this.Options.lts))),qzm.sttze(this.IndexSlide,this.NumberRepeat))}else 1==this.Type&&(this.DisplayFeedback?(QuestionMobile.swfb("thankyou"),qzm.SaveiF(this.IndexSlide,QuestionMobile.GetIdFeedBack("Thank you",this.Options.lts))):glhp.nextSlide(),DOC.iS&&qzm.sqzor("","neutral",this.IndexSlide),qzm.roswb(this.IndexSlide));glhp.DataLocal.Slide[this.IndexSlide].IsSubmit=!0}},t}(t),n=function(e){function t(t){var i=e.call(this,t)||this;return i.GetData(),i}return __extends(t,e),t.prototype.crqtz=function(){var e=glhp.crgs("div",this.CurrentOptions.id,"dropanswer-items");e.style="margin: 14px 18px;background:rgba(247, 247, 247, 1)";var t=DOC.slds.indexOf(glrs.crsl.Data);isTransaction&&(t-=1);for(var i=glhp.DataLocal.Slide[t].UserReply,a=glhp.DataLocal.Slide[t],r=0;r<a.Answers.length;r++){var s=QuestionMobile.GetAnswersFromId(this.CurrentOptions.as,a.Answers[r].Id),n=glhp.crgs("div",s.id);n.className="answer-item";t=DOC.slds.indexOf(glrs.crsl.Data);isTransaction&&(t-=1);var l=glhp.crgs("div","","text-content");if(l.classList.add("label"),l.style="min-height:22px;",i)if(""!=i[r]){n.classList.add("active-item"),n.classList.add(i[r]+"-popup-answer");for(var o="",h=0;h<this.CurrentOptions.as.length;h++)if(this.CurrentOptions.as[h].id==i[r]){o=QuestionMobile.GetQuestionMobile(this.CurrentOptions.as[h].ct);break}l.appendChild(o)}else{var d=null;switch(DOC.Lang.toUpperCase()){case"EN-US":d="-Select-";break;case"TH-TH":d="-เลือก-";break;case"VI-VN":d="-Lựa chọn-";break;default:d="-Select-"}l.innerHTML=d}else{d=null;switch(DOC.Lang.toUpperCase()){case"EN-US":d="-Select-";break;case"TH-TH":d="-เลือก-";break;case"VI-VN":d="-Lựa chọn-";break;default:d="-Select-"}l.innerHTML=d}if(n.appendChild(l),e.appendChild(n),!a.IsResult){var c=glhp.crgs("div","dropIcon","icon-area"),p=glhp.crgs("svg");p.setAttribute("width",17),p.setAttribute("height",9),p.setAttribute("viewBox","0 0 17 9");var u=glhp.crgs("path");u.setAttribute("fill","rgba(162, 162, 161, 1)"),u.setAttribute("d","M0.232,1.015l0.601-0.49c0.321-0.277,0.855-0.277,1.177,0 \tl6.485,5.473l6.507-5.473c0.32-0.277,0.855-0.277,1.177,0l0.579,0.49c0.342,0.277,0.319,0.724,0,0.98 \tc-2.547,2.172-5.095,4.324-7.662,6.474C8.944,8.617,8.73,8.682,8.515,8.682H8.494c-0.213,0-0.428-0.064-0.6-0.213 \tc-2.546-2.15-5.093-4.302-7.641-6.474C-0.088,1.738-0.088,1.292,0.232,1.015L0.232,1.015z"),p.appendChild(u),c.appendChild(p),n.appendChild(c)}a.IsResult&&(0==this.Type&&null!=i?(null!=i&&this.CurrentOptions.as[r].id==i[r]?n.classList.add("item-correct"):n.classList.add("item-fail"),n.setAttribute("index",this.CurrentOptions.as.indexOf(QuestionMobile.GetAnswersFromId(this.CurrentOptions.as,i[r]))+1+".")):n.classList.add("item-fail"))}a.IsResult?(0==this.Type&&(e.classList.add("review"),QuestionMobile.ShowResultReview(a.Correct)),QuestionMobile.CreateReviewResultButton()):a.IsSubmit&&QuestionMobile.CreateReviewResultButton(),glhp.DataLocal.Slide[glhp.DataLocal.crsl].IsSubmit&&(e.style.pointerEvents="none");var m=this;return setTimeout((function(){QuestionMobile.ShowSequenceDropLayer(m.CurrentOptions)}),1),e},t.prototype.ProcessSubmit=function(){var e=document.getElementById(this.CurrentOptions.id);if(e){var t=!0,i=e.getElementsByClassName("active-item");if(i.length<this.CurrentOptions.as.length)return void QuestionMobile.swfb("invalid");if(QuestionMobile.SaveUserAnswer(this.CurrentOptions),0==this.Type){for(var a=0;a<i.length;a++){for(var r=0;r<i[a].classList.length;r++)if(i[a].classList[r].includes("-popup-answer")&&i[a].classList[r].replace("-popup-answer","")!=this.CurrentOptions.as[a].id){t=!1;break}if(!t)break}t?(this.DisplayFeedback?(QuestionMobile.swfb("correct"),qzm.SaveiF(this.IndexSlide,QuestionMobile.GetIdFeedBack("Correct",this.Options.lts)),QuestionMobile.DisableAnswerContent(this.CurrentOptions.id)):glhp.nextSlide(),qzm.SaveDataPoint(this.IndexSlide,wulzz("Correct",this.Options),!0,!0),qzm.roswb(this.IndexSlide)):1==this.NumberRepeat?(this.DisplayFeedback?(QuestionMobile.swfb("incorrect"),qzm.SaveiF(this.IndexSlide,QuestionMobile.GetIdFeedBack("Incorrect",this.Options.lts)),QuestionMobile.DisableAnswerContent(this.CurrentOptions.id)):glhp.nextSlide(),qzm.roswb(this.IndexSlide),qzm.SaveDataPoint(this.IndexSlide,wulzz("Incorrect",this.Options),!1,!0)):(this.NumberRepeat--,this.DisplayFeedback&&(QuestionMobile.swfb("tryagain"),qzm.SaveiF(this.IndexSlide,QuestionMobile.GetIdFeedBack("Try Again",this.Options.lts))),qzm.sttze(this.IndexSlide,this.NumberRepeat))}else 1==this.Type&&(this.DisplayFeedback?(QuestionMobile.swfb("thankyou"),qzm.SaveiF(this.IndexSlide,QuestionMobile.GetIdFeedBack("Thank you",this.Options.lts))):glhp.nextSlide(),DOC.iS&&qzm.sqzor("","neutral",this.IndexSlide),qzm.roswb(this.IndexSlide));glhp.DataLocal.Slide[this.IndexSlide].IsSubmit=!0}},t}(t),l=function(e){function t(t){var i=e.call(this,t)||this;i.GetData();var a=DOC.slds.indexOf(glrs.crsl.Data);if(null==glhp.DataLocal.Slide[a].Apair){glhp.DataLocal.Slide[a].Apair=[];for(var r=[],s=0;s<glhp.DataLocal.Slide[a].Answers.length;s++)r.push(glhp.DataLocal.Slide[a].Answers[s]);for(var n=0,l=0;l<r.length;l++)n=Math.floor(Math.random()*r.length),glhp.DataLocal.Slide[a].Apair.push(r[n]),r.splice(n,1),l--}return i}return __extends(t,e),t.prototype.crqtz=function(){var e=glhp.crgs("div",this.CurrentOptions.id,"mathching-items");e.style="margin: 14px 18px;background:rgba(247, 247, 247, 1)";var t=DOC.slds.indexOf(glrs.crsl.Data);isTransaction&&(t-=1);for(var i=glhp.DataLocal.Slide[t],a=i.UserReply,r=0;r<i.Answers.length;r++){var s=QuestionMobile.GetAnswersFromId(this.CurrentOptions.as,i.Answers[r].Id),n=glhp.crgs("div",s.id);n.className="answer-item",n.classList.add("matching-answer");var l=glhp.crgs("div","left-match"+s.id,"match-item"),o=glhp.crgs("div","right-match"+s.id,"match-item"),h=glhp.crgs("div","saperator","saperator");h.style="left: 12px;right: 12px;height: 1px;content: '';position: absolute;background: #E0E0E0;z-index:1;",n.appendChild(l),n.appendChild(h),n.appendChild(o);var d=glhp.crgs("div","","image");if(d.style.display="none",l.appendChild(d),null!=s.cim)d.style="width:"+s.cim.w+"px;height: "+s.cim.h+"px;",m=(m="./"+s.cim.s.replace("\\","/")).replace("\\","/"),d.style.backgroundImage="url("+m+")",d.style.display="block";var c=QuestionMobile.GetQuestionMobile(s.ct);l.appendChild(c);var p=glhp.crgs("div","","image");p.style.display="none",o.appendChild(p);var u=glhp.crgs("div","","text-content");if(u.style="min-height:22px;",o.appendChild(u),a)if(""!=a[r]){if(n.classList.add("active-item"),n.classList.add(a[r]+"-popup-answer"),answer_match=QuestionMobile.GetAnswersFromId(this.CurrentOptions.as,a[r]),answer_match){var m,b=null;switch(glrs.crsl.Data.tq){case 6:b=QuestionMobile.GetQuestionMobile(answer_match.MatchText);break;case 7:b=QuestionMobile.GetQuestionMobile(answer_match.cbT)}if(u.appendChild(b),null!=answer_match.mim)p.style="width:"+answer_match.mim.w+"px;height: "+answer_match.mim.h+"px;",m=(m="./"+answer_match.mim.s.replace("\\","/")).replace("\\","/"),p.style.backgroundImage="url("+m+")",p.style.display="block"}}else{var f=null;switch(DOC.Lang.toUpperCase()){case"EN-US":f="-Select-";break;case"TH-TH":f="-เลือก-";break;case"VI-VN":f="-Lựa chọn-";break;default:f="-Select-"}u.innerHTML=f}else{f=null;switch(DOC.Lang.toUpperCase()){case"EN-US":f="-Select-";break;case"TH-TH":f="-เลือก-";break;case"VI-VN":f="-Lựa chọn-";break;default:f="-Select-"}u.innerHTML=f}if(e.appendChild(n),i.IsResult){if(null==a||a[r]!=s.id){var g=glhp.crgs("div","dropIcon","icon-area");o.appendChild(g);var w=glhp.crgs("svg");g.appendChild(w);var y=glhp.crgs("g");w.appendChild(y);var v=glhp.crgs("path");v.style.fill="#EA5F4F",y.appendChild(v),v.setAttribute("d","M612,306C612,137.004,474.995,0,306,0C137.004,0,0,137.004,0,306c0,168.995,137.004,306,306,306    C474.995,612,612,474.995,612,306z M27.818,306C27.818,152.36,152.36,27.818,306,27.818S584.182,152.36,584.182,306    S459.64,584.182,306,584.182S27.818,459.64,27.818,306z");var C=glhp.crgs("path");C.style.fill="#EA5F4F",y.appendChild(C),C.setAttribute("d","M336.962,200.875c7.956,9.792,11.906,21.337,11.906,34.634c0,9.514-2.727,18.666-8.151,27.512    c-2.977,5.007-6.898,9.848-11.795,14.465l-16.301,16.107c-15.634,15.356-25.732,28.958-30.35,40.865    c-4.618,11.878-6.927,27.54-6.927,46.957h36.275c0-17.108,1.947-30.044,5.814-38.807c3.866-8.763,12.323-19.444,25.37-32.102    c17.942-17.387,29.849-30.572,35.746-39.53s8.874-20.641,8.874-35.051c0-23.756-8.039-43.285-24.146-58.585    c-16.106-15.3-37.526-22.922-64.288-22.922c-28.931,0-51.686,8.929-68.266,26.789s-24.87,41.449-24.87,70.797h36.275    c0.667-17.665,3.478-31.184,8.346-40.559c8.679-16.83,24.369-25.259,47.068-25.259    C315.875,186.187,329.033,191.083,336.962,200.875z");var T=glhp.crgs("rect");T.style.fill="#EA5F4F",y.appendChild(T),T.setAttribute("x",274.51),T.setAttribute("y",274.51),T.setAttribute("width",40.559),T.setAttribute("height",42.367),T.style.fill="#EA5F4F",w.setAttribute("viewBox","0,0,612,612"),w.style.width="20px",w.style.height="20px"}}else{var S=glhp.crgs("div","dropIcon","icon-area"),x=glhp.crgs("svg");x.setAttribute("width",17),x.setAttribute("height",9),x.setAttribute("viewBox","0 0 17 9");var A=glhp.crgs("path");A.setAttribute("fill","rgba(162, 162, 161, 1)"),A.setAttribute("d","M0.232,1.015l0.601-0.49c0.321-0.277,0.855-0.277,1.177,0 l6.485,5.473l6.507-5.473c0.32-0.277,0.855-0.277,1.177,0l0.579,0.49c0.342,0.277,0.319,0.724,0,0.98 \tc-2.547,2.172-5.095,4.324-7.662,6.474C8.944,8.617,8.73,8.682,8.515,8.682H8.494c-0.213,0-0.428-0.064-0.6-0.213 \tc-2.546-2.15-5.093-4.302-7.641-6.474C-0.088,1.738-0.088,1.292,0.232,1.015L0.232,1.015z"),x.appendChild(A),S.appendChild(x),o.appendChild(S)}i.IsResult&&i.IsSubmit&&(0==this.Type?n.classList.contains("active-item")&&null!=a&&a[r]==s.id?(n.classList.add("item-correct"),n.style.pointerEvents="none"):n.classList.add("item-fail"):(n.classList.add("item-correct"),n.style.pointerEvents="none"))}var M=this;return i.IsResult&&i.IsSubmit?(0==this.Type&&QuestionMobile.ShowResultReview(i.Correct),QuestionMobile.CreateReviewResultButton(),setTimeout((function(){QuestionMobile.ShowAnswersReview(M.CurrentOptions)}),1)):setTimeout((function(){QuestionMobile.ShowMatchinglayer(M.CurrentOptions)}),1),!i.IsResult&&i.IsSubmit&&QuestionMobile.CreateReviewResultButton(),e},t.prototype.ProcessSubmit=function(){var e=document.getElementById(this.CurrentOptions.id);if(e){var t=!0,i=e.getElementsByClassName("active-item");if(i.length<this.CurrentOptions.as.length)return void QuestionMobile.swfb("invalid");if(QuestionMobile.SaveUserAnswer(this.CurrentOptions),0==this.Type){for(var a=0;a<i.length;a++){for(var r=0;r<i[a].classList.length;r++)if(i[a].classList[r].includes("-popup-answer")&&i[a].classList[r].replace("-popup-answer","")!=i[a].id){t=!1;break}if(!t)break}t?(this.DisplayFeedback?(QuestionMobile.swfb("correct"),qzm.SaveiF(this.IndexSlide,QuestionMobile.GetIdFeedBack("Correct",this.Options.lts)),QuestionMobile.DisableAnswerContent(this.CurrentOptions.id)):glhp.nextSlide(),qzm.SaveDataPoint(this.IndexSlide,wulzz("Correct",this.Options),!0,!0)):0==this.NumberRepeat?(this.DisplayFeedback&&(QuestionMobile.swfb("tryagain"),qzm.SaveiF(this.IndexSlide,QuestionMobile.GetIdFeedBack("Try Again",this.Options.lts))),e.style.pointerEvents="all"):1==this.NumberRepeat?(this.DisplayFeedback?(QuestionMobile.swfb("incorrect"),qzm.SaveiF(this.IndexSlide,QuestionMobile.GetIdFeedBack("Incorrect",this.Options.lts)),QuestionMobile.DisableAnswerContent(this.CurrentOptions.id)):glhp.nextSlide(),qzm.roswb(this.IndexSlide),qzm.SaveDataPoint(this.IndexSlide,wulzz("Incorrect",this.Options),!1,!0)):(this.NumberRepeat--,this.DisplayFeedback&&(QuestionMobile.swfb("tryagain"),qzm.SaveiF(this.IndexSlide,QuestionMobile.GetIdFeedBack("Try Again",this.Options.lts))),qzm.sttze(this.IndexSlide,this.NumberRepeat),e.style.pointerEvents="all")}else 1==this.Type&&(this.DisplayFeedback?(QuestionMobile.swfb("thankyou"),qzm.SaveiF(this.IndexSlide,QuestionMobile.GetIdFeedBack("Thank you",this.Options.lts))):glhp.nextSlide(),DOC.iS&&qzm.sqzor("","neutral",this.IndexSlide),qzm.roswb(this.IndexSlide));glhp.DataLocal.Slide[this.IndexSlide].IsSubmit=!0}},t.prototype.CheckMatching=function(){var e=document.getElementById(this.CurrentOptions.id);if(e){var t=!0,i=e.getElementsByClassName("active-item");if(i.length<this.CurrentOptions.as.length)return!1;if(QuestionMobile.SaveUserAnswer(this.CurrentOptions),0==this.Type){for(var a=0;a<i.length;a++){for(var r=0;r<i[a].classList.length;r++)if(i[a].classList[r].includes("-popup-answer")&&i[a].classList[r].replace("-popup-answer","")!=i[a].id){t=!1;break}if(!t)break}return!!t}if(1==this.Type)return null}},t}(t),o=function(e){function t(t){var i=e.call(this,t)||this;return i.TypeInput="number",i.IsKhaoSat=!1,i.NumberRepeat=t.atm,qzm.sttze(i.IndexSlide,i.NumberRepeat),i}return __extends(t,e),t.prototype.GetData=function(){e.prototype.GetData.call(this),null==qzm.ListCorrect[this.IndexSlide]&&(qzm.ListCorrect[this.IndexSlide]=qzm.oqspNumberic(this.Options))},t.prototype.crqtz=function(){var e=this,t=glhp.crgs("div",this.CurrentOptions.id,"answer-input");t.style="margin: 14px 18px;background:rgba(247, 247, 247, 1);position:relative;";var i=DOC.slds.indexOf(glrs.crsl.Data),a=glhp.DataLocal.Slide[i],r=glhp.crgs("input","input"+this.CurrentOptions.id,"input-area");if(r.setAttribute("type","number"),t.appendChild(r),null!=a.UserReply&&(r.value=a.UserReply),glhp.DataLocal.Slide[glhp.DataLocal.crsl].IsSubmit&&(r.disable=!0),a.IsResult){if(0==this.Type)if(QuestionMobile.ShowResultReview(a.Correct),a.Correct)r.classList.add("item-correct");else{r.classList.add("item-fail");var s=QuestionMobile.CreateIconReview();t.appendChild(s),setTimeout((function(){QuestionMobile.ShowAnswersReview(e.Options.nuC,r.value)}),1)}else r.classList.add("item-correct");t.disable=!0,QuestionMobile.CreateReviewResultButton()}else a.IsSubmit&&QuestionMobile.CreateReviewResultButton();return t},t.prototype.CheckResult=function(e,t){switch(start_value=e.v1,end_value=e.v2,e.Cp){case 0:return t==start_value;case 1:return t>=start_value&&t<=end_value;case 2:return t<start_value;case 3:return t<=start_value;case 4:return t>start_value;case 5:return t>=start_value;case 6:return t!=start_value;case 7:return!(t>=start_value&&t<=end_value)}},t.prototype.ProcessSubmit=function(){var e=document.getElementById(this.CurrentOptions.id);if(e){var t=parseFloat(document.getElementById("input"+this.CurrentOptions.id).value);if(null==t)return void QuestionMobile.swfb("invalid");if(0==this.Type){var i=!1;if(this.Options.nuC.NumericMode=1,0==this.Options.nuC.NumericMode)for(var a=0;a<this.Options.nuC.val.length&&!(i=this.CheckResult(this.Options.nuC.val[a],t));a++);else for(var r=0;r<this.Options.nuC.val.length&&(i=!1,i=this.CheckResult(this.Options.nuC.val[r],t));r++);i?(this.DisplayFeedback?(QuestionMobile.swfb("correct"),qzm.SaveiF(this.IndexSlide,QuestionMobile.GetIdFeedBack("Correct",this.Options.lts)),QuestionMobile.DisableAnswerContent(this.CurrentOptions.id)):glhp.nextSlide(),qzm.SaveDataPoint(this.IndexSlide,wulzz("Correct",this.Options),!0,!0),qzm.roswb(this.IndexSlide)):1==this.NumberRepeat?(this.DisplayFeedback?(QuestionMobile.swfb("incorrect"),qzm.SaveiF(this.IndexSlide,QuestionMobile.GetIdFeedBack("Incorrect",this.Options.lts)),QuestionMobile.DisableAnswerContent(this.CurrentOptions.id)):glhp.nextSlide(),qzm.roswb(this.IndexSlide),qzm.SaveDataPoint(this.IndexSlide,wulzz("Incorrect",this.Options),!1,!0)):(this.NumberRepeat--,this.DisplayFeedback&&(QuestionMobile.swfb("tryagain"),qzm.SaveiF(this.IndexSlide,QuestionMobile.GetIdFeedBack("Try Again",this.Options.lts))),qzm.sttze(this.IndexSlide,this.NumberRepeat))}else 1==this.Type&&(this.DisplayFeedback?(QuestionMobile.swfb("thankyou"),qzm.SaveiF(this.IndexSlide,QuestionMobile.GetIdFeedBack("Thank you",this.Options.lts))):glhp.nextSlide(),DOC.iS&&qzm.sqzor("","neutral",this.IndexSlide),qzm.roswb(this.IndexSlide));glhp.DataLocal.Slide[this.IndexSlide].IsSubmit=!0,glhp.DataLocal.Slide[this.IndexSlide].UserReply=t,e.pointerEvents="none"}},t.prototype.CheckResultQuestion=function(){if(document.getElementById(this.CurrentOptions.id)){var e=parseFloat(document.getElementById("input"+this.CurrentOptions.id).value);if(null==e)return void QuestionMobile.swfb("invalid");if(0==this.Type){var t=!1;if(this.Options.nuC.NumericMode=1,0==this.Options.nuC.NumericMode)for(var i=0;i<this.Options.nuC.val.length&&!(t=this.CheckResult(this.Options.nuC.val[i],e));i++);else for(var a=0;a<this.Options.nuC.val.length&&(t=!1,t=this.CheckResult(this.Options.nuC.val[a],e));a++);return!!t}if(1==this.Type)return null}},t}(t),h=function(e){function t(t){var i=e.call(this,t)||this;return i.GetData(),i}return __extends(t,e),t.prototype.crqtz=function(){var e=glhp.crgs("div",this.CurrentOptions.id,"likert-items");e.style="margin: 14px 18px;background:rgba(247, 247, 247, 1)";var t=DOC.slds.indexOf(glrs.crsl.Data);isTransaction&&(t-=1);var i=glhp.DataLocal.Slide[t],a=null;null!=i.UserReply&&(a=i.UserReply);for(var r=0;r<i.Answers.length;r++){var s=QuestionMobile.GetAnswersFromId(this.CurrentOptions.as,i.Answers[r].Id),n=glhp.crgs("div",s.id);n.className="likert-statement";t=DOC.slds.indexOf(glrs.crsl.Data);n.setAttribute("data-id",this.ArrAnswer[r].id);var l=glhp.crgs("div","","statement"),o=QuestionMobile.GetQuestionMobile(s.ct);l.appendChild(o),n.appendChild(l);var h=glhp.crgs("div","saperator","saperator");h.style="left: 12px;right: 12px;height: 1px;content: '';position: absolute;background: #E0E0E0;z-index:1;",n.appendChild(h);var d=glhp.crgs("div","","scales");n.appendChild(d);for(var c=0;c<s.S.length;c++){var p=glhp.crgs("div","scale-item"+c,"scale-item");null!=a&&""!=a[r].toString()&&a[r]==c&&p.classList.add("selected-item");var u=glhp.crgs("div","","scale-content");u.innerHTML=s.S[c].txt;var m=glhp.crgs("div","","scale-selection"),b=glhp.crgs("div","","mbone_outlineBorder");b.style="position:absolute;border-radius:24px;width: 24px;height:24px;";var f=glhp.crgs("div","","mbone_inlineBorder");f.style="position:absolute;border-radius:14px;width: 14px;height:14px";var g=glhp.crgs("div","","inner");g.style="position:absolute;border-radius:20px;width: 20px;height:20px;background:#ffffff",m.appendChild(b),m.appendChild(g),m.appendChild(f),n.appendChild(m),p.appendChild(u),p.appendChild(m),d.appendChild(p)}i.IsResult&&n.classList.add("item-correct"),e.appendChild(n)}return(i.IsResult||i.IsSubmit)&&QuestionMobile.CreateReviewResultButton(),setTimeout((function(){QuestionMobile.LikertSelected()}),1),glhp.DataLocal.Slide[glhp.DataLocal.crsl].IsSubmit&&(e.style.pointerEvents="none"),e},t.prototype.ProcessSubmit=function(){var e=document.getElementById(this.CurrentOptions.id);if(e){if(e.getElementsByClassName("selected-item").length<this.CurrentOptions.as.length)return void QuestionMobile.swfb("invalid");QuestionMobile.SaveUserAnswer(this.CurrentOptions),this.DisplayFeedback?(QuestionMobile.swfb("thankyou"),qzm.SaveiF(this.IndexSlide,QuestionMobile.GetIdFeedBack("Thank you",this.Options.lts))):glhp.nextSlide(),qzm.roswb(this.IndexSlide),glhp.DataLocal.Slide[this.IndexSlide].IsSubmit=!0}},t}(t),d=function(e){function t(t){var i=e.call(this,t)||this;return i.GetData(),i}return __extends(t,e),t.prototype.crqtz=function(){var e=DOC.slds.indexOf(glrs.crsl.Data),t=glhp.DataLocal.Slide[e],i=glhp.crgs("div",this.CurrentOptions.id,"answer-essay");i.style="margin: 14px 18px;background:rgba(247, 247, 247, 1);position:relative;";e=DOC.slds.indexOf(glrs.crsl.Data);var a=glhp.crgs("textarea","input"+this.CurrentOptions.id,"input-area");return i.appendChild(a),a.maxLength=glrs.crsl.Data.ml,null!=t.UserReply&&(a.value=t.UserReply),t.IsSubmit&&(a.style.pointerEvents="none"),t.IsResult&&a.classList.appendChild("item-correct"),i},t.prototype.ProcessSubmit=function(){if(document.getElementById(this.CurrentOptions.id)){if(""==document.getElementById("input"+this.CurrentOptions.id).value)return void QuestionMobile.swfb("invalid");QuestionMobile.SaveUserAnswer(this.CurrentOptions),this.DisplayFeedback?(QuestionMobile.swfb("thankyou"),qzm.SaveiF(this.IndexSlide,QuestionMobile.GetIdFeedBack("Thank you",this.Options.lts))):glhp.nextSlide(),local&&qzm.roswb(this.IndexSlide),glhp.DataLocal.Slide[this.IndexSlide].IsSubmit=!0}},t}(t),c=function(e){function t(t){var i=e.call(this,t)||this;return i.GetData(),i}return __extends(t,e),t.prototype.crqtz=function(){var e=this,t=DOC.slds.indexOf(glrs.crsl.Data),i=glhp.DataLocal.Slide[t],a=glhp.crgs("div",this.CurrentOptions.id,"answer-fillblank"),r=QuestionMobile.GetQuestionMobile(this.CurrentOptions.txt,this.CurrentOptions,"fillblank");return r.className="fill-blank-item",a.appendChild(r),i.IsResult?(QuestionMobile.CreateReviewResultButton(),QuestionMobile.ShowResultReview(i.Correct),setTimeout((function(){QuestionMobile.ShowAnswersReview(e.CurrentOptions)}),1)):i.IsSubmit&&QuestionMobile.CreateReviewResultButton(),a},t.prototype.ProcessSubmit=function(){document.getElementById(this.CurrentOptions.id);for(var e=!1,t=!0,i=0;i<this.CurrentOptions.txt.pr.length;i++){for(var a=this.CurrentOptions.txt.pr[i],r=0;r<a.inls.length;r++){var s=a.inls[r];if("Blank"==s.tm){var n=document.getElementById("input_"+s.id);if(null!=n){if(""==n.value){e=!0;break}for(var l=!1,o=0;o<s.as.length;o++)if(glhp.areStringsEqualIgnoreCase(s.as[o].txt.trim(),n.value.trim())){l=!0;break}l||(t=!1)}}if(e)break}if(e)break}e?QuestionMobile.swfb("invalid"):(QuestionMobile.SaveUserAnswer(this.CurrentOptions),0==this.Type?t?(this.DisplayFeedback?(QuestionMobile.swfb("correct"),qzm.SaveiF(this.IndexSlide,QuestionMobile.GetIdFeedBack("Correct",this.Options.lts)),QuestionMobile.DisableAnswerContent(this.CurrentOptions.id)):glhp.nextSlide(),qzm.SaveDataPoint(this.IndexSlide,wulzz("Correct",this.Options),!0,!0),qzm.roswb(this.IndexSlide)):1==this.NumberRepeat?(this.DisplayFeedback?(QuestionMobile.swfb("incorrect"),qzm.SaveiF(this.IndexSlide,QuestionMobile.GetIdFeedBack("Incorrect",this.Options.lts)),QuestionMobile.DisableAnswerContent(this.CurrentOptions.id)):glhp.nextSlide(),qzm.roswb(this.IndexSlide),qzm.SaveDataPoint(this.IndexSlide,wulzz("Incorrect",this.Options),!1,!0)):(this.NumberRepeat--,this.DisplayFeedback&&(QuestionMobile.swfb("tryagain"),qzm.SaveiF(this.IndexSlide,QuestionMobile.GetIdFeedBack("Try Again",this.Options.lts))),qzm.sttze(this.IndexSlide,this.NumberRepeat)):1==this.Type&&(this.DisplayFeedback?(QuestionMobile.swfb("thankyou"),qzm.SaveiF(this.IndexSlide,QuestionMobile.GetIdFeedBack("Thank you",this.Options.lts))):glhp.nextSlide(),DOC.iS&&qzm.sqzor("","neutral",this.IndexSlide),qzm.roswb(this.IndexSlide)),glhp.DataLocal.Slide[this.IndexSlide].IsSubmit=!0)},t.prototype.CheckAnswerFillBlank=function(){for(var e=!1,t=!0,i=0;i<this.CurrentOptions.txt.pr.length;i++){for(var a=this.CurrentOptions.txt.pr[i],r=0;r<a.inls.length;r++){var s=a.inls[r];if("Blank"==s.tm){var n=document.getElementById("input_"+s.id);if(null!=n){if(""==n.value){e=!0;break}for(var l=!1,o=0;o<s.as.length;o++)if(glhp.areStringsEqualIgnoreCase(s.as[o].txt.trim(),n.value.trim())){l=!0;break}l||(t=!1)}}if(e)break}if(e)break}return!e&&!!t},t}(t),p=function(e){function t(t){var i=e.call(this,t)||this;return i.GetData(),i}return __extends(t,e),t.prototype.crqtz=function(){var e=this,t=DOC.slds.indexOf(glrs.crsl.Data),i=glhp.DataLocal.Slide[t],a=glhp.crgs("div",this.CurrentOptions.id,"answer-fillblank"),r=QuestionMobile.GetQuestionMobile(this.CurrentOptions.txt,this.CurrentOptions,"underline");return r.className="fill-blank-item",a.appendChild(r),i.IsResult?(QuestionMobile.CreateReviewResultButton(),QuestionMobile.ShowResultReview(i.Correct),setTimeout((function(){QuestionMobile.ShowAnswersReview(e.CurrentOptions)}),1)):i.IsSubmit&&QuestionMobile.CreateReviewResultButton(),a},t.prototype.ProcessSubmit=function(){document.getElementById(this.CurrentOptions.id);for(var e=!1,t=!1,i=0;i<this.CurrentOptions.txt.pr.length;i++){for(var a=this.CurrentOptions.txt.pr[i],r=0;r<a.inls.length;r++){var s=a.inls[r];if("Blank"==s.tm){var n=document.getElementById("input_"+s.id);if(null!=n&&(null==n.value&&(e=!0),t=s.cor&&n.value==s.cor.toString()))break}}if(t)break}e?QuestionMobile.swfb("invalid"):(QuestionMobile.SaveUserAnswer(this.CurrentOptions),0==this.Type?t?(this.DisplayFeedback?(QuestionMobile.swfb("correct"),qzm.SaveiF(this.IndexSlide,QuestionMobile.GetIdFeedBack("Correct",this.Options.lts)),QuestionMobile.DisableAnswerContent(this.CurrentOptions.id)):glhp.nextSlide(),qzm.SaveDataPoint(this.IndexSlide,wulzz("Correct",this.Options),!0,!0),qzm.roswb(this.IndexSlide)):1==this.NumberRepeat?(this.DisplayFeedback?(QuestionMobile.swfb("incorrect"),qzm.SaveiF(this.IndexSlide,QuestionMobile.GetIdFeedBack("Incorrect",this.Options.lts)),QuestionMobile.DisableAnswerContent(this.CurrentOptions.id)):glhp.nextSlide(),qzm.roswb(this.IndexSlide),qzm.SaveDataPoint(this.IndexSlide,wulzz("Incorrect",this.Options),!1,!0)):(this.NumberRepeat--,this.DisplayFeedback&&(QuestionMobile.swfb("tryagain"),qzm.SaveiF(this.IndexSlide,QuestionMobile.GetIdFeedBack("Try Again",this.Options.lts))),qzm.sttze(this.IndexSlide,this.NumberRepeat)):1==this.Type&&(this.DisplayFeedback?(QuestionMobile.swfb("thankyou"),qzm.SaveiF(this.IndexSlide,QuestionMobile.GetIdFeedBack("Thank you",this.Options.lts))):glhp.nextSlide(),DOC.iS&&qzm.sqzor("","neutral",this.IndexSlide),qzm.roswb(this.IndexSlide)),glhp.DataLocal.Slide[this.IndexSlide].IsSubmit=!0)},t.prototype.CheckResultQuestion=function(){for(var e=!1,t=!1,i=0;i<this.CurrentOptions.txt.pr.length;i++){for(var a=this.CurrentOptions.txt.pr[i],r=0;r<a.inls.length;r++){var s=a.inls[r];if("Blank"==s.tm){var n=DOC.slds.indexOf(glrs.crsl.Data),l=glhp.DataLocal.Slide[n].UserReply;if(l){if(t=s.cor&&l==s.id.toString())break}else e=!0}}if(t)break}return!e&&!!t},t}(t),u=function(e){function t(t){var i=e.call(this,t)||this;i.GetData();var a=null,r=glrs.crsl.Data;isTransaction&&(r=glrs.GetPreviousSlide.Data);for(var s=0;s<r.lts.length;s++)if(1==r.lts[s].iM){for(var n=r.lts[s],l=0;l<n.e.length;l++)"Answers"==n.e[l].c&&1==n.e[l].dc&&(a=n.e[l]),"Answers"!=n.e[l].c||n.e[l].dc||(i.CurrentOptions=n.e[l]);break}return this.Target=a,this.Target.ds=qzm.rdaws(this.Target.ds),i}return __extends(t,e),t.prototype.crqtz=function(){var e=DOC.slds.indexOf(glrs.crsl.Data),t=glhp.DataLocal.Slide[e],i=glhp.crgs("div",this.CurrentOptions.id,"answer-fillblank"),a=QuestionMobile.GetQuestionMobile(this.CurrentOptions.txt,this.CurrentOptions,"dragword",this.Target);a.className="fill-blank-item",i.appendChild(a);var r=this;return t.IsResult?(QuestionMobile.CreateReviewResultButton(),QuestionMobile.ShowResultReview(t.Correct),setTimeout((function(){QuestionMobile.ShowAnswersReview(r.CurrentOptions)}),1)):setTimeout((function(){QuestionMobile.ShowDragwordlayer(r.CurrentOptions,r.Target)}),1),!t.IsResult&&t.IsSubmit&&QuestionMobile.CreateReviewResultButton(),i},t.prototype.ProcessSubmit=function(){for(var e=!1,t=!0,i=document.getElementById(this.CurrentOptions.id).getElementsByClassName("dragword-item"),a=0;a<i.length;a++)if(!i[a].classList.contains("active-item")){e=!0;break}if(e)QuestionMobile.swfb("invalid");else{for(var r=0;r<i.length;r++){if(i[r].getElementsByClassName("text-content")[0].innerHTML!=QuestionMobile.GetBlankFromId(this.CurrentOptions.txt.pr,i[r].id).tex){t=!1;break}}QuestionMobile.SaveUserAnswer(this.CurrentOptions),t?(this.DisplayFeedback?(QuestionMobile.swfb("correct"),qzm.SaveiF(this.IndexSlide,QuestionMobile.GetIdFeedBack("Correct",this.Options.lts)),QuestionMobile.DisableAnswerContent(this.CurrentOptions.id)):glhp.nextSlide(),qzm.SaveDataPoint(this.IndexSlide,wulzz("Correct",this.Options),!0,!0),qzm.roswb(this.IndexSlide)):1==this.NumberRepeat?(this.DisplayFeedback?(QuestionMobile.swfb("incorrect"),qzm.SaveiF(this.IndexSlide,QuestionMobile.GetIdFeedBack("Incorrect",this.Options.lts)),QuestionMobile.DisableAnswerContent(this.CurrentOptions.id)):glhp.nextSlide(),qzm.roswb(this.IndexSlide),qzm.SaveDataPoint(this.IndexSlide,wulzz("Incorrect",this.Options),!1,!0)):(this.NumberRepeat--,this.DisplayFeedback&&(QuestionMobile.swfb("tryagain"),qzm.SaveiF(this.IndexSlide,QuestionMobile.GetIdFeedBack("Try Again",this.Options.lts))),qzm.sttze(this.IndexSlide,this.NumberRepeat)),glhp.DataLocal.Slide[this.IndexSlide].IsSubmit=!0}},t.prototype.CheckAnswerDragWord=function(){var e=null;e=this.CurrentOptions.dc?this.Target:this.CurrentOptions;for(var t=!1,i=!0,a=0;a<e.txt.pr.length;a++){for(var r=e.txt.pr[a],s=0;s<r.inls.length;s++){var n=r.inls[s];if("Blank"==n.tm){var l=document.getElementById("content"+n.id);if(null!=l){if(""==l.innerHTML){t=!0;break}l.innerHTML.toLowerCase()!=n.tex.toLowerCase()&&(i=!1)}}if(t)break}if(t)break}return!t&&!!i},t}(t),m=function(e){function t(t){var i=e.call(this,t)||this;return i.GetData(),i}return __extends(t,e),t.prototype.crqtz=function(){var e=this,t=DOC.slds.indexOf(glrs.crsl.Data),i=glhp.DataLocal.Slide[t],a=glhp.crgs("div",this.CurrentOptions.id,"answer-fillblank"),r=QuestionMobile.GetQuestionMobile(this.CurrentOptions.txt,this.CurrentOptions,"selectlist");return r.className="fill-blank-item",a.appendChild(r),i.IsResult?(QuestionMobile.CreateReviewResultButton(),QuestionMobile.ShowResultReview(i.Correct),setTimeout((function(){QuestionMobile.ShowAnswersReview(e.CurrentOptions)}),1)):setTimeout((function(){QuestionMobile.ShowSelectlistlayer(e.CurrentOptions)}),1),!i.IsResult&&i.IsSubmit&&QuestionMobile.CreateReviewResultButton(),a},t.prototype.ProcessSubmit=function(){for(var e=!1,t=!0,i=document.getElementById(this.CurrentOptions.id).getElementsByClassName("selectlist-item"),a=0;a<i.length;a++)if(!i[a].classList.contains("active-item")){e=!0;break}if(e)QuestionMobile.swfb("invalid");else{for(var r=0;r<i.length;r++){i[r].getElementsByClassName("text-content").innerHTML;var s=QuestionMobile.GetBlankFromId(this.CurrentOptions.txt.pr,i[r].id),n=QuestionMobile.GetClassNameContains(i[r].classList,"selectitem"),l=parseFloat(n.replace("activeselectitem",""));if(!s.as[l].cr){t=!1;break}}QuestionMobile.SaveUserAnswer(this.CurrentOptions),t?(this.DisplayFeedback?(QuestionMobile.swfb("correct"),qzm.SaveiF(this.IndexSlide,QuestionMobile.GetIdFeedBack("Correct",this.Options.lts)),QuestionMobile.DisableAnswerContent(this.CurrentOptions.id)):glhp.nextSlide(),qzm.SaveDataPoint(this.IndexSlide,wulzz("Correct",this.Options),!0,!0),qzm.roswb(this.IndexSlide)):1==this.NumberRepeat?(this.DisplayFeedback?(QuestionMobile.swfb("incorrect"),qzm.SaveiF(this.IndexSlide,QuestionMobile.GetIdFeedBack("Incorrect",this.Options.lts)),QuestionMobile.DisableAnswerContent(this.CurrentOptions.id)):glhp.nextSlide(),qzm.roswb(this.IndexSlide),qzm.SaveDataPoint(this.IndexSlide,wulzz("Incorrect",this.Options),!1,!0)):(this.NumberRepeat--,this.DisplayFeedback&&(QuestionMobile.swfb("tryagain"),qzm.SaveiF(this.IndexSlide,QuestionMobile.GetIdFeedBack("Try Again",this.Options.lts))),qzm.sttze(this.IndexSlide,this.NumberRepeat)),glhp.DataLocal.Slide[this.IndexSlide].IsSubmit=!0}},t}(t);return{onLoad:function(t){var i=document.getElementById("questionContainer");if(e=null,i){var a=getELem(t);null!=a&&i.children[0].appendChild(a)}},SubmitQuestion:function(){null!=e&&e.ProcessSubmit()},getELem:function(t){var b=null;switch(t.tq){case 1:case 2:case 12:case 5:case 14:b=(e=new i(t)).crqtz();break;case 3:case 13:b=(e=new a(t)).crqtz();break;case 4:case 15:b=(e=new r(t)).crqtz();break;case 6:case 7:b=(e=new l(t)).crqtz();break;case 8:case 17:b=(e=new s(t)).crqtz();break;case 9:case 18:b=(e=new n(t)).crqtz();break;case 10:case 19:b=(e=new o(t)).crqtz();break;case 11:b=(e=new h(t)).crqtz();break;case 16:b=(e=new d(t)).crqtz();break;case 20:b=(e=new c(t)).crqtz();break;case 22:b=(e=new u(t)).crqtz();break;case 23:b=(e=new m(t)).crqtz();break;case 24:b=(e=new p(t)).crqtz()}return b},GetMobileText:function(e){for(var t="",i=0;i<e.pr.length;i++){e.pr[i].inls.length>0&&(t+=e.pr[i].inls[0].Txt)}return{txt:t,fs:15,ff:"Arial",fg:"black"}},CreateQuestionMobile:function(e,t){if(isMobile){document.getElementById("submitMobile").style.pointerEvents="all";var i=document.getElementById("mobilewrapper");if(!i)i=glhp.crgs("div","mobilewrapper"),document.getElementById("wrapper").appendChild(i);var a=document.getElementById("review-result-container");a&&a.parentNode.removeChild(a);document.getElementById("topPanel"),document.getElementById("controlPanel");var r=document.querySelector("body"),s=r.clientHeight-66-16;1==glrs.crsl.Data.iG&&(s=r.clientHeight),i.style="position: fixed;width: 100%;top: 0px;height:"+s+"px; background: rgba(247, 247, 247, 0.97);";var n=document.getElementById("questionMobileContent");for(n||(n=glhp.crgs("div","questionMobileContent")),n.style="position: absolute;width: 100%; height: calc(100% - 32px); background:#f7f7f7f7;overflow-y: auto;z-index: 1;top: 16px;",i.appendChild(n);n.childNodes.length>0;)n.removeChild(n.childNodes[0]);QuestionMobile.HiddenContent()}},CreateQuestionLayout:function(e,t){QuestionMobile.QuestionMobileData(e);var i=glhp.crgs("div",e.id);if(i.style="position: absolute;width: 100%;height:100%;","QuestionSlide"==t.slt){var a=QuestionMobile.GetDataForType(e.e,"Text");if(a){var r=QuestionMobile.GetQuestionMobile(a);r.style.padding="34px 28px 10px 28px",i.appendChild(r)}var s=QuestionMobile.GetDataForType(e.e,"Image");if(s){var n=QuestionMobile.CreateImage(s);i.appendChild(n)}var l=QuestionMobile.GetDataForType(e.e,"Audio");if(l){var o=QuestionMobile.CreateAudio(l);i.appendChild(o)}if(QuestionMobile.GetDataForType(e.e,"Answers")){var h=QuestionMobile.getELem(t);i.appendChild(h)}}else if("Result"==t.slt){var d=glhp.crgs("div","result-wrapper"+t.id,"result-wrapper"),c=glhp.crgs("div","resultcontainer"+t.id,"result-container"),p=glhp.crgs("div","","result-icon");c.appendChild(p);var u=glhp.crgs("div","","content"),m=glhp.crgs("span");u.appendChild(m),c.appendChild(u),d.appendChild(c),i.appendChild(d);var b=glhp.crgs("div","","review-button");if(t.iG){if(t.iG){var f=QuestionMobile.vvss(t),g=QuestionMobile.lskyy(t)*t.ps/100,w=(QuestionMobile.lskyy(t),Math.round(f/g*100*t.ps)/100),y=glhp.crgs("div","","point-detail");c.appendChild(y);var v=glhp.crgs("span"),C=glhp.crgs("span"),T=glhp.crgs("div","","result-score-detail");T.appendChild(v),T.appendChild(C),y.appendChild(T);var S=glhp.crgs("div","","result-score-detail"),x=glhp.crgs("span"),A=glhp.crgs("span");S.appendChild(x),S.appendChild(A),y.appendChild(S);H="";var M="",G="",D="",L="";I="";switch(DOC.Lang.toUpperCase()){case"EN-US":M="Your Score : ",D="Passing Score : ",G=w+"% - "+f+" points",L=t.ps+"% - "+Math.round(t.ps/100)*g+" points",I="REVIEW QUIZ";break;case"TH-TH":M="คะแนนของคุณ: ",D="คะแนนขั้นต่ําที่ต้องได้: ",G=w+"% - "+f+" points",L=t.ps+"% - "+Math.round(t.ps/100)*g+" points",I="ทบทวนแบบทดสอบ";break;case"VI-VN":M="Điểm của bạn :",D="Điểm vượt qua :",G=w+"% - "+f+" điểm",L=t.ps+"% - "+Math.round(t.ps/100)*g+" điểm",I="XEM LẠI BÀI KIỂM TRA"}if(w>=t.ps){F=glhp.crgs("svg");switch((P=glhp.crgs("path")).setAttribute("d","m256 0c-141.164062 0-256 114.835938-256 256s114.835938 256 256 256 256-114.835938 256-256-114.835938-256-256-256zm0 0"),P.style.fill="#70C425",(R=glhp.crgs("path")).setAttribute("d","m385.75 201.75-138.667969 138.664062c-4.160156 4.160157-9.621093 6.253907-15.082031 6.253907s-10.921875-2.09375-15.082031-6.253907l-69.332031-69.332031c-8.34375-8.339843-8.34375-21.824219 0-30.164062 8.339843-8.34375 21.820312-8.34375 30.164062 0l54.25 54.25 123.585938-123.582031c8.339843-8.34375 21.820312-8.34375 30.164062 0 8.339844 8.339843 8.339844 21.820312 0 30.164062zm0 0"),R.style.fill="#fff",F.appendChild(P),F.appendChild(R),p.appendChild(F),F.setAttribute("viewBox","0,0,512,512"),F.style.width="60px",F.style.height="60px",DOC.Lang.toUpperCase()){case"EN-US":H="Congratulations, you passed!";break;case"TH-TH":H="รางวัล!! คุณผ่านการทดสอบแล้ว!";break;case"VI-VN":H="Bạn đã vượt qua"}m.innerHTML=H}else{var k=glhp.crgs("svg"),O=glhp.crgs("circle");O.setAttribute("cx",227.556),O.setAttribute("cy",227.556),O.setAttribute("r",227.556),O.style="fill:#E24C4B;";var E=glhp.crgs("path");switch(E.setAttribute("d","M331.378,331.378c-8.533,8.533-22.756,8.533-31.289,0l-72.533-72.533l-72.533,72.533  c-8.533,8.533-22.756,8.533-31.289,0c-8.533-8.533-8.533-22.756,0-31.289l72.533-72.533l-72.533-72.533  c-8.533-8.533-8.533-22.756,0-31.289c8.533-8.533,22.756-8.533,31.289,0l72.533,72.533l72.533-72.533  c8.533-8.533,22.756-8.533,31.289,0c8.533,8.533,8.533,22.756,0,31.289l-72.533,72.533l72.533,72.533  C339.911,308.622,339.911,322.844,331.378,331.378z"),E.style.fill="#fff",k.appendChild(O),k.appendChild(E),p.appendChild(k),k.setAttribute("viewBox","0,0,455.111,455.111"),k.style.width="60px",k.style.height="60px",DOC.Lang.toUpperCase()){case"EN-US":H="You did not pass";break;case"TH-TH":H="คุณไม่ได้ผ่านการทดสอบ";break;case"VI-VN":H="Bạn đã không vượt qua"}m.innerHTML=H}v.innerHTML=M,C.innerHTML=G,x.innerHTML=D,A.innerHTML=L,b.innerHTML=I}}else{var H="",I="";switch(DOC.Lang.toUpperCase()){case"EN-US":H="Thank you for completing this survey.",I="REVIEW QUIZ";break;case"TH-TH":H="ขอบคุณที่ทําแบบสอบถามนี้เสร็จเรียบร้อยแล้ว",I="ทบทวนแบบทดสอบ";break;case"VI-VN":H="Cảm ơn bạn đã hoàn thành khảo sát.",I="XEM LẠI BÀI KIỂM TRA"}var P,R,F=glhp.crgs("svg");(P=glhp.crgs("path")).setAttribute("d","m256 0c-141.164062 0-256 114.835938-256 256s114.835938 256 256 256 256-114.835938 256-256-114.835938-256-256-256zm0 0"),P.style.fill="#70C425",(R=glhp.crgs("path")).setAttribute("d","m385.75 201.75-138.667969 138.664062c-4.160156 4.160157-9.621093 6.253907-15.082031 6.253907s-10.921875-2.09375-15.082031-6.253907l-69.332031-69.332031c-8.34375-8.339843-8.34375-21.824219 0-30.164062 8.339843-8.34375 21.820312-8.34375 30.164062 0l54.25 54.25 123.585938-123.582031c8.339843-8.34375 21.820312-8.34375 30.164062 0 8.339844 8.339843 8.339844 21.820312 0 30.164062zm0 0"),R.style.fill="#fff",F.appendChild(P),F.appendChild(R),p.appendChild(F),F.setAttribute("viewBox","0,0,512,512"),F.style.width="60px",F.style.height="60px",m.innerHTML=H,b.innerHTML=I,c.appendChild(b)}c.appendChild(b),setTimeout((function(){QuestionMobile.ReviewResult(t)}),1)}return s&&(i.innerHTML=i.innerHTML),i},GetDataForType:function(e,t){for(var i=0;i<e.length;i++)if(e[i].c==t)return e[i]},CreateImage:function(e){var t=glhp.crgs("div","ct"+e.id,"img-content-mb"),i=glhp.crgs("img",e.id,"imgmobile");t.appendChild(i),t.style="position: relative;margin: 14px 18px;display: block; display: flex;justify-content: center;",t.style.width="calc(100% - 36px)";var a=e.imgU.replace("\\","/");return a=a.replace("\\","/"),i.setAttribute("src",a),setTimeout((function(){QuestionMobile.LoadImage()})),t},LoadImage:function(){$(".imgmobile").load((function(){this.offsetWidth>this.parentNode.offsetWidth&&(this.style.width=this.parentNode.offsetWidth+"px")}))},CalImageMb:function(){for(var e=document.getElementsByClassName("imgmobile"),t=0;t<e.length;t++){let i=e[t];i.naturalWidth<i.parentNode.offsetWidth?i.style.width=i.naturalWidth+"px":i.style.width=i.parentNode.offsetWidth+"px"}},CreateAudio:function(e){var t=glhp.crgs("div",e.id),i=glhp.crgs("audio");return i.setAttribute("src","./"+e.mU),t.appendChild(i),t},PlayAudio:function(e){switch(e){case"feedback":if((i=(t=document.getElementById("fb-layer")).getElementsByTagName("audio")).length>0)void 0!==(a=i[0].play())&&a.then((function(e){})).catch((function(e){var i=qzm.gelpw();t.appendChild(i)}));break;default:var t,i,a;if((i=(t=document.getElementById("questionMobileContent")).getElementsByTagName("audio")).length>0)void 0!==(a=i[0].play())&&a.then((function(e){})).catch((function(e){var i=qzm.gelpw();t.appendChild(i)}))}},StopAudio:function(e){switch(e){case"feedback":(i=(t=document.getElementById("fb-layer")).getElementsByTagName("audio")).length>0&&i[0].pause();break;default:var t,i;if(!(t=document.getElementById("questionMobileContent")))return;(i=t.getElementsByTagName("audio"))&&i.length>0&&i[0].pause()}},CheckFillBlank:function(e){for(var t=0;t<e.length;t++)if("Blank"==e[t].tm)return!0;return!1},GetTextWidth:function(e,t){var i=document.createElement("canvas").getContext("2d");return i.font=t,i.measureText(e).width},InputResizeable:function(){$(".fill-blank-input").on("change paste keyup",(function(){var e=$(this).css("padding-left"),t=$(this).css("font-size")+" "+$(this).css("font-family"),i=QuestionMobile.GetTextWidth(this.value,t)+2*parseFloat(e.replace("px",""));$(this).css({width:i})})).trigger("input")},CreateFillBlank:function(e,t){var i=DOC.slds.indexOf(glrs.crsl.Data),a=glhp.DataLocal.Slide[i],r=a.ArrAnswer,s=glhp.crgs("div",e.id,"fill-item-container"),n=glhp.crgs("input","input_"+e.id,"fill-blank-input");if(s.appendChild(n),null!=r&&r.length>0){var l=r.filter((function(t){return t.source===e.id}))[0];if(null!=l&&null!=l.target){n.setAttribute("value",l.target);var o=QuestionMobile.GetTextWidth(n.value,"16px Arial")+10;$(n).css({width:o})}}if(1==a.IsSubmit&&(n.disabled=!0),a.IsResult){for(var h=!1,d=QuestionMobile.GetBlankFromId(t.txt.pr,e.id),c=0;c<d.as.length;c++)d.as[c].txt.trim()==n.value.trim()&&(h=!0);if(h)n.classList.add("item-correct"),s.style.pointerEvents="none",n.style.pointerEvents="none";else{n.classList.add("item-fail");var p=QuestionMobile.CreateIconReview();p.style="position: absolute; right: 5px;";var u=p.getElementsByTagName("svg")[0];u.style.width="12px",u.style.height="12px",s.appendChild(p)}}return setTimeout((function(){QuestionMobile.InputResizeable()}),1),s},CreateDragwordItem:function(e,t,i){var a=glhp.crgs("div",e.id,"dragword-item"),r=glhp.crgs("div","content"+e.id,"text-content");a.appendChild(r);var s=DOC.slds.indexOf(glrs.crsl.Data),n=glhp.DataLocal.Slide[s],l=n.ArrAnswer,o="";if(null==l){switch(a.classList.add("label"),DOC.Lang.toUpperCase()){case"EN-US":o="-select-";break;case"TH-TH":o="-เลือก-";break;case"VI-VN":o="-lựa chọn-"}var h=QuestionMobile.GetTextWidth(o,"16px Arial")+30;r.innerHTML=o,a.style.width=h+"px"}else{var d=l.filter((function(t){return t.source===e.id}))[0];if(d&&null!=d.target){a.classList.add("active-item"),a.classList.add("active"+d.target),o=QuestionMobile.GetAnswersFromId(i.ds,d.target).txt;h=QuestionMobile.GetTextWidth(o,"16px Arial")+30;r.innerHTML=o,a.style.width=h+"px"}else{switch(a.classList.add("label"),DOC.Lang.toUpperCase()){case"EN-US":o="-select-";break;case"TH-TH":o="-เลือก-";break;case"VI-VN":o="-lựa chọn-"}h=QuestionMobile.GetTextWidth(o,"16px Arial")+30;r.innerHTML=o,a.style.width=h+"px"}}if(n.IsResult)if(r.innerHTML==e.tex)a.classList.add("item-correct"),a.style.pointerEvents="none";else{a.classList.add("item-fail");var c=QuestionMobile.CreateIconReview();c.style="absolute";var p=c.getElementsByTagName("svg")[0];p&&(p.style.width="16px",p.style.height="16px"),a.appendChild(c)}else{var u=glhp.crgs("div","dropIcon","icon-area"),m=glhp.crgs("svg");m.setAttribute("width",18),m.setAttribute("height",9),m.setAttribute("viewBox","0 0 20 16");var b=glhp.crgs("path");b.setAttribute("fill","rgba(162, 162, 161, 1)"),b.setAttribute("d","M0.232,1.015l0.601-0.49c0.321-0.277,0.855-0.277,1.177,0 l6.485,5.473l6.507-5.473c0.32-0.277,0.855-0.277,1.177,0l0.579,0.49c0.342,0.277,0.319,0.724,0,0.98 \tc-2.547,2.172-5.095,4.324-7.662,6.474C8.944,8.617,8.73,8.682,8.515,8.682H8.494c-0.213,0-0.428-0.064-0.6-0.213 \tc-2.546-2.15-5.093-4.302-7.641-6.474C-0.088,1.738-0.088,1.292,0.232,1.015L0.232,1.015z"),m.appendChild(b),u.appendChild(m),a.appendChild(u)}return a},CreateSelectListItem:function(e,t){var i=glhp.crgs("div",e.id,"selectlist-item"),a=glhp.crgs("div","content"+e.id,"text-content");i.appendChild(a);var r=DOC.slds.indexOf(glrs.crsl.Data),s=glhp.DataLocal.Slide[r],n=s.ArrAnswer,l="";if(null==n){switch(i.classList.add("label"),DOC.Lang.toUpperCase()){case"EN-US":l="-select-";break;case"TH-TH":l="-เลือก-";break;case"VI-VN":l="-lựa chọn-"}var o=QuestionMobile.GetTextWidth(l,"16px Arial")+30;a.innerHTML=l,i.style.width=o+"px"}else{var h=n.filter((function(t){return t.source===e.id}))[0];if(h&&null!=h.target){i.classList.add("active-item"),i.classList.add("active"+h.target);var d=parseFloat(h.target.replace("selectitem",""));l=e.as[d].txt;o=QuestionMobile.GetTextWidth(l,"16px Arial")+30;a.innerHTML=l,i.style.width=o+"px"}else{switch(i.classList.add("label"),DOC.Lang.toUpperCase()){case"EN-US":l="-select-";break;case"TH-TH":l="-เลือก-";break;case"VI-VN":l="-lựa chọn-"}o=QuestionMobile.GetTextWidth(l,"16px Arial")+30;a.innerHTML=l,i.style.width=o+"px"}}if(s.IsResult){var c=e.as.filter((function(e){return 1==e.cr}))[0];if(!!c&&c.txt==a.innerHTML)i.classList.add("item-correct"),i.style.pointerEvents="none";else{i.classList.add("item-fail");var p=QuestionMobile.CreateIconReview();p.style="postion:absolute";var u=p.getElementsByTagName("svg")[0];u&&(u.style.width="16px",u.style.height="16px"),i.appendChild(p)}}else{var m=glhp.crgs("div","dropIcon","icon-area"),b=glhp.crgs("svg");b.setAttribute("width",18),b.setAttribute("height",9),b.setAttribute("viewBox","0 0 20 16");var f=glhp.crgs("path");f.setAttribute("fill","rgba(162, 162, 161, 1)"),f.setAttribute("d","M0.232,1.015l0.601-0.49c0.321-0.277,0.855-0.277,1.177,0 l6.485,5.473l6.507-5.473c0.32-0.277,0.855-0.277,1.177,0l0.579,0.49c0.342,0.277,0.319,0.724,0,0.98 \tc-2.547,2.172-5.095,4.324-7.662,6.474C8.944,8.617,8.73,8.682,8.515,8.682H8.494c-0.213,0-0.428-0.064-0.6-0.213 \tc-2.546-2.15-5.093-4.302-7.641-6.474C-0.088,1.738-0.088,1.292,0.232,1.015L0.232,1.015z"),b.appendChild(f),m.appendChild(b),i.appendChild(m)}return i},CreateUnderlineItem:function(e,t,i){var a=glhp.crgs("div",e.id,"mb_underline-item"),r=glhp.crgs("div","input_"+e.id,"underline-item");r.setAttribute("style","text-overflow: ellipsis; box-sizing: border-box;font-family:"+e.ff+"; color:"+e.col.col+"; background:white;cursor: pointer");var s=glhp.crgs("div","input_"+e.id,"ip-number-answer");s.value=e.cor,s.innerHTML=i,s.setAttribute("style","text-overflow: ellipsis;text-align: center;border-top: 1px solid "+e.col.col+";padding: 5px 0 0 0;box-sizing: border-box;font-size:16px; font-family:"+e.ff+"; text-align:center;cursor: pointer; ");var n=e.tex;r.innerHTML=n,a.appendChild(r),r.innerHTML=n,a.appendChild(s);let l=DOC.slds.indexOf(glrs.crsl.Data);return e.id==glhp.DataLocal.Slide[l].UserReply&&r.classList.add("selected"),a},GetQuestionMobile:function(e,t,i,a){var r=[],s=glhp.crgs("div","","text-mobile");if(document.body.offsetHeight<490?s.style="font-size: 11px !important;line-height: 1.56;color: #2B3B46 !important;text-align: left !important;font-family: Helvetica Neue, Helvetica, Roboto, Arial !important;flex: 1 !important;":s.style="font-size: 16px !important;line-height: 1.56;color: #2B3B46 !important;text-align: left !important;font-family: Helvetica Neue, Helvetica, Roboto, Arial !important;flex: 1 !important;",null==e)return s;let n=new Array;var l=new Array,o=0;if(t&&t.txt){for(var h=0==isMobile?t.txt.prdkt:isTabletLandscape?t.txt.prtls:isTabletPortrait?t.txt.prtp:isMobileLandscape?t.txt.prmls:isMobilePortrait?t.txt.prmp:t.txt.pr,d=0;d<h.length;d++)for(var c=h[d],p=0;p<c.inls.length;p++){"Blank"==(g=c.inls[p]).tm&&n.push(g)}l=getNumber(n.length)}for(h=0==isMobile?e.prdkt:isTabletLandscape?e.prtls:isTabletPortrait?e.prtp:isMobileLandscape?e.prmls:isMobilePortrait?e.prmp:e.pr,d=0;d<h.length;d++){var u=glhp.crgs("div","","text-para");s.appendChild(u);c=h[d];var m=!1,b=null,f=0;for(p=0;p<c.inls.length;p++){var g;if(null!=(g=c.inls[p]).tm||m){if(null==g.tm&&m&&null!=b)g.Ls[0]-=b.l,g.T>f&&(f=g.T),b.pr[0].inls.push(g);else if(null!=g.tm&&"EmptyStart"!=g.tm&&"EmptyEnd"!=g.tm&&m&&null!=b)g.Ls[0]-=b.l,g.T>f&&(f=g.T),b.pr[0].inls.push(g);else if("EmptyStart"==g.tm)m=!0,f=g.T,(b={l:g.Ls.join(""),T:g.T,ref:null,pr:[],sc:16/g.fs}).pr=[],b.pr[0]={inls:[]};else if("EmptyEnd"==g.tm){if(m=!1,QuestionMobile.CheckFillBlank(b.pr[0].inls)){if(null!=t&&null!=i)switch(i){case"fillblank":for(var w=0;w<b.pr[0].inls.length;w++)if("Blank"==b.pr[0].inls[w].tm){var y={source:b.pr[0].inls[w].id,target:null},v=QuestionMobile.CreateFillBlank(b.pr[0].inls[w],t);u.appendChild(v),r.push(y)}break;case"dragword":for(var C=0;C<b.pr[0].inls.length;C++)if("Blank"==b.pr[0].inls[C].tm){y={source:b.pr[0].inls[C].id,target:null},v=QuestionMobile.CreateDragwordItem(b.pr[0].inls[C],t,a);u.appendChild(v),r.push(y)}break;case"selectlist":for(var T=0;T<b.pr[0].inls.length;T++)if("Blank"==b.pr[0].inls[T].tm){y={source:b.pr[0].inls[T].id,target:null},v=QuestionMobile.CreateSelectListItem(b.pr[0].inls[T],t);u.appendChild(v),r.push(y)}break;case"underline":for(T=0;T<b.pr[0].inls.length;T++)if("Blank"==b.pr[0].inls[T].tm){y={source:b.pr[0].inls[T].id,target:null};let e=DOC.slds.indexOf(glrs.crsl.Data);0==glhp.DataLocal.Slide[e].IsSubmit&&setTimeout((function(){qzm.Underline("","")}),1);var S="";o<l.length&&(S=l[o]);v=QuestionMobile.CreateUnderlineItem(b.pr[0].inls[T],t,S);u.appendChild(v),r.push(y),o++}}}else{var x=TextModule.grezByParas(b,"question"),A=f-b.T;x.style="transform: scale("+b.sc+","+b.sc+")";var M=glhp.crgs("svg",b.T+"l"+b.sc+"l"+A);M.style="    display: inline-block;text-indent: 0;margin-left: 2px;margin-right: 1px;position: relative;",M.style.verticalAlign=-A*b.sc+"px",M.appendChild(x),u.appendChild(M)}b=null}}else{var G=glhp.crgs("span");G.innerHTML=g.Txt,u.appendChild(G)}}}if(s.load=function(){},null!=i){o=DOC.slds.indexOf(glrs.crsl.Data);var D=glhp.DataLocal.Slide[o].ArrAnswer;null!=D&&0!=D.length||(glhp.DataLocal.Slide[o].ArrAnswer=r)}return s},LoadQuestionMobile:function(){for(var e=document.getElementsByClassName("text-mobile"),t=0;t<e.length;t++)for(var i=e[t].getElementsByTagName("svg"),a=0;a<i.length;a++){var r=i[a].childNodes[0],s=r.getBoundingClientRect(),n=r.parentNode,l=n.id.split("l"),o=parseFloat(l[1]),h=n.getBoundingClientRect();r.style="transform: scale("+o+","+o+") translate("+(h.left-s.left)/o+"px,"+(h.top-s.top)/o+"px)",n.style.width=s.width+2+"px",n.style.height=s.height+"px"}},RemoveQuestionlayout:function(){var e=document.getElementById("mobilewrapper");if(e)for(;e.firstChild;)e.removeChild(e.firstChild)},QuestionMobileData:function(e){questiondata=[];var t=e.e[0],i=e.e[1];return questiondata.push(t),questiondata.push(i),questiondata},GetCorrectAnswerId:function(e){for(var t=0;t<e.length;t++)if(e[t].cr)return e[t].Id},GetIdFeedBack:function(e,t){var i=t.filter((function(t){return t.lT==e}))[0],a="";return i&&(a=i.id),a},HiddenContent:function(){},ShowContent:function(){},DisableSubmitButton:function(){var e=document.getElementById("submitMobile");e&&(e.style.pointerEvents="none",e.style.opacity=.5)},EnableSubmitButton:function(){var e=document.getElementById("submitMobile");e&&(e.style.pointerEvents="all",e.style.opacity=1)},DisableAnswerContent:function(e){var t=document.getElementById(e);t&&(t.style.pointerEvents="none")},SaveUserAnswer:function(e){if(glrs.crsl&&"QuestionSlide"==glrs.crsl.Data.slt){var t=glrs.crsl.Data.tq,i=DOC.slds.indexOf(glrs.crsl.Data);if(!glhp.DataLocal.Slide[i].IsSubmit)switch(t){case 1:case 2:case 12:case 5:case 14:if(s=document.getElementById(e.id))if(s.style.pointerEvents="none",(r=s.getElementsByClassName("selected-item")).length>0){var a=DOC.slds.indexOf(glrs.crsl.Data);glhp.DataLocal.Slide[a].UserReply=r[0].id}break;case 3:case 13:var r;if(s=document.getElementById(e.id))if(s.style.pointerEvents="none",(r=s.getElementsByClassName("selected-item")).length>0){for(var s=[],n=0;n<r.length;n++)s.push(r[n].id);a=DOC.slds.indexOf(glrs.crsl.Data);glhp.DataLocal.Slide[a].UserReply=s}break;case 4:case 15:case 16:var l=document.getElementById("input"+e.id).value;a=DOC.slds.indexOf(glrs.crsl.Data);glhp.DataLocal.Slide[a].UserReply=l;break;case 6:case 7:(s=document.getElementById(e.id)).style.pointerEvents="none",answersItems=s.getElementsByClassName("answer-item");var o=[];for(n=0;n<answersItems.length;n++){var h="";if(answersItems[n].classList.contains("active-item"))for(var d=0;d<answersItems[n].classList.length;d++)answersItems[n].classList[d].includes("-popup-answer")&&(h=answersItems[n].classList[d].replace("-popup-answer",""));o.push(h)}a=DOC.slds.indexOf(glrs.crsl.Data);glhp.DataLocal.Slide[a].UserReply=o;break;case 8:case 17:s=document.getElementById(e.id);if(QuestionMobile.RemoveSequenceDirect(e.id),s){s.style.pointerEvents="none",answersItems=s.getElementsByClassName("answer-item");for(o=[],n=0;n<answersItems.length;n++)o.push(answersItems[n].id);a=DOC.slds.indexOf(glrs.crsl.Data);glhp.DataLocal.Slide[a].UserReply=o}break;case 9:case 18:(s=document.getElementById(e.id)).style.pointerEvents="none",answersItems=s.getElementsByClassName("answer-item");for(o=[],n=0;n<answersItems.length;n++){h="";if(answersItems[n].classList.contains("active-item"))for(var c=0;c<answersItems[n].classList.length;c++)answersItems[n].classList[c].includes("-popup-answer")&&(h=answersItems[n].classList[c].replace("-popup-answer",""));o.push(h)}a=DOC.slds.indexOf(glrs.crsl.Data);glhp.DataLocal.Slide[a].UserReply=o;break;case 10:case 19:(s=document.getElementById(e.id)).style.pointerEvents="none";l=document.getElementById("input"+e.id).value,a=DOC.slds.indexOf(glrs.crsl.Data);glhp.DataLocal.Slide[a].UserReply=l;break;case 11:(s=document.getElementById(e.id)).style.pointerEvents="none";for(o=[],n=0;n<e.as.length;n++){h="";var p=document.getElementById(e.as[n].id).getElementsByClassName("selected-item");if(p.length>0)for(var u=0;u<e.as[n].S.length;u++)if(e.as[n].S[u].txt==p[0].innerText){h=u;break}o.push(h)}a=DOC.slds.indexOf(glrs.crsl.Data);glhp.DataLocal.Slide[a].UserReply=o;break;case 20:(s=document.getElementById(e.id)).style.pointerEvents="none";o=[];var m=s.getElementsByClassName("fill-blank-input");for(n=0;n<m.length;n++){var b={source:m[n].id.replace("input_",""),target:m[n].value};o.push(b)}a=DOC.slds.indexOf(glrs.crsl.Data);break;case 22:var f=glrs.crsl.Data,g=null;for(n=0;n<f.lts.length;n++){if(f.lts[n].iM)for(u=0;u<f.lts[n].e.length;u++)if("Answers"==f.lts[n].e[u].c&&0==f.lts[n].e[u].dc){g=f.lts[n].e[u];break}if(null!=g)break}(s=document.getElementById(g.id))&&(s.style.pointerEvents="none");var w=s.getElementsByClassName("dragword-item");for(o=[],n=0;n<w.length;n++){var y={source:w[n].id,target:null};if(w[n].classList.contains("active-item")){var v=QuestionMobile.GetClassNameContains(w[n].classList,"active");y.target=v.replace("active","")}o.push(y)}a=DOC.slds.indexOf(glrs.crsl.Data);glhp.DataLocal.Slide[a].ArrAnswer=o;break;case 23:(s=document.getElementById(e.id)).style.pointerEvents="none";var C=s.getElementsByClassName("fbl-answer-list");for(o=[],n=0;n<C.length;n++){var T={source:C[n].id,target:null};(v=QuestionMobile.GetClassNameContains(C[n].classList,"select-option"))&&(T.target=v.replace("select-option","")),o.push(T)}a=DOC.slds.indexOf(glrs.crsl.Data);glhp.DataLocal.Slide[a].ArrAnswer=o}}},swfb:function(e,t){QuestionMobile.DisableSubmitButton();var i="",a="",r="";switch(e){case"invalid":switch(DOC.Lang.toUpperCase()){case"EN-US":i="Invalid",a="OK",r="You must complete the question before submiting!";break;case"TH-TH":i="ไม่ถูกต้อง",a="ตกลง",r="คุณต้องตอบคําถามให้เสร็จก่อนส่งคําตอบ!";break;case"VI-VN":i="Không hợp lệ",a="Đồng ý",r="Bạn phải hoàn thành câu hỏi trước khi nộp bài!";break;default:i="Invalid",a="OK",r="You must complete the question before submiting!"}break;case"correct":switch(DOC.Lang.toUpperCase()){case"EN-US":i="Correct",a="Continue";break;case"TH-TH":i="ถูกต้อง",a="ต่อไป";break;case"VI-VN":i="Chính xác",a="Tiếp tục"}break;case"incorrect":switch(DOC.Lang.toUpperCase()){case"EN-US":i="Incorrect",a="Continue";break;case"TH-TH":i="ไม่ถูกต้อง",a="ต่อไป";break;case"VI-VN":i="Không chính xác",a="Tiếp tục"}break;case"thankyou":switch(DOC.Lang.toUpperCase()){case"EN-US":i="Thank you",a="Continue";break;case"TH-TH":i="ขอบคุณ",a="ต่อไป";break;case"VI-VN":i="Cảm ơn",a="Tiếp tục"}break;case"tryagain":switch(DOC.Lang.toUpperCase()){case"EN-US":i="Try again",a="OK";break;case"TH-TH":i="ลองใหม่อีกครั้ง",a="ตกลง";break;case"VI-VN":i="Thử lại",a="Đồng ý"}break;case"timelimit":glhp.DataLocal.iT=1,glhp.dscx(),glhp.disableSubmit(),glhp.DataLocal.CurrentTime=null;var s=document.getElementById("time");s&&s.parentNode.removeChild(s);var n=document.getElementById("timemb");switch(s&&n.parentNode.removeChild(n),DOC.Lang.toUpperCase()){case"EN-US":i="Timelimit",a="OK",r="You have riched the time limit set for the quiz.";break;case"TH-TH":i="เวลาหมดเวลา",a="ตกลง",r="คุณได้ใช้เวลาที่กําหนดสําหรับแบบทดสอบเสร็จสิ้นแล้ว";break;case"VI-VN":i="Hết thời gian",a="Đồng ý",r="Bạn đã hết thời gian giới hạn cho bài kiểm tra."}}var l=glhp.crgs("div","fb-layer","fb-layer"),o=glhp.crgs("div","","fb-container"),h=glhp.crgs("div","","fb-title"),d=glhp.crgs("div","","fb-content");d.style.padding="10px 10px";var c=glhp.crgs("div","","fb-direct");l.appendChild(o),o.appendChild(h),o.appendChild(d),o.appendChild(c);var p=glhp.crgs("div","","icon-area");switch(e){case"correct":case"incorrect":case"thankyou":var u=glhp.crgs("svg");u.setAttribute("width",20),u.setAttribute("height",20),u.setAttribute("viewBox","0,0,20,20");var m=glhp.crgs("g"),b=glhp.crgs("path");b.setAttribute("d","M20,10A10,10,0,1,0,10,20,10,10,0,0,0,20,10ZM2,10a8,8,0,1,1,8,8A8,8,0,0,1,2,10Z"),b.setAttribute("fill","white");var f=glhp.crgs("path");"incorrect"==e?(f.setAttribute("d","M14.24,5.76a1,1,0,0,0-1.41,0L10,8.59,7.17,5.76A1,1,0,0,0,5.76,7.17L8.59,10,5.76,12.83a1,1,0,0,0,1.41,1.41L10,11.41l2.83,2.83a1,1,0,0,0,1.41-1.41L11.41,10l2.83-2.83A1,1,0,0,0,14.24,5.76Z"),h.style.background="rgba(220, 90, 76, 1)"):(f.setAttribute("d","M13.47,6.46,8.53,11.6,7.11,10.13a1,1,0,0,0-1.44,1.39l2.87,3,6.37-6.63a1,1,0,0,0-1.44-1.39Z"),h.style.background="rgba(124, 186, 17, 1)"),f.setAttribute("fill","white"),m.appendChild(b),m.appendChild(f),u.appendChild(m),p.appendChild(u);break;case"invalid":case"timelimit":case"tryagain":h.style.background="rgba(117, 189, 167, 1)";var g=glhp.crgs("svg"),w=glhp.crgs("path"),y=glhp.crgs("g");w.setAttribute("d","M467.819,431.851l-36.651-61.056c-16.896-28.181-25.835-60.437-25.835-93.312V224    c0-82.325-67.008-149.333-149.333-149.333S106.667,141.675,106.667,224v53.483c0,32.875-8.939,65.131-25.835,93.312    l-36.651,61.056c-1.984,3.285-2.027,7.403-0.149,10.731c1.899,3.349,5.461,5.419,9.301,5.419h405.333    c3.84,0,7.403-2.069,9.301-5.419C469.845,439.253,469.803,435.136,467.819,431.851z M72.171,426.667l26.944-44.907    C118.016,350.272,128,314.219,128,277.483V224c0-70.592,57.408-128,128-128s128,57.408,128,128v53.483    c0,36.736,9.984,72.789,28.864,104.277l26.965,44.907H72.171z"),w.setAttribute("fill","#fff");var v=glhp.crgs("g"),C=glhp.crgs("path");C.setAttribute("d","M256,0c-23.531,0-42.667,19.136-42.667,42.667v42.667C213.333,91.221,218.112,96,224,96s10.667-4.779,10.667-10.667    V42.667c0-11.776,9.557-21.333,21.333-21.333s21.333,9.557,21.333,21.333v42.667C277.333,91.221,282.112,96,288,96    s10.667-4.779,10.667-10.667V42.667C298.667,19.136,279.531,0,256,0z"),C.setAttribute("fill","#fff");var T=glhp.crgs("g"),S=glhp.crgs("path");S.setAttribute("d","M302.165,431.936c-3.008-5.077-9.515-6.741-14.613-3.819c-5.099,2.987-6.805,9.536-3.819,14.613    c2.773,4.715,4.288,10.368,4.288,15.936c0,17.643-14.357,32-32,32c-17.643,0-32-14.357-32-32c0-5.568,1.515-11.221,4.288-15.936    c2.965-5.099,1.259-11.627-3.819-14.613c-5.141-2.923-11.627-1.259-14.613,3.819c-4.715,8.064-7.211,17.301-7.211,26.731    C202.667,488.085,226.581,512,256,512s53.333-23.915,53.376-53.333C309.376,449.237,306.88,440,302.165,431.936z"),S.setAttribute("fill","#fff"),y.appendChild(w),g.appendChild(y),v.appendChild(C),g.appendChild(v),T.appendChild(S),g.appendChild(T),p.appendChild(g),g.setAttribute("viewBox","0,0,500,500"),g.setAttribute("width","20"),g.setAttribute("height","20")}var x=glhp.crgs("div","","text");x.innerHTML=i,h.appendChild(p),h.appendChild(x);var A=glrs.crsl.Data;switch(e){case"correct":for(var M=null,G=0;G<A.lts.length;G++)if("Correct"==A.lts[G].lT){M=A.lts[G];break}if(null!=M){if(R=QuestionMobile.GetDataForType(M.e,"Text"))(H=QuestionMobile.GetQuestionMobile(R)).style.fontSize="15px !important",d.appendChild(H);if(null!=(F=QuestionMobile.GetDataForType(M.e,"Audio"))){var D=QuestionMobile.CreateAudio(F);d.appendChild(D)}}break;case"incorrect":for(var L=null,k=0;k<A.lts.length;k++)if("Incorrect"==A.lts[k].lT){L=A.lts[k];break}if(null!=L){if(R=QuestionMobile.GetDataForType(L.e,"Text"))(H=QuestionMobile.GetQuestionMobile(R)).style.fontSize="15px !important",d.appendChild(H),d.appendChild(H);if(null!=(F=QuestionMobile.GetDataForType(L.e,"Audio"))){D=QuestionMobile.CreateAudio(F);d.appendChild(D)}}break;case"thankyou":for(var O=null,E=0;E<A.lts.length;E++)if("Incorrect"==A.lts[E].lT){O=A.lts[E];break}if(null!=O){if(R=QuestionMobile.GetDataForType(O.e,"Text")){var H=QuestionMobile.GetQuestionMobile(R);d.appendChild(H),H.style.fontSize="15px !important",d.appendChild(H)}if(null!=(F=QuestionMobile.GetDataForType(O.e,"Audio"))){D=QuestionMobile.CreateAudio(F);d.appendChild(D)}}break;case"tryagain":for(var I=null,P=0;P<A.lts.length;P++)if("Incorrect"==A.lts[P].lT){I=A.lts[P];break}if(null!=I){var R,F;if(R=QuestionMobile.GetDataForType(I.e,"Text"))(H=QuestionMobile.GetQuestionMobile(R)).style.fontSize="    font-size: 15px !important",d.appendChild(H),d.appendChild(H);if(null!=(F=QuestionMobile.GetDataForType(I.e,"Audio"))){D=QuestionMobile.GetQuestionMobile(F);d.appendChild(D)}}break;case"invalid":case"timelimit":var B=glhp.crgs("span");B.innerHTML=r,d.appendChild(B)}var N=glhp.crgs("div","","direct-button");c.appendChild(N),N.innerHTML=a,setTimeout((function(){QuestionMobile.DirectionalFeedback(e,t)}),1);var z=document.getElementById("mobilewrapper");if(z&&(l.innerHTML=l.innerHTML,z.appendChild(l)),glhp.isQuestionTrig){var Q=document.getElementById("myModal");Q&&(l.innerHTML=l.innerHTML,Q.appendChild(l))}QuestionMobile.StopAudio(),QuestionMobile.PlayAudio("feedback")},DirectionalFeedback:function(e,t){var i=e,a=t;$(".direct-button").click((function(){switch(i){case"correct":case"incorrect":case"thankyou":(e=qzm.FindParent(this,"fb-layer"))&&e.parentNode.removeChild(e),glhp.nextSlide();break;case"invalid":case"tryagain":(e=qzm.FindParent(this,"fb-layer"))&&e.parentNode.removeChild(e),QuestionMobile.EnableSubmitButton();break;case"timelimit":var e;(e=qzm.FindParent(this,"fb-layer"))&&e.parentNode.removeChild(e),glhp.escrs(),glhp.enableSubmit(),glhp.clearNotifi(),glhp.jtsix(a)}}))},GetAnswersFromId:function(e,t){for(var i=0;i<e.length;i++)if(e[i].id==t)return e[i]},GetIndexAnswer:function(e,t){for(var i=0;i<e.length;i++)if(e[i]==t)return i},SequenceSort:function(e){$("#"+e+"up").click((function(e){var t=document.getElementById(this.id.replace("up",""));if(t){var i=t.getElementsByClassName("answer-item"),a=t.getElementsByClassName("selected-item")[0],r=QuestionMobile.GetIndexAnswer(i,a);if(r<1)return;var s=i[r-1];t.removeChild(a),t.insertBefore(a,s),1==r&&(this.style.opacity=.5,this.style.pointerEvents="none")}})),$("#"+e+"down").click((function(){var e=document.getElementById(this.id.replace("down",""));if(e){var t=e.getElementsByClassName("answer-item"),i=e.getElementsByClassName("selected-item")[0],a=QuestionMobile.GetIndexAnswer(t,i);if(a>t.length-2)return;var r=t[a+1];e.removeChild(i),e.insertBefore(i,r.nextSibling),a==t.length-2&&(this.style.opacity=.5,this.style.pointerEvents="none")}}))},DropDownSelected:function(e){var t=e;$(".popup-answer-item").click((function(){var e=qzm.FindParent(this,"popup-layer");if(e){e.parentNode.removeChild(e),QuestionMobile.EnableSubmitButton();var i=document.getElementById(t.id);if(i){var a=i.getElementsByClassName("selected-item")[0];if(a){if(a.classList.contains(this.id))return;var r=a.getElementsByClassName("text-content")[0],s=this.getElementsByClassName("text-mobile")[0];if(r&&s){for(;r.firstChild;)r.removeChild(r.firstChild);r.appendChild(s)}for(var n=i.getElementsByClassName("active-item"),l=0;l<n.length;l++){var o=n[l];if(o.classList.contains(this.id))if(o.classList.remove(this.id),o.classList.remove("active-item"),r=o.getElementsByClassName("text-content")[0]){var h="";switch(DOC.Lang.toUpperCase()){case"EN-US":h="-Select-";break;case"TH-TH":h="-เลือก-";break;case"VI-VN":h="-Lựa chọn-";break;default:h="-Select-"}r.innerHTML=h}}if(a.classList.contains("active-item")){for(l=0;l<a.classList.length;l++)a.classList[l].includes("-popup-answer")&&a.classList.remove(a.classList[l]);a.classList.add(this.id)}else a.classList.add("active-item"),a.classList.add(this.id)}}MobileVisibility()}}))},ShowSequenceDropLayer:function(e){var t=e;$(".answer-item").mouseup((function(e){e.stopPropagation();var i="",a="";switch(DOC.Lang.toUpperCase()){case"EN-US":i="Select ansewer",a="CANCEL";break;case"TH-TH":i="เลือกคําตอบ",a="ยกเลิก";break;case"VI-VN":i="Lựa chọn đáp án",a="HỦY"}var r=this.parentNode;if(r){var s=r.getElementsByClassName("selected-item");if(s.length>0)for(var n=0;n<s.length;n++)s[n].classList.remove("selected-item")}this.classList.contains("selected-item"),this.classList.add("selected-item"),QuestionMobile.EnableSubmitButton();var l,o,h=glhp.crgs("div","","popup-layer"),d=glhp.crgs("div","","popup-border"),c=glhp.crgs("div","","popup-container");document.body.offsetHeight<490?((l=glhp.crgs("div","","titleMb")).innerHTML=i,(o=glhp.crgs("div","","cancelMb")).innerHTML=a):((l=glhp.crgs("div","","title")).innerHTML=i,(o=glhp.crgs("div","","cancel")).innerHTML=a);var p=glhp.crgs("div","","answers-popup");c.appendChild(l),c.appendChild(o),c.appendChild(p),h.appendChild(d),d.appendChild(c);var u=DOC.slds.indexOf(glrs.crsl.Data);if(t){for(var m=0;m<t.as.length;m++){var b=QuestionMobile.GetAnswersFromId(t.as,glhp.DataLocal.Slide[u].Answers[m].Id),f=glhp.crgs("div","saperator","saperator");f.style="left: 12px;right: 12px;height: 1px;content: '';position: absolute;background: #E0E0E0;",p.appendChild(f);var g=glhp.crgs("div",b.id+"-popup-answer","popup-answer-item"),w=glhp.crgs("div"),y=glhp.crgs("div");g.appendChild(w),g.appendChild(y),p.appendChild(g);var v=QuestionMobile.GetQuestionMobile(b.ct);w.appendChild(v);var C=document.getElementById(t.id);if(C)for(var T=C.getElementsByClassName("answer-item"),S=0;S<T.length;S++)if(T[S].classList.contains(b.id+"-popup-answer")){var x=glhp.crgs("div","","pair-icon"),A=glhp.crgs("svg");A.setAttribute("viewBox","0 0 10 20.06");var M=glhp.crgs("path");M.setAttribute("d","M5,20a5,5,0,0,1-5-5V11H1.9v4a3.1,3.1,0,1,0,6.2,0V11H10v4A5,5,0,0,1,5,20ZM6,6v8a1,1,0,0,1-2,0V6A1,1,0,0,1,6,6ZM8.1,5A3.1,3.1,0,0,0,1.9,5V9H0V5A5,5,0,0,1,10,5V9H8.1Z"),M.setAttribute("fill","#c9d5dd"),x.appendChild(A),A.appendChild(M),g.appendChild(x);break}}setTimeout((function(){QuestionMobile.DropDownSelected(t)}),1)}var G=document.getElementById("wrapper");G&&G.appendChild(h),QuestionMobile.CalEquation(p),o.onclick=function(e){var t=qzm.FindParent(this,"popup-layer");t&&t.parentNode.removeChild(t)}}))},ShowMatchinglayer:function(e){var t=e;$(".matching-answer").click((function(){var e="",i="";switch(DOC.Lang.toUpperCase()){case"EN-US":e="Select ansewer",i="CANCEL";break;case"TH-TH":e="เลือกคําตอบ",i="ยกเลิก";break;case"VI-VN":e="Lựa chọn đáp án",i="HỦY"}var a=this.parentNode;if(a){var r=a.getElementsByClassName("selected-item");if(r.length>0)for(var s=0;s<r.length;s++)r[s].classList.remove("selected-item")}this.classList.add("selected-item"),QuestionMobile.DisableSubmitButton();var n,l,o=glhp.crgs("div","","popup-layer"),h=glhp.crgs("div","","popup-border"),d=glhp.crgs("div","","popup-container");document.body.offsetHeight<490?((n=glhp.crgs("div","","titleMb")).innerHTML=e,(l=glhp.crgs("div","","cancelMb")).innerHTML=i):((n=glhp.crgs("div","","title")).innerHTML=e,(l=glhp.crgs("div","","cancel")).innerHTML=i);var c=glhp.crgs("div","","answers-popup");if(d.appendChild(n),d.appendChild(l),d.appendChild(c),o.appendChild(h),h.appendChild(d),t){for(var p=DOC.slds.indexOf(glrs.crsl.Data),u=0;u<glhp.DataLocal.Slide[p].Answers.length;u++){var m=QuestionMobile.GetAnswersFromId(t.as,glhp.DataLocal.Slide[p].Apair[u].Id);(M=glhp.crgs("div","saperator","saperator")).style="left: 12px;right: 12px;height: 1px;content: '';position: absolute;background: #E0E0E0;",c.appendChild(M);var b=glhp.crgs("div",m.id+"-popup-answer","popup-answer-item");if(b.style="overflow: hidden;padding: 16px 40px 16px 37px;display: flex;",null!=m.mim){var f=glhp.crgs("div","image"+m.id,"image");f.style="background-size: cover;width:"+m.mim.w+"px;height: "+m.mim.h+"px; margin: auto; margin-right: 10px;";var g="./"+m.mim.s.replace("\\","/");g=g.replace("\\","/"),f.style.backgroundImage="url("+g+")",b.appendChild(f)}var w=glhp.crgs("div");w.style="flex: 1;",b.appendChild(w),c.appendChild(b);var y=null;switch(glrs.crsl.Data.tq){case 6:y=QuestionMobile.GetQuestionMobile(m.MatchText);break;case 7:y=QuestionMobile.GetQuestionMobile(m.cbT)}w.appendChild(y);var v=document.getElementById(t.id);if(v)for(var C=v.getElementsByClassName("answer-item"),T=0;T<C.length;T++)if(C[T].classList.contains(m.id+"-popup-answer")){var S=glhp.crgs("div","","pair-icon"),x=glhp.crgs("svg");x.setAttribute("viewBox","0 0 10 20.06");var A=glhp.crgs("path");A.setAttribute("d","M5,20a5,5,0,0,1-5-5V11H1.9v4a3.1,3.1,0,1,0,6.2,0V11H10v4A5,5,0,0,1,5,20ZM6,6v8a1,1,0,0,1-2,0V6A1,1,0,0,1,6,6ZM8.1,5A3.1,3.1,0,0,0,1.9,5V9H0V5A5,5,0,0,1,10,5V9H8.1Z"),A.setAttribute("fill","#c9d5dd"),S.appendChild(x),x.appendChild(A),b.appendChild(S);break}}var M;(M=glhp.crgs("div","saperator","saperator")).style="left: 12px;right: 12px;height: 1px;content: '';position: absolute;background: #E0E0E0;",c.appendChild(M)}var G=document.getElementById("wrapper");G&&G.appendChild(o),l.onclick=function(e){var t=qzm.FindParent(this,"popup-layer");t&&t.parentNode.removeChild(t)},QuestionMobile.CalEquation(c),setTimeout((function(){QuestionMobile.MatchingSelected(t)}),1),MobileVisibility()}))},ShowDragwordlayer:function(e,t){var i=e,a=t;$(".dragword-item").click((function(){var e="",t="";switch(DOC.Lang.toUpperCase()){case"EN-US":e="Select ansewer",t="CANCEL";break;case"TH-TH":e="เลือกคําตอบ",t="ยกเลิก";break;case"VI-VN":e="Lựa chọn đáp án",t="HỦY";break;default:e="Select ansewer",t="CANCEL"}QuestionMobile.EnableSubmitButton();var r,s,n=glhp.crgs("div","","popup-layer"),l=glhp.crgs("div","","popup-border"),o=glhp.crgs("div","","popup-container");document.body.offsetHeight<490?((r=glhp.crgs("div","","titleMb")).innerHTML=e,(s=glhp.crgs("div","","cancelMb")).innerHTML=t):((r=glhp.crgs("div","","title")).innerHTML=e,(s=glhp.crgs("div","","cancel")).innerHTML=t);var h=glhp.crgs("div","","answers-popup");if(o.appendChild(r),o.appendChild(s),o.appendChild(h),n.appendChild(l),l.appendChild(o),i&&a){for(var d=0;d<a.ds.length;d++){var c=a.ds[d];(S=glhp.crgs("div","saperator","saperator")).style="left: 12px;right: 12px;height: 1px;content: '';position: absolute;background: #E0E0E0;",h.appendChild(S);var p=glhp.crgs("div",c.id,"popup-answer-item");p.style="overflow: hidden;padding: 16px 40px 16px 37px;";var u=glhp.crgs("div");p.appendChild(u),h.appendChild(p);var m=glhp.crgs("div");m.style="min-height:22px;";var b=glhp.crgs("p"),f=glhp.crgs("span","","text-content");b.style="margin: 0px;",document.body.offsetHeight<490?f.style="font-size:11px;":f.style="font-size:15px;",f.innerHTML=c.txt,b.appendChild(f),m.appendChild(b),u.appendChild(m);var g=document.getElementById(i.id);if(g)for(var w=g.getElementsByClassName("dragword-item"),y=0;y<w.length;y++)if(w[y].classList.contains("active"+c.id)){var v=glhp.crgs("div","","pair-icon"),C=glhp.crgs("svg");C.setAttribute("viewBox","0 0 10 20.06");var T=glhp.crgs("path");T.setAttribute("d","M5,20a5,5,0,0,1-5-5V11H1.9v4a3.1,3.1,0,1,0,6.2,0V11H10v4A5,5,0,0,1,5,20ZM6,6v8a1,1,0,0,1-2,0V6A1,1,0,0,1,6,6ZM8.1,5A3.1,3.1,0,0,0,1.9,5V9H0V5A5,5,0,0,1,10,5V9H8.1Z"),T.setAttribute("fill","#c9d5dd"),v.appendChild(C),C.appendChild(T),p.appendChild(v);break}}var S;(S=glhp.crgs("div","saperator","saperator")).style="left: 12px;right: 12px;height: 1px;content: '';position: absolute;background: #E0E0E0;",h.appendChild(S);var x=this;setTimeout((function(){QuestionMobile.DragwordSelected(i,x.id)}),1)}var A=document.getElementById("wrapper");A&&A.appendChild(n),s.onclick=function(e){var t=qzm.FindParent(this,"popup-layer");t&&t.parentNode.removeChild(t)}}))},ShowSelectlistlayer:function(e){var t=e;$(".selectlist-item").click((function(){var e="",i="";switch(DOC.Lang.toUpperCase()){case"EN-US":e="Select ansewer",i="CANCEL";break;case"TH-TH":e="เลือกคําตอบ",i="ยกเลิก";break;case"VI-VN":e="Lựa chọn đáp án",i="HỦY"}QuestionMobile.EnableSubmitButton();var a=glhp.crgs("div","","popup-layer"),r=glhp.crgs("div","","popup-border"),s=glhp.crgs("div","","popup-container"),n=glhp.crgs("div","","title");n.innerHTML=e;var l=glhp.crgs("div","","cancel");l.innerHTML=i;var o=glhp.crgs("div","","answers-popup");if(s.appendChild(n),s.appendChild(l),s.appendChild(o),a.appendChild(r),r.appendChild(s),t){for(var h=QuestionMobile.GetBlankFromId(t.txt.pr,this.id),d=0;d<h.as.length;d++){var c=h.as[d];(v=glhp.crgs("div","saperator","saperator")).style="left: 12px;right: 12px;height: 1px;content: '';position: absolute;background: #E0E0E0;",o.appendChild(v);var p=glhp.crgs("div","selectitem"+d,"popup-answer-item");p.style="overflow: hidden;padding: 16px 40px 16px 37px;";var u=glhp.crgs("div");p.appendChild(u),o.appendChild(p);var m=glhp.crgs("div");m.style="min-height:22px;";var b=glhp.crgs("p"),f=glhp.crgs("span","","text-content");if(b.style="margin: 0px;",f.style="font-size:15px;",f.innerHTML=c.txt,b.appendChild(f),m.appendChild(b),u.appendChild(m),this.classList.contains("activeselectitem"+d)){var g=glhp.crgs("div","","pair-icon"),w=glhp.crgs("svg");w.setAttribute("viewBox","0 0 10 20.06");var y=glhp.crgs("path");y.setAttribute("d","M5,20a5,5,0,0,1-5-5V11H1.9v4a3.1,3.1,0,1,0,6.2,0V11H10v4A5,5,0,0,1,5,20ZM6,6v8a1,1,0,0,1-2,0V6A1,1,0,0,1,6,6ZM8.1,5A3.1,3.1,0,0,0,1.9,5V9H0V5A5,5,0,0,1,10,5V9H8.1Z"),y.setAttribute("fill","#c9d5dd"),g.appendChild(w),w.appendChild(y),p.appendChild(g)}}var v;(v=glhp.crgs("div","saperator","saperator")).style="left: 12px;right: 12px;height: 1px;content: '';position: absolute;background: #E0E0E0;",o.appendChild(v);var C=this;setTimeout((function(){QuestionMobile.SelectedList(t,C.id)}),1)}var T=document.getElementById("mobilewrapper");T&&T.appendChild(a),l.onclick=function(e){var t=qzm.FindParent(this,"popup-layer");t&&t.parentNode.removeChild(t)}}))},MatchingSelected:function(e){var t=e;$(".popup-answer-item").click((function(){var e=qzm.FindParent(this,"popup-layer");if(e){e.parentNode.removeChild(e),QuestionMobile.EnableSubmitButton();var i=document.getElementById(t.id);if(i){var a=i.getElementsByClassName("selected-item")[0];if(a){if(a.classList.contains(this.id))return;var r=document.getElementById("right-match"+a.id),s=r.getElementsByClassName("text-content")[0],n=this.getElementsByClassName("text-mobile")[0];if(s&&n){for(;s.firstChild;)s.removeChild(s.firstChild);s.appendChild(n)}var l=this.getElementsByClassName("image")[0];if(l){var o=r.getElementsByClassName("image")[0];o&&(o.style.backgroundImage=l.style.backgroundImage,o.style.display="block",o.style.width=l.style.width,o.style.height=l.style.height)}for(var h=i.getElementsByClassName("active-item"),d=0;d<h.length;d++){var c=h[d];if(c.classList.contains(this.id)){if(c.classList.remove(this.id),c.classList.remove("active-item"),s=document.getElementById("right-match"+c.id).getElementsByClassName("text-content")[0]){var p="";switch(DOC.Lang.toUpperCase()){case"EN-US":p="-Select-";break;case"TH-TH":p="-เลือก-";break;case"VI-VN":p="-Lựa chọn-";break;default:p="-Select-"}s.innerHTML=p}break}}a.classList.contains("active-item")?(a.className="answer-item",a.classList.add("active-item"),a.classList.add(this.id)):(a.classList.add("active-item"),a.classList.add(this.id))}}}}))},LikertSelected:function(){$(".scale-item").click((function(){for(var e=this.parentNode.getElementsByClassName("selected-item"),t=0;t<e.length;t++)e[t].classList.remove("selected-item");this.classList.contains("selected-item")||this.classList.add("selected-item"),MobileVisibility()}))},SelectedOneItem:function(){$(".answer-item").mouseup((function(e){e.stopPropagation();var t=this.parentNode;if(t){var i=t.getElementsByClassName("selected-item");if(i.length>0)for(var a=0;a<i.length;a++)i[a].className="answer-item"}this.classList.contains("selected-item"),this.classList.add("selected-item")}))},SelectedMultiItem:function(){$(".answer-item").mouseup((function(e){e.stopPropagation(),this.classList.contains("selected-item")?this.className="answer-item":this.classList.add("selected-item")}))},GetClassNameContains:function(e,t){for(var i=0;i<e.length;i++)if(e[i].includes(t)&&e[i]!=t)return e[i]},DragwordSelected:function(e,t){var i=e,a=t;$(".popup-answer-item").click((function(){var e=qzm.FindParent(this,"popup-layer");if(e){e.parentNode.removeChild(e);var t=document.getElementById(a),r=document.getElementById("content"+a);if(t){if(t.classList.contains("active"+this.id))return;t.className="dragword-item",t.classList.add("active"+this.id,"active-item");var s=this.getElementsByClassName("text-content")[0],n=t.getElementsByClassName("text-content")[0];if(n&&s){n.innerHTML=s.innerHTML;QuestionMobile.GetTextWidth(n.innerHTML,"11px Arial");r&&(r.style.width=t.clientWidth-20+"px")}for(var l=document.getElementById(i.id).getElementsByClassName("dragword-item"),o=0;o<l.length;o++)if(l[o]!=t&&l[o].classList.contains("active"+this.id)){l[o].className="dragword-item",l[o].classList.add("lablel");var h=l[o].getElementsByClassName("text-content")[0],d="";switch(DOC.Lang.toUpperCase()){case"EN-US":d="-Select-";break;case"TH-TH":d="-เลือก-";break;case"VI-VN":d="-Lựa chọn-";break;default:d="-Select-"}h.innerHTML=d;QuestionMobile.GetTextWidth(h.innerHTML,"11px Arial");break}}MobileVisibility()}}))},GetBlankFromId:function(e,t){for(var i=0;i<e.length;i++)for(var a=0;a<e[i].inls.length;a++)if("Blank"==e[i].inls[a].tm&&e[i].inls[a].id==t)return e[i].inls[a]},SelectedList:function(e,t){var i=t;$(".popup-answer-item").click((function(){var e=qzm.FindParent(this,"popup-layer");if(e){e.parentNode.removeChild(e);var t=document.getElementById(i);if(t){if(t.classList.contains("active"+this.id))return;t.className="selectlist-item",t.classList.add("active"+this.id,"active-item");var a=this.getElementsByClassName("text-content")[0],r=t.getElementsByClassName("text-content")[0];if(r&&a){r.innerHTML=a.innerHTML;var s=QuestionMobile.GetTextWidth(r.innerHTML,"16px Arial")+30;t.style.width=s+"px"}}}}))},CalEquation:function(e){for(var t=e.getElementsByClassName("text-mobile"),i=0;i<t.length;i++)for(var a=t[i].getElementsByTagName("svg"),r=0;r<a.length;r++){var s=a[r].childNodes[0],n=s.getBoundingClientRect(),l=s.parentNode,o=l.id.split("l"),h=parseFloat(o[1]),d=l.getBoundingClientRect();s.style="transform: scale("+h+","+h+") translate("+(d.left-n.left)/h+"px,"+(d.top-n.top)/h+"px)",l.style.width=n.width+2+"px",l.style.height=n.height+"px"}},lskyy:function(e){for(var t=0,i=0;i<DOC.slds.length;i++)for(var a=0;a<e.q.length;a++)if(DOC.slds[i].id==e.q[a])for(var r=0;r<DOC.slds[i].lts.length;r++)if(!DOC.slds[i].lts[r].iM&&"Correct"==DOC.slds[i].lts[r].lT){t+=DOC.slds[i].lts[r].sC;break}return 0==t&&(t=10),parseFloat(t)},vvss:function(e){for(var t=0,i=0;i<DOC.slds.length;i++)if("QuestionSlide"===DOC.slds[i].slt)for(var a=0;a<e.q.length;a++)if(DOC.slds[i].id==e.q[a]){var r=glhp.DataLocal.Slide[i].p;null!=r&&(t+=parseFloat(r))}return t},ReviewResult:function(e,t){var i=e;$(".review-button").click((function(){qzm.ReviewResults(i,!0)}))},CreateSequenceDirect:function(e){if(!document.getElementById(e+"direct")){var t=glhp.crgs("div",e+"direct","sequence-direct");t.style="height: 113px;transform-origin: 100% 0px;position: fixed;top: 0;bottom: 0;margin: auto;right: 7px;width: 40px;border-radius: 20px;z-index: 10;background-color: rgba(61, 160, 225, 0.7);box-shadow: 0 1px 5px 0 rgba(0, 0, 0, 0.2);display:none;";var i=glhp.crgs("div",e+"up","direct-up");i.style="background-repeat: no-repeat;background-position: center;position: relative;width: 100%;height: 56px;border: 0;";var a=glhp.crgs("div",e+"down","direct-down");a.style="background-repeat: no-repeat;background-position: center;position: relative;width: 100%;height: 56px;border: 0;",t.appendChild(i),t.appendChild(a);var r=glhp.crgs("svg","svgup","svgup");r.setAttribute("viewBox","0,0,400,400"),r.style="    width: 100%;position: absolute;height: 100%;top: 10px;";var s=glhp.crgs("path","pathUp","path-up");s.setAttribute("d","M73.092,164.452h255.813c4.949,0,9.233-1.807,12.848-5.424c3.613-3.616,5.427-7.898,5.427-12.847c0-4.949-1.813-9.229-5.427-12.85L213.846,5.424C210.232,1.812,205.951,0,200.999,0s-9.233,1.812-12.85,5.424L60.242,133.331c-3.617,3.617-5.424,7.901-5.424,12.85c0,4.948,1.807,9.231,5.424,12.847C63.863,162.645,68.144,164.452,73.092,164.452z"),s.setAttribute("fill","white"),r.appendChild(s),i.appendChild(r);var n=glhp.crgs("svg","svgdown","svgdown");n.setAttribute("viewBox","0,0,400,400");var l=glhp.crgs("path","pathdown","path-down");l.setAttribute("d","M328.905,237.549H73.092c-4.952,0-9.233,1.808-12.85,5.421c-3.617,3.617-5.424,7.898-5.424,12.847c0,4.949,1.807,9.233,5.424,12.848L188.149,396.57c3.621,3.617,7.902,5.428,12.85,5.428s9.233-1.811,12.847-5.428l127.907-127.906c3.613-3.614,5.427-7.898,5.427-12.848c0-4.948-1.813-9.229-5.427-12.847C338.139,239.353,333.854,237.549,328.905,237.549z"),l.setAttribute("fill","white"),n.appendChild(l),n.style="    width: 100%;position: absolute;height: 100%;bottom: 10px;",a.appendChild(n);var o=document.getElementById("wrapper");o&&o.appendChild(t),setTimeout((function(){QuestionMobile.SequenceSort(e)}),1)}},RemoveSequenceDirect:function(e){var t=document.getElementById(e+"direct");t&&t.parentNode.removeChild(t)},CreateReviewResultButton:function(){if(document.getElementById("rvbuttoncontainer"))return;var e=glhp.crgs("div","rvbuttoncontainer","rvbutton-container"),t=glhp.crgs("div","rv-previousbutton","review-button");t.style.right="50%",t.style.left="0px";var i=glhp.crgs("div","","icon-area"),a=glhp.crgs("div","","content");t.appendChild(i),t.appendChild(a),e.appendChild(t);var r=glhp.crgs("svg"),s=glhp.crgs("path");s.setAttribute("d","M27,54C12.112,54,0,41.888,0,27S12.112,0,27,0s27,12.112,27,27S41.888,54,27,54z M27,2    C13.215,2,2,13.215,2,27s11.215,25,25,25s25-11.215,25-25S40.785,2,27,2z"),s.style.fill="#fff";var n=glhp.crgs("path");n.setAttribute("d","M31.706,40c-0.256,0-0.512-0.098-0.707-0.293L19.501,28.209c-0.667-0.667-0.667-1.751,0-2.418   l11.498-11.498c0.391-0.391,1.023-0.391,1.414,0s0.391,1.023,0,1.414L21.12,27l11.293,11.293c0.391,0.391,0.391,1.023,0,1.414   C32.218,39.902,31.962,40,31.706,40z"),n.style.fill="#fff",r.appendChild(s),r.appendChild(n),r.setAttribute("viewBox","0,0,54,54"),r.style.width="20px",r.style.height="20px",i.appendChild(r);let l="NEXT",o="PREVIOUS";switch(DOC.Lang.toUpperCase()){case"EN-US":l="NEXT",o="PREVIOUS";break;case"TH-TH":l="ถัดไป",o="ก่อนหน้า";break;case"VI-VN":l="KẾ TIẾP",o="PHÍA TRƯỚC"}a.innerHTML=o,a.style.paddingLeft="10px";var h=glhp.crgs("div","rv-nextbutton","review-button");h.style.left="50%",h.style.right="7px",e.appendChild(h);var d=glhp.crgs("div","","icon-area"),c=glhp.crgs("div","","content");h.appendChild(c),h.appendChild(d);var p=glhp.crgs("svg"),u=glhp.crgs("path");u.setAttribute("d","M27,54C12.112,54,0,41.888,0,27S12.112,0,27,0s27,12.112,27,27S41.888,54,27,54z M27,2    C13.215,2,2,13.215,2,27s11.215,25,25,25s25-11.215,25-25S40.785,2,27,2z"),u.style.fill="#fff";var m=glhp.crgs("path");m.setAttribute("d","M22.294,40c-0.256,0-0.512-0.098-0.707-0.293c-0.391-0.391-0.391-1.023,0-1.414L32.88,27   L21.587,15.707c-0.391-0.391-0.391-1.023,0-1.414s1.023-0.391,1.414,0l11.498,11.498c0.667,0.667,0.667,1.751,0,2.418   L23.001,39.707C22.806,39.902,22.55,40,22.294,40z"),m.style.fill="#fff",p.appendChild(u),p.appendChild(m),p.setAttribute("viewBox","0,0,54,54"),p.style.width="20px",p.style.height="20px",d.appendChild(p),c.innerHTML=l,c.style.paddingRight="10px";var b=document.getElementById("controlPanel");if(b&&b.appendChild(e),glrs.CurrentResult){var f=glrs.CurrentResult,g=glrs.crsl.Data.id;0==(w=f.q.indexOf(g))&&(t.style.opacity=.5,t.style.pointerEvents="none"),w==f.q.length-1&&(h.style.opacity=.5,h.style.pointerEvents="none"),setTimeout((function(){QuestionMobile.DirectReviewResult(f.q)}),1)}else{var w;0==(w=DOC.slds.indexOf(glrs.crsl.Data))&&(t.style.opacity=.5,t.style.pointerEvents="none"),w==DOC.slds.length-1&&(h.style.opacity=.5,h.style.pointerEvents="none"),QuestionMobile.DirectReviewResult(null)}},DisableReviewResultButton:function(){var e=document.getElementById("rvbuttoncontainer");e&&(e.style.opacity=.3,e.style.pointerEvents="none")},EnableReviewResultButton:function(){var e=document.getElementById("rvbuttoncontainer");e&&(e.style.opacity=1,e.style.pointerEvents="all")},RemoveReviewResultButton:function(){var e=document.getElementById("rvbuttoncontainer");e&&e.parentNode.removeChild(e)},ShowResultReview:function(e){var t="";switch(DOC.Lang.toUpperCase()){case"EN-US":t=e?"Correct":"Incorrect";break;case"TH-TH":t=e?"ถูกต้อง":"ไม่ถูกต้อง";break;case"VI-VN":t=e?"Chính xác":"Không chính xác"}var i=glhp.crgs("div","","review-result-container"),a=glhp.crgs("div","","fb-title"),r=glhp.crgs("div","","icon-area");i.appendChild(a),i.appendChild(r);var s=glhp.crgs("svg");s.setAttribute("width",20),s.setAttribute("height",20),s.setAttribute("viewBox","0,0,20,20");var n=glhp.crgs("g"),l=glhp.crgs("path");l.setAttribute("d","M20,10A10,10,0,1,0,10,20,10,10,0,0,0,20,10ZM2,10a8,8,0,1,1,8,8A8,8,0,0,1,2,10Z"),l.setAttribute("fill","white");var o=glhp.crgs("path");e?(o.setAttribute("d","M13.47,6.46,8.53,11.6,7.11,10.13a1,1,0,0,0-1.44,1.39l2.87,3,6.37-6.63a1,1,0,0,0-1.44-1.39Z"),a.style.background="rgba(124, 186, 17, 1)"):(o.setAttribute("d","M14.24,5.76a1,1,0,0,0-1.41,0L10,8.59,7.17,5.76A1,1,0,0,0,5.76,7.17L8.59,10,5.76,12.83a1,1,0,0,0,1.41,1.41L10,11.41l2.83,2.83a1,1,0,0,0,1.41-1.41L11.41,10l2.83-2.83A1,1,0,0,0,14.24,5.76Z"),a.style.background="rgba(220, 90, 76, 1)"),o.setAttribute("fill","white"),n.appendChild(l),n.appendChild(o),s.appendChild(n),r.appendChild(s);var h=glhp.crgs("div","","text");h.innerHTML=t,a.appendChild(r),a.appendChild(h);var d=document.getElementById("wrapper");d&&d.appendChild(i),setTimeout((function(){QuestionMobile.HidenResultSatatus()}),1)},DirectReviewResult:function(e){if(null!==e){var t=e;$("#rv-previousbutton").click((function(){var e=t.indexOf(glrs.crsl.Data.id);0!=e&&glhp.jumToSlideID(t[e-1])})),$("#rv-nextbutton").click((function(){var e=t.indexOf(glrs.crsl.Data.id);e!=t.length-1&&glhp.jumToSlideID(t[e+1])}))}else $("#rv-previousbutton").click((function(){var e=DOC.slds.indexOf(glrs.crsl.Data);0!=e&&glhp.jumToSlideID(DOC.slds[e-1].id)})),$("#rv-nextbutton").click((function(){var e=DOC.slds.indexOf(glrs.crsl.Data);e!=DOC.slds.length-1&&glhp.jumToSlideID(DOC.slds[e+1].id)}))},HidenResultSatatus:function(){$(".review-result-container").click((function(){var e=null;let t=1;var i=this;e=setInterval((function(){t-=.05,i.style.opacity=t,t<0&&(i.style.display="none",clearInterval(e))}),1)}))},GetTextNumeric:function(e,t,i){var a;switch(e){case 0:a=Language.isEqualTo+" "+t;break;case 1:a=Language.between+" "+t+" "+Language.and+" "+i;break;case 2:a=Language.isGreaThan+" "+t;break;case 3:a=Language.greaterThanEqual+" "+t;break;case 4:a=Language.isLessThan+" "+t;break;case 5:a=Language.lessThanEqual+" "+t;break;case 6:a=Language.notEqual+" "+t;break;case 7:a=Language.notBetween+" "+t+" "+Language.and+" "+i}return a},CreateIconReview:function(){var e=glhp.crgs("div","icon-review","icon-area");e.style=" position: absolute;top: 7px;right: 5px;";var t=glhp.crgs("svg");e.appendChild(t);var i=glhp.crgs("g");t.appendChild(i);var a=glhp.crgs("path");a.style.fill="#EA5F4F",i.appendChild(a),a.setAttribute("d","M612,306C612,137.004,474.995,0,306,0C137.004,0,0,137.004,0,306c0,168.995,137.004,306,306,306    C474.995,612,612,474.995,612,306z M27.818,306C27.818,152.36,152.36,27.818,306,27.818S584.182,152.36,584.182,306    S459.64,584.182,306,584.182S27.818,459.64,27.818,306z");var r=glhp.crgs("path");r.style.fill="#EA5F4F",i.appendChild(r),r.setAttribute("d","M336.962,200.875c7.956,9.792,11.906,21.337,11.906,34.634c0,9.514-2.727,18.666-8.151,27.512    c-2.977,5.007-6.898,9.848-11.795,14.465l-16.301,16.107c-15.634,15.356-25.732,28.958-30.35,40.865    c-4.618,11.878-6.927,27.54-6.927,46.957h36.275c0-17.108,1.947-30.044,5.814-38.807c3.866-8.763,12.323-19.444,25.37-32.102    c17.942-17.387,29.849-30.572,35.746-39.53s8.874-20.641,8.874-35.051c0-23.756-8.039-43.285-24.146-58.585    c-16.106-15.3-37.526-22.922-64.288-22.922c-28.931,0-51.686,8.929-68.266,26.789s-24.87,41.449-24.87,70.797h36.275    c0.667-17.665,3.478-31.184,8.346-40.559c8.679-16.83,24.369-25.259,47.068-25.259    C315.875,186.187,329.033,191.083,336.962,200.875z");var s=glhp.crgs("rect");return s.style.fill="#EA5F4F",i.appendChild(s),s.setAttribute("x",274.51),s.setAttribute("y",274.51),s.setAttribute("width",40.559),s.setAttribute("height",42.367),s.style.fill="#EA5F4F",t.setAttribute("viewBox","0,0,612,612"),t.style.width="20px",t.style.height="20px",e},ShowResumLayer:function(e){var t="",i="",a="";switch(DOC.Lang.toUpperCase()){case"EN-US":t="Would you like to resume where you left off?",i="YES",a="NO";break;case"TH-TH":t="คุณต้องการดําเนินการต่อจากที่หยุดไว้หรือไม่?",i="ใช่",a="ไม่";break;case"VI-VN":t="Bạn có muốn tiếp tục ở lại trang vừa xem không?",i="CÓ",a="KHÔNG"}var r=glhp.crgs("div","resumewrapper","resume-wrapper"),s=glhp.crgs("div","resumecontainer","resume-container");r.appendChild(s);var n=glhp.crgs("div","","resume-content");s.appendChild(n),n.innerHTML=t;var l=glhp.crgs("div","","resume-direct");s.appendChild(l);var o=glhp.crgs("div","resumeaccept","resume-button");o.innerHTML=i;var h=glhp.crgs("div","resumecancel","resume-button");if(h.innerHTML=a,l.appendChild(h),l.appendChild(o),isMobile){s.classList.add("mobile");var d=document.querySelector("body");d&&d.appendChild(r)}else{var c=document.getElementById("mainContent");c&&c.appendChild(r)}setTimeout((function(){QuestionMobile.ResumeDirect(e)}),1)},ResumeDirect:function(e){ScormModule.SetValue(ScormEnum.Name.ScoreMin,e.min),ScormModule.SetValue(ScormEnum.Name.ScoreMax,e.max),ScormModule.SetValue(ScormEnum.Name.ScoreRaw,e.raw),ScormModule.SetValue(ScormEnum.Name.Status,e.status),glhp.IsScorm2004&&ScormModule.SetValue(ScormEnum.Name.CompletionStatus,e.complete),$("#resumeaccept").click((function(){""!==e.suspend_data&&(glhp.MergeDataLocal(JSON.parse(e.suspend_data)),glhp.IsScorm2004&&ScormModule.SetValue(ScormEnum.Name.ProgressMeasure,glhp.ProgressMeasure),ScormModule.Commit());var t=document.getElementById("resumewrapper");t&&t.parentNode.removeChild(t),qzm.IsFirtsSlide=!1,qzm.suuk=glhp.DataLocal.aSS,qzm.isClicked=!0,glhp.DataLocal.crsl>0&&glhp.jtsix(glhp.DataLocal.crsl),qzm.settz(!1)})),$("#resumecancel").click((function(){var e=document.getElementById("resumewrapper");e&&e.parentNode.removeChild(e),qzm.isClicked=!0,qzm.inwz(),glhp.ResetDataLocal(),qzm.IsFirtsSlide||qzm.settz(!0),ScormModule.Commit()}))},ShowAnswersReview:function(e,t){var i=e,a=t;$(".answer-input").click((function(){QuestionMobile.DisableReviewResultButton();var e="",t="",r="",s="";switch(DOC.Lang.toUpperCase()){case"EN-US":e="Result",t="Your answer",r="Correct answers",s="CANCEL";break;case"TH-TH":e="ผลลัพธ์",t="คำตอบของคุณ",r="คำตอบที่ถูกต้อง",s="ยกเลิก";break;case"VI-VN":e="Kết Quả",t="Đáp án của bạn",r="Đáp án đúng",s="THOÁT"}var n=glhp.crgs("div","","popup-layer"),l=glhp.crgs("div","","popup-border"),o=glhp.crgs("div","","popup-container"),h=glhp.crgs("div","","title");h.innerHTML=e;var d=glhp.crgs("div","","cancel");d.innerHTML=s;var c=glhp.crgs("div","","answers-popup");o.appendChild(h),o.appendChild(d),o.appendChild(c),n.appendChild(l),l.appendChild(o);var p=glhp.crgs("div","saperator","saperator");p.style="left: 12px;right: 12px;height: 1px;content: '';position: absolute;background: #E0E0E0;",o.appendChild(p);var u=glhp.crgs("div","","rv-item");u.innerHTML=t,u.style.color="#EA5F4F",u.style.fontWeight="500",o.appendChild(u);var m=glhp.crgs("div","","rv-item");m.innerHTML=a,o.appendChild(m);var b=glhp.crgs("div","saperator","saperator");b.style="left: 12px;right: 12px;height: 1px;content: '';position: absolute;background: #E0E0E0;",o.appendChild(b);var f=glhp.crgs("div","","rv-item");switch(f.innerHTML=r,f.style.color="#70C425",f.style.fontWeight="500",o.appendChild(f),glrs.crsl.Data.tq){case 4:for(var g=0;g<i.as.length;g++){var w=glhp.crgs("div","","rv-item");w.innerHTML="- "+i.as[g].txt,o.appendChild(w)}break;case 10:var y=glhp.crgs("div","","rv-item"),v="";switch(DOC.Lang.toUpperCase()){case"EN-US":v="answer correct if ",v+=1==i.NumericMode?"any":"all",v+="of the above true: ";break;case"TH-TH":v="ตอบถูกถ้า ",v+=1==i.NumericMode?"ใด ๆ":"ทั้งหมด",v+="ของจริงข้างต้น:";break;case"VI-VN":v="Câu trả lời đúng nếu ",v+=1==i.NumericMode?"bất kỳ ":"tất cả ",v+="các điều kiện sau: "}y.innerHTML=v,o.appendChild(y);for(var C=0;C<i.val.length;C++){var T=glhp.crgs("div","","rv-item");T.innerHTML="- "+QuestionMobile.GetTextNumeric(i.val[C].Cp,i.val[C].v1,i.val[C].v2),o.appendChild(T)}}var S=document.getElementById("wrapper");S&&S.appendChild(n),d.onclick=function(e){var t=qzm.FindParent(this,"popup-layer");t&&t.parentNode.removeChild(t),QuestionMobile.EnableReviewResultButton()}})),$(".answer-item").mouseup((function(e){e.stopPropagation(),QuestionMobile.DisableReviewResultButton();var t="",a="",r="",s="";switch(DOC.Lang.toUpperCase()){case"EN-US":t="Result",a="Your answer",r="Correct answers",s="CANCEL";break;case"TH-TH":t="ผลลัพธ์",a="คำตอบของคุณ",r="คำตอบที่ถูกต้อง",s="ยกเลิก";break;case"VI-VN":t="Kết Quả",a="Đáp án của bạn",r="Đáp án đúng",s="THOÁT"}var n=glhp.crgs("div","","popup-layer"),l=glhp.crgs("div","","popup-border"),o=glhp.crgs("div","","popup-container"),h=glhp.crgs("div","","title");h.innerHTML=t;var d=glhp.crgs("div","","cancel");d.innerHTML=s;var c=glhp.crgs("div","","answers-popup");o.appendChild(h),o.appendChild(d),o.appendChild(c),n.appendChild(l),l.appendChild(o);var p=glhp.crgs("div","saperator","saperator");p.style="left: 12px;right: 12px;height: 1px;content: '';position: absolute;background: #E0E0E0;",o.appendChild(p);var u=glhp.crgs("div","","rv-item");u.innerHTML=a,u.style.color="#EA5F4F",u.style.fontWeight="500",o.appendChild(u);var m=QuestionMobile.GetAnswersFromId(i.as,this.id),b=glhp.DataLocal.Slide[glhp.DataLocal.crsl].UserReply,f=glhp.DataLocal.Slide[glhp.DataLocal.crsl].Answers,g=glhp.crgs("div","","rv-item");if(null!=b){var w=null;let e=-1;for(let t=0;t<f.length;t++)if(f[t].Id==m.id){e=t;break}if(null!=b[e]&&""!=b[e]&&e>-1&&null!=(w=QuestionMobile.GetAnswersFromId(i.as,b[e]))){var y=QuestionMobile.Get;switch(glrs.crsl.Data.tq){case 6:y=QuestionMobile.GetQuestionMobile(w.MatchText);break;case 7:y=QuestionMobile.GetQuestionMobile(w.cbT)}y&&g.appendChild(y)}}if(null==w){y=QuestionMobile.GetQuestionMobile(null);var v=glhp.crgs("div"),C=glhp.crgs("span");C.innerHTML=".....",v.appendChild(C),y&&(y.appendChild(v),g.appendChild(y))}o.appendChild(g);var T=glhp.crgs("div","saperator","saperator");T.style="left: 12px;right: 12px;height: 1px;content: '';position: absolute;background: #E0E0E0;",o.appendChild(T);var S=glhp.crgs("div","","rv-item");S.innerHTML=r,S.style.color="#70C425",S.style.fontWeight="500",o.appendChild(S);var x=glhp.crgs("div","","rv-item");switch(glrs.crsl.Data.tq){case 6:var A=QuestionMobile.GetQuestionMobile(m.MatchText);break;case 7:A=QuestionMobile.GetQuestionMobile(m.cbT)}x&&x.appendChild(A),o.appendChild(x);var M=document.getElementById("wrapper");M&&M.appendChild(n),d.onclick=function(e){var t=qzm.FindParent(this,"popup-layer");t&&t.parentNode.removeChild(t),QuestionMobile.EnableReviewResultButton()},QuestionMobile.CalEquation(x)})),$(".fill-item-container").click((function(){QuestionMobile.DisableReviewResultButton();var e="",t="",a="",r="";switch(DOC.Lang.toUpperCase()){case"EN-US":e="Result",t="Your answer",a="Correct answers",r="CANCEL";break;case"TH-TH":e="ผลลัพธ์",t="คำตอบของคุณ",a="คำตอบที่ถูกต้อง",r="ยกเลิก";break;case"VI-VN":e="Kết Quả",t="Đáp án của bạn",a="Đáp án đúng",r="THOÁT"}var s=glhp.crgs("div","","popup-layer"),n=glhp.crgs("div","","popup-border"),l=glhp.crgs("div","","popup-container"),o=glhp.crgs("div","","title");o.innerHTML=e;var h=glhp.crgs("div","","cancel");h.innerHTML=r;var d=glhp.crgs("div","","answers-popup");l.appendChild(o),l.appendChild(h),l.appendChild(d),s.appendChild(n),n.appendChild(l);var c=glhp.crgs("div","saperator","saperator");c.style="left: 12px;right: 12px;height: 1px;content: '';position: absolute;background: #E0E0E0;",l.appendChild(c);var p=glhp.crgs("div","","rv-item");p.innerHTML=t,p.style.color="#EA5F4F",p.style.fontWeight="500",l.appendChild(p),glhp.crgs("div","","rv-item").innerHTML=this.value;var u=glhp.crgs("div","saperator","saperator");u.style="left: 12px;right: 12px;height: 1px;content: '';position: absolute;background: #E0E0E0;",l.appendChild(u);var m=glhp.crgs("div","","rv-item");m.innerHTML=a,m.style.color="#70C425",m.style.fontWeight="500",l.appendChild(m);for(var b=QuestionMobile.GetBlankFromId(i.txt.pr,this.id.replace("input_","")),f=0;f<b.as.length;f++){var g=glhp.crgs("div","","rv-item");g.innerHTML=b.as[f].txt,l.appendChild(g)}var w=document.getElementById("wrapper");w&&w.appendChild(s),h.onclick=function(e){var t=qzm.FindParent(this,"popup-layer");t&&t.parentNode.removeChild(t),QuestionMobile.EnableReviewResultButton()}})),$(".dragword-item").click((function(){QuestionMobile.DisableReviewResultButton();var e="",t="",a="",r="";switch(DOC.Lang.toUpperCase()){case"EN-US":e="Result",t="Your answer",a="Correct answers",r="CANCEL";break;case"TH-TH":e="ผลลัพธ์",t="คำตอบของคุณ",a="คำตอบที่ถูกต้อง",r="ยกเลิก";break;case"VI-VN":e="Kết Quả",t="Đáp án của bạn",a="Đáp án đúng",r="THOÁT"}var s=glhp.crgs("div","","popup-layer"),n=glhp.crgs("div","","popup-border"),l=glhp.crgs("div","","popup-container"),o=glhp.crgs("div","","title");o.innerHTML=e;var h=glhp.crgs("div","","cancel");h.innerHTML=r;var d=glhp.crgs("div","","answers-popup");l.appendChild(o),l.appendChild(h),l.appendChild(d),s.appendChild(n),n.appendChild(l);var c=glhp.crgs("div","saperator","saperator");c.style="left: 12px;right: 12px;height: 1px;content: '';position: absolute;background: #E0E0E0;",l.appendChild(c);var p=glhp.crgs("div","","rv-item");p.innerHTML=t,p.style.color="#EA5F4F",p.style.fontWeight="500",l.appendChild(p);var u=glhp.crgs("div","","rv-item");u.innerHTML=this.getElementsByClassName("text-content")[0].innerHTML,l.appendChild(u);var m=glhp.crgs("div","saperator","saperator");m.style="left: 12px;right: 12px;height: 1px;content: '';position: absolute;background: #E0E0E0;",l.appendChild(m);var b=glhp.crgs("div","","rv-item");b.innerHTML=a,b.style.color="#70C425",b.style.fontWeight="500",l.appendChild(b);var f=QuestionMobile.GetBlankFromId(i.txt.pr,this.id),g=glhp.crgs("div","","rv-item");g.innerHTML=f.tex,l.appendChild(g);var w=document.getElementById("wrapper");w&&w.appendChild(s),h.onclick=function(e){var t=qzm.FindParent(this,"popup-layer");t&&t.parentNode.removeChild(t),QuestionMobile.EnableReviewResultButton()}})),$(".selectlist-item").click((function(){QuestionMobile.DisableReviewResultButton();var e="",t="",a="",r="";switch(DOC.Lang.toUpperCase()){case"EN-US":e="Result",t="Your answer",a="Correct answers",r="CANCEL";break;case"TH-TH":e="ผลลัพธ์",t="คำตอบของคุณ",a="คำตอบที่ถูกต้อง",r="ยกเลิก";break;case"VI-VN":e="Kết Quả",t="Đáp án của bạn",a="Đáp án đúng",r="THOÁT"}var s=glhp.crgs("div","","popup-layer"),n=glhp.crgs("div","","popup-border"),l=glhp.crgs("div","","popup-container"),o=glhp.crgs("div","","title");o.innerHTML=e;var h=glhp.crgs("div","","cancel");h.innerHTML=r;var d=glhp.crgs("div","","answers-popup");l.appendChild(o),l.appendChild(h),l.appendChild(d),s.appendChild(n),n.appendChild(l);var c=glhp.crgs("div","saperator","saperator");c.style="left: 12px;right: 12px;height: 1px;content: '';position: absolute;background: #E0E0E0;",l.appendChild(c);var p=glhp.crgs("div","","rv-item");p.innerHTML=t,p.style.color="#EA5F4F",p.style.fontWeight="500",l.appendChild(p);var u=glhp.crgs("div","","rv-item");u.innerHTML=this.getElementsByClassName("text-content")[0].innerHTML,l.appendChild(u);var m=glhp.crgs("div","saperator","saperator");m.style="left: 12px;right: 12px;height: 1px;content: '';position: absolute;background: #E0E0E0;",l.appendChild(m);var b=glhp.crgs("div","","rv-item");b.innerHTML=a,b.style.color="#70C425",b.style.fontWeight="500",l.appendChild(b);for(var f=QuestionMobile.GetBlankFromId(i.txt.pr,this.id),g=0;g<f.as.length;g++){var w=glhp.crgs("div","","rv-item");w.innerHTML=f.as[g].txt,l.appendChild(w)}var y=document.getElementById("wrapper");y&&y.appendChild(s),h.onclick=function(e){var t=qzm.FindParent(this,"popup-layer");t&&t.parentNode.removeChild(t),QuestionMobile.EnableReviewResultButton()}}))}}}(),ImageModule={Level:glen.ModuleLevel.Element,ContentType:"Image",grez:function(e,t){return new Image(e).giwm()},drawCanvas:async function(e,t,i){return await new Image(e).drawCanvas(i)}};glrs.addModule(ImageModule);var Image=function(){function e(e){this.options=e}return e.prototype.crewz=function(){var e=null;if(this.options.efs)for(var t=0;t<this.options.efs.length;t++){var i=EffectModule.genGEffect(this.options.efs[t],{Id:this.options.id,width:this.options.w,height:this.options.h},this.options.agl,this.options.isX,this.options.isY);if("Inner"===this.options.efs[t].shT){e=i.use;break}}return null!=e?e:null},e.prototype.giwm=function(){var e=this.options,t="http://www.w3.org/2000/svg",i=glhp.crgs("g","","gImg");if(null==e.shs)return i;if(e.shs.pOb&&0==e.shs.pOb.length)return i;var a=document.createElementNS(t,"defs"),r=document.createElementNS(t,"pattern"),s=document.createElementNS(t,"g"),n=document.createElementNS(t,"path"),l=document.createElementNS(t,"path"),o=document.createElementNS(t,"path"),h=document.createElementNS(t,"path"),d=document.createElementNS(t,"path"),c=document.createElementNS(t,"path"),p=document.createElementNS(t,"path"),u=document.createElementNS(t,"use"),m=document.createElementNS(t,"image"),b=0==isMobile?e.widdkt:isTabletLandscape?e.widtls:isTabletPortrait?e.widtpt:isMobileLandscape?e.widmls:isMobilePortrait?e.widmpt:e.w,f=0==isMobile?e.heidkt:isTabletLandscape?e.heitls:isTabletPortrait?e.heitpt:isMobileLandscape?e.heimls:isMobilePortrait?e.heimpt:e.h;switch(s.setAttribute("id",e.id+"_sh"),r.setAttribute("patternTransform","translate(0, 0)"),r.setAttribute("patternUnits","userSpaceOnUse"),r.setAttribute("id","pattern"+e.id),r.setAttribute("width",isNaN(b)?0:b),r.setAttribute("height",isNaN(f)?0:f),n.setAttribute("id","path"+e.id),l.setAttribute("id","path"+e.id),o.setAttribute("id","path"+e.id),h.setAttribute("id","path"+e.id),d.setAttribute("id","path"+e.id),c.setAttribute("id","path"+e.id),p.setAttribute("id","path"+e.id),e.shs.dT){case"Solid":break;case"RoundDot":for(var g=0;g<e.shs.pOb.length;g++){var w=e.shs.pOb[g].sTh;n.setAttribute("stroke-dasharray","0,"+1.5*w),l.setAttribute("stroke-dasharray","0,"+1.5*w),o.setAttribute("stroke-dasharray","0,"+1.5*w),h.setAttribute("stroke-dasharray","0,"+1.5*w),d.setAttribute("stroke-dasharray","0,"+1.5*w),c.setAttribute("stroke-dasharray","0,"+1.5*w),p.setAttribute("stroke-dasharray","0,"+1.5*w)}break;case"SquareDot":for(g=0;g<e.shs.pOb.length;g++){w=e.shs.pOb[g].sTh;n.setAttribute("stroke-dasharray",.15*w+","+1.5*w),l.setAttribute("stroke-dasharray",.15*w+","+1.5*w),o.setAttribute("stroke-dasharray",.15*w+","+1.5*w),h.setAttribute("stroke-dasharray",.15*w+","+1.5*w),d.setAttribute("stroke-dasharray",.15*w+","+1.5*w),c.setAttribute("stroke-dasharray",.15*w+","+1.5*w),p.setAttribute("stroke-dasharray",.15*w+","+1.5*w)}break;case"Dash":for(g=0;g<e.shs.pOb.length;g++){w=e.shs.pOb[g].sTh;n.setAttribute("stroke-dasharray",2*w+","+2*w),l.setAttribute("stroke-dasharray",2*w+","+2*w),o.setAttribute("stroke-dasharray",2*w+","+2*w),h.setAttribute("stroke-dasharray",2*w+","+2*w),d.setAttribute("stroke-dasharray",2*w+","+2*w),c.setAttribute("stroke-dasharray",2*w+","+2*w),p.setAttribute("stroke-dasharray",2*w+","+2*w)}break;case"DashDot":for(g=0;g<e.shs.pOb.length;g++){w=e.shs.pOb[g].sTh;n.setAttribute("stroke-dasharray",1.9*w+","+1.9*w+","+.2*w+","+1.9*w),l.setAttribute("stroke-dasharray",1.9*w+","+1.9*w+","+.2*w+","+1.9*w),o.setAttribute("stroke-dasharray",1.9*w+","+1.9*w+","+.2*w+","+1.9*w),h.setAttribute("stroke-dasharray",1.9*w+","+1.9*w+","+.2*w+","+1.9*w),d.setAttribute("stroke-dasharray",1.9*w+","+1.9*w+","+.2*w+","+1.9*w),c.setAttribute("stroke-dasharray",1.9*w+","+1.9*w+","+.2*w+","+1.9*w),p.setAttribute("stroke-dasharray",1.9*w+","+1.9*w+","+.2*w+","+1.9*w)}break;case"LongDash":for(g=0;g<e.shs.pOb.length;g++){w=e.shs.pOb[g].sTh;n.setAttribute("stroke-dasharray",2.75*w+","+1.75*w),l.setAttribute("stroke-dasharray",2.75*w+","+1.75*w),o.setAttribute("stroke-dasharray",2.75*w+","+1.75*w),h.setAttribute("stroke-dasharray",2.75*w+","+1.75*w),d.setAttribute("stroke-dasharray",2.75*w+","+1.75*w),c.setAttribute("stroke-dasharray",2.75*w+","+1.75*w),p.setAttribute("stroke-dasharray",2.75*w+","+1.75*w)}break;case"LongDashDot":for(g=0;g<e.shs.pOb.length;g++){w=e.shs.pOb[g].sTh;n.setAttribute("stroke-dasharray",3*w+","+2*w+","+.25*w+","+2*w),l.setAttribute("stroke-dasharray",3*w+","+2*w+","+.25*w+","+2*w),o.setAttribute("stroke-dasharray",3*w+","+2*w+","+.25*w+","+2*w),h.setAttribute("stroke-dasharray",3*w+","+2*w+","+.25*w+","+2*w),d.setAttribute("stroke-dasharray",3*w+","+2*w+","+.25*w+","+2*w),c.setAttribute("stroke-dasharray",3*w+","+2*w+","+.25*w+","+2*w),p.setAttribute("stroke-dasharray",3*w+","+2*w+","+.25*w+","+2*w)}break;case"LongDashDotDot":for(g=0;g<e.shs.pOb.length;g++){w=e.shs.pOb[g].sTh;n.setAttribute("stroke-dasharray",3*w+","+1.8*w+","+.5*w+","+1.8*w+","+.5*w+","+1.8*w),l.setAttribute("stroke-dasharray",3*w+","+1.8*w+","+.5*w+","+1.8*w+","+.5*w+","+1.8*w),o.setAttribute("stroke-dasharray",3*w+","+1.8*w+","+.5*w+","+1.8*w+","+.5*w+","+1.8*w),h.setAttribute("stroke-dasharray",3*w+","+1.8*w+","+.5*w+","+1.8*w+","+.5*w+","+1.8*w),d.setAttribute("stroke-dasharray",3*w+","+1.8*w+","+.5*w+","+1.8*w+","+.5*w+","+1.8*w),c.setAttribute("stroke-dasharray",3*w+","+1.8*w+","+.5*w+","+1.8*w+","+.5*w+","+1.8*w),p.setAttribute("stroke-dasharray",3*w+","+1.8*w+","+.5*w+","+1.8*w+","+.5*w+","+1.8*w)}}e.shs.pOb[0].str&&(n.setAttribute("stroke",e.shs.pOb[0].str.col),n.setAttribute("stroke-width",e.shs.pOb[0].sTh)),u.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns","http://www.w3.org/2000/svg"),u.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),u.setAttributeNS("http://www.w3.org/1999/xlink/","xlink:href","#image"+e.id),n.setAttribute("class","path1"),n.setAttribute("fill","url(#pattern"+e.id+")"),n.setAttribute("stroke-linecap",e.shs.cT),n.setAttribute("stroke-linejoin",e.shs.jT),"Square"==e.shs.cT&&"RoundDot"==e.shs.dT&&n.setAttribute("stroke-linecap","Round");var y=0==isMobile?e.shs.pOb[0].dt:isTabletLandscape?e.shs.pOb[0].dttls:isTabletPortrait?e.shs.pOb[0].dttp:isMobileLandscape?e.shs.pOb[0].dtmls:isMobilePortrait?e.shs.pOb[0].dtmp:e.shs.pOb[0].dt;if(y&&n.setAttribute("d",y),e.shs.pOb.length>1){e.shs.pOb[1].str&&(l.setAttribute("stroke",e.shs.pOb[1].str.col),l.setAttribute("stroke-width",e.shs.pOb[1].sTh)),u.setAttributeNS("http://www.w3.org/1999/xlink/","xlink:href","#image"+e.id),l.setAttribute("class","path2"),l.setAttribute("fill",e.shs.pOb[1].fi.col),l.setAttribute("stroke-linecap",e.shs.cT),l.setAttribute("stroke-linejoin",e.shs.jT),"Square"==e.shs.cT&&"RoundDot"==e.shs.dT&&l.setAttribute("stroke-linecap","Round");var v=0==isMobile?e.shs.pOb[1].dt:isTabletLandscape?e.shs.pOb[1].dttls:isTabletPortrait?e.shs.pOb[1].dttp:isMobileLandscape?e.shs.pOb[1].dtmls:isMobilePortrait?e.shs.pOb[1].dtmp:e.shs.pOb[1].dt;if(l.setAttribute("d",v),e.shs.pOb.length>2){e.shs.pOb[2].str&&(o.setAttribute("stroke",e.shs.pOb[2].str.col),o.setAttribute("stroke-width",e.shs.pOb[2].sTh)),u.setAttributeNS("http://www.w3.org/1999/xlink/","xlink:href","#image"+e.id),o.setAttribute("class","path3"),o.setAttribute("fill",e.shs.pOb[2].fi.col),o.setAttribute("stroke-linecap",e.shs.cT),o.setAttribute("stroke-linejoin",e.shs.jT),"Square"==e.shs.cT&&"RoundDot"==e.shs.dT&&o.setAttribute("stroke-linecap","Round");var C=0==isMobile?e.shs.pOb[2].dt:isTabletLandscape?e.shs.pOb[2].dttls:isTabletPortrait?e.shs.pOb[2].dttp:isMobileLandscape?e.shs.pOb[2].dtmls:isMobilePortrait?e.shs.pOb[2].dtmp:e.shs.pOb[2].dt;o.setAttribute("d",C)}if(e.shs.pOb.length>3){e.shs.pOb[3].str&&(h.setAttribute("stroke",e.shs.pOb[3].str.col),h.setAttribute("stroke-width",e.shs.pOb[3].sTh)),u.setAttributeNS("http://www.w3.org/1999/xlink/","xlink:href","#image"+e.id),h.setAttribute("class","path4"),h.setAttribute("fill",e.shs.pOb[3].fi.col),h.setAttribute("stroke-linecap",e.shs.cT),h.setAttribute("stroke-linejoin",e.shs.jT),"Square"==e.shs.cT&&"RoundDot"==e.shs.dT&&h.setAttribute("stroke-linecap","Round");var T=0==isMobile?e.shs.pOb[3].dt:isTabletLandscape?e.shs.pOb[3].dttls:isTabletPortrait?e.shs.pOb[3].dttp:isMobileLandscape?e.shs.pOb[3].dtmls:isMobilePortrait?e.shs.pOb[3].dtmp:e.shs.pOb[3].dt;h.setAttribute("d",T)}if(e.shs.pOb.length>4){e.shs.pOb[4].str&&(d.setAttribute("stroke",e.shs.pOb[4].str.col),d.setAttribute("stroke-width",e.shs.pOb[4].sTh)),u.setAttributeNS("http://www.w3.org/1999/xlink/","xlink:href","#image"+e.id),d.setAttribute("class","path5"),d.setAttribute("fill",e.shs.pOb[4].fi.col),d.setAttribute("stroke-linecap",e.shs.cT),d.setAttribute("stroke-linejoin",e.shs.jT),"Square"==e.shs.cT&&"RoundDot"==e.shs.dT&&d.setAttribute("stroke-linecap","Round");var S=0==isMobile?e.shs.pOb[4].dt:isTabletLandscape?e.shs.pOb[4].dttls:isTabletPortrait?e.shs.pOb[4].dttp:isMobileLandscape?e.shs.pOb[4].dtmls:isMobilePortrait?e.shs.pOb[4].dtmp:e.shs.pOb[4].dt;d.setAttribute("d",S)}e.shs.pOb.length>5&&(e.shs.pOb[5].str&&(c.setAttribute("stroke",e.shs.pOb[5].str.col),c.setAttribute("stroke-width",e.shs.pOb[5].sTh)),u.setAttributeNS("http://www.w3.org/1999/xlink/","xlink:href","#image"+e.id),c.setAttribute("class","path6"),c.setAttribute("fill",e.shs.pOb[5].fi.col),c.setAttribute("stroke-linecap",e.shs.cT),c.setAttribute("stroke-linejoin",e.shs.jT),"Square"==e.shs.cT&&"RoundDot"==e.shs.dT&&c.setAttribute("stroke-linecap","Round"),c.setAttribute("d",e.shs.pOb[5].dt)),e.shs.pOb.length>6&&(e.shs.pOb[6].str&&(p.setAttribute("stroke",e.shs.pOb[6].str.col),p.setAttribute("stroke-width",e.shs.pOb[6].sTh)),u.setAttributeNS("http://www.w3.org/1999/xlink/","xlink:href","#image"+e.id),p.setAttribute("class","path7"),p.setAttribute("fill",e.shs.pOb[6].fi.col),p.setAttribute("stroke-linecap",e.shs.cT),p.setAttribute("stroke-linejoin",e.shs.jT),"Square"==e.shs.cT&&"RoundDot"==e.shs.dT&&p.setAttribute("stroke-linecap","Round"),p.setAttribute("d",e.shs.pOb[6].dt))}m.setAttribute("id","image"+e.id),m.setAttribute("preserveAspectRatio","none"),m.setAttribute("opacity","1"),m.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns","http://www.w3.org/2000/svg"),m.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),e.imgU&&(e.efs&&e.efs[0]&&"SoftEdge"===e.efs[0].typ?m.setAttributeNS("http://www.w3.org/1999/xlink/","xlink:href",e.efs[0].sU):m.setAttributeNS("http://www.w3.org/1999/xlink/","xlink:href",e.imgU)),m.setAttribute("width",isNaN(b)?0:b),m.setAttribute("height",isNaN(f)?0:f),a.appendChild(r),a.appendChild(u),s.appendChild(n);let x=e.imgU?e.imgU.split(".").pop():"";return this.options.efs||"gif"!==x?r.appendChild(m):s.appendChild(m),e.shs.pOb.length>1&&(s.appendChild(l),e.shs.pOb.length>2&&(s.appendChild(o),e.shs.pOb.length>3&&(s.appendChild(h),e.shs.pOb.length>4&&(s.appendChild(d),e.shs.pOb.length>5&&(s.appendChild(c),e.shs.pOb.length>6&&s.appendChild(p)))))),i.appendChild(s),i.appendChild(a),null!=this.crewz(i)&&i.appendChild(this.crewz(i)),i.innerHTML=i.innerHTML,i},e.prototype.drawCanvas=async function(e){var t=this.options;let i=t.shs&&t.shs.pOb&&t.shs.pOb.length>0?t.shs.pOb[0].str:null;if(!(i&&"transparent"==i.col&&0==i.opc||/\.(gif)$/i.test(t.imgU))){var a=glrs.getBase64Resource(t.id);if(a){var r=await this.loadImage(a),s=0==isMobile?t.widdkt:isTabletLandscape?t.widtls:isTabletPortrait?t.widtpt:isMobileLandscape?t.widmls:isMobilePortrait?t.widmpt:t.w,n=0==isMobile?t.heidkt:isTabletLandscape?t.heitls:isTabletPortrait?t.heitpt:isMobileLandscape?t.heimls:isMobilePortrait?t.heimpt:t.h;r&&(e.save(),e.beginPath(),e.moveTo(t.x1,t.y1),e.lineTo(t.x2,t.y2),e.lineWidth=4,i&&(e.strokeStyle=i.col),e.stroke(),e.translate(s/2,n/2),e.rotate(t.ag/180*Math.PI),e.translate(-s/2,-n/2),e.drawImage(r,0,0,s,n),e.restore())}}},e.prototype.loadImage=function(e){return new Promise((t,i)=>{let a=document.createElement("img");a.onload=()=>{t(a)},a.onerror=i,e&&(a.src=e)})},e}(),WebObject=function(){function e(e){this.options=e}return e.prototype.gwob=function(){var e,t=this.options,i=0==isMobile?t.widdkt:isTabletLandscape?t.widtls:isTabletPortrait?t.widtpt:isMobileLandscape?t.widmls:isMobilePortrait?t.widmpt:t.w,a=0==isMobile?t.heidkt:isTabletLandscape?t.heitls:isTabletPortrait?t.heitpt:isMobileLandscape?t.heimls:isMobilePortrait?t.heimpt:t.h,r=glhp.crgs("div","","webObject");if("URL"===t.wbT||"LocalPath"===t.wbT?((e=document.createElement("iframe")).id=t.id,e.style.width=i+"px",e.style.height=a+"px",e.style.left="0px",e.style.top="0px",e.style.zIndex=t.z,e.setAttribute("frameborder",0),e.setAttribute("src",t.url)):(r.innerHTML=t.url.trim(),null!=r.firstChild&&"EmbedCode"!==t.wbT&&(r.firstChild.setAttribute("width",t.w),r.firstChild.setAttribute("height",t.h))),r.style.left="0px",r.style.top="0px",r.style.position="absolute",r.style.width=t.w+"px",r.style.height=t.h+"px","WhenClicked"==t.wbL){var s=glhp.crgs("div","","divPreview");s.style.left="0px",s.style.top="0px",s.style.position="absolute",s.style.background="#808080",s.style.width=t.w+"px",s.style.height=t.h+"px",r.appendChild(s);var n=glhp.crgs("div","","thumbnailWeb");n.style.position="absolute",n.style.left=t.w/2-200+"px",n.style.top=t.h/2-110+"px";var l=document.createElement("img");l.setAttribute("width",200),l.setAttribute("height",220),l.setAttribute("src",t.urlT),n.appendChild(l);var o=glhp.crgs("div","","divText");o.style.position="absolute",o.style.left="200px",o.style.top="0px",o.style.width="200px",o.style.height="220px",o.style.background="white",n.appendChild(o);var h=document.createElement("p");h.style.position="absolute",h.style.left="0px",h.style.top="-15px",h.style.width="200px",h.textContent=t.tit,h.style.fontSize="16px",h.style.fontWeight="bold",h.style.overflow="hidden",h.style.display="-webkit-box",h.style.webkitBoxOrient="vertical",h.style.webkitLineClamp="2",o.appendChild(h);var d=document.createElement("p");d.className="des",d.style.position="absolute",d.style.left="0px",d.style.top="35px",d.style.width="200px",d.textContent=t.des,d.style.fontSize="15px",d.style.overflow="hidden",d.style.display="-webkit-box",d.style.webkitBoxOrient="vertical",d.style.webkitLineClamp="6",o.appendChild(d);var c=document.createElement("p");c.style.position="absolute",c.style.left="0px",c.style.top="160px",c.style.width="200px",c.textContent=t.url,c.style.fontSize="14px",c.style.overflow="hidden",c.style.color="gray",c.style.display="-webkit-box",c.style.webkitBoxOrient="vertical",c.style.webkitLineClamp="2",o.appendChild(c),s.addEventListener("click",(function(i){if("InSlide"==t.wbS)"URL"==t.wbT?(r.appendChild(e),r.removeChild(s)):r.innerHTML=t.url.trim();else if("URL"===t.wbT||"LocalPath"===t.wbT){var a=window.open(t.url);$.ajax({url:t.url,data:{some_var:"Something",another_var:"Something else"},success:function(e){a.location=e}})}else{(a=window.open()).document.write(t.url)}}),!1),s.appendChild(n)}else if("InSlide"==t.wbS)"URL"!==t.wbT&&"LocalPath"!==t.wbT||r.appendChild(e);else if("URL"===t.wbT||"LocalPath"===t.wbT){var p=window.open(t.url);null==p||void 0===p?alert("Please disable your pop-up blocker and try again."):p.focus()}else{var u=window.open();null==u||void 0===u?alert("Please disable your pop-up blocker and try again."):(u.document.write(t.url),u.focus())}return r},e}();glrs.addModule({Level:glen.ModuleLevel.Element,ContentType:"WebObject",grez:function(e,t){return new WebObject(e).gwob()}}),glrs.addModule({Level:glen.ModuleLevel.Element,ContentType:"ZoomPan",grez:function(e,t){}});var CursorObject=function(){function e(e){this.options=e}return e.prototype.genCursor=function(){var e="http://www.w3.org/2000/svg",t=glhp.crgs("div","","cursor"),i=0==isMobile?this.options.rtwdkt:isTabletLandscape?this.options.rtwtls:isTabletPortrait?this.options.rtwtpt:isMobileLandscape?this.options.rtwmls:isMobilePortrait?this.options.rtwmpt:1,a=0==isMobile?this.options.rthdkt:isTabletLandscape?this.options.rthtls:isTabletPortrait?this.options.rthtpt:isMobileLandscape?this.options.rthmls:isMobilePortrait?this.options.rthmpt:1,r=Math.min(i,a),s=document.createElementNS(e,"img");s.setAttribute("id","image"+this.options.id),s.setAttribute("src",this.options.urlC),s.setAttribute("width",this.options.w),s.setAttribute("height",this.options.h),(isTabletPortrait||isMobileLandscape||isMobilePortrait)&&(s.setAttribute("width",this.options.w*r),s.setAttribute("height",this.options.h*r)),t.appendChild(s);var n=document.createElement("svg");if(n.setAttribute("width",this.options.w),n.setAttribute("height",this.options.h),n.setAttribute("xmlns","http://www.w3.org/2000/svg"),n.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),this.options.clEf){var l=document.createElementNS(e,"circle");if(l.setAttribute("id",this.options.id+"_circle1"),l.setAttribute("cx",0),l.setAttribute("cy",0),isTabletPortrait&&(l.setAttribute("cx",-3),l.setAttribute("cy",(this.options.h-this.options.w/2)*a-5)),(isMobileLandscape||isMobilePortrait)&&(l.setAttribute("cx",-3),l.setAttribute("cy",(this.options.h-this.options.w/2)*a)),l.setAttribute("r",this.options.w/2*r),l.setAttribute("stroke","red"),l.setAttribute("stroke-width",1),l.setAttribute("fill","transparent"),l.setAttribute("transform","scale(0)"),l.style.transformOrigin="25% 25%",n.appendChild(l),"Double"===this.options.clSt){var o=document.createElementNS(e,"circle");o.setAttribute("id",this.options.id+"_circle2"),o.setAttribute("cx",0),o.setAttribute("cy",0),o.setAttribute("r",this.options.w/2*r),o.setAttribute("stroke","red"),o.setAttribute("stroke-width",1),o.setAttribute("fill","transparent"),o.style.transform="scale(0)",o.style.transformOrigin="25% 25%",n.appendChild(o)}}if("None"!==this.options.clSt){var h=document.createElement("audio");h.setAttribute("id",this.options.id+"_audio"),h.setAttribute("preload","auto");var d=document.createElement("source");d.setAttribute("src",this.options.auEf),h.appendChild(d),t.appendChild(h),h.onloadedmetadata=function(e){h.muted=!0;var t=h.play();VideoModule.isVideo=!1,void 0!==t&&t.then((function(e){})).catch((function(e){glrs.crsl.MainTimeline.pause(),DOC.iS||DOC.iPv||(VideoModule.isVideo=!0,qzm.IsEndTime=!0,document.getElementsByTagName("body")[0].appendChild(qzm.gelpw()),document.getElementById("content").innerHTML="")}))}}return t.appendChild(n),t.innerHTML=t.outerHTML,t},e.prototype.loadImage=function(e){return new Promise((t,i)=>{let a=document.createElement("img");a.onload=()=>{t(a)},a.onerror=i,a.src=e})},e.prototype.drawCanvas=async function(e){e.save();var t=this.options,i=glrs.getBase64Resource(t.id);if(i){var a=await this.loadImage(i),r=e.createPattern(a,"no-repeat");e.rect(0,0,this.options.w,this.options.h),e.fillStyle=r,e.fill(),e.beginPath(),e.stroke(),e.closePath(),e.stroke(),e.closePath()}e.restore()},e}();glrs.addModule({Level:glen.ModuleLevel.Element,ContentType:"Cursor",grez:function(e,t){return new CursorObject(e).genCursor()},drawCanvas:async function(e,t,i){var a=new CursorObject(e),r=0==isMobile?e.rtwdkt:isTabletLandscape?e.rtwtls:isTabletPortrait?e.rtwtpt:isMobileLandscape?e.rtwmls:isMobilePortrait?e.rtwmpt:e.w,s=0==isMobile?e.rthdkt:isTabletLandscape?e.rthtls:isTabletPortrait?e.rthtpt:isMobileLandscape?e.rthmls:isMobilePortrait?e.rthmpt:e.h,n=Math.min(r,s);return i.scale(n,n),await a.drawCanvas(i)}});var TableObject=function(){function e(e){this.options=e}return e.prototype.getXCell=function(e,t){},e.prototype.genTableObject=function(){var e=this.options,t=0==isMobile?this.options.rtwdkt:isTabletLandscape?this.options.rtwtls:isTabletPortrait?this.options.rtwtpt:isMobileLandscape?this.options.rtwmls:isMobilePortrait?this.options.rtwmpt:1,i=0==isMobile?this.options.rthdkt:isTabletLandscape?this.options.rthtls:isTabletPortrait?this.options.rthtpt:isMobileLandscape?this.options.rthmls:isMobilePortrait?this.options.rthmpt:1,a=Math.min(t,i),r=glhp.crgs("div","","table"),s=glhp.crgs("svg","","svgTable");return r.appendChild(s),r.style.transformOrigin="0 0",r.style.transform="scale("+a+","+a+")",e.lstR.forEach((function(e){e.lstCell.forEach((function(e){var t=e.rS&&e.cS&&!e.iH&&!e.iV,i=!(1==e.rS&&1==e.cS||e.iH||e.iV);if(t||i){var a=glhp.crgs("g","","cell"),r=e.w,n=e.h,l=new RectCell(e.l,e.t,r,n,e.cB,a).getElement();if(a.appendChild(l),e.lB.iV){var o=new Point(e.l,e.t),h=new Point(e.l,e.t+n),d=new LineGraph(o,h,e.lB.bB.col,e.lB.bT,"Square","Miter",e.lB.dT).getElement();a.appendChild(d)}if(e.rB.iV){o=new Point(e.l+r,e.t),h=new Point(e.l+r,e.t+n),d=new LineGraph(o,h,e.rB.bB.col,e.rB.bT,"Square","Miter",e.rB.dT).getElement();a.appendChild(d)}if(e.tB.iV){o=new Point(e.l,e.t),h=new Point(e.l+r,e.t),d=new LineGraph(o,h,e.tB.bB.col,e.tB.bT,"Square","Miter",e.tB.dT).getElement();a.appendChild(d)}if(e.bB.iV){o=new Point(e.l,e.t+n),h=new Point(e.l+r,e.t+n),d=new LineGraph(o,h,e.bB.bB.col,e.bB.bT,"Square","Miter",e.bB.dT).getElement();a.appendChild(d)}if(e.doc){var c=TextModule.grezByParas(e.doc,"table");c.style.transform="translate("+e.l+"px,"+e.t+"px)",c.setAttribute("transform","translate("+e.l+","+e.t+")"),a.appendChild(c)}s.appendChild(a)}}))})),r},e.prototype.drawCanvas=async function(e){e.save();var t=this.options;for(let n=0;n<t.lstR.length;n++){const l=t.lstR[n];for(let t=0;t<l.lstCell.length;t++){const n=l.lstCell[t];var i=n.rS&&n.cS&&!n.iH&&!n.iV,a=!(1==n.rS&&1==n.cS||n.iH||n.iV);if(i||a){if(await new RectCell(n.l,n.t,n.w,n.h,n.cB,null).drawCanvas(e),n.lB.iV){var r=new Point(n.l,n.t),s=new Point(n.l,n.t+n.h);this.drawTableBorder(e,r,s,n.lB.bT,n.lB.bB.col,"Square","Miter",n.lB.dT)}if(n.rB.iV){r=new Point(n.l+n.w,n.t),s=new Point(n.l+n.w,n.t+n.h);this.drawTableBorder(e,r,s,n.lB.bT,n.lB.bB.col,"Square","Miter",n.lB.dT)}if(n.tB.iV){r=new Point(n.l,n.t),s=new Point(n.l+n.w,n.t);this.drawTableBorder(e,r,s,n.lB.bT,n.lB.bB.col,"Square","Miter",n.lB.dT)}if(n.bB.iV){r=new Point(n.l,n.t+n.h),s=new Point(n.l+n.w,n.t+n.h);this.drawTableBorder(e,r,s,n.lB.bT,n.lB.bB.col,"Square","Miter",n.lB.dT)}n.doc&&(e.translate(n.l,n.t),await TextModule.drawCanvasByParas(n.doc,e),e.translate(-n.l,-n.t))}}}e.restore()},e.prototype.drawTableBorder=function(e,t,i,a,r,s,n,l){e.beginPath(),e.moveTo(t.x,t.y),e.lineTo(i.x,i.y),e.closePath(),e.strokeStyle=r,e.lineCap=s,e.lineJoin,e.lineWidth=a;var o=shzp.dskz(l,a);e.setLineDash(o.split`,`.map(e=>+e)),e.stroke()},e}(),RectCell=function(){function e(e,t,i,a,r,s){this.x=e,this.y=t,this.w=i,this.h=a,this.fill=r,this.g=s}return e.prototype.calculatorOpacity=function(e){return e/255},e.prototype.calculatorOffset=function(e){return 100*e},e.prototype.makeId=function(){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=0;i<5;i++)e+=t.charAt(Math.floor(Math.random()*t.length));return e},e.prototype.getElement=function(){var e=glhp.crgs("rect");if(e.setAttribute("x",this.x),e.setAttribute("y",this.y),e.setAttribute("width",this.w),e.setAttribute("height",this.h),"Solid"==this.fill.CoT)e.setAttribute("fill",this.fill.col),e.setAttribute("stroke",this.fill.col),e.setAttribute("stroke-width",1);else if("Gradient"==this.fill.CoT&&"Linear"==this.fill.gT){var t,i=document.createElementNS(xmlNs,"defs"),a=document.createElementNS(xmlNs,"linearGradient"),r=this.makeId();a.setAttribute("id",r),a.setAttribute("gradientTransform","rotate("+this.fill.agl+", 0.5, 0.5)");for(var s=this.fill,n=0;n<s.sts.length;n++){var l=s.sts[n],o=this.calculatorOffset(l.ofs)+"%",h=this.calculatorOpacity(l.opc);t=createStop(o,l.col,h),a.appendChild(t)}i.appendChild(a);var d=glhp.crgs("g","","linear");d.appendChild(i),this.g.appendChild(d),e.setAttribute("fill","url(#"+r+")")}return e},e.prototype.drawCanvas=async function(e){e.save();var t=await FillColorHelper.getCanvasColor(this.fill,{left:this.x,top:this.y,width:this.w,height:this.h},e);e.fillStyle=t,e.fillRect(this.x,this.y,this.w,this.h),e.restore()},e}();glrs.addModule({Level:glen.ModuleLevel.Element,ContentType:"Table",grez:function(e,t){return new TableObject(e).genTableObject()},drawCanvas:async function(e,t,i){var a=new TableObject(e),r=0==isMobile?e.rtwdkt:isTabletLandscape?e.rtwtls:isTabletPortrait?e.rtwtpt:isMobileLandscape?e.rtwmls:isMobilePortrait?e.rtwmpt:e.w,s=0==isMobile?e.rthdkt:isTabletLandscape?e.rthtls:isTabletPortrait?e.rthtpt:isMobileLandscape?e.rthmls:isMobilePortrait?e.rthmpt:e.h,n=Math.min(r,s);i.scale(n,n),await a.drawCanvas(i)}});var GestureObject=function(){function e(e){this.options=e}return e.prototype.genGesture=function(){var e="http://www.w3.org/2000/svg",t=0==isMobile?this.options.rtwdkt:isTabletLandscape?this.options.rtwtls:isTabletPortrait?this.options.rtwtpt:isMobileLandscape?this.options.rtwmls:isMobilePortrait?this.options.rtwmpt:1,i=0==isMobile?this.options.rthdkt:isTabletLandscape?this.options.rthtls:isTabletPortrait?this.options.rthtpt:isMobileLandscape?this.options.rthmls:isMobilePortrait?this.options.rthmpt:1;scale=Math.min(t,i);var a=glhp.crgs("div","","gesture");a.style.transformOrigin="0 0",a.style.transform="scale("+scale+","+scale+")";var r=document.createElement("svg");if(r.setAttribute("width",this.options.w),r.setAttribute("height",this.options.h),r.setAttribute("id",this.options.id+"_svg"),r.style.opacity=1,"Hold"===this.options.gMode)(n=document.createElementNS(e,"circle")).setAttribute("id",this.options.id+"_circle1"),n.setAttribute("cx",7*this.options.w/16),n.setAttribute("cy",9*this.options.h/16),n.setAttribute("r",7*this.options.w/16),n.setAttribute("stroke",this.options.fl.col),n.setAttribute("stroke-width",2),n.setAttribute("fill","transparent"),r.appendChild(n),(l=document.createElementNS(e,"circle")).setAttribute("id",this.options.id+"_circle2"),l.setAttribute("cx",this.options.w-7.414321881345245),l.setAttribute("cy",7.414321881345245),l.setAttribute("r",7.414321881345245),l.setAttribute("stroke",this.options.fl.col),l.setAttribute("stroke-width",2),l.setAttribute("fill","transparent"),r.appendChild(l),(h=document.createElementNS(e,"path")).setAttribute("id",this.options.id+"_path"),h.setAttribute("fill",this.options.fl.col),r.appendChild(h);else if("TwoFingerSingleTap"===this.options.gMode){(h=document.createElementNS(e,"path")).setAttribute("id",this.options.id+"_path1"),h.setAttribute("stroke",this.options.fl.col),h.setAttribute("fill","transparent"),h.setAttribute("stroke-width",4),r.appendChild(h)}else if("SingleTap"===this.options.gMode){var s=document.createElementNS(e,"circle");s.setAttribute("id",this.options.id+"_circle"),s.setAttribute("cx",this.options.w/2),s.setAttribute("cy",this.options.h/2),s.setAttribute("r",this.options.w/2),s.setAttribute("stroke",this.options.fl.col),s.setAttribute("stroke-width",4),s.setAttribute("fill","transparent"),s.style.transformOrigin="25% 25%",s.style.opacity=0,r.appendChild(s)}else if("DoubleTap"===this.options.gMode){var n,l;(n=document.createElementNS(e,"circle")).setAttribute("id",this.options.id+"_circle1"),n.setAttribute("cx",this.options.w/2),n.setAttribute("cy",this.options.h/2),n.setAttribute("r",this.options.w/2),n.setAttribute("stroke",this.options.fl.col),n.setAttribute("stroke-width",4),n.setAttribute("fill","transparent"),n.style.transformOrigin="25% 25%",n.style.opacity=0,r.appendChild(n),(l=document.createElementNS(e,"circle")).setAttribute("id",this.options.id+"_circle2"),l.setAttribute("cx",this.options.w/2),l.setAttribute("cy",this.options.h/2),l.setAttribute("r",this.options.w/2),l.setAttribute("stroke",this.options.fl.col),l.setAttribute("stroke-width",4),l.setAttribute("fill","transparent"),l.style.transformOrigin="25% 25%",l.style.opacity=0,r.appendChild(l)}else if("TwoFingerDoubleTap"===this.options.gMode){var o=document.createElementNS(e,"path");o.setAttribute("id",this.options.id+"_path1"),o.setAttribute("stroke",this.options.fl.col),o.setAttribute("fill","transparent"),o.setAttribute("stroke-width",2),o.style.opacity=0,r.appendChild(o),(d=document.createElementNS(e,"path")).setAttribute("id",this.options.id+"_path2"),d.setAttribute("stroke",this.options.fl.col),d.setAttribute("fill","transparent"),d.setAttribute("stroke-width",2),d.style.opacity=0,r.appendChild(d)}else if("SwipeUp"===this.options.gMode){(h=document.createElementNS(e,"path")).setAttribute("id",this.options.id+"_path"),h.setAttribute("fill",this.options.fl.col);let t="M"+.5*this.options.w+",0 L0,"+.25*this.options.h+" L"+.25*this.options.w+","+.25*this.options.h+" L"+.5*this.options.w+","+this.options.h+" L"+.75*this.options.w+","+.25*this.options.h+" L"+this.options.w+","+.25*this.options.h+"z";h.setAttribute("d",t),r.style.opacity=0,r.appendChild(h)}else if("SwipeDown"===this.options.gMode){(h=document.createElementNS(e,"path")).setAttribute("id",this.options.id+"_path"),h.setAttribute("fill",this.options.fl.col);let t="M"+.5*this.options.w+","+this.options.h+" L0,"+.75*this.options.h+" L"+.25*this.options.w+","+.75*this.options.h+" L"+this.options.w/2+",0 L"+.75*this.options.w+","+.75*this.options.h+" L"+this.options.w+","+.75*this.options.h+"z";h.setAttribute("d",t),r.style.opacity=0,r.appendChild(h)}else if("SwipeLeft"===this.options.gMode){(h=document.createElementNS(e,"path")).setAttribute("id",this.options.id+"_path"),h.setAttribute("fill",this.options.fl.col);let t="M0,"+this.options.h/2+" L"+.25*this.options.w+","+this.options.h+" L"+.25*this.options.w+","+.75*this.options.h+" L"+this.options.w+","+this.options.h/2+" L"+.25*this.options.w+","+.25*this.options.h+" L"+.25*this.options.w+",0z";h.setAttribute("d",t),r.style.opacity=0,r.appendChild(h)}else if("SwipeRight"===this.options.gMode){(h=document.createElementNS(e,"path")).setAttribute("id",this.options.id+"_path"),h.setAttribute("fill",this.options.fl.col);let t="M"+this.options.w+","+this.options.h/2+" L"+.75*this.options.w+","+this.options.h+" L"+.75*this.options.w+","+.75*this.options.h+" L0,"+this.options.h/2+" L"+.75*this.options.w+","+.25*this.options.h+" L"+.75*this.options.w+",0z";h.setAttribute("d",t),r.style.opacity=0,r.appendChild(h)}else if("RotateLeft"===this.options.gMode){(h=document.createElementNS(e,"path")).setAttribute("id",this.options.id+"_path"),h.setAttribute("fill",this.options.fl.col);let t="M68.667,19.499667 C42.167,0.29133336 17.333667,9.833 17.333667,9.833 L15.5,0.50000001 0.49999999,21.999667 21.833667,34.166333 19.792,24.375 C32.542,13.75 68.500333,19.583333 68.500333,19.583333";h.style.transform="translateX(31.039px)",h.setAttribute("d",t),r.appendChild(h),(d=document.createElementNS(e,"path")).setAttribute("id",this.options.id+"_path2"),d.setAttribute("fill",this.options.fl.col),d.style.transform="translateX(0.3px)translateY(47.5px)rotate(-90deg)",d.style.transformOrigin="25% 25%",d.setAttribute("d",t),r.appendChild(d),r.style.opacity=0}else if("RotateRight"===this.options.gMode){(h=document.createElementNS(e,"path")).setAttribute("id",this.options.id+"_path"),h.setAttribute("fill",this.options.fl.col);let t="M68.667,19.499667 C42.167,0.29133336 17.333667,9.833 17.333667,9.833 L15.5,0.50000001 0.49999999,21.999667 21.833667,34.166333 19.792,24.375 C32.542,13.75 68.500333,19.583333 68.500333,19.583333";h.style.transform="scaleX(-1)rotate(-90deg)translateX(30px)",h.style.transformOrigin="50% 50%",h.setAttribute("d",t),r.appendChild(h),(d=document.createElementNS(e,"path")).setAttribute("id",this.options.id+"_path2"),d.setAttribute("fill",this.options.fl.col),d.style.transform="scaleY(-1)",d.style.transformOrigin="50% 50%",d.setAttribute("d",t),r.appendChild(d),r.style.opacity=0}else if("PinchIn"===this.options.gMode){(h=document.createElementNS(e,"path")).setAttribute("id",this.options.id+"_path1"),h.setAttribute("fill",this.options.fl.col);let t="M200,100 L125,87.5 L125,75 L100,100 L125,125 L125,112.5z";h.style.transform="rotate(-45deg)",h.style.transformOrigin="50% 50%",h.setAttribute("d",t),r.appendChild(h),(d=document.createElementNS(e,"path")).setAttribute("id",this.options.id+"_path2"),d.setAttribute("fill",this.options.fl.col),d.style.transform="rotate(-45deg)",d.style.transformOrigin="50% 50%";let i="M0,100 L75,87.5 L75,75 L100,100 L75,125 L75,112.5z";d.setAttribute("d",i),r.appendChild(d),r.style.opacity=0}else if("PinchOut"===this.options.gMode){var h;(h=document.createElementNS(e,"path")).setAttribute("id",this.options.id+"_path1"),h.setAttribute("fill",this.options.fl.col);let t="M100,100 L175,87.5 L175,75 L200,100 L175,125 L175,112.5z";var d;h.style.transform="rotate(-45deg)",h.style.transformOrigin="50% 50%",h.setAttribute("d",t),r.appendChild(h),(d=document.createElementNS(e,"path")).setAttribute("id",this.options.id+"_path2"),d.setAttribute("fill",this.options.fl.col),d.style.transform="rotate(-45deg)",d.style.transformOrigin="50% 50%";let i="M100,100 L25,87.5 L25,75 L0,100 L25,125 L25,112.5z";d.setAttribute("d",i),r.appendChild(d)}return a.appendChild(r),a.innerHTML=a.outerHTML,a},e.prototype.drawCanvas=async function(e){if(e.save(),"DoubleTap"===this.options.gMode)e.beginPath(),e.lineWidth=2,e.arc(this.options.w/2,this.options.h/2,this.options.w/2,0,2*Math.PI),e.strokeStyle=this.options.fl.col,e.stroke(),e.closePath(),e.beginPath(),e.lineWidth=2,e.arc(this.options.w/2,this.options.h/2,this.options.w/3,0,2*Math.PI),e.strokeStyle=this.options.fl.col,e.stroke(),e.closePath();else if("TwoFingerSingleTap"===this.options.gMode)e.beginPath(),e.lineWidth=4,e.arc(this.options.w/2,this.options.h/2,this.options.h/2,Math.PI*(1/4.5),(2-1/4.5)*Math.PI),e.strokeStyle=this.options.fl.col,e.stroke(),e.closePath(),e.beginPath(),e.arc(this.options.w,this.options.h/2,this.options.h/2,Math.PI*(1/4.5-1),(1-1/4.5)*Math.PI),e.strokeStyle=this.options.fl.col,e.stroke(),e.closePath();else if("SingleTap"===this.options.gMode)e.beginPath(),e.lineWidth=2,e.arc(this.options.w/2,this.options.h/2,this.options.w/2,0,2*Math.PI),e.strokeStyle=this.options.fl.col,e.stroke(),e.closePath();else if("Hold"===this.options.gMode)e.beginPath(),e.arc(7*this.options.w/16,9*this.options.h/16,7*this.options.w/16,0,2*Math.PI),e.strokeStyle=this.options.fl.col,e.lineWidth=2,e.stroke(),e.fillStyle="transparent",e.fill(),e.closePath(),e.beginPath(),e.lineWidth=1,e.arc(this.options.w-7.414321881345245,7.414321881345245,7.414321881345245,0,2*Math.PI),e.strokeStyle=this.options.fl.col,e.stroke(),e.fillStyle="transparent",e.fill(),e.closePath();else if("TwoFingerDoubleTap"===this.options.gMode)e.beginPath(),e.lineWidth=2,e.arc(this.options.w/2,this.options.h/2,this.options.h/2,Math.PI*(1/4.5),(2-1/4.5)*Math.PI),e.strokeStyle=this.options.fl.col,e.stroke(),e.closePath(),e.beginPath(),e.arc(this.options.w,this.options.h/2,this.options.h/2,Math.PI*(1/4.5-1),(1-1/4.5)*Math.PI),e.strokeStyle=this.options.fl.col,e.stroke(),e.closePath(),e.beginPath(),e.lineWidth=2,e.arc(this.options.w/2+4,this.options.h/2,this.options.h/3,Math.PI*(1/7),(2-1/7)*Math.PI),e.strokeStyle=this.options.fl.col,e.stroke(),e.closePath(),e.beginPath(),e.arc(this.options.w-4,this.options.h/2,this.options.h/3,Math.PI*(1/7-1),(1-1/7)*Math.PI),e.strokeStyle=this.options.fl.col,e.stroke(),e.closePath();else if("SwipeUp"===this.options.gMode){let i="M"+.5*this.options.w+",0 L0,"+.25*this.options.h+" L"+.25*this.options.w+","+.25*this.options.h+" L"+.5*this.options.w+","+this.options.h+" L"+.75*this.options.w+","+.25*this.options.h+" L"+this.options.w+","+.25*this.options.h+"z";var t=new Path2D(i);e.fillStyle=this.options.fl.col,e.fill(t)}else if("SwipeDown"===this.options.gMode){let i="M"+.5*this.options.w+","+this.options.h+" L0,"+.75*this.options.h+" L"+.25*this.options.w+","+.75*this.options.h+" L"+this.options.w/2+",0 L"+.75*this.options.w+","+.75*this.options.h+" L"+this.options.w+","+.75*this.options.h+"z";t=new Path2D(i);e.fillStyle=this.options.fl.col,e.fill(t)}else if("SwipeLeft"===this.options.gMode){let i="M0,"+this.options.h/2+" L"+.25*this.options.w+","+this.options.h+" L"+.25*this.options.w+","+.75*this.options.h+" L"+this.options.w+","+this.options.h/2+" L"+.25*this.options.w+","+.25*this.options.h+" L"+.25*this.options.w+",0z";t=new Path2D(i);e.fillStyle=this.options.fl.col,e.fill(t)}else if("SwipeRight"===this.options.gMode){let i="M"+this.options.w+","+this.options.h/2+" L"+.75*this.options.w+","+this.options.h+" L"+.75*this.options.w+","+.75*this.options.h+" L0,"+this.options.h/2+" L"+.75*this.options.w+","+.25*this.options.h+" L"+.75*this.options.w+",0z";t=new Path2D(i);e.fillStyle=this.options.fl.col,e.fill(t)}else if("RotateLeft"===this.options.gMode){e.save(),(t=new Path2D("M68.667,19.499667 C42.167,0.29133336 17.333667,9.833 17.333667,9.833 L15.5,0.50000001 0.49999999,21.999667 21.833667,34.166333 19.792,24.375 C32.542,13.75 68.500333,19.583333 68.500333,19.583333")).addPath(t),e.fillStyle=this.options.fl.col,e.translate(this.options.w-30,-this.options.h),e.fill(t),e.restore(),e.save(),e.rotate(-Math.PI/2),e.fillStyle=this.options.fl.col,e.translate(0,47.5),e.fill(t),e.restore()}else if("RotateRight"===this.options.gMode){e.save(),(t=new Path2D("M68.667,19.499667 C42.167,0.29133336 17.333667,9.833 17.333667,9.833 L15.5,0.50000001 0.49999999,21.999667 21.833667,34.166333 19.792,24.375 C32.542,13.75 68.500333,19.583333 68.500333,19.583333")).addPath(t),e.rotate(-Math.PI/2),e.scale(-1,1),e.fillStyle=this.options.fl.col,e.translate(0,0),e.fill(t),e.restore(),e.save(),e.scale(1,-1),e.fillStyle=this.options.fl.col,e.translate(30,-this.options.h),e.fill(t),e.restore()}else if("PinchIn"===this.options.gMode){e.save();let i="M200,100 L125,87.5 L125,75 L100,100 L125,125 L125,112.5z";e.rotate(-Math.PI/4),(t=new Path2D(i)).addPath(t),e.fillStyle=this.options.fl.col,e.fill(t),(t=new Path2D("M0,100 L75,87.5 L75,75 L100,100 L75,125 L75,112.5z")).addPath(t),e.fill(t),e.restore()}else if("PinchOut"===this.options.gMode){e.save();let i="M100,100 L175,87.5 L175,75 L200,100 L175,125 L175,112.5z";e.rotate(-Math.PI/4),e.translate(0,this.options.h/2),(t=new Path2D(i)).addPath(t),e.fillStyle=this.options.fl.col,e.fill(t),(t=new Path2D("M100,100 L25,87.5 L25,75 L0,100 L25,125 L25,112.5z")).addPath(t),e.fillStyle=this.options.fl.col,e.fill(t),e.restore()}e.restore()},e.prototype.drawArcTime=async function(e,t){const i=t/1e3%(2*Math.PI);Math.abs(Math.cos(i)*radius);ctx.clearRect(0,0,canvas.width,canvas.height),e.save(),e.beginPath(),e.moveTo(p0.x,p0.y),e.arcTo(p1.x,p1.y,p2.x,p2.y,r),e.lineTo(p2.x,p2.y),e.stroke(),e.restore()},e}();glrs.addModule({Level:glen.ModuleLevel.Element,ContentType:"Gesture",grez:function(e,t){return new GestureObject(e).genGesture()},drawCanvas:async function(e,t,i){var a=new GestureObject(e),r=0==isMobile?e.rtwdkt:isTabletLandscape?e.rtwtls:isTabletPortrait?e.rtwtpt:isMobileLandscape?e.rtwmls:isMobilePortrait?e.rtwmpt:e.w,s=0==isMobile?e.rthdkt:isTabletLandscape?e.rthtls:isTabletPortrait?e.rthtpt:isMobileLandscape?e.rthmls:isMobilePortrait?e.rthmpt:e.h,n=Math.min(r,s);return i.scale(n,n),await a.drawCanvas(i)}});var Object3D=function(){function e(e,t){this.options=e,this.selectedAnimation=e.selAni,this.test="123",this.clock=new THREE.Clock,this.scene=new THREE.Scene,this.canvasContainer=glhp.crgs("canvas","","webgl"),this.loadedEvent=new Event("loadedEvent"),this.isCanvas=t,this.divWObject3D=glhp.crgs("div","","Object3D")}return e.prototype.genObject3D=function(){var e=this.options;let t="data/object3D-"+this.options.id+".js";return!1===this.isMyScriptLoaded(t)?glhp.loadScript(t).then(t=>{t&&(e.b64=glrs.getBase64Resource(this.options.id),this.buildObject3D())}):(e.b64=glrs.getBase64Resource(this.options.id),this.buildObject3D()),this.divWObject3D},e.prototype.buildObject3D=function(){var e=this.options;if(void 0===e)return;glhp.appendIdContent(this.divWObject3D,this.canvasContainer),this.canvasContainer.style.width="100%",this.canvasContainer.style.height="100%";var t=0==isMobile?this.options.rtwdkt:isTabletLandscape?this.options.rtwtls:isTabletPortrait?this.options.rtwtpt:isMobileLandscape?this.options.rtwmls:isMobilePortrait?this.options.rtwmpt:1,i=0==isMobile?this.options.rthdkt:isTabletLandscape?this.options.rthtls:isTabletPortrait?this.options.rthtpt:isMobileLandscape?this.options.rthmls:isMobilePortrait?this.options.rthmpt:1,a=Math.min(t,i);this.canvasContainer.style.transformOrigin="0 0",this.canvasContainer.style.transform="scale("+a+","+a+")";const{GLTFLoader:r}=window.a3d,{OrbitControls:s}=window.aoc,n=new r;var l=this.Base64ToArrayBuffer(e.b64),o=this;if(!l)return;n.parse(l,"",(function(e){o.root=e.scene;const t=e.animations;if(o.mixer=new THREE.AnimationMixer(o.root),t.length>0){if(o.selectedAnimation){var i=t.filter((function(e){return e.name===o.selectedAnimation}));i&&i.length>0?o.currentAnimation=o.mixer.clipAction(i[0]):o.currentAnimation=o.mixer.clipAction(t[0])}else o.currentAnimation=o.mixer.clipAction(t[0]);o.currentAnimation.enabled=!0,o.currentAnimation.setEffectiveTimeScale(.5),o.currentAnimation.setEffectiveWeight(1),o.selectedAnimation&&o.currentAnimation.play(),"Automatically"!==o.options.p3D&&(o.currentAnimation.paused=!0)}o.scene.add(o.root),!0===o.isCanvas&&(o.animate(),o.canvasContainer.dispatchEvent(o.loadedEvent))}));const h=new THREE.AmbientLight(16777215,.5);this.scene.add(h);const d=new THREE.HemisphereLight(16777215,4473924);d.position.set(0,20,0),this.scene.add(d);const c=new THREE.DirectionalLight(14079702);if(c.position.set(e.lookDir.x,e.lookDir.y,e.lookDir.z),c.castShadow=!0,c.shadow.camera.top=2,c.shadow.camera.bottom=-2,c.shadow.camera.left=-2,c.shadow.camera.right=2,c.shadow.camera.near=.1,c.shadow.camera.far=40,this.scene.add(c),this.camera=new THREE.PerspectiveCamera(60,e.w/e.h,.01,1e3),this.scene.add(this.camera),this.scene.position.set(-e.posi.x,-e.posi.y,-e.posi.z),this.camera.position.set(e.posi.x,e.posi.y,e.posi.z),this.camera.up.set(e.upDir.x,e.upDir.y,e.upDir.z),this.camera.lookAt(e.lookDir.x,e.lookDir.y,e.lookDir.z),this.renderer=new THREE.WebGLRenderer({canvas:this.canvasContainer,antialias:!0,preserveDrawingBuffer:!0}),this.renderer.setSize(e.w,e.h),this.renderer.setPixelRatio(Math.min(window.devicePixelRatio,2)),this.renderer.gammaOutput=!0,this.renderer.outputEncoding=THREE.sRGBEncoding,this.renderer.setClearColor(0,0),this.animate(),"WhenClicked"===e.p3D&&(this.divWObject3D.style.cursor="pointer",this.divWObject3D.addEventListener("click",(function(e){o.play()}))),!0===e.rot3D){var p=!1;this.previousMousePosition={x:0,y:0},$(this.renderer.domElement).on("mousedown",(function(e){p=!0})).on("mousemove",(function(e){var t=e.offsetX-o.previousMousePosition.x,i=e.offsetY-o.previousMousePosition.y;if(p&&1===e.which){var a=(new THREE.Quaternion).setFromEuler(new THREE.Euler(o.toRadians(.4*i),o.toRadians(.4*t),0,"XYZ"));o.root.quaternion.multiplyQuaternions(a,o.root.quaternion)}o.previousMousePosition={x:e.offsetX,y:e.offsetY}})),$(this.renderer.domElement).on("mouseup",(function(e){e.stopPropagation(),p=!1}))}},e.prototype.isMyScriptLoaded=function(e){if(!e)return!1;for(var t=document.getElementsByTagName("script"),i=t.length;i--;)if(t[i].src&&t[i].src.includes(e))return!0;return!1},e.prototype.Base64ToArrayBuffer=function(e){if(e){for(var t=window.atob(e),i=t.length,a=new Uint8Array(i),r=0;r<i;r++)a[r]=t.charCodeAt(r);return a.buffer}},e.prototype.activateAction=function(e){this.setWeight(e,1),e.play()},e.prototype.setWeight=function(e,t){e.enabled=!0,e.setEffectiveTimeScale(.5),e.setEffectiveWeight(t)},e.prototype.play=function(){this.currentAnimation&&(this.currentAnimation.paused=!1)},e.prototype.pause=function(){this.currentAnimation&&(this.currentAnimation.paused=!0)},e.prototype.toRadians=function(e){return e*(Math.PI/180)},e.prototype.animate=function(){requestAnimationFrame(this.animate.bind(this));const e=this.clock.getDelta();this.mixer&&this.mixer.update(e),this.renderer.render(this.scene,this.camera)},e.prototype.drawCanvas=async function(e){var t=this.options,i=glrs.getBase64Resource(t.id+"-thumbnail");if(i){var a=await this.loadImage(i);a&&(e.save(),e.beginPath(),e.moveTo(t.x1,t.y1),e.lineTo(t.x2,t.y2),e.lineWidth=4,e.stroke(),e.translate(t.w/2,t.h/2),e.rotate(t.ag/180*Math.PI),e.translate(-t.w/2,-t.h/2),e.drawImage(a,0,0,t.w,t.h),e.restore())}},e.prototype.loadImage=function(e){return new Promise((t,i)=>{let a=document.createElement("img");a.onload=()=>{t(a)},a.onerror=i,e&&(a.src=e)})},e}();function cvfxw(e){var t=e.toPrecision(16).toString();return parseFloat(t)}function svfzp(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12;return parseFloat(e.toPrecision(t))}glrs.addModule({Level:glen.ModuleLevel.Element,ContentType:"Object3D",grez:function(e,t){return new Object3D(e,!1).genObject3D()},drawCanvas:async function(e,t,i){var a=new Object3D(e,!0),r=0==isMobile?e.rtwdkt:isTabletLandscape?e.rtwtls:isTabletPortrait?e.rtwtpt:isMobileLandscape?e.rtwmls:isMobilePortrait?e.rtwmpt:e.w,s=0==isMobile?e.rthdkt:isTabletLandscape?e.rthtls:isTabletPortrait?e.rthtpt:isMobileLandscape?e.rthmls:isMobilePortrait?e.rthmpt:e.h,n=Math.min(r,s);return i.scale(n,n),await a.drawCanvas(i)}}),Array.prototype.uwmx=function(e){for(var t=[],i=0,a=e.length;i<a;++i)-1===this.indexOf(e[i])&&t.push(e[i]);return this.concat(t)};var chart,Point=function(){function e(e,t,i){this.x=e,this.y=t,this.color=i||"black"}return e.prototype.distance=function(e){return Math.sqrt(Math.pow(this.x-e.x,2)+Math.pow(this.y-e.y,2))},e}(),Line=function(){function e(e,t,i,a,r,s,n,l){this.id=e,this.point1=t,this.point2=i,this.color=a||"black",this.lineWidth=0!=r?r||1:r,this.w=Math.sqrt(Math.pow(i.x-t.x,2)+Math.pow(i.y-t.y,2))||0,this.h=this.lineWidth,this.strokeLineCap=s||"Square",this.strokeLineJoin=n||"Miter",this.typeDashArray=l}return e.prototype.getElement=function(){var e=glhp.crgs("line");return e.setAttribute("id",this.id),e.setAttribute("width",this.w),e.setAttribute("height",this.h),e.setAttribute("x1",this.point1.x),e.setAttribute("y1",this.point1.y),this.point1.x==this.point2.x?this.point2.x=this.point2.x+.1:this.point1.y==this.point2.y&&(this.point2.y=this.point2.y+.1),e.setAttribute("x2",this.point2.x),e.setAttribute("y2",this.point2.y),e.setAttribute("stroke",this.color.col),e.setAttribute("stroke-width",this.lineWidth),e.setAttribute("stroke-linecap",this.strokeLineCap),e.setAttribute("stroke-linejoin",this.strokeLineJoin),e.setAttribute("stroke-dasharray",shzp.dskz(this.typeDashArray)),e},e}(),Rect=function(){function e(e,t,i,a,r,s,n,l,o,h,d,c){void 0===l&&(l=0),this.opacity=o||1,this.id=e,this.point=t,this.w=i,this.h=a,this.color=r,this.colorStroke=n,this.strokeWidth=l,this.strokeLineCap=h||"Square",this.strokeLineJoin=d||"Miter",this.typeDashArray=c,this.fill=s}return e.prototype.getElement=function(){var e=glhp.crgs("rect");return e.setAttribute("id",this.id),e.setAttribute("x",this.point.x),e.setAttribute("y",this.point.y),e.setAttribute("width",this.w),e.setAttribute("height",this.h),e.setAttribute("fill",this.color),this.colorStroke&&e.setAttribute("stroke",this.colorStroke),e.setAttribute("opacity",this.opacity),"number"==typeof this.strokeWidth&&e.setAttribute("stroke-width",this.strokeWidth),e.setAttribute("stroke-linecap",this.strokeLineCap),e.setAttribute("stroke-linejoin",this.strokeLineJoin),e.setAttribute("stroke-dasharray",shzp.dskz(this.typeDashArray)),e},e}(),Ellipse=function(){function e(e,t,i,a,r,s,n,l,o,h,d,c){void 0===l&&(l=0),this.opacity=o||1,this.id=e,this.point=t,this.w=i,this.h=a,this.color=r,this.colorStroke=n,this.strokeWidth=l,this.strokeLineCap=h||"Square",this.strokeLineJoin=d||"Miter",this.typeDashArray=c,this.fill=s}return e.prototype.getElement=function(){var e=glhp.crgs("ellipse");return e.setAttribute("id",this.id),e.setAttribute("cx",this.point.x+this.w/2),e.setAttribute("cy",this.point.y),e.setAttribute("rx",2),e.setAttribute("ry",2),e.setAttribute("width",this.w),e.setAttribute("height",this.h),e.setAttribute("fill",this.color),this.colorStroke&&e.setAttribute("stroke",this.colorStroke),e.setAttribute("opacity",this.opacity),"number"==typeof this.strokeWidth&&e.setAttribute("stroke-width",this.strokeWidth),e.setAttribute("stroke-linecap",this.strokeLineCap),e.setAttribute("stroke-linejoin",this.strokeLineJoin),e.setAttribute("stroke-dasharray",shzp.dskz(this.typeDashArray)),e},e}(),TextChart=function(){function e(e,t,i,a,r,s,n,l,o,h,d,c){this.id=e,this.point=i,this.text=t,this.font=a,this.size=r,this.color=s||"black",this.textAlign=n||"start",this.textBaseline=l||"hanging",this.rotate=o,this.fontstyle=h,this.fontweight=d,this.textdecoration=c}return e.prototype.getElement=function(e){void 0===e&&(e=!1);var t=glhp.crgs("text");t.setAttribute("id",this.id),t.setAttribute("x",this.point.x),t.setAttribute("y",this.point.y),t.setAttribute("fill",this.color),t.setAttribute("font-size",this.size),t.setAttribute("text-anchor",this.textAlign),t.setAttribute("baseline",this.textBaseline),t.setAttribute("font-family",this.font),t.setAttribute("font-style",this.fontstyle),t.setAttribute("font-weight",this.fontweight),this.textdecoration&&"Underline"==this.textdecoration?t.setAttribute("text-decoration",this.textdecoration):this.textdecoration&&"Strikethrough"==this.textdecoration?t.setAttribute("text-decoration","line-through"):this.textdecoration&&"Underline, Strikethrough"==this.textdecoration&&t.setAttribute("text-decoration","line-through underline");var i=document.createTextNode(this.text);return t.appendChild(i),t},e}(),Canvas=function(){function e(e,t,i,a,r){void 0===t&&(t=800),void 0===i&&(i=600),void 0===a&&(a=0),void 0===r&&(r=0),this.id=e,this.w_canvas=t,this.h_canvas=i,this.top_canvas=a,this.left_canvas=r}return e.prototype.genCanvas=function(){var e=document.createElement("canvas");return e.id=this.id,e.width=this.w_canvas,e.height=this.h_canvas,e.style.position="absolute",e.style.top=this.top_canvas+"px",e.style.left=this.left_canvas+"px",e},e.prototype.returnElement=function(){return this.genCanvas()},e}(),Axes=function(e,t){void 0===e&&(e=!0),void 0===t&&(t=!0),this.primaryHorizontal=primanyHorizontal,this.primaryVertical=t},GridLine=function(e,t,i,a,r,s,n,l,o){this.primaryMajorHorizontal=e||!1,this.primaryMajorVertical=t||!1,this.primaryMinorVertical=a||!1,this.primaryMinorHorizontal=i||!1,this.colorMajorHorizontal=r||"#000000",this.colorMinorHorizontal=s||"#DFDFDF",this.colorMajorVertical=n||"#7F7F7F",this.colorMinorVertical=l||"#6F6F6F",this.Thickness=o},DataLable=function(e,t,i,a,r){this.center=e||!1,this.insideBase=i||!1,this.insideEnd=t||!1,this.outsideEnd=a||!1,this.dataCallout=r||!1},dbbw=function(){function e(e,t,i,a,r){this.horizontal=e,this.vertical=t,this.outline=i,this.showLegendKey=a,this.tableKey=r}return e.prototype.dbbw=function(){vertical=!1,horizontal=!1,outline=!1,showLegendKey=!1,tableKey=!1},e}(),SeriOption=function(e,t,i,a){this.primaryAxis=e,this.secondaryAxis=t,this.gapWidth=i,this.serisOverlap=a},Seri=function(e,t,i,a,r,s,n,l,o,h,d,c){this.value=e,this.name=t,this.w=i,this.h=a,this.serisOverlap=serisOverlap,this.gapWidth=s,this.gapWidthChangeOverlap=n,this.point=l,this.dataLable=o,this.isCheckLeft=h,this.isCheckRight=d,this.isSecondary=c};function clpz(e){for(var t=0,i=[1,2,5,10],a=e/9.52,r=Math.floor(Math.log(a)/Math.log(10)),s=0;s<i.length;s++)if(i[s]=i[s]*Math.pow(10,r),a<=i[s]){t=i[s];break}return t}function gliz(e,t,i,a,r,s,n,l,o,h){void 0===r&&(r="black"),void 0===n&&(n=1),e.push(new Line(t,i,a,r,s,n,l,o,h))}function GenerateRadar(e,t,i,a,r,s,n,l,o,h){void 0===r&&(r="black"),void 0===n&&(n=1),e.push(new Line(t,i,a,r,s,n,l,o,h))}function gexz(e,t,i,a,r,s,n,l,o,h,d,c,p){e.push(new TextChart(t,i,a,r,s,n,l,o,h,d,c,p))}function drwl(e){for(var t=glhp.crgs("g"),i=0;i<e.length;i++){var a=e[i];a.color={col:a.color},t.appendChild(a.getElement())}return t}function drwt(e){for(var t=glhp.crgs("g"),i=0;i<e.length;i++){var a=new TextChart(e[i].id,e[i].text,e[i].point,e[i].font,e[i].size,e[i].color,e[i].textAlign,e[i].textBaseline,e[i].rotate,e[i].fontstyle,e[i].fontweight,e[i].textdecoration);t.appendChild(a.getElement())}return t}function drwtPercent(e){for(var t=glhp.crgs("g"),i=0;i<e.length;i++){var a=new TextChart(e[i].id,e[i].text+"%",e[i].point,e[i].font,e[i].size,e[i].color,e[i].textAlign,e[i].textBaseline,e[i].rotate,e[i].fontstyle,e[i].fontweight,e[i].textdecoration);t.appendChild(a.getElement())}return t}function ucsw(e){return e.charAt(0).toUpperCase().concat(e.slice(1))}function exrr(e,t){for(var i=0;i<e.length;i++)if(e[i]===t)return!0;return!1}function farwa(e,t){for(var i=0;i<e.length;i++)if(e[i].ID===t)return e[i]}var ArrayValue=function(){function e(e){this.arr=e}return e.prototype.sumSingleIteration=function(e){return e?this.arr.map((function(t,i){return t+e.arr[i]})):this.arr},e}(),Chart=function(){function e(e,t,i){if((e=ChartModule.cvops(e,t))&&e.FrameChart){var a;switch(this.options=e,this.wCanvas=e.Width,this.hCanvas=e.Height,this.topCanvas=e.Top,this.leftCanvas=e.Left,this.wChart=e.FrameChart.w,this.hChart=e.FrameChart.h,this.xChart=e.FrameChart.l,this.yChart=e.FrameChart.T,this.locationChart=new Point(this.xChart,this.yChart),this.seriesOption=e.Data[0].Series,this.dataTable=e.dbbw,this.data=e.Data||[],this.type=e.Type||"",this.linesOfGridLine=[],this.gChart=glhp.crgs("g","","chart"),this.type){case"ComboChart":var r=new ComboChart(this);r.gChart(i),a=r;break;case"PieChart":var s=new PieChart(this);s.gChart(i),a=s}return this.bieuDo=a,chart=a,a.gChart(i)}}function t(e,t,i){var a=new Point;return a.x=e.x+(t.x-e.x)*Math.cos(i/180*Math.PI)-(t.y-e.y)*Math.sin(i/180*Math.PI),a.y=e.y+(t.x-e.x)*Math.sin(i/180*Math.PI)+(t.y-e.y)*Math.cos(i/180*Math.PI),a}return e.prototype.getCategory=function(){return this.options.Data.map((function(e){return e.CategoryName}))},e.prototype.getArrData=function(){return this.options.Data.map((function(e){return e.Series}))},e.prototype.getVal=function(e,t){return this.getArrData()[e][t].value},e.prototype.arrOptionAxis=function(){for(var e=[],t=[],i=[],a=0;a<this.seriesOption.length;a++)this.seriesOption[a].IsPrimaryAxis?t.push(a):i.push(a);return e.push(t),e.push(i),e},e.prototype.overlap=function(){var e=[],t=this.options.config.primaryAxis.overlap,i=this.options.config.secondAxis.overlap;return e.push(t),e.push(i),e},e.prototype.gapWidth=function(){var e=[],t=this.options.config.primaryAxis.gapWidth,i=this.options.config.secondAxis.gapWidth;return e.push(t),e.push(i),e},e.prototype.numCategory=function(){return this.data.length},e.prototype.numSeri=function(){return this.seriesOption.length},e.prototype.widthGap=function(e,t){return this.wChart/(this.numCategory()*(e+t/100))},e.prototype.marginGap=function(e,t){return t/100*this.widthGap(e,t)/2},e.prototype.cacl_y=function(e,t,i){return this.hChart+this.locationChart.y-this.h_val(e,t,i)},e.prototype.drawGrid=function(e,i,a,r,s){var n,l,o,h,d,c=[],p=this.stepHeight(a,i),u=r+this.wChart,m=s+this.hChart,b=m,f="#f2f2f2",g=e.primaryMajorHorizontal,w=e.primaryMinorHorizontal,y=e.primaryMinorVertical,v=e.primaryMajorVertical,C=e.Thickness,T=0,S=!1;for(let e=0;e<this.options.Data.length;e++){var x=this.options.Data[e];for(let e=0;e<x.Series.length;e++)if("RadarChart"==x.Series[e].ChartKey){S=!0;break}}var A=!1;for(let e=0;e<this.options.Data.length;e++){x=this.options.Data[e];for(let e=0;e<x.Series.length;e++)if("RadarChart"!=x.Series[e].ChartKey){A=!0;break}}if("RadarChart"==this.options.ChartKey||"ComboChart"==this.options.ChartKey&&S)if(g&&!w){f=e.colorMajorHorizontal;var M=this.data.length,G=new Point((u+r)/2,(m+s)/2),D=new Point(G.x,G.y-(m-s)/2),L=new Point(D.x,D.y),k=360/M,O=i/a;for(d=0;d<5*O;d++){if(d%5==0)for(f=e.colorMajorHorizontal,o=1;o<=M;o++)gliz(c,"",L,E=t(G,D,k*o),f,C),L=new Point(E.x,E.y);else f=e.colorMinorHorizontal;D.y+=(m-s)/2/(i/a*5),L=new Point(D.x,D.y)}}else if(!g&&w){f=e.primaryMinorHorizontal;M=this.data.length,G=new Point((u+r)/2,(m+s)/2),D=new Point(G.x,G.y-(m-s)/2),L=new Point(D.x,D.y),k=360/M,O=i/a;for(d=0;d<5*O;d++){for(o=1;o<=M;o++)gliz(c,"",L,E=t(G,D,k*o),f,C),L=new Point(E.x,E.y);D.y+=(m-s)/2/(i/a*5),L=new Point(D.x,D.y)}}else if(g&&w){f=e.primaryMinorHorizontal;var E;M=this.data.length,G=new Point((u+r)/2,(m+s)/2),D=new Point(G.x,G.y-(m-s)/2),L=new Point(D.x,D.y),k=360/M,O=i/a;for(d=0;d<5*O;d++){for(f=d%5==0?e.colorMajorHorizontal:e.colorMinorHorizontal,o=1;o<=M;o++)gliz(c,"",L,E=t(G,D,k*o),f,C),L=new Point(E.x,E.y);D.y+=(m-s)/2/(i/a*5),L=new Point(D.x,D.y)}}if(A){if(g&&!w)for(f=e.colorMajorHorizontal,o=i;o>=0;o-=a)gliz(c,"",n=new Point(r,b),l=new Point(u,b),f,C),b-=p;else if(!g&&w)for(f=e.primaryMinorHorizontal,h=i/a*5+1,o=0;o<h;o++)gliz(c,"",n=new Point(r,b),l=new Point(u,b),f,C),b-=p/5;else if(g&&w)for(h=i/a*5+1,o=0;o<h;o++)gliz(c,"",n=new Point(r,b),l=new Point(u,b),f=T%5==0?e.colorMajorHorizontal:e.colorMinorHorizontal,C),b-=p/5,T++;var H,I=this.numCategory(),P=this.wChart/I;if((!v&&y||v&&y)&&(P/=2),T=0,v&&!y){f=e.colorMajorVertical,H=r;for(var R=0;R<=(u-r)/P;R++)gliz(c,"",n=new Point(H,s),l=new Point(H,m),f,C),H+=P}else if(!v&&y){f=e.colorMinorVertical,H=r;for(R=0;R<=(u-r)/P;R++)gliz(c,"",n=new Point(H,s),l=new Point(H,m),f,C/2),T++,H+=P}else if(v&&y){H=r;for(R=0;R<=(u-r)/P;R++)n=new Point(H,s),l=new Point(H,m),T%2==0?gliz(c,"",n,l,f=e.colorMajorVertical,C):gliz(c,"",n,l,f=e.colorMinorVertical,C/2),T++,H+=P}}return this.linesOfGridLine=c,drwl(c)},e.prototype.drawGridCanvas=async function(e,i,a,r,s,n){var l,o,h,d,c,p=[],u=this.stepHeight(r,a),m=s+this.wChart,b=n+this.hChart,f=b,g="#f2f2f2",w=i.primaryMajorHorizontal,y=i.primaryMinorHorizontal,v=i.primaryMinorVertical,C=i.primaryMajorVertical,T=i.Thickness,S=0,x=!1;for(let e=0;e<this.options.Data.length;e++){var A=this.options.Data[e];for(let e=0;e<A.Series.length;e++)if("RadarChart"==A.Series[e].ChartKey){x=!0;break}}var M=!1;for(let e=0;e<this.options.Data.length;e++){A=this.options.Data[e];for(let e=0;e<A.Series.length;e++)if("RadarChart"!=A.Series[e].ChartKey){M=!0;break}}if("RadarChart"==this.options.ChartKey||"ComboChart"==this.options.ChartKey&&x)if(w&&!y){g=i.colorMajorHorizontal;var G=this.data.length,D=new Point((m+s)/2,(b+n)/2),L=new Point(D.x,D.y-(b-n)/2),k=new Point(L.x,L.y),O=360/G,E=a/r;for(c=0;c<5*E;c++){if(c%5==0)for(g=i.colorMajorHorizontal,h=1;h<=G;h++)gliz(p,"",k,H=t(D,L,O*h),g,T),k=new Point(H.x,H.y);else g=i.colorMinorHorizontal;L.y+=(b-n)/2/(a/r*5),k=new Point(L.x,L.y)}}else if(!w&&y){g=i.primaryMinorHorizontal;G=this.data.length,D=new Point((m+s)/2,(b+n)/2),L=new Point(D.x,D.y-(b-n)/2),k=new Point(L.x,L.y),O=360/G,E=a/r;for(c=0;c<5*E;c++){for(h=1;h<=G;h++)gliz(p,"",k,H=t(D,L,O*h),g,T),k=new Point(H.x,H.y);L.y+=(b-n)/2/(a/r*5),k=new Point(L.x,L.y)}}else if(w&&y){g=i.primaryMinorHorizontal;var H;G=this.data.length,D=new Point((m+s)/2,(b+n)/2),L=new Point(D.x,D.y-(b-n)/2),k=new Point(L.x,L.y),O=360/G,E=a/r;for(c=0;c<5*E;c++){for(g=c%5==0?i.colorMajorHorizontal:i.colorMinorHorizontal,h=1;h<=G;h++)gliz(p,"",k,H=t(D,L,O*h),g,T),k=new Point(H.x,H.y);L.y+=(b-n)/2/(a/r*5),k=new Point(L.x,L.y)}}if(M){if(w&&!y)for(g=i.colorMajorHorizontal,h=a;h>=0;h-=r)gliz(p,"",l=new Point(s,f),o=new Point(m,f),g,T),f-=u;else if(!w&&y)for(g=i.primaryMinorHorizontal,d=a/r*5+1,h=0;h<d;h++)gliz(p,"",l=new Point(s,f),o=new Point(m,f),g,T),f-=u/5;else if(w&&y)for(d=a/r*5+1,h=0;h<d;h++)gliz(p,"",l=new Point(s,f),o=new Point(m,f),g=S%5==0?i.colorMajorHorizontal:i.colorMinorHorizontal,T),f-=u/5,S++;var I,P=this.numCategory(),R=this.wChart/P;if((!C&&v||C&&v)&&(R/=2),S=0,C&&!v){g=i.colorMajorVertical,I=s;for(var F=0;F<=(m-s)/R;F++)gliz(p,"",l=new Point(I,n),o=new Point(I,b),g,T),I+=R}else if(!C&&v){g=i.colorMinorVertical,I=s;for(F=0;F<=(m-s)/R;F++)gliz(p,"",l=new Point(I,n),o=new Point(I,b),g,T/2),S++,I+=R}else if(C&&v){I=s;for(F=0;F<=(m-s)/R;F++)l=new Point(I,n),o=new Point(I,b),S%2==0?gliz(p,"",l,o,g=i.colorMajorVertical,T):gliz(p,"",l,o,g=i.colorMinorVertical,T/2),S++,I+=R}}for(var B=0;B<p.length;B++){var N=p[B];await this.drawChartLine(e,N.point1,N.point2,N.lineWidth,N.color,N.strokeLineCap,N.strokeLineJoin,N.typeDashArray)}},e.prototype.outlineAxes=function(){for(var e=this.xChart,t=this.yChart,i=e+this.wChart,a=t+this.hChart,r=this.options.DataAxes.ListDataAxes,s=r.map((function(e){return e.Stroke})),n=[[new Point(e,a),new Point(i,a)],[new Point(e,t),new Point(e,a)],[new Point(i,t),new Point(i,a)]],l=glhp.crgs("g","","outline"),o=0;o<n.length;o++){var h=n[o][0],d=n[o][1],c=FillColorHelper.genGTag(s[o],{id:r[o].id,width:0,height:0});c.Tag&&l.appendChild(c.Tag);var p=new Line("",h,d,{col:c.ID},r[o].Thickness,r[o].CapType,r[o].JoinType,r[o].DashType);l.appendChild(p.getElement())}return l},e.prototype.h_val=function(e,t,i){return Math.ceil(e/t)*i+i/t*(e-Math.ceil(e/t)*t)},e.prototype.step=function(e){return clpz(e)},e.prototype.stepHeight=function(e,t){var i=this.hChart;return 0!=e?i/(t/e):0},e.prototype.avgWidth=function(e){return e?this.wChart/(this.numCategory()-1):this.wChart/this.numCategory()},e.prototype.axis=function(){this.options.axes.axes.primaryHorizontal,this.options.axes.axes.primaryVertical,this.options.axes.axes.secondaryHorizontal,this.options.axes.axes.secondaryVertical},e.prototype.getArrLegend=function(){return this.seriesOption.map((function(e){return e.dataLable}))},e.prototype.grsw=function(){return this.seriesOption.map((function(e){return e.Name}))},e.prototype.gcls=function(){return this.seriesOption.map((function(e){return e.color}))},e.prototype.displaydbbw=function(){var e=glhp.crgs("g","","dataTable");this.gChart.appendChild(e);var t=this.dataTable.dbbw,i=this.dataTable.TableBorder,a=i.IsHorizontal,r=i.IsVertical,s=i.IsOutline,n=this.dataTable.HeightTable.HeightCategory,l=this.numSeri(),o=this.numCategory(),h=this.avgWidth(),d=this.xChart-this.dataTable.dbbw.WidthLeftTable,c=this.yChart+this.hChart,p=0,u=t.Thickness,m=t.CapType,b=t.JoinType,f=t.DashType,g=null;if(t.Stroke){g=FillColorHelper.genGTag(t.Stroke,{id:t.id,width:0,height:0});"Solid"!==t.Stroke.CoT&&e.appendChild(g.Tag)}for(var w=0;w<l;w++)p+=this.options.dbbw.HeightTable.Series[w].Height;var y,v=c+n+p,C={col:g.ID,opc:g.opacity};if(r)for(var T=0;T<o-1;T++){var S=this.xChart+h*(T+1),x=new Point(S,c),A=new Point(S+.01,v),M=new Line("",x,A,C,u,m,b,f);e.appendChild(M.getElement())}if(a){y=0;for(var G=0;G<l-1;G++){y+=this.options.dbbw.HeightTable.Series[G].Height;var D=d,L=D+(this.xChart-d)+this.wChart,k=c+n+y,O=new Point(D,k),E=new Point(L,k+.01),H=new Line("",O,E,C,u,m,b,f);e.appendChild(H.getElement())}}if(s){var I=d,P=I+(this.xChart-d)+this.wChart,R=c+n,F=R+p,B=new Point(I,R),N=new Point(P,R+.01),z=new Line("",B,N,C,u,m,b,f);e.appendChild(z.getElement()),B=new Point(I,R),N=new Point(I+.01,F);var Q=new Line("",B,N,C,u,m,b,f);e.appendChild(Q.getElement()),B=new Point(P,F),N=new Point(I,F+.01);var V=new Line("",B,N,C,u,m,b,f);e.appendChild(V.getElement()),B=new Point(this.xChart,c),N=new Point(this.xChart+.01,F);var U=new Line("",B,N,C,u,m,b,f);e.appendChild(U.getElement()),B=new Point(P,c),N=new Point(P+.01,F);var $=new Line("",B,N,C,u,m,b,f);e.appendChild($.getElement()),N=new Point(this.xChart+.01,c);var Y=new Line("",B,N,C,u,m,b,f);e.appendChild(Y.getElement())}return e},e.prototype.displaydbbwCanvas=function(e){var t=this.dataTable.dbbw,i=this.dataTable.TableBorder,a=i.IsHorizontal,r=i.IsVertical,s=i.IsOutline,n=this.dataTable.HeightTable.HeightCategory,l=this.numSeri(),o=this.numCategory(),h=this.avgWidth(),d=this.xChart-this.dataTable.dbbw.WidthLeftTable,c=this.yChart+this.hChart,p=0,u=t.Thickness,m=t.CapType,b=t.JoinType,f=t.DashType,g=null;if(t.Stroke)g=FillColorHelper.genGTag(t.Stroke,{id:t.id,width:0,height:0});for(var w=0;w<l;w++)p+=this.options.dbbw.HeightTable.Series[w].Height;var y,v=c+n+p,C={col:g.ID,opc:g.opacity};if(r)for(var T=0;T<o-1;T++){var S=this.xChart+h*(T+1),x=new Point(S,c),A=new Point(S+.01,v);this.drawChartLine(e,x,A,C,u,m,b,f)}if(a){y=0;for(var M=0;M<l-1;M++){y+=this.options.dbbw.HeightTable.Series[M].Height;var G=d,D=G+(this.xChart-d)+this.wChart,L=c+n+y,k=new Point(G,L),O=new Point(D,L+.01);this.drawChartLine(e,k,O,C,u,m,b,f)}}if(s){var E=d,H=E+(this.xChart-d)+this.wChart,I=c+n,P=I+p,R=new Point(E,I),F=new Point(H,I+.01);this.drawChartLine(e,R,F,C,u,m,b,f),R=new Point(E,I),F=new Point(E+.01,P),this.drawChartLine(e,R,F,C,u,m,b,f),R=new Point(H,P),F=new Point(E,P+.01),this.drawChartLine(e,R,F,C,u,m,b,f),R=new Point(this.xChart,c),F=new Point(this.xChart+.01,P),this.drawChartLine(e,R,F,C,u,m,b,f),R=new Point(H,c),F=new Point(H+.01,P),this.drawChartLine(e,R,F,C,u,m,b,f),F=new Point(this.xChart+.01,c),this.drawChartLine(e,R,F,C,u,m,b,f)}},e.prototype.cdkl=function(e){for(var t=[],i=0;i<this.options.data.length;i++)t.push(this.options.data[i].series[e].value);return t},e.prototype.maxRecent=function(e,t){return 0===t?0:Math.ceil(e/t)*t},e.prototype.maxValAxis=function(e){var t=clpz(e),i=this.maxRecent(e,t);((e-(i-t))/t>.7&&"RadarChart"!=this.options.ChartKey&&(i+=t),0!==t)&&(i=parseInt(i/t)*t);return i},e.prototype.tpgr=function(e,t){var i,a,r,s,n,l,o,h=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,d=arguments.length>3&&void 0!==arguments[3]&&arguments[3],c=this.options.DataAxes.ListDataAxes[1],p=c.ShapeBases,u=p.length,m=this.stepHeight(t,e),b=[],f=c.Left,g=this.yChart+this.hChart;if("RadarChart"==this.options.ChartKey&&(m/=2,g=this.yChart+this.hChart/2),c.IsChecked){var w,y=glhp.crgs("g");i=c.Foreground.col,a=c.FontFamily,r=c.FontSize,s=c.FontStyle,n=c.FontWeight,l=c.TextDecoration;var v=e/t;1===h?(e=100,t=10,d=!0):2===h?(e*=100,t*=100,d=!0):3===h&&(d=!1);for(var C=e,T=0;T<=Math.min(v,u-1);T++){var S=new Point(f,g+c.HeightText/4);o=svfzp(e-C),C-=t,p[T].ID="frameTextPrimary"+T,p[T].Height=r,p[T].Top=S.y-p[T].Height/2-p[T].Height/4,p[T].Left=S.x-p[T].Width,p[T].Fill=c.Fill,this.objRectFill(p[T],y),gexz(b,"id",o,S,a,r,i,"end","middle","",s,n,l),g-=m}var x=!1;for(let e=0;e<this.options.Data.length;e++){var A=this.options.Data[e];for(let e=0;e<A.Series.length;e++)if("RadarChart"==A.Series[e].ChartKey){x=!0;break}}if(g=this.yChart+this.hChart,"ComboChart"==this.options.ChartKey&&x){m/=2,g=this.yChart+this.hChart/2,C=e;for(T=0;T<=Math.min(v,u-1);T++){S=new Point(f+this.wChart/2,g+c.HeightText/4);o=svfzp(e-C),C-=t,p[T].ID="frameTextPrimary"+T,p[T].Height=r,p[T].Top=S.y-p[T].Height/2-p[T].Height/4,p[T].Left=S.x-p[T].Width,p[T].Fill=c.Fill,this.objRectFill(p[T],y),gexz(b,"id",o,S,a,r,i,"end","middle"),g-=m}}return w=d?drwtPercent(b):drwt(b),y.appendChild(w),y}},e.prototype.tpgrCanvas=async function(e,t,i,a){var r,s,n,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],h=this.options.DataAxes.ListDataAxes[1],d=h.ShapeBases,c=d.length,p=this.stepHeight(t,e),u=[],m=h.Left,b=this.yChart+this.hChart;if("RadarChart"==this.options.ChartKey&&(p/=2,b=this.yChart+this.hChart/2),h.IsChecked){r=h.Foreground.col,S=h.FontFamily,s=h.FontSize;var f=e/t;1===l?(e=100,t=10,o=!0):2===l?(e*=100,t*=100,o=!0):3===l&&(o=!1);for(var g=e,w=0;w<=Math.min(f,c-1);w++){var y=new Point(m,b+h.HeightText/4);n=svfzp(e-g),g-=t,d[w].ID="frameTextPrimary"+w,d[w].Height=s,d[w].Top=y.y-d[w].Height/2-d[w].Height/4,d[w].Left=y.x-d[w].Width,d[w].Fill=h.Fill,gexz(u,"id",n,y,S,s,r,"end","middle"),b-=p}var v=!1;for(let e=0;e<this.options.Data.length;e++){var C=this.options.Data[e];for(let e=0;e<C.Series.length;e++)if("RadarChart"==C.Series[e].ChartKey){v=!0;break}}if(b=this.yChart+this.hChart,"ComboChart"==this.options.ChartKey&&v){p/=2,b=this.yChart+this.hChart/2,g=e;for(w=0;w<=Math.min(f,c-1);w++){y=new Point(m+this.wChart/2,b+h.HeightText/4);n=svfzp(e-g),g-=t,d[w].ID="frameTextPrimary"+w,d[w].Height=s,d[w].Top=y.y-d[w].Height/2-d[w].Height/4,d[w].Left=y.x-d[w].Width,d[w].Fill=h.Fill,gexz(u,"id",n,y,S,s,r,"end","middle"),b-=p}}if(o)for(var T=0;T<u.length;T++){var S=(x=u[T]).size+"px "+x.font;await this.drwtCanvas(a,x.textAlign,x.text+"%",x.point.x,x.point.y,S,x.color)}else for(T=0;T<u.length;T++){var x;S=(x=u[T]).size+"px "+x.font;await this.drwtCanvas(a,x.textAlign,x.text,x.point.x,x.point.y,S,x.color)}}},e.prototype.drwtCanvas=function(e,t,i,a,r,s,n){e.textAlign=t,e.fillStyle=n,e.font=s,e.fillText(i,a,r)},e.prototype.drawChartLine=function(e,t,i,a,r,s,n,l,o){e.save(),e.beginPath(),e.moveTo(t.x,t.y),e.lineTo(i.x,i.y),e.closePath(),e.strokeStyle=r,e.lineCap=s,e.opacity=o,e.lineJoin,e.lineWidth=a;var h=shzp.dskz(l,a);e.setLineDash(h.split`,`.map(e=>+e)),e.stroke(),e.restore()},e.prototype.drawLegendCanvas=async function(e,t,i,a,r,s,n,l,o,h,d,c,p,u,m,b,f,g){void 0===u&&(u="rect");var w=i.x,y=i.y,v=i.color;if("rect"===u){var C=FillColorHelper.genGTag(d,{id:t+"_s",width:a,height:r}),T=FillColorHelper.genGTag(v,{id:t,width:a,height:r});new RectCellChart(i.x,i.y,a,r,T.ID,C.ID,m,n,b,f,g).drawChartCanvas(e)}else if("line"===u){var S=new Point(w+a,y),x=new Line(t,i,S,v,n);C=FillColorHelper.genGTag(v,cffz(x.getElement()));await this.drawChartLine(e,x.point1,x.point2,x.lineWidth,C.ID,x.strokeLineCap,x.strokeLineJoin,x.typeDashArray,C.opacity)}var A=FillColorHelper.genGTag(s.color);o=h+"px "+o;await this.drwtCanvas(e,c,l,s.x,s.y,o,A.ID)},e.prototype.textSecondaryGrid=function(e,t,i,a){void 0===a&&(a=!1);var r=this.options.DataAxes.ListDataAxes[2],s=r.ShapeBases,n=s.length,l=this.stepHeight(t,e),o=[],h=r.Left,d=this.yChart+this.hChart;"RadarChart"==this.options.ChartKey&&(l/=2,d=this.yChart+this.hChart/2);var c=this.options.DataAxes.ListDataAxes[2].Foreground,p=new FillColorHelper.genGTag(c),u=this.options.DataAxes.ListDataAxes[2].FontFamily,m=this.options.DataAxes.ListDataAxes[2].FontSize,b=this.options.DataAxes.ListDataAxes[2].FontStyle,f=this.options.DataAxes.ListDataAxes[2].FontWeight,g=this.options.DataAxes.ListDataAxes[2].TextDecoration,w=-1,y=!1;0!==t&&(w=e/t),1===i?(e=100,t=10,a=!0):2===i?(e=e,t=t,a=!0,y=!0):3===i&&(a=!1);var v,C,T=e;if(this.options.DataAxes.ListDataAxes[2].IsChecked){for(var S=glhp.crgs("g"),x=0;x<=Math.min(w,n-1);x++){v=y?100*svfzp(e-T):svfzp(e-T),T-=t;var A=new Point(h,d+r.HeightText/4);s[x].Height=m,s[x].ID="frameTextSec"+x,s[x].Top=A.y-s[x].Height/2-s[x].Height/4,s[x].Left=A.x,s[x].Fill=r.Fill,this.objRectFill(s[x],S),gexz(o,"id",v,A,u,m,p.ID,"start","middle","",b,f,g),d-=l}C=a?drwtPercent(o):drwt(o),S.appendChild(C)}return S},e.prototype.textSecondaryGridCanvas=async function(e,t,i,a,r){void 0===r&&(r=!1);var s=this.options.DataAxes.ListDataAxes[2],n=s.ShapeBases,l=n.length,o=this.stepHeight(t,e),h=[],d=s.Left,c=this.yChart+this.hChart;"RadarChart"==this.options.ChartKey&&(o/=2,c=this.yChart+this.hChart/2);var p=this.options.DataAxes.ListDataAxes[2].Foreground,u=new FillColorHelper.genGTag(p),m=this.options.DataAxes.ListDataAxes[2].FontFamily,b=this.options.DataAxes.ListDataAxes[2].FontSize,f=-1,g=!1;0!==t&&(f=e/t),1===i?(e=100,t=10,r=!0):2===i?(e=e,t=t,r=!0,g=!0):3===i&&(r=!1);var w,y=e;if(this.options.DataAxes.ListDataAxes[2].IsChecked){for(var v=glhp.crgs("g"),C=0;C<=Math.min(f,l-1);C++){w=g?100*svfzp(e-y):svfzp(e-y),y-=t;var T=new Point(d,c+s.HeightText/4);n[C].Height=b,n[C].ID="frameTextSec"+C,n[C].Top=T.y-n[C].Height/2-n[C].Height/4,n[C].Left=T.x,n[C].Fill=s.Fill,this.objRectFill(n[C],v),gexz(h,"id",w,T,m,b,u.ID,"start","middle","",fontstyle,fontweight,textdecoration),c-=o}if(r)for(var S=0;S<h.length;S++){m=(x=h[S]).size+"px "+x.font;await this.drwtCanvas(a,x.textAlign,x.text+"%",x.point.x,x.point.y,m,x.color)}else for(S=0;S<h.length;S++){var x;m=(x=h[S]).size+"px "+x.font;await this.drwtCanvas(a,x.textAlign,x.text,x.point.x,x.point.y,m,x.color)}}},e.prototype.maxData=function(e){for(var t=this.numCategory(),i=0,a=0;a<e.length;a++)for(var r=0;r<t;r++)i<e[a][r]&&(i=e[a][r]);return i},e.prototype.maxArr=function(){for(var e=[],t=this.numCategory(),i=0,a=0;a<t;a++)i<e[a]&&(i=e[a]);return i},e.prototype.dltp=function(){var e,t=glhp.crgs("g","","legendsChart");if(this.options.DataLegend){this.objRectFill(this.options.DataLegend,t,this.options.ID);for(var i=0;i<this.options.DataLegend.Series.length;i++){var a=this.options.DataLegend.Series[i];e=ChartModule.drlti(a,"start","hanging"),t.appendChild(e)}}return t},e.prototype.dltpCanvas=async function(e){if(this.options.DataLegend)for(var t=0;t<this.options.DataLegend.Series.length;t++){var i=this.options.DataLegend.Series[t];await this.drltiCanvas(e,i,"start","hanging")}},e.prototype.drltiCanvas=async function(e,t,i,a){var r=new Point(t.Shape.Left,t.Shape.Top);if("rect"===t.Shape.Type){var s=FillColorHelper.genGTag(t.Shape.Stroke,{id:t.Shape.id+"_s",width:t.Shape.Width,height:t.Shape.Height}),n=FillColorHelper.genGTag(t.Shape.Fill,{id:t.Shape.id,width:t.Shape.Width,height:t.Shape.Height});await new RectCellChart(r.x,r.y,t.Shape.Width,t.Shape.Height,n.ID,s.ID,s.opacity,t.Shape.Thickness,t.Shape.CapType,t.Shape.JoinType,t.Shape.DashType).drawChartCanvas(e)}else if("line"===t.Shape.Type){var l=new Point(t.Shape.Left+t.Shape.Width,t.Shape.Top+.1),o=new Line(t.Shape.id,r,l,t.Shape.Stroke,t.Shape.Thickness);s=FillColorHelper.genGTag(t.Shape.Stroke,cffz(o.getElement()));await this.drawChartLine(e,r,l,o.lineWidth,s.ID,o.strokeLineCap,o.strokeLineJoin,o.typeDashArray,s.opacity)}else if("lineRadar"===t.Shape.Type){l=new Point(t.Shape.Left+t.Shape.Width,t.Shape.Top+.1),o=new Line(t.Shape.id,r,l,t.Shape.Stroke,t.Shape.Thickness),s=FillColorHelper.genGTag(t.Shape.Stroke,cffz(o.getElement()));await this.drawChartLine(e,r,l,o.lineWidth,s.ID,o.strokeLineCap,o.strokeLineJoin,o.typeDashArray,s.opacity);s=FillColorHelper.genGTag(t.Shape.Stroke,{id:t.Shape.id+"_s",width:t.Shape.Width/2,height:t.Shape.Height/2}),n=FillColorHelper.genGTag(t.Shape.Fill,{id:t.Shape.id,width:t.Shape.Width/2,height:t.Shape.Height/2});await this.drawEclipCanvas(e,r,t.Shape.Width,n.ID,s.ID,t.Shape.CapType,t.Shape.JoinType,t.Shape.DashType,s.opacity,t.Shape.Thickness)}var h=new Point(t.Text.Left,t.Text.Top),d=t.Text.FontSize+"px "+t.Text.FontFamily;await this.drwtCanvas(e,i,t.Text.Content,h.x,h.y,d,t.Text.Foreground.col)},e.prototype.outlineAxesCanvas=async function(e){for(var t=this.xChart,i=this.yChart,a=t+this.wChart,r=i+this.hChart,s=this.options.DataAxes.ListDataAxes,n=s.map((function(e){return e.Stroke})),l=[[new Point(t,r),new Point(a,r)],[new Point(t,i),new Point(t,r)],[new Point(a,i),new Point(a,r)]],o=0;o<l.length;o++){var h=l[o][0],d=l[o][1],c=FillColorHelper.genGTag(n[o],{id:s[o].id,width:0,height:0});await this.drawChartLine(e,h,d,s[o].Thickness,c.ID,s[o].CapType,s[o].JoinType,s[o].DashType)}},e.prototype.dwdlb=function(e,t,i){for(var a,r=[],s=0;s<e.length;s++){var n=this.GetTextWidth(e[s].Content,e[s].FontSize,e[s].FontFamily,e[s].FontStyle,e[s].FontWeight),l=this.GetTextHeight(e[s].Content,e[s].FontSize,e[s].FontFamily,e[s].FontStyle,e[s].FontWeight)+40;a=new Point(e[s].Left-.8*n/2,e[s].Top-.5*l/2),this.objRectFill(t[s],i),gexz(r,e[s].Content,e[s].Content,a,e[s].FontFamily,e[s].FontSize,e[s].Foreground.col,"left","hanging","",e[s].FontStyle,e[s].FontWeight,e[s].TextDecoration)}return drwt(r)},e.prototype.fillTextCategory=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=this.options.DataAxes.ListDataAxes[0],a=glhp.crgs("g","","categoryName_Chart");if("RadarChart"==this.options.ChartKey){var r,s=i.Height,n=this.numCategory(),l=this.avgWidth(e),o=i.FontFamily,h=i.FontSize,d=i.Foreground,c=i.FontStyle,p=i.FontWeight,u=i.TextDecoration,m=FillColorHelper.genGTag(d),b=this.yChart+this.hChart,f=[],g=this.getCategory(),w=i.ShapeBases,y=this.xChart+this.wChart,v=this.yChart+this.hChart,C=this.xChart,T=this.yChart,S=new Point((y+C)/2,(v+T)/2),x=new Point(S.x,S.y-(v-T)/2),A=360/n;for(D=0;D<n;D++)if(r=t(S,x,A*D),r.x==S.x)L=r.y<=S.y?new Point(r.x,r.y-h):new Point(r.x,r.y+h),w[D]&&(w[D].Height=3*h/2,w[D].Top=L.y-h,w[D].Left=L.x-w[D].Width/2,w[D].Fill=i.Fill,this.objRectFill(w[D],a),gexz(f,g[D],g[D],L,o,h,m.ID,"middle","hanging","",c,p,u));else if(r.x<S.x){var M=this.GetTextWidth(g[D],h,o,c,p);L=(r.y,S.y,new Point(r.x-M-w[D].Height/5,r.y+w[D].Height/5)),w[D].Height=3*h/2,w[D].Top=L.y-h,w[D].Left=L.x-w[D].Width/2,w[D].Fill=i.Fill,this.objRectFill(w[D],a),gexz(f,g[D],g[D],L,o,h,m.ID,"left","hanging","",c,p,u)}else{M=this.GetTextWidth(g[D],h,o,c,p);var G=this.GetTextHeight(g[D],h,o,c,p);L=r.y<=S.y?new Point(r.x+h/2,r.y+w[D].Height/5):new Point(r.x-M/2,r.y+G),w[D].Height=3*h/2,w[D].Top=L.y-h,w[D].Left=L.x-w[D].Width/2,w[D].Fill=i.Fill,this.objRectFill(w[D],a),gexz(f,g[D],g[D],L,o,h,m.ID,"right","hanging","",c,p,u)}a.appendChild(drwt(f)),this.gChart.appendChild(a)}else if(i.IsChecked){s=i.Height,n=this.numCategory(),l=this.avgWidth(e),o=i.FontFamily,h=i.FontSize,c=i.FontStyle,p=i.FontWeight,u=i.TextDecoration,d=i.Foreground,m=FillColorHelper.genGTag(d),b=this.yChart+this.hChart,f=[],g=this.getCategory(),w=i.ShapeBases;for(var D=0;D<n;D++){if(e)var L=new Point(this.xChart+l*D,b+s/2);else L=new Point(this.xChart+l*D+l/2,b+s/2);w[D].Height=3*h/2,w[D].Top=L.y-h,w[D].Left=L.x-w[D].Width/2,w[D].Fill=i.Fill,this.objRectFill(w[D],a),gexz(f,g[D],g[D],L,o,h,m.ID,"middle","hanging","",c,p,u)}a.appendChild(drwt(f)),this.gChart.appendChild(a)}},e.prototype.GetTextWidth=function(e,t,i,a,r){var s=document.createElement("canvas").getContext("2d");return s.font=a+" "+r+" "+t+"px "+i,s.measureText(e).width},e.prototype.GetTextHeight=function(e,t,i,a,r){var s=document.createElement("canvas").getContext("2d");s.font=a+" "+r+" "+t+"px "+i;const n=s.measureText(e),l=n.actualBoundingBoxAscent+n.actualBoundingBoxDescent;return Math.max(t,l)},e.prototype.fillTextCategoryCanvas=async function(e){var i=arguments.length>0&&void 0!==arguments[1]&&arguments[1],a=this.options.DataAxes.ListDataAxes[0];if("RadarChart"==this.options.ChartKey){var r,s=a.Height,n=this.numCategory(),l=this.avgWidth(i),o=a.FontFamily,h=a.FontSize,d=a.Foreground,c=FillColorHelper.genGTag(d),p=this.yChart+this.hChart,u=[],m=this.getCategory(),b=a.ShapeBases,f=this.xChart+this.wChart,g=this.yChart+this.hChart,w=this.xChart,y=this.yChart,v=new Point((f+w)/2,(g+y)/2),C=new Point(v.x,v.y-(g-y)/2),T=360/n;for(S=0;S<n;S++)r=t(v,C,T*S),r.x==v.x?(A=r.y<=v.y?new Point(r.x,r.y-h):new Point(r.x,r.y+h),b[S]&&(b[S].Height=3*h/2,b[S].Top=A.y-h,b[S].Left=A.x-b[S].Width/2,b[S].Fill=a.Fill),gexz(u,m[S],m[S],A,o,h,c.ID,"center","hanging")):r.x<v.x?(b[S]&&(A=(r.y,v.y,new Point(r.x-b[S].Width-b[S].Height/5,r.y+b[S].Height/5)),b[S].Height=3*h/2,b[S].Top=A.y-h,b[S].Left=A.x-b[S].Width/2,b[S].Fill=a.Fill),gexz(u,m[S],m[S],A,o,h,c.ID,"left","hanging")):(b[S]&&(A=(r.y,v.y,new Point(r.x+h/2,r.y+b[S].Height/5)),b[S].Height=3*h/2,b[S].Top=A.y-h,b[S].Left=A.x-b[S].Width/2,b[S].Fill=a.Fill),gexz(u,m[S],m[S],A,o,h,c.ID,"left","hanging"));for(var S=0;S<u.length;S++){var x=(M=u[S]).size+"px "+M.font;await this.drwtCanvas(e,M.textAlign,M.text,M.point.x,M.point.y,x,M.color)}}else if(a.IsChecked){for(s=a.Height,n=this.numCategory(),l=this.avgWidth(i),o=a.FontFamily,h=a.FontSize,a.FontStyle,a.FontWeight,a.TextDecoration,d=a.Foreground,c=FillColorHelper.genGTag(d),p=this.yChart+this.hChart,u=[],m=this.getCategory(),b=a.ShapeBases,S=0;S<n;S++){if(i)var A=new Point(this.xChart+l*S,p+s/2);else A=new Point(this.xChart+l*S+l/2,p+s/2);b[S].Height=3*h/2,b[S].Top=A.y-h,b[S].Left=A.x-b[S].Width/2,b[S].Fill=a.Fill,gexz(u,m[S],m[S],A,o,h,c.ID,"center","hanging")}for(S=0;S<u.length;S++){var M;x=(M=u[S]).size+"px "+M.font;await this.drwtCanvas(e,M.textAlign,M.text,M.point.x,M.point.y,x,M.color)}}},e.prototype.GetTextWidth=function(e,t,i,a,r){var s=document.createElement("canvas").getContext("2d");return s.font=a+" "+r+" "+t+"px "+i,s.measureText(e).width},e.prototype.GetTextHeight=function(e,t,i,a,r){var s=document.createElement("canvas").getContext("2d");s.font=a+" "+r+" "+t+"px "+i;const n=s.measureText(e),l=n.actualBoundingBoxAscent+n.actualBoundingBoxDescent;return Math.max(t,l)},e.prototype.ftat=function(){},e.prototype.objRectFill=function(e,t,i){var a;a=e.ID?e.ID:i||"";var r=glhp.crgs("rect");r.setAttribute("id",a),r.setAttribute("width",e.Width),r.setAttribute("height",e.Height),r.setAttribute("x",e.Left),r.setAttribute("y",e.Top),r.setAttribute("stroke-width",e.Thickness);var s=FillColorHelper.genGTag(e.Fill,cffz(r));s&&(s.Tag&&glhp.appendIdContent(t,s.Tag),r.setAttribute("fill",s.ID));var n=FillColorHelper.genGTag(e.Stroke,{id:a+"_s",width:e.Width,height:e.Height});n&&(n.Tag&&glhp.appendIdContent(t,n.Tag),r.setAttribute("stroke",n.ID)),r.setAttribute("stroke-linecap",e.CapType),r.setAttribute("stroke-linejoin",e.JoinType),r.setAttribute("stroke-dasharray",shzp.dskz(e.DashType)),glhp.appendIdContent(t,r)},e.prototype.drawEclipCanvas=async function(e,t,i,a,r,s,n,l,o,h){e.save(),e.beginPath(),e.fillStyle=a,e.ellipse(t.x+i/2,t.y,2,2,Math.PI/2,0,2*Math.PI),e.strokeStyle=r,e.lineCap=s,e.opacity=o,e.lineJoin,e.lineWidth=h;var d=shzp.dskz(l,h);e.setLineDash(d.split`,`.map(e=>+e)),e.fill(),e.stroke(),e.restore()},e}(),ChartModule={Level:glen.ModuleLevel.Element,ContentType:"Chart",grez:function(e){var t=0==isMobile?e.rtwdkt:isTabletLandscape?e.rtwtls:isTabletPortrait?e.rtwtpt:isMobileLandscape?e.rtwmls:isMobilePortrait?e.rtwmpt:1,i=0==isMobile?e.rthdkt:isTabletLandscape?e.rthtls:isTabletPortrait?e.rthtpt:isMobileLandscape?e.rthmls:isMobilePortrait?e.rthmpt:1,a=Math.min(t,i);return new Chart(e,null,a)},cvops:function(e){for(var t=[],i=0;i<e.C.length;i++){for(var a=e.C[i],r=[],s=0;s<a.Se.length;s++){var n=a.Se[s],l={ID:n.id,Opacity:n.opc,IDSeri:n.idSr,ChartKey:n.cK,TemplateChart:n.tC,Type:n.typ,Name:n.nm,Value:n.vl,IsPrimaryAxis:n.IPA,SeriOption:n.sO,FontFamily:n.ff,FontSize:n.fs,ICircle:n.iC,PointStart:n.pS,Thickness:n.sTh,JoinType:n.jT,CapType:n.cT,DashType:n.dT,Fill:n.fi,Stroke:n.str};r.push(l)}var o={CategoryName:a.cN,FontSize:a.fs,FontFamily:a.ff,Series:r};t.push(o)}var h,d=[];if(e.dle){var c=e.dle.Se;for(i=0;i<c.length;i++){c[i];var p=c[i].sh,u=c[i].txt,m={Shape:{id:p.id,Type:p.typ,Top:p.T,Left:p.l,Width:p.w,Height:p.h,Fill:p.fi,Stroke:p.str,Thickness:p.sTh,JoinType:p.jT,CapType:p.cT,DashType:p.dT,FontSize:p.fs,FontFamily:p.ff},Text:{id:u.id,Top:u.T,Left:u.l,Width:u.w,Height:u.h,Content:u.Con,Foreground:u.fgT,Thickness:u.sTh,JoinType:u.jT,CapType:u.cT,DashType:u.dT,FontSize:u.fs,FontFamily:u.ff,TextDecoration:u.td,FontStyle:u.fst,FontWeight:u.fwe}};d.push(m)}}e.dle&&(h={Top:e.dle.T,Left:e.dle.l,Width:e.dle.w,Height:e.dle.h,Fill:e.dle.fi,Stroke:e.dle.str,Thickness:e.dle.sTh,JoinType:e.dle.jT,CapType:e.dle.cT,DashType:e.dle.dT,Series:d});var b=[];if(e.DA){var f=e.DA.LiDA,g=f[0],w=g.sB,y=[];if(w)for(i=0;i<w.length;i++)y.push({Width:w[i].w,Height:w[i].h,Top:0,Left:0,Fill:g.fi});b.push({Key:g.k,IsChecked:g.iCk,Top:g.T,Left:g.l,Width:g.w,Height:g.h,HeightText:g.hT,ShapeBases:y,Fill:g.fi,Stroke:g.str,Foreground:g.fgT,Thickness:g.sTh,JoinType:g.jT,CapType:g.cT,DashType:g.dT,FontSize:g.fs,FontFamily:g.ff,FontStyle:g.fst,FontWeight:g.fwe,TextDecoration:g.td,FontStyle:g.fst,FontWeight:g.fwe,TextDecoration:g.td});var v=f[1],C=v.sB,T=[];if(C)for(i=0;i<C.length;i++)T.push({Width:C[i].w,Height:C[i].h,Top:0,Left:0,Fill:v.fi});b.push({Key:v.k,IsChecked:v.iCk,Top:v.T,Left:v.l,Width:v.w,Height:v.h,HeightText:v.hT,ShapeBases:T,Fill:v.fi,Stroke:v.str,Foreground:v.fgT,Thickness:v.sTh,JoinType:v.jT,CapType:v.cT,DashType:v.dT,FontSize:v.fs,FontFamily:v.ff,FontStyle:v.fst,FontWeight:v.fwe,TextDecoration:v.td});var S=f[2],x=S.sB,A=[];if(x)for(i=0;i<x.length;i++)A.push({Width:x[i].w,Height:x[i].h,Top:0,Left:0,Fill:S.fi});b.push({Key:S.k,IsChecked:S.iCk,Top:S.T,Left:S.l,Width:S.w,Height:S.h,HeightText:S.hT,ShapeBases:A,Fill:S.fi,Stroke:S.str,Foreground:S.fgT,Thickness:S.sTh,JoinType:S.jT,CapType:S.cT,DashType:S.dT,FontSize:S.fs,FontFamily:S.ff,FontStyle:S.fst,FontWeight:S.fwe,TextDecoration:S.td})}var M,G,D={ListDataAxes:b},L=e.DCT;L&&(M={ID:L.id,Top:L.T,Left:L.l,Width:L.w,Height:L.h,Text:L.txt,Fill:L.fi,Stroke:L.str,Foreground:L.fgT,Thickness:L.sTh,JoinType:L.jT,CapType:L.cT,DashType:L.dT,FontSize:L.fs,FontFamily:L.ff,td:L.td,fst:L.fst,fwe:L.fwe}),e.DGL&&(G={IsGridlineKey:e.DGL?e.DGL.iK:null,IsPrimaryMajorHorizontal:e.DGL.iK?e.DGL.iMah:null,IsPrimaryMinorHorizontal:e.DGL.iK?e.DGL.iMih:null,IsPrimaryMajorVertical:e.DGL.iK?e.DGL.iMav:null,IsPrimaryMinorVertical:e.DGL.iK?e.DGL.iMiv:null,StrokeMajorHorizontal:e.DGL.str?e.DGL.str.col:null,StrokeMinorHorizontal:e.DGL.strmi?e.DGL.strmi.col:null,StrokeMajorVertical:e.DGL.str?e.DGL.str.col:null,StrokeMinorVertical:e.DGL.strmi?e.DGL.strmi.col:null,Thickness:e.DGL.iK?e.DGL.sTh:null});var k=e.cSo,O=k&&k.pA,E=k&&k.sA;if(null!=O)var H={OverLap:O.ov,GapWidth:O.gW};if(null!=E)var I={OverLap:E.ov,GapWidth:E.gW};var P=null;"PieChart"===e.typ&&(P={AngleOfFirstSlice:e.cSo.hS.aO});var R={PrimaryAxis:H,SecondaryAxis:I,HTMLSeriOptionPie:P},F=e.DT;if(F){var B=F.tB,N=F.dT,z=[],Q=[];if(N){var V=N.cSB;if(V)for(var U=0;U<V.length;U++)z.push({Width:V[U].w,Height:V[U].h,Top:0,Left:0,Fill:N.fi});var $=N.vSB;if($)for(var Y=0;Y<$.length;Y++)Q.push({Width:$[Y].w,Height:$[Y].h,Top:0,Left:0,Fill:N.fi})}if(null!=N)var _={id:N.id,WidthLeftTable:N.hLt,WidthTableLegend:N.wTl,WidthTableSeri:N.wTs,Fill:N.fi,Stroke:N.str,Foreground:N.fgT,Thickness:N.sTh,JoinType:N.jT,CapType:N.cT,DashType:N.dT,FontSize:N.fs,FontFamily:N.ff,CategoryShapeBase:z,ValueShapeBase:Q,FontStyle:N.fst,FontWeight:N.fwe,TextDecoration:N.td,IsUpper:N.iu};var q=F.hT;if(null!=q){var X=q.Se,W=[];for(i=0;i<X.length;i++){var j=X[i];W.push({id:j.id,Height:j.h,Name:j.nm,WidthLegend:j.wL,HeightLegend:j.hL})}var K={HeightCategory:q.hC,Series:W}}if(null!=B)var Z={IsHorizontal:B.iH,IsVertical:B.iV,IsOutline:B.iO};var J={jjzj:F.iDt,IsWithLegendKey:F.iWl,TableBorder:Z,dbbw:_,HeightTable:K}}var ee=e.dla,te=[];let ie=ee&&ee.Te&&ee.Te.length;for(i=0;i<ie;i++){var ae=ee.Te[i],re=(p=ae.sh,u=ae.txt,{Shape:{ID:p.id,Type:p.typ,Top:p.T,Left:p.l,Width:p.w,Height:p.h,Fill:p.fi,Stroke:p.str,Thickness:p.sTh,JoinType:p.jT,CapType:p.cT,DashType:p.dT,FontSize:p.fs,FontFamily:p.ff},Text:{id:u.id,Top:u.T,Left:u.l,Width:u.w,Height:u.h,Content:u.Con,Foreground:u.fgT,Thickness:u.sTh,JoinType:u.jT,CapType:u.cT,DashType:u.dT,FontSize:u.fs,FontFamily:u.ff,FontStyle:u.fst,FontWeight:u.fwe,TextDecoration:u.td}});te.push(re)}var se={Texts:te};return{Type:e.typ,DataChartTitle:M,DataAxes:D,DataAxisTitle:e.DAT,dbbw:J,DataGridline:G,DataLegend:h,DataLabel:se,Data:t,FrameChart:e.frC,ChartKey:e.Ck,TemplateChart:e.TCh,ConfigSeriOption:R,BorderThickness:e.bTh,BorderBrush:e.bB,PathData:e.pD,CompoundType:e.cpT,DashType:e.dT,CapType:e.cT,Fill:e.fi,Effects:e.efs,Shapes:e.shs,Width:e.w,Height:e.h,Top:e.T,Left:e.l,Angle:e.agl,ZIndex:e.z,Animations:e.a,Timing:e.tim,ContentKeyType:e.c,ID:e.id,Name:e.nm,Triggers:e.tri}},drawLegend:function(e,t,i,a,r,s,n,l,o,h,d,c,p,u,m,b,f,g,w,y){void 0===p&&(p="rect");var v=t.x,C=t.y,T=t.color,S=glhp.crgs("g");if("rect"===p){(D=FillColorHelper.genGTag(h,{id:e+"_s",width:i,height:a})).Tag&&S.appendChild(D.Tag),(A=FillColorHelper.genGTag(T,{id:e,width:i,height:a})).Tag&&S.appendChild(A.Tag);var x=new Rect(e,t,i,a,A.ID,!0,D.ID,s,u,m,b,f),A=FillColorHelper.genGTag(T,cffz(x.getElement()));S.appendChild(x.getElement())}else if("line"===p){var M=new Point(v+i,C),G=new Line(e,t,M,T,s),D=FillColorHelper.genGTag(T,cffz(G.getElement()));"Solid"!==T.CoT&&S.appendChild(D.Tag),G.color={col:D.ID,opc:D.opacity},S.appendChild(G.getElement())}var L=FillColorHelper.genGTag(r.color),k=new TextChart(n,n,r,l,o,L.ID,d,c,"",g,w,y);return S.appendChild(k.getElement()),S},drlti:function(e,t,i){var a=glhp.crgs("g"),r=new Point(e.Shape.Left,e.Shape.Top);if("rect"===e.Shape.Type){(o=FillColorHelper.genGTag(e.Shape.Stroke,{id:e.Shape.id+"_s",width:e.Shape.Width,height:e.Shape.Height})).Tag&&a.appendChild(o.Tag),(h=FillColorHelper.genGTag(e.Shape.Fill,{id:e.Shape.id,width:e.Shape.Width,height:e.Shape.Height})).Tag&&a.appendChild(h.Tag);var s=new Rect(e.Shape.id,r,e.Shape.Width,e.Shape.Height,h.ID,!0,o.ID,e.Shape.Thickness,o.opacity,e.Shape.CapType,e.Shape.JoinType,e.Shape.DashType);a.appendChild(s.getElement())}else if("line"===e.Shape.Type){var n=new Point(e.Shape.Left+e.Shape.Width,e.Shape.Top+.1),l=new Line(e.Shape.id,r,n,e.Shape.Stroke,e.Shape.Thickness),o=FillColorHelper.genGTag(e.Shape.Stroke,cffz(l.getElement()));"Solid"!==e.Shape.Stroke.CoT&&a.appendChild(o.Tag),l.color={col:o.ID,opc:o.opacity},a.appendChild(l.getElement())}else if("lineRadar"===e.Shape.Type){var h;n=new Point(e.Shape.Left+e.Shape.Width,e.Shape.Top+.1),l=new Line(e.Shape.id,r,n,e.Shape.Stroke,e.Shape.Thickness),o=FillColorHelper.genGTag(e.Shape.Stroke,cffz(l.getElement())),"Solid"!==e.Shape.Stroke.CoT&&a.appendChild(o.Tag),l.color={col:o.ID,opc:o.opacity},a.appendChild(l.getElement()),(o=FillColorHelper.genGTag(e.Shape.Stroke,{id:e.Shape.id+"_s",width:e.Shape.Width/2,height:e.Shape.Height/2})).Tag&&a.appendChild(o.Tag),(h=FillColorHelper.genGTag(e.Shape.Fill,{id:e.Shape.id,width:e.Shape.Width/2,height:e.Shape.Height/2})).Tag&&a.appendChild(h.Tag),s=new Ellipse(e.Shape.id,r,e.Shape.Width,e.Shape.Height,h.ID,!0,o.ID,e.Shape.Thickness,o.opacity,e.Shape.CapType,e.Shape.JoinType,e.Shape.DashType),a.appendChild(s.getElement())}var d=new Point(e.Text.Left,e.Text.Top),c=new TextChart(e.Text.Content,e.Text.Content,d,e.Text.FontFamily,e.Text.FontSize,e.Text.Foreground.col,t,i,"",e.Text.FontStyle,e.Text.FontWeight,e.Text.TextDecoration);return a.appendChild(c.getElement()),a},drawCanvas:async function(e,t,i){new Chart(e);var a=0==isMobile?e.rtwdkt:isTabletLandscape?e.rtwtls:isTabletPortrait?e.rtwtpt:isMobileLandscape?e.rtwmls:isMobilePortrait?e.rtwmpt:e.w,r=0==isMobile?e.rthdkt:isTabletLandscape?e.rthtls:isTabletPortrait?e.rthtpt:isMobileLandscape?e.rthmls:isMobilePortrait?e.rthmpt:e.h,s=Math.min(a,r);i.scale(s,s),await chart.drawCanvas(i)}};glrs.addModule(ChartModule);var PieChart=function(){function e(e){this.chart=e,this.options=e.options,this.fillColors=e.options.Data.map((function(e){return e.Series[0].Fill})),this.listID=e.options.Data.map((function(e){return e.Series[0].IDSeri})),this.strokeColors=e.options.Data.map((function(e){return e.Series[0].Stroke})),this.strokeTypeDashs=e.options.Data.map((function(e){return e.Series[0].DashType})),this.thickness=e.options.Data.map((function(e){return e.Series[0].Thickness})),this.nameSeries=e.options.Data.map((function(e){return e.CategoryName}));for(var t=e.options.Data.map((function(e){return e.Series[0].ICircle})),i=e.options.Data.map((function(e){return e.Series[0].PointStart})),a=[],r=0;r<this.nameSeries.length;r++){var s={ICircle:t[r],PointStart:i[r]};a.push(s)}this.points=a}return e.prototype.gChart=function(e){this.chart.gChart=glhp.crgs("g","","pieChart"),this.chart.gChart.style.transformOrigin="0 0",this.chart.gChart.style.transform="scale("+e+","+e+")";for(var t=this.slice_angles(),i=0,a=this.options.ConfigSeriOption.HTMLSeriOptionPie.AngleOfFirstSlice,r=0;r<this.nameSeries.length;r++){var s=parseFloat(this.points[r].ICircle.split(",")[0]),n=parseFloat(this.points[r].ICircle.split(",")[1]),l=parseFloat(this.points[r].PointStart.split(",")[0]),o=parseFloat(this.points[r].PointStart.split(",")[1]),h=new Point(s,n),d=new Point(l,o),c=h.distance(d);i=r;var p={id:"f"+this.listID[r],width:this.chart.wChart,height:this.chart.hChart},u=FillColorHelper.genGTag(this.fillColors[i%this.fillColors.length],p);"Solid"!==this.fillColors[i%this.fillColors.length].CoT&&this.chart.gChart.appendChild(u.Tag),p={id:"s"+this.listID[r],width:this.chart.wChart,height:this.chart.hChart};var m=FillColorHelper.genGTag(this.strokeColors[i%this.strokeColors.length],p);"Solid"!==this.strokeColors[i%this.strokeColors.length].CoT&&this.chart.gChart.appendChild(m.Tag),this.chart.gChart.appendChild(this.drpsl(h,c,a,a+t[r],u.ID,m.ID,this.thickness[i%this.thickness.length],shzp.dskz(this.strokeTypeDashs[r]))),a+=t[r]}var b=this.chart.dltp();if(this.chart.gChart.appendChild(b),this.chart.options.DataLabel.Texts.length>0){var f=glhp.crgs("g","","dataLabel"),g=this.chart.dwdlb(this.chart.options.DataLabel.Texts.map((function(e){return e.Text})),this.chart.options.DataLabel.Texts.map((function(e){return e.Shape})),f);f.appendChild(g),this.chart.gChart.appendChild(f)}if(this.chart.options.DataChartTitle){var w=this.chart.options.DataChartTitle,y=glhp.crgs("g","","titleChart"),v=glhp.crgs("rect");v.setAttribute("x",w.Left-2),v.setAttribute("y",w.Top-18),v.setAttribute("width",w.Width),v.setAttribute("height",w.Height),v.setAttribute("stroke-width",w.Thickness),v.setAttribute("stroke-linecap",w.CapType),v.setAttribute("stroke-linejoin",w.JoinType),v.setAttribute("stroke-dasharray",shzp.dskz(w.DashType));m=FillColorHelper.genGTag(w.Stroke,{id:this.chart.options.ID+"_cTStroke",width:w.Width,height:w.Height}),u=FillColorHelper.genGTag(w.Fill,{id:this.chart.options.ID+"_cTFill",width:w.Width,height:w.Height});m.Tag&&y.appendChild(m.Tag),u.Tag&&y.appendChild(u.Tag),v.setAttribute("stroke",m.ID),v.setAttribute("fill",u.ID),y.appendChild(v);var C=new Point(w.Left,w.Top),T=FillColorHelper.genGTag(w.Foreground),S=new TextChart(this.chart.options.DataChartTitle.ID,w.Text,C,w.FontFamily,w.FontSize,T.ID).getElement();S.setAttribute("class","chartTitle"),S.setAttribute("font-style",w.fst),S.setAttribute("font-weight",w.fwe),w.td&&"Underline"==w.td?S.setAttribute("text-decoration",w.td):w.td&&"Strikethrough"==w.td?S.setAttribute("text-decoration","line-through"):w.td&&"Underline, Strikethrough"==w.td&&S.setAttribute("text-decoration","line-through underline"),y.appendChild(S),this.chart.gChart.appendChild(y)}return this.chart.gChart},e.prototype.drpsl=function(e,t,i,a,r,s,n,l,o){void 0===s&&(s="white"),void 0===n&&(n=1),void 0===o&&(o="round");var h=glhp.crgs("path");return h.setAttribute("stroke",s),h.setAttribute("stroke-width",n),h.setAttribute("stroke-dasharray",l),h.setAttribute("stroke-linejoin",o),h.setAttribute("fill",r),h.setAttribute("d",this.describeArc(e.x,e.y,t,i,a)),h},e.prototype.slice_angles=function(){for(var e=0,t=0;t<this.options.Data.length;t++){var i=this.options.Data[t].Series[0].Value;e+=i}var a=[];for(t=0;t<this.options.Data.length;t++){i=this.options.Data[t].Series[0].Value;var r=2*Math.PI*i/e*180/Math.PI;a.push(r)}return a},e.prototype.slice_anglesCanvas=function(){for(var e=0,t=0;t<this.options.Data.length;t++){var i=this.options.Data[t].Series[0].Value;e+=i}var a=[];for(t=0;t<this.options.Data.length;t++){i=this.options.Data[t].Series[0].Value;var r=2*Math.PI*i/e;a.push(r)}return a},e.prototype.ptcts=function(e,t,i,a){var r=(a-90)*Math.PI/180;return{x:e+i*Math.cos(r),y:t+i*Math.sin(r)}},e.prototype.describeArc=function(e,t,i,a,r){var s=this.ptcts(e,t,i,r),n=this.ptcts(e,t,i,a),l=r-a<=180?"0":"1";return["M",s.x,s.y,"A",i,i,0,l,0,n.x,n.y,"L",e,t,"L",s.x,s.y].join(" ")},e.prototype.drawCanvas=async function(e){for(var t=this.slice_anglesCanvas(),i=0,a=1.5*Math.PI,r=0;r<this.nameSeries.length;r++){var s=parseFloat(this.points[r].ICircle.split(",")[0]),n=parseFloat(this.points[r].ICircle.split(",")[1]),l=parseFloat(this.points[r].PointStart.split(",")[0]),o=parseFloat(this.points[r].PointStart.split(",")[1]),h=new Point(s,n),d=new Point(l,o),c=h.distance(d);i=r;var p={id:"f"+this.listID[r],width:this.chart.wChart,height:this.chart.hChart},u=FillColorHelper.genGTag(this.fillColors[i%this.fillColors.length],p);p={id:"s"+this.listID[r],width:this.chart.wChart,height:this.chart.hChart};var m=FillColorHelper.genGTag(this.strokeColors[i%this.strokeColors.length],p);await this.drpslCanvas(e,h.x,h.y,c,a,t[r]+a,u.ID,m.ID,this.thickness[i%this.thickness.length],shzp.dskz(this.strokeTypeDashs[r])),a+=t[r]}if(await this.chart.dltpCanvas(e),this.chart.options.DataLabel.Texts.length>0){var b=this.chart.options.DataLabel.Texts.map((function(e){return e.Text}));for(r=0;r<b.length;r++){var f=new Point(b[r].Left,b[r].Top),g=b[r].FontSize+"px "+b[r].FontFamily;await this.chart.drwtCanvas(e,"left",b[r].Content,f.x,f.y,g,b[r].Foreground.col)}}if(this.chart.options.DataChartTitle){var w=this.chart.options.DataChartTitle,y=(f=new Point(w.Left,w.Top),FillColorHelper.genGTag(w.Foreground));new TextChart(this.chart.options.DataChartTitle.ID,w.Text,f,w.FontFamily,w.FontSize,y.ID).getElement().setAttribute("class","chartTitle");g=w.FontSize+"px "+w.FontFamily;await this.chart.drwtCanvas(e,"left",w.Text,f.x,f.y,g,y.ID)}},e.prototype.drpslCanvas=async function(e,t,i,a,r,s,n,l,o,h,d){e.save(),e.fillStyle=n,e.strokeStyle=l,e.lineJoin,e.lineWidth=o;var c=shzp.dskz(h,o);e.setLineDash(c.split`,`.map(e=>+e)),e.beginPath(),e.moveTo(t,i),e.arc(t,i,a,r,s),e.closePath(),e.fill(),o>0&&e.stroke(),e.restore()},e}();function AddSpecial(e,t){return e==t&&(t+=1e-10),t}Array.prototype.groupBy=function(e){return this.reduce((function(t,i){var a=i[e];return t[a]=t[a]||[],t[a].push(i),t}),{})};var ComboChart=function(){function e(e){this.chart=e,this.data=e.data,this.primaryMajorHorizontal=e.options.DataGridline.IsPrimaryMajorHorizontal,this.primaryMinorHorizontal=e.options.DataGridline.IsPrimaryMinorHorizontal,this.primaryMajorVertical=e.options.DataGridline.IsPrimaryMajorVertical,this.primaryMinorVertical=e.options.DataGridline.IsPrimaryMinorVertical,this.colorMajorHorizontal=e.options.DataGridline.StrokeMajorHorizontal,this.colorMinorHorizontal=e.options.DataGridline.StrokeMinorHorizontal,this.colorMajorVertical=e.options.DataGridline.StrokeMajorVertical,this.colorMinorVertical=e.options.DataGridline.StrokeMinorVertical,this.thicknessGridLine=e.options.DataGridline.Thickness,this.arrIndexSeriPrimary=e.arrOptionAxis()[0],this.arrIndexSeriSecondary=e.arrOptionAxis()[1],this.chart.options.ConfigSeriOption.PrimaryAxis&&(this.gapWidthPrimary=e.options.ConfigSeriOption.PrimaryAxis.GapWidth),e.options.ConfigSeriOption.SecondaryAxis&&(this.gapWidthSecondary=e.options.ConfigSeriOption.SecondaryAxis.GapWidth),this.truongHopPrimary=this.sks100(!0),this.truongHopSecondary=this.sks100(!1),this.fillArea=this.fillArea()}return e.prototype.fillArea=function(){for(var e=this.data.map((function(e){return e.Series})),t=[],i=0;i<e.length;i++)t=t.concat(e[i]);if(0!==t.length){var a=t.groupBy("Type"),r=0,s=Object.keys(a).map((function(e){return e.split("_")[0]}));if(exrr(s,"ColumnChart")&&r++,exrr(s,"LineChart")&&r++,exrr(s,"AreaChart")&&r++,r>1)return!1}return!0},e.prototype.gChart=function(e){var t=glhp.crgs("g","","chart");this.chart.gChart=t,this.chart.gChart.style.transformOrigin="0 0",this.chart.gChart.style.transform="scale("+e+","+e+")",($=glhp.crgs("rect")).setAttribute("width",this.chart.wCanvas),$.setAttribute("height",this.chart.hCanvas);var i=FillColorHelper.genGTag(this.chart.options.Fill,{id:this.chart.options.ID,width:this.chart.wCanvas,height:this.chart.hCanvas});i&&i.Tag&&glhp.appendIdContent(t,i.Tag),$.setAttribute("fill",i.ID),$.setAttribute("id",this.chart.options.ID+"_r"),this.chart.gChart.appendChild($);for(var a=this.data.map((function(e){return e.Series})),r=[],s=0;s<a.length;s++)r=r.concat(a[s]);if(0!==r.length){var n=r.groupBy("Type"),l=Object.keys(n),o=0,h=l.map((function(e){return e.split("_")[0]}));exrr(h,"ColumnChart")&&o++,exrr(h,"LineChart")&&o++,exrr(h,"AreaChart")&&o++,exrr(h,"RadarChart")&&o++;var d=!0;o>1&&(d=!1);var c=[];c=this.iddwz(l);for(var p=[],u=[],m=0,b=0,f=0;f<c.length;f++){if(p=n[l[f]],(u=new aysd(p,l[f],this.chart)).dataProcess[2].length>0){var g=u.getMaxData(u.dataProcess[0]);m<g&&(m=g)}if(u.dataProcess[3].length>0){var w=u.getMaxData(u.dataProcess[1]);b<w&&(b=w)}}var y,v,C=0,T=0;y=clpz(m),v=clpz(b),C=this.chart.maxValAxis(m,y),b>0&&(T=this.chart.maxValAxis(b,v));var S=C,x=T,A=y,M=v;if(1===this.truongHopPrimary&&(C=1,y=.1),1===this.truongHopSecondary&&(T=1,v=.1),this.chart.options.DataGridline.IsGridlineKey){var G=this.drawGridLine(C,T,y,v);t.appendChild(G)}var D=glhp.crgs("g","","drawChart");if(D.setAttribute("opacity",this.chart.options.Data[0].Series[0].Opacity),this.chart.gChart.appendChild(D),exrr(l.map((function(e){return e.split("_")[1]})),"Stacked100"))for(var L=this.chart.seriesOption,k=0;k<2;k++)for(var O=L.filter((function(e){if(e.SeriOption===k+1)return e})).groupBy("Type"),E=Object.keys(O),H=(this.iddwz(E),0);H<E.length;H++){var I,P;for(f=0;f<c.length;f++)p=n[P=l[I=c[f]]],u=new aysd(p,P,this.chart),"AreaChart"===P.split("_")[0]?this.drawChart(u,l[I],C,T,y,v,0,this.fillArea):"RadarChart"===P.split("_")[0]?this.drawChart(u,l[I],S,x,A,M,0,this.fillArea):this.drawChart(u,l[I],C,T,y,v,0,this.fillArea)}else for(f=0;f<c.length;f++)p=n[P=l[I=c[f]]],u=new aysd(p,P,this.chart),this.drawChart(u,l[I],C,T,y,v,0,this.fillArea);var R=this.taxw(C,T,y,v);t.appendChild(R)}if(this.chart.options.dbbw.jjzj){var F=this.chart.displaydbbw(),B=this.indexProcess(l,c,n);this.fillTextdbbw(B),t.appendChild(F)}else{var N=!1;exrr(h,"AreaChart")&&d&&(N=!0);this.chart.fillTextCategory(N)}if(this.chart.options.DataLegend&&0!=this.chart.options.DataLegend.Series.length){var z=this.chart.dltp();t.appendChild(z)}this.chart.ftat(),t.appendChild(this.chart.outlineAxes());var Q=this.chart.options.DataLabel;if(this.chart.options.DataLabel.Texts.length>0){var V=glhp.crgs("g","","dataLabel"),U=this.chart.dwdlb(Q.Texts.map((function(e){return e.Text})),Q.Texts.map((function(e){return e.Shape})),V);V.appendChild(U),t.appendChild(V)}if(this.chart.options.DataChartTitle){var $,Y=this.chart.options.DataChartTitle,_=glhp.crgs("g","","titleChart");($=glhp.crgs("rect")).setAttribute("x",Y.Left-2),$.setAttribute("y",Y.Top-18),$.setAttribute("width",Y.Width),$.setAttribute("height",Y.Height),$.setAttribute("stroke-width",Y.Thickness),$.setAttribute("stroke-linecap",Y.CapType),$.setAttribute("stroke-linejoin",Y.JoinType),$.setAttribute("stroke-dasharray",shzp.dskz(Y.DashType));var q=FillColorHelper.genGTag(Y.Stroke,{id:Y.ID+"_cTStroke",width:Y.Width,height:Y.Height}),X=FillColorHelper.genGTag(Y.Fill,{id:Y.ID+"_cTFill",width:Y.Width,height:Y.Height});q.Tag&&_.appendChild(q.Tag),X.Tag&&_.appendChild(X.Tag),$.setAttribute("stroke",q.ID),$.setAttribute("fill",X.ID),_.appendChild($);var W=new Point(Y.Left,Y.Top),j=FillColorHelper.genGTag(Y.Foreground),K=new TextChart(this.chart.options.DataChartTitle.ID,Y.Text,W,Y.FontFamily,Y.FontSize,j.ID).getElement();K.setAttribute("class","chartTitle"),K.setAttribute("font-style",Y.fst),K.setAttribute("font-weight",Y.fwe),Y.td&&"Underline"==Y.td?K.setAttribute("text-decoration",Y.td):Y.td&&"Strikethrough"==Y.td?K.setAttribute("text-decoration","line-through"):Y.td&&"Underline, Strikethrough"==Y.td&&K.setAttribute("text-decoration","line-through underline"),_.appendChild(K),t.appendChild(_)}return t},e.prototype.iddwz=function(e){for(var t,i=this.prioty(e),a=[],r=0;r<e.length;r++)a.push(this.chart.seriesOption.filter((function(t){return t.Type===e[r]}))[0].SeriOption);var s=[];for(r=0;r<e.length;r++)s[r]=i[r]+(a[r]-1)/2;var n=[];for(t=0;t<s.length;t++)n.push(s[t]);n.sort();var l=[];for(t=0;t<n.length;t++)for(var o=0;o<s.length;o++)if(n[t]===s[o]){l.push(o);break}return l},e.prototype.sks100=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=1;e||(t=2);var i=this.chart.seriesOption,a=Object.keys(this.chart.seriesOption.groupBy("SeriOption")),r=!1;if(exrr(a,t+"")&&(r=!0),r){for(var s=i.filter((function(e){return e.SeriOption===t})).groupBy("Type"),n=Object.keys(s),l=[],o=0;o<n.length;o++)l.push(n[o].split("_")[1]);if("RadarChart"==this.chart.options.ChartKey)return 3;if("RadarChart"==this.chart.options.ChartKey||exrr(l,"Stacked")||exrr(l,"Clustered")){var h=this.iddwz(n),d=n[h[0]].split("_")[1];return"Stacked100"===d?2:3}return 1}return 0},e.prototype.indexProcess=function(e,t,i){for(var a,r,s,n=[],l=[],o=[],h=[],d=0;d<e.length;d++){for(h=i[a=e[t[d]]],r=(r=new aysd(h,a,this.chart)).analyst(),n=Object.keys(r[2].groupBy("ID")),l=Object.keys(r[3].groupBy("ID")),"Clustered"!==a.split("_")[1]&&(n.reverse(),l.reverse()),s=0;s<n.length;s++)o.push(n[s]);for(s=0;s<l.length;s++)o.push(l[s])}return o},e.prototype.fillTextdbbw=function(e){for(var t=this.chart.options.dbbw.IsWithLegendKey,i=this.chart.dataTable.HeightTable.HeightCategory,a=this.chart.numSeri(),r=this.chart.numCategory(),s=this.chart.avgWidth(),n=this.chart.options.dbbw.dbbw.FontFamily,l=this.chart.options.dbbw.dbbw.FontSize,o=this.chart.options.dbbw.dbbw.FontStyle,h=this.chart.options.dbbw.dbbw.FontWeight,d=this.chart.options.dbbw.dbbw.TextDecoration,c=this.chart.options.dbbw.dbbw.IsUpper,p=this.chart.options.dbbw.dbbw.Foreground,u=FillColorHelper.genGTag(p),m=this.chart.xChart-this.chart.dataTable.dbbw.WidthLeftTable,b=this.chart.yChart+this.chart.hChart,f=glhp.crgs("g","","textdbbw"),g=glhp.crgs("g","","frameTextdbbw"),w=this.chart.options.dbbw.dbbw.CategoryShapeBase,y=this.chart.options.dbbw.dbbw.ValueShapeBase,v=[],C=this.chart.getCategory(),T=this.chart.getArrData(),S=(e=e,0);S<r;S++){var x=new Point(this.chart.xChart+s*S+s/2,b+5*i/8);w[S].Left=x.x-w[S].Width/2,w[S].Top=x.y-l,w[S].Height=3*l/2,this.chart.objRectFill(w[S],g,"category"+(S+1));var A=C[S];"Lower"==c?A=A.toLowerCase():"Upper"==c&&(A=A.toUpperCase()),gexz(v,A,A,x,n,l,u.ID,"middle","middle","",o,h,d)}for(var M=0,G=0;G<r;G++){M=0;for(var D=0;D<a;D++){var L=G*a+D;M+=this.chart.options.dbbw.HeightTable.Series[D].Height;x=new Point(this.chart.xChart+s*G+s/2,b+i+M-3*this.chart.options.dbbw.HeightTable.Series[D].Height/8);y[L].Left=x.x-y[L].Width/2,y[L].Top=x.y-l,y[L].Height=3*l/2,this.chart.objRectFill(y[L],g,"value"+L),T[G][e[D]-1].Value&&gexz(v,"value"+C[G],T[G][e[D]-1].Value,x,n,l,u.ID,"middle","middle","",o,h,d)}}if(t){if(t){M=0;for(var k=glhp.crgs("g","","legendsDatatable"),O=0;O<a;O++){var E=this.chart.dataTable.HeightTable.Series[O];M+=E.Height;var H,I=E.WidthLegend,P=E.HeightLegend,R=this.chart.xChart-this.chart.dataTable.dbbw.WidthTableLegend,F=this.chart.xChart-this.chart.dataTable.dbbw.WidthTableSeri,B=b+i+M-E.Height/2,N=new Point(F,B+E.Height/8,this.chart.dataTable.dbbw.Foreground),z=n,Q=l,V=this.chart.seriesOption[e[O]-1],U=V.Stroke,$=V.Thickness,Y=V.Fill,_=this.tslg(V.Type);"rect"===_?H=B-E.HeightLegend/2:(H=B,Y=V.Stroke);var q=V.Name;"Lower"==c?q=q.toLowerCase():"Upper"==c&&(q=q.toUpperCase());x=new Point(R,H,Y);k.appendChild(ChartModule.drawLegend(E.id,x,I,P,N,$,q,z,Q,U,"start","middle",_,1,V.CapType,V.JoinType,V.DashType,l,h,d))}f.appendChild(k)}}else{M=0;for(var X=0;X<a;X++){M+=this.chart.options.dbbw.HeightTable.Series[X].Height;var x=new Point(m+(this.chart.xChart-m)/2,b+i+M-3*this.chart.options.dbbw.HeightTable.Series[X].Height/8);gexz(v,"value",this.chart.grsw()[e[X]-1],x,n,l,u.ID,"middle","middle")}}this.chart.gChart.querySelector(".dataTable").appendChild(g),f.appendChild(drwt(v)),this.chart.gChart.querySelector(".dataTable").appendChild(f)},e.prototype.fillTextdbbwCanvas=async function(e,t){for(var i=this.chart.options.dbbw.IsWithLegendKey,a=this.chart.dataTable.HeightTable.HeightCategory,r=this.chart.numSeri(),s=this.chart.numCategory(),n=this.chart.avgWidth(),l=this.chart.options.dbbw.dbbw.FontFamily,o=this.chart.options.dbbw.dbbw.FontSize,h=this.chart.options.dbbw.dbbw.Foreground,d=FillColorHelper.genGTag(h),c=this.chart.xChart-this.chart.dataTable.dbbw.WidthLeftTable,p=this.chart.yChart+this.chart.hChart,u=[],m=this.chart.getCategory(),b=this.chart.getArrData(),f=(t=t,0);f<s;f++){var g=new Point(this.chart.xChart+n*f+n/2,p+5*a/8);gexz(u,m[f],m[f],g,l,o,d.ID,"center","center")}for(var w=0,y=0;y<s;y++){w=0;for(var v=0;v<r;v++){w+=this.chart.options.dbbw.HeightTable.Series[v].Height;g=new Point(this.chart.xChart+n*y+n/2,p+a+w-3*this.chart.options.dbbw.HeightTable.Series[v].Height/8);b[y][t[v]-1].Value&&gexz(u,"value"+m[y],b[y][t[v]-1].Value,g,l,o,d.ID,"center","center")}}if(i){if(i){w=0;for(var C=0;C<r;C++){var T=this.chart.dataTable.HeightTable.Series[C];w+=T.Height;var S,x=T.WidthLegend,A=T.HeightLegend,M=this.chart.xChart-this.chart.dataTable.dbbw.WidthTableLegend,G=this.chart.xChart-this.chart.dataTable.dbbw.WidthTableSeri,D=p+a+w-T.Height/2,L=new Point(G,D+T.Height/8,this.chart.dataTable.dbbw.Foreground),k=l,O=o,E=this.chart.seriesOption[t[C]-1],H=E.Stroke,I=E.Thickness,P=E.Fill,R=this.tslg(E.Type);"rect"===R?S=D-T.HeightLegend/2:(S=D,P=E.Stroke);g=new Point(M,S,P);await this.chart.drawLegendCanvas(e,T.id,g,x,A,L,I,E.Name,k,O,H,"start","middle",R,1,E.CapType,E.JoinType,E.DashType)}}}else{w=0;for(var F=0;F<r;F++){w+=this.chart.options.dbbw.HeightTable.Series[F].Height;var g=new Point(c+(this.chart.xChart-c)/2,p+a+w-3*this.chart.options.dbbw.HeightTable.Series[F].Height/8);gexz(u,"value",this.chart.grsw()[t[F]-1],g,l,o,d.ID,"center","center")}}for(var B=0;B<u.length;B++){var N=u[B];k=N.size+"px "+N.font;await this.chart.drwtCanvas(e,N.textAlign,N.text,N.point.x,N.point.y,k,N.color)}},e.prototype.tslg=function(e){return"LineChart"===e.split("_")[0]?"line":"rect"},e.prototype.drawChart=function(e,t,i,a,r,s){var n=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,l=!(arguments.length>7&&void 0!==arguments[7])||arguments[7],o=tchak(t);switch(o){case"ColumnChart":new aysdColumnChart(e,t,i,a,r,s,n).draw();break;case"LineChart":new aysdLineChart(e,t,i,a,r,s,n).draw();break;case"AreaChart":new aysdAreaChart(e,t,i,a,r,s,n,l).draw();break;case"RadarChart":new aysdRadarChart(e,t,i,a,r,s,n).draw()}},e.prototype.drawChartCanvas=async function(e,t,i,a,r,s,n){var l,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,h=!(arguments.length>8&&void 0!==arguments[8])||arguments[8],d=tchak(i);switch(d){case"ColumnChart":l=new aysdColumnChart(t,i,a,r,s,n,o),await l.drawCanvas(e);break;case"LineChart":l=new aysdLineChart(t,i,a,r,s,n,o),await l.drawCanvas(e);break;case"AreaChart":l=new aysdAreaChart(t,i,a,r,s,n,o,h),await l.drawCanvas(e);break;case"RadarChart":l=new aysdRadarChart(t,i,a,r,s,n,o),await l.drawCanvas(e)}},e.prototype.taxw=function(e,t,i,a){var r=glhp.crgs("g","","taxw");if(e>0&&this.chart.options.DataAxes.ListDataAxes[1].IsChecked){var s=this.chart.tpgr(e,i,this.truongHopPrimary);s&&(s.setAttribute("class","textGridLine_primary"),r.appendChild(s))}if(t>0&&this.chart.options.DataAxes.ListDataAxes[2].IsChecked){var n=this.chart.textSecondaryGrid(t,a,this.truongHopSecondary);n.setAttribute("class","textGridLine_secondary"),r.appendChild(n)}return r},e.prototype.taxwCanvas=async function(e,t,i,a,r){t>0&&this.chart.options.DataAxes.ListDataAxes[1].IsChecked&&await this.chart.tpgrCanvas(t,a,this.truongHopPrimary,e),i>0&&this.chart.options.DataAxes.ListDataAxes[2].IsChecked&&await this.chart.textSecondaryGridCanvas(i,r,this.truongHopSecondary,e)},e.prototype.drawGridLine=function(e,t,i,a){var r,s,n=new GridLine(this.primaryMajorHorizontal,this.primaryMajorVertical,this.primaryMinorHorizontal,this.primaryMinorVertical,this.colorMajorHorizontal,this.colorMinorHorizontal,this.colorMajorVertical,this.colorMinorVertical,this.thicknessGridLine),l=glhp.crgs("g","","gridLine");if(e>0){r=this.chart.xChart,s=this.chart.yChart,1===this.truongHopPrimary&&(e=1,i=.1);var o=this.chart.drawGrid(n,e,i,r,s);o.setAttribute("class","gridLine_primary"),l.appendChild(o)}if(t>0&&(r=this.chart.xChart,s=this.chart.yChart,1===this.truongHopSecondary&&(t=1,a=.1),0===e)){var h=this.chart.drawGrid(n,t,a,r,s);h.setAttribute("class","gridLine_secondary"),l.appendChild(h)}return l},e.prototype.drawGridLineCanvas=async function(e,t,i,a,r){var s,n,l=new GridLine(this.primaryMajorHorizontal,this.primaryMajorVertical,this.primaryMinorHorizontal,this.primaryMinorVertical,this.colorMajorHorizontal,this.colorMinorHorizontal,this.colorMajorVertical,this.colorMinorVertical,this.thicknessGridLine);t>0&&(s=this.chart.xChart,n=this.chart.yChart,1===this.truongHopPrimary&&(t=1,a=.1),await this.chart.drawGridCanvas(e,l,t,a,s,n)),i>0&&(s=this.chart.xChart,n=this.chart.yChart,1===this.truongHopSecondary&&(i=1,r=.1),0===t&&await this.chart.drawGridCanvas(e,l,i,r,s,n))},e.prototype.prioty=function(e){for(var t,i=[],a=0;a<e.length;a++){switch(e[a].split("_")[0]){case"AreaChart":t=1;break;case"ColumnChart":t=2;break;case"LineChart":t=3;break;case"PointChart":t=4;break;case"RadarChart":t=5}i.push(t)}return i},e.prototype.drawCanvas=async function(e){e.save();for(var t=this.data.map((function(e){return e.Series})),i=[],a=0;a<t.length;a++)i=i.concat(t[a]);if(0!==i.length){var r=i.groupBy("Type"),s=Object.keys(r),n=0,l=s.map((function(e){return e.split("_")[0]}));exrr(l,"ColumnChart")&&n++,exrr(l,"LineChart")&&n++,exrr(l,"AreaChart")&&n++,exrr(l,"RadarChart")&&n++;var o=!0;n>1&&(o=!1);var h=[];h=this.iddwz(s);for(var d=[],c=[],p=0,u=0,m=0;m<h.length;m++){if(d=r[s[m]],(c=new aysd(d,s[m],this.chart)).dataProcess[2].length>0){var b=c.getMaxData(c.dataProcess[0]);p<b&&(p=b)}if(c.dataProcess[3].length>0){var f=c.getMaxData(c.dataProcess[1]);u<f&&(u=f)}}var g,w,y=0,v=0;g=clpz(p),w=clpz(u),y=this.chart.maxValAxis(p,g),u>0&&(v=this.chart.maxValAxis(u,w));var C=y,T=v,S=g,x=w;if(1===this.truongHopPrimary&&(y=1,g=.1),1===this.truongHopSecondary&&(v=1,w=.1),this.chart.options.DataGridline.IsGridlineKey&&await this.drawGridLineCanvas(e,y,v,g,w),exrr(s.map((function(e){return e.split("_")[1]})),"Stacked100"))for(var A=this.chart.seriesOption,M=0;M<2;M++)for(var G=A.filter((function(e){if(e.SeriOption===M+1)return e})).groupBy("Type"),D=Object.keys(G),L=0;L<D.length;L++){var k,O;for(m=0;m<h.length;m++)d=r[O=s[k=h[m]]],c=new aysd(d,O,this.chart),"AreaChart"===O.split("_")[0]?await this.drawChartCanvas(e,c,s[k],y,v,g,w,0,this.fillArea):"RadarChart"===O.split("_")[0]?await this.drawChartCanvas(e,c,s[k],C,T,S,x,0,this.fillArea):await this.drawChartCanvas(e,c,s[k],y,v,g,w,0,this.fillArea)}else for(m=0;m<h.length;m++)d=r[O=s[k=h[m]]],c=new aysd(d,O,this.chart),await this.drawChartCanvas(e,c,s[k],y,v,g,w,0,this.fillArea);await this.taxwCanvas(e,y,v,g,w)}if(this.chart.options.dbbw.jjzj){this.chart.displaydbbwCanvas(e);var E=this.indexProcess(s,h,r);await this.fillTextdbbwCanvas(e,E)}else{var H=!1;exrr(l,"AreaChart")&&o&&(H=!0),await this.chart.fillTextCategoryCanvas(e,H)}this.chart.options.DataLegend&&0!=this.chart.options.DataLegend.Series.length&&await this.chart.dltpCanvas(e);var I=this.chart.options.DataLabel;if(this.chart.options.DataLabel.Texts.length>0){var P=I.Texts.map((function(e){return e.Text}));for(a=0;a<P.length;a++){B=new Point(P[a].Left,P[a].Top);var R=P[a].FontSize+"px "+P[a].FontFamily;await this.chart.drwtCanvas(e,"left",P[a].Content,B.x,B.y,R,P[a].Foreground.col)}}if(this.chart.options.DataChartTitle){var F=this.chart.options.DataChartTitle,B=new Point(F.Left,F.Top),N=FillColorHelper.genGTag(F.Foreground);R=F.FontSize+"px "+F.FontFamily;await this.chart.drwtCanvas(e,"left",F.Text,B.x,B.y,R,N.ID)}e.restore()},e}(),aysd=function(){function e(e,t,i){this.getData=e,this.typeChart=t.split("_")[0],this.indexTemplate=t.split("_")[1],this.chart=i,this.dataProcess=this.analyst(),"Stacked100"!=this.indexTemplate?(this.maxDataPrimary=this.maxDataVal(this.dataProcess[0]),this.maxDataSecondary=this.maxDataVal(this.dataProcess[1])):"Stacked100"===this.indexTemplate&&(this.maxDataPrimary=1,this.maxDataSecondary=1)}return e.prototype.getMaxData=function(e){return"Stacked100"!=this.indexTemplate||"RadarChart"==this.typeChart?this.maxDataVal(e):"Stacked100"===this.indexTemplate?.952:void 0},e.prototype.analyst=function(){var e;if("Clustered"===this.indexTemplate||"RadarChart"==this.typeChart)e=new aysdClustered(this).getAllData();else if("Stacked"===this.indexTemplate||"Stacked100"===this.indexTemplate){e=new aysdStacked(this).getAllData()}return e},e.prototype.maxDataVal=function(e){var t=e.length,i=0;if(t>0)for(var a=0;a<t;a++)for(var r=0;r<e[0].length;r++)e[a][r]>i&&(i=e[a][r]);return i},e}(),aysdClustered=function(){function e(e){this.analyst=e,this.getData=e.getData,this.chart=e.chart}return e.prototype.getAllData=function(){if(Object.keys(this.getData).length>0){var e=this.getData,t=[],i=[];(t=e.groupBy("IsPrimaryAxis").true)||(t=[]),(i=e.groupBy("IsPrimaryAxis").false)||(i=[]);var a=this.chart.numCategory(),r=this.processData(t,a),s=this.processData(i,a),n=[];return n.push(r,s,t,i),n}},e.prototype.processData=function(e,t){if(e){var i=e.groupBy("ID"),a=Object.keys(i),r=[],s=[];if(a.length>0)for(var n=0;n<t;n++){s=[];for(var l=0;l<a.length;l++)s.push(i[a[l]][n].Value);r.push(s)}return r}},e}(),aysdStacked=function(){function e(e){this.analyst=e,this.getData=e.getData,this.chart=e.chart}return e.prototype.getAllData=function(){if(Object.keys(this.getData).length>0){var e=this.getData,t=[],i=[];(t=e.groupBy("IsPrimaryAxis").true)||(t=[]),(i=e.groupBy("IsPrimaryAxis").false)||(i=[]);var a=this.chart.numCategory(),r=this.processData(t,a),s=this.processData(i,a),n=[];return n.push(r,s,t,i),n}},e.prototype.processData=function(e,t){if(e){var i=e.groupBy("ID"),a=Object.keys(i),r=[],s=[],n=0;if(a.length>0)for(var l=0;l<t;l++){n=0,s=[];for(var o=0;o<a.length;o++)n+=i[a[o]][l].Value,s.push(n);r.push(s)}return r}},e}(),aysdColumnChart=function(){function e(e,t,i,a,r,s,n){void 0===n&&(n=0),this.analyst=e,this.getData=e.getData,this.chart=e.chart,this.maxValAxisPrimary=i,this.maxValAxisSecondary=a,this.stepPrimary=r,this.stepSecondary=s,this.chart.options.ConfigSeriOption.PrimaryAxis&&(this.gapWidthPrimary=this.chart.options.ConfigSeriOption.PrimaryAxis.GapWidth,this.overlapPrimary=this.chart.options.ConfigSeriOption.PrimaryAxis.OverLap),this.chart.options.ConfigSeriOption.SecondaryAxis&&(this.gapWidthSecondary=this.chart.options.ConfigSeriOption.SecondaryAxis.GapWidth,this.overlapSecondary=this.chart.options.ConfigSeriOption.SecondaryAxis.OverLap),this.truongHop=n}return e.prototype.draw=function(){for(var e,t=this.analyst.analyst(),i=t[2],a=t[3],r=Object.keys(i.groupBy("ID")),s=Object.keys(a.groupBy("ID")),n=[],l=[],o=[],h=[],d=[],c=[],p=[],u=[],m=[],b=[],f=[],g=[],w=0;w<i.length;w++)n.push(i[w].Fill),o.push(i[w].Stroke),d.push(i[w].CapType),c.push(i[w].JoinType),p.push(i[w].DashType),f.push(i[w].Thickness);for(w=0;w<a.length;w++)l.push(a[w].Fill),h.push(a[w].Stroke),u.push(a[w].CapType),m.push(a[w].JoinType),b.push(a[w].DashType),g.push(a[w].Thickness);i.length>0&&(e=this.drxis(r.length,this.gapWidthPrimary,this.overlapPrimary,n,o,0,this.maxValAxisPrimary,this.stepPrimary,f,1,d,c,p),this.chart.gChart.querySelector(".drawChart").appendChild(e)),a.length>0&&(e=this.drxis(s.length,this.gapWidthSecondary,this.overlapSecondary,l,h,1,this.maxValAxisSecondary,this.stepSecondary,g,1,u,m,b),this.chart.gChart.querySelector(".drawChart").appendChild(e))},e.prototype.drawCanvas=async function(e){for(var t=this.analyst.analyst(),i=t[2],a=t[3],r=Object.keys(i.groupBy("ID")),s=Object.keys(a.groupBy("ID")),n=[],l=[],o=[],h=[],d=[],c=[],p=[],u=[],m=[],b=[],f=[],g=[],w=0;w<i.length;w++)n.push(i[w].Fill),o.push(i[w].Stroke),d.push(i[w].CapType),c.push(i[w].JoinType),p.push(i[w].DashType),f.push(i[w].Thickness);for(w=0;w<a.length;w++)l.push(a[w].Fill),h.push(a[w].Stroke),u.push(a[w].CapType),m.push(a[w].JoinType),b.push(a[w].DashType),g.push(a[w].Thickness);i.length>0&&await this.drxisCanvas(e,r.length,this.gapWidthPrimary,this.overlapPrimary,n,o,0,this.maxValAxisPrimary,this.stepPrimary,f,1,d,c,p),a.length>0&&await this.drxisCanvas(e,s.length,this.gapWidthSecondary,this.overlapSecondary,l,h,1,this.maxValAxisSecondary,this.stepSecondary,g,1,u,m,b)},e.prototype.rectsDataClustered=function(e,t,i,a,r,s,n,l,o,h,d,c,p){var u=this.chart.marginGap(e,t),m=this.chart.widthGap(e,t),b=this.chart.avgWidth(),f=this.chart.numCategory(),g=this.analyst.analyst()[s],w=this.analyst.analyst()[s+2].map((function(e){return e.IDSeri})),y=this.chart.stepHeight(l,n);if(0!==i){var v=this.colpz(e,i,t),C=this.wcolp(e,v);m+=v}for(var T=[],S=0,x=0;x<f;x++){S=b*x+this.chart.xChart+u;for(var A=0;A<e;A++){var M;0!==A&&(S+=m,0!==i&&(S-=C));var G=g[x][A],D=this.chart.h_val(G,l,y),L=this.chart.cacl_y(G,l,y),k=m,O=new Point(S,L),E=x*e+A,H=FillColorHelper.genGTag(a[E],{id:w[E],width:k,height:D});H.Tag&&this.chart.gChart.querySelector(".drawChart").appendChild(H.Tag);var I=FillColorHelper.genGTag(r[E],{id:w[E]+"_s",width:k,height:D});I.Tag&&this.chart.gChart.querySelector(".drawChart").appendChild(I.Tag),M=new Rect(w[E],O,k,D,H.ID,!0,I.ID,o[E],h,d[E],c[E],p[E]),T.push(M)}}return T},e.prototype.rdsk=function(e,t,i,a,r,s,n,l,o,h,d,c,p){var u=this.chart.marginGap(e,t),m=this.chart.widthGap(e,t),b=this.chart.avgWidth(),f=this.chart.numCategory(),g=this.analyst.analyst()[s],w=this.analyst.analyst()[s+2].map((function(e){return e.IDSeri})),y=this.chart.stepHeight(l,n);if(0!==i){if(1==e){var v=this.analyst.analyst(),C=0,T=0;v[0].length>0&&(C=v[0][0].length),v[1].length>0&&(T=v[1][0].length);var S=C>T?C:T;m=this.chart.widthGap(S,t),u=this.chart.marginGap(S,t)}var x=this.colpz(e,i,t),A=this.wcolp(e,x);m+=x}for(var M=[],G=0,D=0;D<f;D++){G=b*D+this.chart.xChart+u;for(var L=0;L<e;L++){var k;0!==L&&(G+=m,0!==i&&(G-=A));var O,E=g[D][L];O=g[D][L-1]?g[D][L-1]:0;var H=this.chart.h_val(E-O,l,y),I=this.chart.cacl_y(E,l,y),P=m,R=new Point(G,I),F=D*e+L,B=FillColorHelper.genGTag(a[F],{id:w[F],width:P,height:H});B.Tag&&this.chart.gChart.querySelector(".drawChart").appendChild(B.Tag);var N=FillColorHelper.genGTag(r[F],{id:w[F]+"_s",width:P,height:H});N.Tag&&this.chart.gChart.querySelector(".drawChart").appendChild(N.Tag),k=new Rect(w[F],R,P,H,B.ID,!0,N.ID,o[F],h,d[F],c[F],p[F]),M.push(k)}}return M},e.prototype.rdsk100=function(e,t,i,a,r,s,n,l,o,h,d,c,p){var u=this.chart.marginGap(e,t),m=this.chart.widthGap(e,t),b=this.chart.avgWidth(),f=this.chart.numCategory(),g=this.analyst.analyst()[s],w=this.analyst.analyst()[s+2].map((function(e){return e.IDSeri})),y=this.chart.stepHeight(l,n);if(0!==i){if(1==e){var v=this.analyst.analyst(),C=0,T=0;v[0].length>0&&(C=v[0][0].length),v[1].length>0&&(T=v[1][0].length);var S=C>T?C:T;m=this.chart.widthGap(S,t),u=this.chart.marginGap(S,t)}var x=this.colpz(e,i,t),A=this.wcolp(e,x);m+=x}for(var M=[],G=0,D=0;D<f;D++){G=b*D+this.chart.xChart+u;for(var L=0;L<e;L++){var k;0!==L&&(G+=m,0!==i&&(G-=A));var O,E=g[D][L]/g[D][e-1];O=g[D][L-1]?g[D][L-1]/g[D][e-1]:0;var H=this.chart.h_val(E-O,l,y),I=this.chart.cacl_y(E,l,y),P=m,R=new Point(G,I),F=D*e+L,B=FillColorHelper.genGTag(a[F],{id:w[F],width:P,height:H});B.Tag&&this.chart.gChart.querySelector(".drawChart").appendChild(B.Tag);var N=FillColorHelper.genGTag(r[F],{id:w[F]+"_s",width:P,height:H});N.Tag&&this.chart.gChart.querySelector(".drawChart").appendChild(N.Tag),k=new Rect(w[F],R,P,H,B.ID,!0,N.ID,o[F],h,d[F],c[F],p[F]),M.push(k)}}return M},e.prototype.drxis=function(e,t,i,a,r,s,n,l,o,h,d,c,p){var u,m=glhp.crgs("g","","columns");"Clustered"===this.analyst.indexTemplate?u=this.rectsDataClustered(e,t,i,a,r,s,n,l,o,h,d,c,p):"Stacked"===this.analyst.indexTemplate?u=this.rdsk(e,t,i,a,r,s,n,l,o,h,d,c,p):"Stacked100"===this.analyst.indexTemplate&&(u=this.rdsk100(e,t,i,a,r,s,n,l,o,h,d,c,p));for(var b=0;b<u.length;b++){var f=u[b];m.appendChild(f.getElement())}return m},e.prototype.drxisCanvas=async function(e,t,i,a,r,s,n,l,o,h,d,c,p,u){var m;"Clustered"===this.analyst.indexTemplate?m=await this.rectsDataClusteredCanvas(t,i,a,r,s,n,l,o,h,d,c,p,u):"Stacked"===this.analyst.indexTemplate?m=await this.rdskCanvas(t,i,a,r,s,n,l,o,h,d,c,p,u):"Stacked100"===this.analyst.indexTemplate&&(m=await this.rdsk100Canvas(t,i,a,r,s,n,l,o,h,d,c,p,u));for(var b=0;b<m.length;b++){var f=m[b];await new RectCellChart(f.point.x,f.point.y,f.w,f.h,f.color,f.colorStroke,f.opacity,f.strokeWidth,f.strokeLineCap,f.strokeLineJoin,f.typeDashArray).drawChartCanvas(e)}},e.prototype.rectsDataClusteredCanvas=async function(e,t,i,a,r,s,n,l,o,h,d,c,p){var u=this.chart.marginGap(e,t),m=this.chart.widthGap(e,t),b=this.chart.avgWidth(),f=this.chart.numCategory(),g=this.analyst.analyst()[s],w=this.analyst.analyst()[s+2].map((function(e){return e.IDSeri})),y=this.chart.stepHeight(l,n);if(0!==i){var v=this.colpz(e,i,t),C=this.wcolp(e,v);m+=v}for(var T=[],S=0,x=0;x<f;x++){S=b*x+this.chart.xChart+u;for(var A=0;A<e;A++){var M;0!==A&&(S+=m,0!==i&&(S-=C));var G=g[x][A],D=this.chart.h_val(G,l,y),L=this.chart.cacl_y(G,l,y),k=m,O=new Point(S,L),E=x*e+A,H=FillColorHelper.genGTag(a[E],{id:w[E],width:k,height:D}),I=FillColorHelper.genGTag(r[E],{id:w[E]+"_s",width:k,height:D});M=new Rect(w[E],O,k,D,H.ID,!0,I.ID,o[E],h,d[E],c[E],p[E]),T.push(M)}}return T},e.prototype.rdskCanvas=async function(e,t,i,a,r,s,n,l,o,h,d,c,p){var u=this.chart.marginGap(e,t),m=this.chart.widthGap(e,t),b=this.chart.avgWidth(),f=this.chart.numCategory(),g=this.analyst.analyst()[s],w=this.analyst.analyst()[s+2].map((function(e){return e.IDSeri})),y=this.chart.stepHeight(l,n);if(0!==i){if(1==e){var v=this.analyst.analyst(),C=0,T=0;v[0].length>0&&(C=v[0][0].length),v[1].length>0&&(T=v[1][0].length);var S=C>T?C:T;m=this.chart.widthGap(S,t),u=this.chart.marginGap(S,t)}var x=this.colpz(e,i,t),A=this.wcolp(e,x);m+=x}for(var M=[],G=0,D=0;D<f;D++){G=b*D+this.chart.xChart+u;for(var L=0;L<e;L++){var k;0!==L&&(G+=m,0!==i&&(G-=A));var O,E=g[D][L];O=g[D][L-1]?g[D][L-1]:0;var H=this.chart.h_val(E-O,l,y),I=this.chart.cacl_y(E,l,y),P=m,R=new Point(G,I),F=D*e+L,B=FillColorHelper.genGTag(a[F],{id:w[F],width:P,height:H}),N=FillColorHelper.genGTag(r[F],{id:w[F]+"_s",width:P,height:H});k=new Rect(w[F],R,P,H,B.ID,!0,N.ID,o[F],h,d[F],c[F],p[F]),M.push(k)}}return M},e.prototype.rdsk100Canvas=async function(e,t,i,a,r,s,n,l,o,h,d,c,p){var u=this.chart.marginGap(e,t),m=this.chart.widthGap(e,t),b=this.chart.avgWidth(),f=this.chart.numCategory(),g=this.analyst.analyst()[s],w=this.analyst.analyst()[s+2].map((function(e){return e.IDSeri})),y=this.chart.stepHeight(l,n);if(0!==i){if(1==e){var v=this.analyst.analyst(),C=0,T=0;v[0].length>0&&(C=v[0][0].length),v[1].length>0&&(T=v[1][0].length);var S=C>T?C:T;m=this.chart.widthGap(S,t),u=this.chart.marginGap(S,t)}var x=this.colpz(e,i,t),A=this.wcolp(e,x);m+=x}for(var M=[],G=0,D=0;D<f;D++){G=b*D+this.chart.xChart+u;for(var L=0;L<e;L++){var k;0!==L&&(G+=m,0!==i&&(G-=A));var O,E=g[D][L]/g[D][e-1];O=g[D][L-1]?g[D][L-1]/g[D][e-1]:0;var H=this.chart.h_val(E-O,l,y),I=this.chart.cacl_y(E,l,y),P=m,R=new Point(G,I),F=D*e+L,B=FillColorHelper.genGTag(a[F],{id:w[F],width:P,height:H}),N=FillColorHelper.genGTag(r[F],{id:w[F]+"_s",width:P,height:H});k=new Rect(w[F],R,P,H,B.ID,!0,N.ID,o[F],h,d[F],c[F],p[F]),M.push(k)}}return M},e.prototype.colpz=function(e,t,i){var a=this.chart.avgWidth(),r=this.calculatorWidthSeri(a,e,i),s=0;if(("Stacked"===this.analyst.indexTemplate||"Stacked100"===this.analyst.indexTemplate)&&1==e){var n=this.analyst.analyst(),l=0,o=0;n[0].length>0&&(l=n[0][0].length),n[1].length>0&&(o=n[1][0].length);var h=l+o-e;h>0&&(s=(r=this.calculatorWidthSeri(a,h,i))*(h-1))}e>1&&(t>0&&t<=100?s=r*(e-1)*t/100:t>=-100&&t<=0&&(s=(r-r*e/(2*e-1))*t/100));return s},e.prototype.wcolp=function(e,t){return(e>1?1+1/(e-1):0)*t},e.prototype.calculatorWidthSeri=function(e,t,i){return e/(t+i/100)},e}(),aysdLineChart=function(){function e(e,t,i,a,r,s,n){this.analyst=e,this.getData=e.getData,this.chart=e.chart,this.maxValAxisPrimary=i,this.maxValAxisSecondary=a,this.stepPrimary=r,this.stepSecondary=s,this.truongHop=n}return e.prototype.draw=function(){var e=this.analyst.analyst(),t=e[2],i=e[3],a=Object.keys(t.groupBy("ID")),r=Object.keys(i.groupBy("ID")),s=[],n=[],l=[],o=[],h=[],d=[],c=[],p=[],u=[],m=[];t.length>0&&t.sort((function(e,t){return e.ID-t.ID}));for(var b=this.chart.numCategory(),f=0;f<t.length;f++)f%b!=0&&(s.push(t[f].Stroke),l.push(t[f].CapType),h.push(t[f].JoinType),c.push(t[f].DashType));for(i.length>0&&i.sort((function(e,t){return e.ID-t.ID})),f=0;f<i.length;f++)f%b!=0&&(n.push(i[f].Stroke),o.push(i[f].CapType),d.push(i[f].JoinType),p.push(i[f].DashType));for(u=[],f=0;f<t.length;f++)f%b!=0&&u.push(t[f].Thickness);var g;for(m=[],f=0;f<i.length;f++)f%b!=0&&m.push(i[f].Thickness);t.length>0&&(g=this.drwlAcordingAxis(a.length,s,0,this.maxValAxisPrimary,this.stepPrimary,u,l,h,c),this.chart.gChart.querySelector(".drawChart").appendChild(g)),i.length>0&&(g=this.drwlAcordingAxis(r.length,n,1,this.maxValAxisSecondary,this.stepSecondary,m,o,d,p),this.chart.gChart.querySelector(".drawChart").appendChild(g))},e.prototype.drawCanvas=async function(e){var t=this.analyst.analyst(),i=t[2],a=t[3],r=Object.keys(i.groupBy("ID")),s=Object.keys(a.groupBy("ID")),n=[],l=[],o=[],h=[],d=[],c=[],p=[],u=[],m=[],b=[];i.length>0&&i.sort((function(e,t){return e.ID-t.ID}));for(var f=this.chart.numCategory(),g=0;g<i.length;g++)g%f!=0&&(n.push(i[g].Stroke),o.push(i[g].CapType),d.push(i[g].JoinType),p.push(i[g].DashType));for(a.length>0&&a.sort((function(e,t){return e.ID-t.ID})),g=0;g<a.length;g++)g%f!=0&&(l.push(a[g].Stroke),h.push(a[g].CapType),c.push(a[g].JoinType),u.push(a[g].DashType));for(m=[],g=0;g<i.length;g++)g%f!=0&&m.push(i[g].Thickness);for(b=[],g=0;g<a.length;g++)g%f!=0&&b.push(a[g].Thickness);i.length>0&&await this.drwlAcordingAxisCanvas(e,r.length,n,0,this.maxValAxisPrimary,this.stepPrimary,m,o,d,p),a.length>0&&await this.drwlAcordingAxisCanvas(e,s.length,l,1,this.maxValAxisSecondary,this.stepSecondary,b,h,c,u)},e.prototype.drwlAcordingAxis=function(e,t,i,a,r,s,n,l,o){var h=glhp.crgs("g","","lines");if("Clustered"===this.analyst.indexTemplate)var d=this.plcc(e,t,i,a,r);else if("Stacked"===this.analyst.indexTemplate)d=this.plcsk(e,t,i,a,r);else if("Stacked100"===this.analyst.indexTemplate)d=this.plcs100(e,t,i,a,r);for(var c=this.linesData(e,t,i,a,r,d,s,n,l,o),p=0;p<c.length;p++){var u=c[p],m=FillColorHelper.genGTag(t[p],cffz(u.getElement()));"Solid"!==t[p].CoT&&h.appendChild(m.Tag),u.color={col:m.ID},h.appendChild(u.getElement())}return h},e.prototype.drwlAcordingAxisCanvas=async function(e,t,i,a,r,s,n,l,o,h){if("Clustered"===this.analyst.indexTemplate)var d=await this.plcc(t,i,a,r,s);else if("Stacked"===this.analyst.indexTemplate)d=await this.plcsk(t,i,a,r,s);else if("Stacked100"===this.analyst.indexTemplate)d=await this.plcs100(t,i,a,r,s);for(var c=this.linesData(t,i,a,r,s,d,n,l,o,h),p=0;p<c.length;p++){var u=c[p],m=FillColorHelper.genGTag(i[p],cffz(u.getElement()));await this.chart.drawChartLine(e,u.point1,u.point2,u.lineWidth,m.ID,u.strokeLineCap,u.strokeLineJoin,u.typeDashArray,m.opacity)}},e.prototype.plcs100=function(e,t,i,a,r){for(var s,n=[],l=this.chart.numCategory(),o=this.chart.xChart,h=this.chart.avgWidth(),d=this.analyst.analyst()[i],c=0,p=0;p<l;p++){c=h/2+p*h;for(var u=0;u<e;u++){var m,b=[];m=o+c;var f,g=d[p][u]/d[p][e-1];g||(g=0),s=this.chart.stepHeight(r,a),f=this.chart.cacl_y(g,r,s),b.push(m,f),n.push(b)}}return n},e.prototype.plcc=function(e,t,i,a,r){for(var s,n=[],l=this.chart.numCategory(),o=this.chart.xChart,h=this.chart.avgWidth(),d=this.analyst.analyst()[i],c=0,p=0;p<l;p++){c=h/2+p*h;for(var u=0;u<e;u++){var m,b=[];m=o+c;var f=d[p][u],g=null;f&&(s=this.chart.stepHeight(r,a),g=this.chart.cacl_y(f,r,s)),b.push(m,g),n.push(b)}}return n},e.prototype.plcsk=function(e,t,i,a,r){for(var s,n=[],l=this.chart.numCategory(),o=this.chart.xChart,h=this.chart.avgWidth(),d=this.analyst.analyst()[i],c=0,p=0;p<l;p++){c=h/2+p*h;for(var u=0;u<e;u++){var m,b=[];m=o+c;var f,g=d[p][u];g||(g=0),s=this.chart.stepHeight(r,a),f=this.chart.cacl_y(g,r,s),b.push(m,f),n.push(b)}}return n},e.prototype.linesData=function(e,t,i,a,r,s,n,l,o,h){for(var d=[],c=[],p=this.chart.numCategory(),u=0;u<e;u++){c=[];for(var m=u;m<=u+(p-1)*e;m+=e)c.push(s[m]);d.push(c)}for(var b=[],f=this.analyst.analyst()[i+2].map((function(e){return e.IDSeri})),g=0;g<d.length;g++)for(var w=d[g].length-1,y=0;y<w;y++){var v=new Point(d[g][y][0],d[g][y][1]),C=new Point(d[g][y+1][0],d[g][y+1][1]);if(v.y&&C.y){var T=t[g%t.length],S=g*w+y;gliz(b,f[S],v,C,T,n[S],l[S],o[S],h[S])}}return b},e}(),aysdAreaChart=function(){function e(e,t,i,a,r,s,n,l){void 0===n&&(n=0),void 0===l&&(l=!0),this.analyst=e,this.getData=e.getData,this.chart=e.chart,this.options=e.chart.options,this.maxValAxisPrimary=i,this.maxValAxisSecondary=a,this.stepPrimary=r,this.stepSecondary=s,this.frameChart=this.chart.options.FrameChart,this.fillArea=l,this.truongHop=n}return e.prototype.draw=function(){var e=this.analyst.analyst(),t=e[2],i=e[3],a=Object.keys(t.groupBy("ID")),r=Object.keys(i.groupBy("ID")),s=[],n=[];s.push(a,r);var l=this.chart.seriesOption,o=this.analyst.indexTemplate,h=[];h.push(this.stepPrimary,this.stepSecondary);for(var d=0;d<l.length;d++)n.push(l[d].Stroke);var c,p,u=[];if(c=this.chart.stepHeight(this.stepPrimary,this.maxValAxisPrimary),p=this.chart.stepHeight(this.stepSecondary,this.maxValAxisSecondary),u.push(c,p),t.length>0||i.length>0)switch(o){case"Stacked":this.chart.gChart.querySelector(".drawChart").appendChild(this.drask(s,h,u,n));break;case"Clustered":this.chart.gChart.querySelector(".drawChart").appendChild(this.dausz(s,h,u,n));break;case"Stacked100":this.chart.gChart.querySelector(".drawChart").appendChild(this.drask100(s,h,u,n))}},e.prototype.drawPointClustered=function(e,t,i,a,r,s,n){var l;l="M "+e[0][0]+" "+e[0][1];for(var o=1;o<e.length;o++)l+=1==o?" L "+AddSpecial(e[0][0],e[o][0])+" "+AddSpecial(e[0][1],e[o][1]):" L "+AddSpecial(e[o-1][0],e[o][0])+" "+AddSpecial(e[o-1][1],e[o][1]);l+=" L "+AddSpecial(AddSpecial(e[o-2][0],e[o-1][0]),e[e.length-1][0])+" "+AddSpecial(AddSpecial(e[o-2][1],e[o-1][1]),this.frameChart.h+this.frameChart.T),l+=" L "+e[0][0]+" "+(this.frameChart.h+this.frameChart.T),l+=" L "+e[0][0]+" "+e[0][1];var h=glhp.crgs("path","","areaClustered");return h.setAttribute("d",l),h.setAttribute("fill",t),h.setAttribute("stroke-linecap",a),h.setAttribute("stroke-linejoin",s),h.setAttribute("stroke-dasharray",shzp.dskz(r)),h.setAttribute("stroke-width",i),h.setAttribute("stroke",n),h},e.prototype.dausz=function(e,t,i,a){for(var r=this.xryz(),s=this.chart.numCategory(),n=this.chart.seriesOption,l=glhp.crgs("g","","areaClustered"),o=0;o<2;o++)for(var h=0;h<e[o].length;h++){for(var d=[],c=[],p=parseInt(e[o][h])-1,u=this.cdkl(p),m=0;m<s;m++)(d=[]).push(r[m]),d.push(this.chart.cacl_y(u[m],t[o],i[o])),c.push(d);var b={id:n[p].IDSeri,width:this.chart.wChart,height:this.chart.hChart},f=FillColorHelper.genGTag(n[p].Fill,b);"Solid"!==n[p].Fill.CoT&&l.appendChild(f.Tag);var g=n[p],w=FillColorHelper.genGTag(g.Stroke,{id:g.IDSeri+"_s",width:this.chart.wChart,height:this.chart.hChart});w.Tag&&l.appendChild(w.Tag),l.appendChild(this.drawPointClustered(c,f.ID,g.Thickness,g.CapType,g.DashType,g.JoinType,w.ID))}return l},e.prototype.drask=function(e,t,i){for(var a=this.xryz(),r=this.ycaws(e),s=this,n=[],l=[],o=[],h=[],d=void 0,c=glhp.crgs("g","","areaStacked"),p=0;p<2;p++){for(var u=[],m=0;m<r[p].length;m++){d=parseInt(e[p][e[p].length-m-1])-1;var b={id:this.chart.seriesOption[d].IDSeri,width:this.chart.wChart,height:this.chart.hChart},f=FillColorHelper.genGTag(this.chart.seriesOption[d].Fill,b);"Solid"!==this.chart.seriesOption[d].Fill.CoT&&c.appendChild(f.Tag),n=(n=r[p][m]).map((function(e){return s.chart.cacl_y(e,t[p],i[p])})),l=a.map((function(e,t){return[e,n[t]]}));var g=this.chart.seriesOption[d],w=FillColorHelper.genGTag(g.Stroke,{id:g.IDSeri+"_s",width:this.chart.wChart,height:this.chart.hChart});w.Tag&&c.appendChild(w.Tag),m===r[p].length-1?u.push(this.drawChildAreaStacked(f.ID,l,null,g.Thickness,g.CapType,g.DashType,g.JoinType,w.ID)):(h=(h=r[p][m+1]).map((function(e){return s.chart.cacl_y(e,t[p],i[p])})),o=a.map((function(e,t){return[e,h[t]]})),u.push(this.drawChildAreaStacked(f.ID,l,o,g.Thickness,g.CapType,g.DashType,g.JoinType,w.ID)))}for(var y=u.length-1;y>=0;y--)c.appendChild(u[y])}return c},e.prototype.drask100=function(e,t,i){for(var a=this.xryz(),r=this.ycaws(e,this.ctx),s=this,n=[],l=[],o=[],h=[],d=void 0,c=glhp.crgs("g","","areaStacked"),p=0;p<2;p++){for(var u=[],m=0;m<r[p].length;m++){d=parseInt(e[p][e[p].length-m-1])-1;var b={id:this.chart.seriesOption[d].IDSeri,width:this.chart.wChart,height:this.chart.hChart},f=FillColorHelper.genGTag(this.chart.seriesOption[d].Fill,b);"Solid"!==this.chart.seriesOption[d].Fill.CoT&&c.appendChild(f.Tag),n=(n=r[p][m]).map((function(e,a){return s.chart.cacl_y(e/r[p][0][a],t[p],i[p])})),l=a.map((function(e,t){return[e,n[t]]}));var g=this.chart.seriesOption[d],w=FillColorHelper.genGTag(g.Stroke,{id:g.IDSeri+"_s",width:this.chart.wChart,height:this.chart.hChart});w.Tag&&c.appendChild(w.Tag),m===r[p].length-1?u.push(this.drawChildAreaStacked(f.ID,l,null,g.Thickness,g.CapType,g.DashType,g.JoinType,w.ID)):(h=(h=r[p][m+1]).map((function(e,a){return s.chart.cacl_y(e/r[p][0][a],t[p],i[p])})),o=a.map((function(e,t){return[e,h[t]]})),u.push(this.drawChildAreaStacked(f.ID,l,o,g.Thickness,g.CapType,g.DashType,g.JoinType,w.ID)))}for(var y=u.length-1;y>=0;y--)c.appendChild(u[y])}return c},e.prototype.drawChildAreaStacked=function(e,t,i,a,r,s,n,l){var o;o="M "+t[0][0]+" "+t[0][1];for(var h=1;h<t.length;h++)o+=" L "+t[h][0]+" "+t[h][1];if(i){o+=" L "+t[t.length-1][0]+" "+i[i.length-1][1];for(var d=i.length-1;d>=0;d--)o+=" L "+i[d][0]+" "+i[d][1];o+=" L "+i[0][0]+" "+t[0][1]}else o+=" L "+t[t.length-1][0]+" "+(this.frameChart.h+this.frameChart.T),o+=" L "+t[0][0]+" "+(this.frameChart.h+this.frameChart.T),o+=" L "+t[0][0]+" "+t[0][1];var c=glhp.crgs("path","","areaStacked");return c.setAttribute("d",o),c.setAttribute("fill",e),c.setAttribute("stroke-linecap",r),c.setAttribute("stroke-linejoin",n),c.setAttribute("stroke-dasharray",shzp.dskz(s)),c.setAttribute("stroke-width",a),c.setAttribute("stroke",l),c},e.prototype.xryz=function(){var e,t=[],i=this.chart.numCategory(),a=this.frameChart,r=a.l,s=void 0,n=!0;this.fillArea?this.options.dbbw.jjzj&&(n=!1):n=!1;for(var l=0;l<i;l++)s=n?r+l*(e=this.frameChart.w/(i-1)):r+((e=a.w/i)/2+l*e),t.push(s);return t},e.prototype.ycaws=function(e){for(var t=void 0,i=void 0,a=void 0,r=void 0,s=[],n=[],l=0;l<2;l++){t=0,i=[],a=[],s=[],r=[];for(var o=0;o<e[l].length;o++)t=e[l][o]-1,i=this.cdkl(t),0===o?r=i:(a=new ArrayValue(i),r=(r=new ArrayValue(r)).sumSingleIteration(a)),s.push(r);n.push(s.reverse())}return n},e.prototype.cdkl=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=[],i=0;i<this.options.Data.length;i++)t.push(this.options.Data[i].Series[e].Value);return t},e.prototype.drawCanvas=async function(e){var t=this.analyst.analyst(),i=t[2],a=t[3],r=Object.keys(i.groupBy("ID")),s=Object.keys(a.groupBy("ID")),n=[],l=[];n.push(r,s);var o=this.chart.seriesOption,h=this.analyst.indexTemplate,d=[];d.push(this.stepPrimary,this.stepSecondary);for(var c=0;c<o.length;c++)l.push(o[c].Stroke);var p,u,m=[];if(p=this.chart.stepHeight(this.stepPrimary,this.maxValAxisPrimary),u=this.chart.stepHeight(this.stepSecondary,this.maxValAxisSecondary),m.push(p,u),i.length>0||a.length>0)switch(h){case"Stacked":await this.draskCanvas(e,n,d,m,l);break;case"Clustered":await this.dauszCanvas(e,n,d,m,l);break;case"Stacked100":await this.drask100Canvas(e,n,d,m,l)}},e.prototype.dauszCanvas=async function(e,t,i,a,r){for(var s=this.xryz(),n=this.chart.numCategory(),l=this.chart.seriesOption,o=0;o<2;o++)for(var h=0;h<t[o].length;h++){for(var d=[],c=[],p=parseInt(t[o][h])-1,u=this.cdkl(p),m=0;m<n;m++)(d=[]).push(s[m]),d.push(this.chart.cacl_y(u[m],i[o],a[o])),c.push(d);var b={id:l[p].IDSeri,width:this.chart.wChart,height:this.chart.hChart},f=FillColorHelper.genGTag(l[p].Fill,b),g=l[p],w=FillColorHelper.genGTag(g.Stroke,{id:g.IDSeri+"_s",width:this.chart.wChart,height:this.chart.hChart}),y=await this.drawPointClusteredCanvas(c);await this.drawAreaChartCanvas(e,y,f.ID,g.Thickness,g.CapType,g.DashType,g.JoinType,w.ID)}},e.prototype.drawPointClusteredCanvas=async function(e){for(var t="M "+e[0][0]+" "+e[0][1],i=1;i<e.length;i++)t+=1==i?" L "+AddSpecial(e[0][0],e[i][0])+" "+AddSpecial(e[0][1],e[i][1]):" L "+AddSpecial(e[i-1][0],e[i][0])+" "+AddSpecial(e[i-1][1],e[i][1]);return t+=" L "+AddSpecial(AddSpecial(e[i-2][0],e[i-1][0]),e[e.length-1][0])+" "+AddSpecial(AddSpecial(e[i-2][1],e[i-1][1]),this.frameChart.h+this.frameChart.T),t+=" L "+e[0][0]+" "+(this.frameChart.h+this.frameChart.T),t+=" L "+e[0][0]+" "+e[0][1]},e.prototype.draskCanvas=async function(e,t,i,a){for(var r=this.xryz(),s=this.ycaws(t),n=this,l=[],o=[],h=[],d=[],c=void 0,p=0;p<2;p++)for(var u=s[p].length-1;u>=0;u--){c=parseInt(t[p][t[p].length-u-1])-1;var m={id:this.chart.seriesOption[c].IDSeri,width:this.chart.wChart,height:this.chart.hChart},b=FillColorHelper.genGTag(this.chart.seriesOption[c].Fill,m);l=(l=s[p][u]).map((function(e){return n.chart.cacl_y(e,i[p],a[p])})),o=r.map((function(e,t){return[e,l[t]]}));var f=this.chart.seriesOption[c],g=FillColorHelper.genGTag(f.Stroke,{id:f.IDSeri+"_s",width:this.chart.wChart,height:this.chart.hChart});if(u===s[p].length-1){var w=await this.drawChildAreaStackedCanvas(o,null);await this.drawAreaChartCanvas(e,w,b.ID,f.Thickness,f.CapType,f.DashType,f.JoinType,g.ID)}else{d=(d=s[p][u+1]).map((function(e){return n.chart.cacl_y(e,i[p],a[p])})),h=r.map((function(e,t){return[e,d[t]]}));w=await this.drawChildAreaStackedCanvas(o,h);await this.drawAreaChartCanvas(e,w,b.ID,f.Thickness,f.CapType,f.DashType,f.JoinType,g.ID)}}},e.prototype.drawChildAreaStackedCanvas=async function(e,t){for(var i="M "+e[0][0]+" "+e[0][1],a=1;a<e.length;a++)i+=" L "+e[a][0]+" "+e[a][1];if(t){i+=" L "+e[e.length-1][0]+" "+t[t.length-1][1];for(var r=t.length-1;r>=0;r--)i+=" L "+t[r][0]+" "+t[r][1];i+=" L "+t[0][0]+" "+e[0][1]}else i+=" L "+e[e.length-1][0]+" "+(this.frameChart.h+this.frameChart.T),i+=" L "+e[0][0]+" "+(this.frameChart.h+this.frameChart.T),i+=" L "+e[0][0]+" "+e[0][1];return i},e.prototype.drask100Canvas=async function(e,t,i,a){for(var r=this.xryz(),s=this.ycaws(t,this.ctx),n=this,l=[],o=[],h=[],d=[],c=void 0,p=0;p<2;p++)for(var u=s[p].length-1;u>=0;u--){c=parseInt(t[p][t[p].length-u-1])-1;var m={id:this.chart.seriesOption[c].IDSeri,width:this.chart.wChart,height:this.chart.hChart},b=FillColorHelper.genGTag(this.chart.seriesOption[c].Fill,m);l=(l=s[p][u]).map((function(e,t){return n.chart.cacl_y(e/s[p][0][t],i[p],a[p])})),o=r.map((function(e,t){return[e,l[t]]}));var f,g=this.chart.seriesOption[c],w=FillColorHelper.genGTag(g.Stroke,{id:g.IDSeri+"_s",width:this.chart.wChart,height:this.chart.hChart});u===s[p].length-1?(f=await this.drawChildAreaStackedCanvas(o,null),await this.drawAreaChartCanvas(e,f,b.ID,g.Thickness,g.CapType,g.DashType,g.JoinType,w.ID)):(d=(d=s[p][u+1]).map((function(e,t){return n.chart.cacl_y(e/s[p][0][t],i[p],a[p])})),h=r.map((function(e,t){return[e,d[t]]})),f=await this.drawChildAreaStackedCanvas(o,h),await this.drawAreaChartCanvas(e,f,b.ID,g.Thickness,g.CapType,g.DashType,g.JoinType,w.ID))}},e.prototype.drawChildAreaStackedCanvas=async function(e,t){for(var i="M "+e[0][0]+" "+e[0][1],a=1;a<e.length;a++)i+=" L "+e[a][0]+" "+e[a][1];if(t){i+=" L "+e[e.length-1][0]+" "+t[t.length-1][1];for(var r=t.length-1;r>=0;r--)i+=" L "+t[r][0]+" "+t[r][1];i+=" L "+t[0][0]+" "+e[0][1]}else i+=" L "+e[e.length-1][0]+" "+(this.frameChart.h+this.frameChart.T),i+=" L "+e[0][0]+" "+(this.frameChart.h+this.frameChart.T),i+=" L "+e[0][0]+" "+e[0][1];return i},e.prototype.drawAreaChartCanvas=async function(e,t,i,a,r,s,n,l){e.save(),e.beginPath();let o=new Path2D(t);e.fillStyle=i,e.strokeStyle=l,e.lineCap=r,e.lineJoin,e.lineWidth=a;var h=shzp.dskz(s,a);e.setLineDash(h.split`,`.map(e=>+e)),e.fill(o),a>0&&e.stroke(o),e.restore()},e}(),aysdRadarChart=function(){function e(e,t,i,a,r,s,n,l){void 0===n&&(n=0),void 0===l&&(l=!0),this.analyst=e,this.getData=e.getData,this.chart=e.chart,this.options=e.chart.options,this.maxValAxisPrimary=i,this.maxValAxisSecondary=a,this.stepPrimary=r,this.stepSecondary=s,this.frameChart=this.chart.options.FrameChart,this.fillArea=l,this.truongHop=n}function t(e,t,i){var a=new Point;return a.x=e.x+(t.x-e.x)*Math.cos(i/180*Math.PI)-(t.y-e.y)*Math.sin(i/180*Math.PI),a.y=e.y+(t.x-e.x)*Math.sin(i/180*Math.PI)+(t.y-e.y)*Math.cos(i/180*Math.PI),a}return e.prototype.draw=function(){var e=this.analyst.analyst(),t=e[2],i=e[3],a=Object.keys(t.groupBy("ID")),r=Object.keys(i.groupBy("ID")),s=[],n=[];s.push(a,r);var l=this.chart.seriesOption,o=this.analyst.indexTemplate,h=[];h.push(this.stepPrimary,this.stepSecondary);for(var d=0;d<l.length;d++)n.push(l[d].Stroke);var c,p,u=[];if(c=this.chart.stepHeight(this.stepPrimary,this.maxValAxisPrimary),p=this.chart.stepHeight(this.stepSecondary,this.maxValAxisSecondary),u.push(c,p),t.length>0)switch(o){case"Stacked":this.chart.gChart.querySelector(".drawChart").appendChild(this.drawRadarStacked(s,h,u,n));break;case"Clustered":this.chart.gChart.querySelector(".drawChart").appendChild(this.drawRadarClustered(s,h,u,n));break;case"Stacked100":this.chart.gChart.querySelector(".drawChart").appendChild(this.drawRadarStacked100(s,h,u,n))}else i.length},e.prototype.drawPointClustered=function(e,t,i,a,r,s,n){var l;l="M "+e[0][0]+" "+e[0][1];for(var o=1;o<e.length;o++)l+=1==o?" L "+AddSpecial(e[0][0],e[o][0])+" "+AddSpecial(e[0][1],e[o][1]):" L "+AddSpecial(e[o-1][0],e[o][0])+" "+AddSpecial(e[o-1][1],e[o][1]);l+=" L "+AddSpecial(AddSpecial(e[o-2][0],e[o-1][0]),e[e.length-1][0])+" "+AddSpecial(AddSpecial(e[o-2][1],e[o-1][1]),this.frameChart.h+this.frameChart.T),l+=" L "+e[0][0]+" "+(this.frameChart.h+this.frameChart.T),l+=" L "+e[0][0]+" "+e[0][1];var h=glhp.crgs("path","","areaClustered");return h.setAttribute("d",l),h.setAttribute("fill",t),h.setAttribute("stroke-linecap",a),h.setAttribute("stroke-linejoin",s),h.setAttribute("stroke-dasharray",shzp.dskz(r)),h.setAttribute("stroke-width",i),h.setAttribute("stroke",n),h},e.prototype.drawRadarClustered=function(e,i,a,r){this.xryz(),this.ycaws(e,this.ctx);for(var s=void 0,n=glhp.crgs("g","","areaStacked"),l=e[0].length,o=0;o<l;o++){var h=[];s=o;var d={id:this.chart.seriesOption[s].IDSeri,width:this.chart.wChart,height:this.chart.hChart},c=FillColorHelper.genGTag(this.chart.seriesOption[s].Fill,d);"Solid"!==this.chart.seriesOption[s].Fill.CoT&&n.appendChild(c.Tag);var p=this.chart.seriesOption[s],u=FillColorHelper.genGTag(p.Stroke,{id:p.IDSeri+"_s",width:this.chart.wChart,height:this.chart.hChart});u.Tag&&n.appendChild(u.Tag);for(var m,b=this.chart.xChart,f=this.chart.yChart,g=b+this.chart.wChart,w=f+this.chart.hChart,y=new Point((g+b)/2,(w+f)/2),v=this.chart.data.length,C=y.y-(w-f)/2*p.Value/this.maxValAxisPrimary,T=new Point(y.x,C),S=T,x=360/v,A=1;A<=v;A++)p=A==v?this.chart.data[0].Series[o]:this.chart.data[A].Series[o],C=y.y-(w-f)/2*p.Value/this.maxValAxisPrimary,m=t(y,T=new Point(y.x,C),x*A),h.push(this.drawChildRadarClustered(c.ID,S,m,p.Thickness,p.CapType,p.DashType,p.JoinType,u.ID)),S=m;for(var M=h.length-1;M>=0;M--)n.appendChild(h[M])}return n},e.prototype.drawRadarStacked=function(e,i,a){this.xryz(),this.ycaws(e,this.ctx);for(var r=void 0,s=e[0],n=glhp.crgs("g","","areaStacked"),l=e[0].length,o=!0,h=this.maxValAxisPrimary,d=0;d<l;d++){var c=[];r=s[d]-1;var p={id:this.chart.seriesOption[r].IDSeri,width:this.chart.wChart,height:this.chart.hChart},u=FillColorHelper.genGTag(this.chart.seriesOption[r].Fill,p);"Solid"!==this.chart.seriesOption[r].Fill.CoT&&n.appendChild(u.Tag);var m=this.chart.seriesOption[r],b=FillColorHelper.genGTag(m.Stroke,{id:m.IDSeri+"_s",width:this.chart.wChart,height:this.chart.hChart});b.Tag&&n.appendChild(b.Tag);var f,g=this.chart.xChart,w=this.chart.yChart,y=g+this.chart.wChart,v=w+this.chart.hChart,C=new Point((y+g)/2,(v+w)/2),T=this.chart.data.length,S=C.y-(v-w)/2*m.Value/h,x=new Point(C.x,S),A=x,M=360/T;c.push(this.drawChildRadarPoint(u.ID,A,m.Thickness,m.CapType,m.DashType,m.JoinType,b.ID));for(var G=1;G<=T;G++)m=G==T?this.chart.data[0].Series[r]:this.chart.data[G].Series[r],S=C.y-(v-w)/2*m.Value/h,f=t(C,x=new Point(C.x,S),M*G),c.push(this.drawChildRadarClustered(u.ID,A,f,m.Thickness,m.CapType,m.DashType,m.JoinType,b.ID)),A=f,c.push(this.drawChildRadarPoint(u.ID,f,m.Thickness,m.CapType,m.DashType,m.JoinType,b.ID));for(var D=c.length-1;D>=0;D--)n.appendChild(c[D]);d==l-1&&o&&(l=e[1].length,d=-1,o=!1,s=e[1],h=this.maxValAxisSecondary)}return n},e.prototype.drawRadarStacked100=function(e,i,a){this.xryz(),this.ycaws(e,this.ctx);for(var r=void 0,s=e[0],n=glhp.crgs("g","","areaStacked"),l=!0,o=e[0].length,h=this.maxValAxisPrimary,d=0;d<o;d++){var c=[];r=s[d]-1;var p={id:this.chart.seriesOption[r].IDSeri,width:this.chart.wChart,height:this.chart.hChart},u=FillColorHelper.genGTag(this.chart.seriesOption[r].Fill,p);"Solid"!==this.chart.seriesOption[r].Fill.CoT&&n.appendChild(u.Tag);var m=this.chart.seriesOption[r],b=FillColorHelper.genGTag(m.Stroke,{id:m.IDSeri+"_s",width:this.chart.wChart,height:this.chart.hChart});b.Tag&&n.appendChild(b.Tag);for(var f,g=this.chart.xChart,w=this.chart.yChart,y=g+this.chart.wChart,v=w+this.chart.hChart,C=new Point((y+g)/2,(v+w)/2),T=this.chart.data.length,S=C.y-(v-w)/2*m.Value/h,x=new Point(C.x,S),A=x,M=360/T,G=1;G<=T;G++)m=G==T?this.chart.data[0].Series[r]:this.chart.data[G].Series[r],S=C.y-(v-w)/2*m.Value/h,f=t(C,x=new Point(C.x,S),M*G),c.push(this.drawChildRadarStacked(u.ID,A,f,C,m.Thickness,m.CapType,m.DashType,m.JoinType,b.ID)),A=f;for(var D=c.length-1;D>=0;D--)n.appendChild(c[D]);d==o-1&&l&&(o=e[1].length,d=-1,l=!1,s=e[1],h=this.maxValAxisSecondary)}return n},e.prototype.drawChildRadarStacked=function(e,t,i,a,r,s,n,l,o){var h;h="M "+t.x+" "+t.y+" L "+i.x+" "+i.y+" L "+a.x+" "+a.y;var d=glhp.crgs("path","","areaStacked");return d.setAttribute("d",h),d.setAttribute("fill",e),d.setAttribute("stroke-linecap",s),d.setAttribute("stroke-linejoin",l),d.setAttribute("stroke-dasharray",shzp.dskz(n)),d.setAttribute("stroke-width",r),d.setAttribute("stroke",o),d},e.prototype.drawChildRadarClustered=function(e,t,i,a,r,s,n,l){var o;o="M "+t.x+" "+t.y+" L "+i.x+" "+i.y;var h=glhp.crgs("path","","areaStacked");return h.setAttribute("d",o),h.setAttribute("fill",e),h.setAttribute("stroke-linecap",r),h.setAttribute("stroke-linejoin",n),h.setAttribute("stroke-dasharray",shzp.dskz(s)),h.setAttribute("stroke-width",a),h.setAttribute("stroke",l),h},e.prototype.drawChildRadarPoint=function(e,t,i,a,r,s,n){var l=glhp.crgs("circle","","areaStacked");return l.setAttribute("cx",t.x),l.setAttribute("cy",t.y),l.setAttribute("r",2),l.setAttribute("fill",e),l.setAttribute("stroke-linecap",a),l.setAttribute("stroke-linejoin",s),l.setAttribute("stroke-dasharray",shzp.dskz(r)),l.setAttribute("stroke-width",i),l.setAttribute("stroke",n),l},e.prototype.xryz=function(){var e,t=[],i=this.chart.numCategory(),a=this.frameChart,r=a.l,s=void 0,n=!0;this.fillArea?this.options.dbbw.jjzj&&(n=!1):n=!1;for(var l=0;l<i;l++)s=n?r+l*(e=this.frameChart.w/(i-1)):r+((e=a.w/i)/2+l*e),t.push(s);return t},e.prototype.ycaws=function(e){for(var t=void 0,i=void 0,a=void 0,r=void 0,s=[],n=[],l=0;l<2;l++){t=0,i=[],a=[],s=[],r=[];for(var o=0;o<e[l].length;o++)t=e[l][o]-1,i=this.cdkl(t),0===o?r=i:(a=new ArrayValue(i),r=(r=new ArrayValue(r)).sumSingleIteration(a)),s.push(r);n.push(s.reverse())}return n},e.prototype.cdkl=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=[],i=0;i<this.options.Data.length;i++)t.push(this.options.Data[i].Series[e].Value);return t},e.prototype.drawCanvas=async function(e){var t=this.analyst.analyst(),i=t[2],a=t[3],r=Object.keys(i.groupBy("ID")),s=Object.keys(a.groupBy("ID")),n=[],l=[];n.push(r,s);var o=this.chart.seriesOption,h=this.analyst.indexTemplate;[].push(this.stepPrimary,this.stepSecondary);for(var d=0;d<o.length;d++)l.push(o[d].Stroke);var c,p;if(c=this.chart.stepHeight(this.stepPrimary,this.maxValAxisPrimary),p=this.chart.stepHeight(this.stepSecondary,this.maxValAxisSecondary),[].push(c,p),i.length>0)switch(h){case"Stacked":await this.drawRadarStackedCanvas(e,n);break;case"Clustered":await this.drawRadarClusteredCanvas(e,n);break;case"Stacked100":await this.drawRadarStacked100Canvas(e,n)}},e.prototype.drawRadarClusteredCanvas=async function(e,i){for(var a=void 0,r=i[0].length,s=0;s<r;s++){a=s;for(var n,l={id:this.chart.seriesOption[a].IDSeri,width:this.chart.wChart,height:this.chart.hChart},o=FillColorHelper.genGTag(this.chart.seriesOption[a].Fill,l),h=this.chart.seriesOption[a],d=FillColorHelper.genGTag(h.Stroke,{id:h.IDSeri+"_s",width:this.chart.wChart,height:this.chart.hChart}),c=this.chart.xChart,p=this.chart.yChart,u=c+this.chart.wChart,m=p+this.chart.hChart,b=new Point((u+c)/2,(m+p)/2),f=this.chart.data.length,g=b.y-(m-p)/2*h.Value/this.maxValAxisPrimary,w=new Point(b.x,g),y=w,v=360/f,C=1;C<=f;C++){h=C==f?this.chart.data[0].Series[s]:this.chart.data[C].Series[s],g=b.y-(m-p)/2*h.Value/this.maxValAxisPrimary,n=t(b,w=new Point(b.x,g),v*C);var T="M "+y.x+" "+y.y+" L "+n.x+" "+n.y;await this.drawRadarChartCanvas(e,T,o.ID,h.Thickness,h.CapType,h.DashType,h.JoinType,d.ID),y=n}}},e.prototype.drawRadarChartCanvas=async function(e,t,i,a,r,s,n,l){e.save(),e.beginPath();let o=new Path2D(t);e.fillStyle=i,e.lineCap=r,e.lineJoin,e.strokeStyle=l,e.lineWidth=a;var h=shzp.dskz(s,a);e.setLineDash(h.split`,`.map(e=>+e)),a>0&&e.stroke(o),e.restore()},e.prototype.drawRadarStackedCanvas=async function(e,i){for(var a=void 0,r=i[0],s=i[0].length,n=!0,l=this.maxValAxisPrimary,o=0;o<s;o++){a=r[o]-1;var h,d={id:this.chart.seriesOption[a].IDSeri,width:this.chart.wChart,height:this.chart.hChart},c=FillColorHelper.genGTag(this.chart.seriesOption[a].Fill,d),p=this.chart.seriesOption[a],u=FillColorHelper.genGTag(p.Stroke,{id:p.IDSeri+"_s",width:this.chart.wChart,height:this.chart.hChart}),m=this.chart.xChart,b=this.chart.yChart,f=m+this.chart.wChart,g=b+this.chart.hChart,w=new Point((f+m)/2,(g+b)/2),y=this.chart.data.length,v=w.y-(g-b)/2*p.Value/l,C=new Point(w.x,v),T=C,S=360/y;await this.drawChildRadarPointCanvas(e,c.ID,T,p.Thickness,p.CapType,p.DashType,p.JoinType,u.ID);for(var x=1;x<=y;x++){p=x==y?this.chart.data[0].Series[a]:this.chart.data[x].Series[a],v=w.y-(g-b)/2*p.Value/l,h=t(w,C=new Point(w.x,v),S*x);var A="M "+T.x+" "+T.y+" L "+h.x+" "+h.y;await this.drawRadarChartCanvas(e,A,c.ID,p.Thickness,p.CapType,p.DashType,p.JoinType,u.ID),T=h,await this.drawChildRadarPointCanvas(e,c.ID,h,p.Thickness,p.CapType,p.DashType,p.JoinType,u.ID)}o==s-1&&n&&(s=i[1].length,o=-1,n=!1,r=i[1],l=this.maxValAxisSecondary)}},e.prototype.drawChildRadarPointCanvas=async function(e,t,i,a,r,s,n,l){e.save(),e.beginPath(),e.fillStyle=t,e.ellipse(i.x,i.y,2,2,Math.PI/2,0,2*Math.PI),e.strokeStyle=l,e.lineCap=r,e.lineJoin,e.lineWidth=a;var o=shzp.dskz(s,a);e.setLineDash(o.split`,`.map(e=>+e)),e.fill(),a>0&&e.stroke(),e.restore()},e.prototype.drawRadarStacked100Canvas=async function(e,i){for(var a=void 0,r=i[0],s=!0,n=i[0].length,l=this.maxValAxisPrimary,o=0;o<n;o++){a=r[o]-1;for(var h,d={id:this.chart.seriesOption[a].IDSeri,width:this.chart.wChart,height:this.chart.hChart},c=FillColorHelper.genGTag(this.chart.seriesOption[a].Fill,d),p=this.chart.seriesOption[a],u=FillColorHelper.genGTag(p.Stroke,{id:p.IDSeri+"_s",width:this.chart.wChart,height:this.chart.hChart}),m=this.chart.xChart,b=this.chart.yChart,f=m+this.chart.wChart,g=b+this.chart.hChart,w=new Point((f+m)/2,(g+b)/2),y=this.chart.data.length,v=w.y-(g-b)/2*p.Value/l,C=new Point(w.x,v),T=C,S=360/y,x=1;x<=y;x++){p=x==y?this.chart.data[0].Series[a]:this.chart.data[x].Series[a],v=w.y-(g-b)/2*p.Value/l,h=t(w,C=new Point(w.x,v),S*x);var A="M "+T.x+" "+T.y+" L "+h.x+" "+h.y+" L "+w.x+" "+w.y;await this.drawChildRadarStackedCanvas(e,A,c.ID,p.Thickness,p.CapType,p.DashType,p.JoinType,u.ID),T=h}o==n-1&&s&&(n=i[1].length,o=-1,s=!1,r=i[1],l=this.maxValAxisSecondary)}},e.prototype.drawChildRadarStackedCanvas=async function(e,t,i,a,r,s,n,l){e.save(),e.beginPath();let o=new Path2D(t);e.fillStyle=i,e.lineCap=r,e.lineJoin,e.strokeStyle=l,e.lineWidth=a;var h=shzp.dskz(s,a);e.setLineDash(h.split`,`.map(e=>+e)),e.fill(o),a>0&&e.stroke(o),e.restore()},e}();function tchak(e){return e.split("_")[0]}function tplz(e){return e.split("_")[1]}var RectCellChart=function(){function e(e,t,i,a,r,s,n,l,o,h,d){this.x=e,this.y=t,this.w=i,this.h=a,this.fill=r,this.colorStroke=s,this.opacity=n,this.lineWidth=l,this.capType=o,this.joinType=h,this.dashType=d}return e.prototype.drawChartCanvas=async function(e){e.save(),e.fillStyle=this.fill,e.strokeStyle=this.colorStroke,e.fillRect(this.x,this.y,this.w,this.h),e.opacity=this.opacity,e.lineWidth=this.lineWidth,e.lineCap=this.capType,e.lineJoin,this.joinType;var t=shzp.dskz(this.dashType,this.lineWidth);e.setLineDash(t.split`,`.map(e=>+e)),this.lineWidth>0&&e.strokeRect(this.x,this.y,this.w,this.h),e.restore()},e}(),WidthLabelHelper=function(){function e(){}var t=e.prototype;return t.GetWidthLabel=function(e,t,i,a,r,s,n,l,o,h,d,c,p,u){var m=t;switch(e.font="italic 14px Times New Roman",e.fillStyle=u,m+=e.measureText("y=").width,c){case 0:m+=this.dequa(e,t+e.measureText("y=").width,i,0,a,r,s,n,l,u);break;case 1:m+=this.dequa(e,t+e.measureText("y=").width,i,1,a,r,s,n,l,u);break;case 2:m+=this.dequa(e,t+e.measureText("y=").width,i,2,a,r,s,n,l,u);break;case 3:m+=this.dequa(e,t+e.measureText("y=").width,i,3,a,r,s,n,l,u);break;case 4:m+=this.dequa(e,t+e.measureText("y=").width,i,4,a,r,s,n,l,u);break;case 5:m+=this.dequa(e,t+e.measureText("y=").width,i,5,a,r,s,n,l,u);break;case 6:m+=this.dequa(e,t+e.measureText("y=").width,i,6,a,r,s,n,l,u);break;case 7:m+=this.dequa(e,t+e.measureText("y=").width,i,p,a,r,s,n,l,u,14,!0);break;case 8:e.font="italic 14px Times New Roman",m+=e.measureText("|").width,m+=this.dequa(e,m,i,p,a,r,s,n,l,u),e.font="italic 14px Times New Roman",m+=e.measureText("|").width;break;case 9:m+=this.dwhpp(e,m,i,a,r,!0,u);break;case 10:m+=this.dwhpp(e,m,i,a,r,!1,u);break;case 11:m+=this.dxlz(e,m,i,d,null,null,14,!1,u,!0),e.font="italic 14px Times New Roman",m+=e.measureText("sin( ").width,m+=this.dequa(e,m,i,p,a,r,s,n,l,u),e.font="italic 14px Times New Roman",m+=e.measureText(" )").width;break;case 12:m+=this.dxlz(e,m,i,d,null,null,14,!1,u,!0),e.font="italic 14px Times New Roman",m+=e.measureText("cos( ").width,m+=this.dequa(e,m,i,p,a,r,s,n,l,u),e.font="italic 14px Times New Roman",m+=e.measureText(" )").width;break;case 13:m+=this.dxlz(e,m,i,d,null,null,14,!1,u,!0),e.font="italic 14px Times New Roman",m+=e.measureText("tan( ").width,m+=this.dequa(e,m,i,p,a,r,s,n,l,u),e.font="italic 14px Times New Roman",m+=e.measureText(" )").width;break;case 14:m+=this.dxlz(e,m,i,d,null,null,14,!1,u,!0),e.font="italic 14px Times New Roman",m+=e.measureText("cotan( ").width,m+=this.dequa(e,m,i,p,a,r,s,n,l,u),e.font="italic 14px Times New Roman",m+=e.measureText(" )").width;break;case 15:m+=this.dxlz(e,m,i,o,null,null,14,!1,u),m+=this.dequa(e,m,i-14,p,a,r,s,n,l,u,10);break;case 16:m+=this.dxlz(e,m,i,"1",null,"e",14,!1,u),m+=this.dequa(e,m,i-14,p,a,r,s,n,l,u,10);break;case 17:m+=this.dxlz(e,m,i,d,null,null,14,!1,u,!0),e.font="italic 14px Times New Roman",m+=e.measureText("log").width,m+=this.dxlz(e,m,i+10,o,null,null,10,!1),e.font="italic 14px Times New Roman",m+=e.measureText("( ").width,m+=this.dequa(e,m,i,p,a,r,s,n,l,u),e.font="italic 14px Times New Roman",m+=e.measureText(" )").width;break;case 18:m+=this.dxlz(e,m,i,d,null,null,14,!1,u,!0),e.font="italic 14px Times New Roman",m+=e.measureText("log").width,e.font="italic 14px Times New Roman",m+=e.measureText("( ").width,m+=this.dequa(e,m,i,p,a,r,s,n,l,u),e.font="italic 14px Times New Roman",m+=e.measureText(" )").width;break;case 19:m+=this.dxlz(e,m,i,d,null,null,14,!1,u,!0),e.font="italic 14px Times New Roman",m+=e.measureText("ln").width,e.font="italic 14px Times New Roman",m+=e.measureText("( ").width,m+=this.dequa(e,m,i,p,a,r,s,n,l,u),e.font="italic 14px Times New Roman",m+=e.measureText(" )").width}return this.sivd(h)&&0!=parseFloat(h)&&(this.gvfs(h)>=0&&(m+=this.dwpls(e,m,i,14)),m+=this.dxlz(e,m,i,h,null,null,14,!1,u)),m},t.dequa=function(e,t,i,a,r,s,n,l,o,h,d,c){void 0===d&&(d=14),void 0===c&&(c=!1);var p=t,u=t,m=t;switch(a){case 0:return(p+=this.dxlz(e,p,i,r,null,null,d,c,h))-t;case 1:var b=!1;return this.sivd(r)&&0==parseFloat(r)&&(b=!0),this.CheckDrawString(r)&&(p+=this.dxlz(e,p,i,r,null,"x",d,c)),this.CheckDrawString(s)&&(this.gvfs(s)>=0&&!b&&(p+=this.dwpls(e,p,i,d)),p+=this.dxlz(e,p,i,s,null,null,d,c,h)),p-t;case 2:return this.CheckDrawString(r)&&(p+=this.dxlz(e,p,i,r,"2","x",d,c)),this.CheckDrawString(s)&&(this.gvfs(s)>=0&&(p+=this.dwpls(e,p,i,d)),p+=this.dxlz(e,p,i,s,null,"x",d,c,h)),this.CheckDrawString(n)&&(this.gvfs(n)>=0&&(p+=this.dwpls(e,p,i,d)),p+=this.dxlz(e,p,i,n,null,null,d,c,h)),p-t;case 3:return this.CheckDrawString(r)&&(p+=this.dxlz(e,p,i,r,"3","x",d,c)),this.CheckDrawString(s)&&(this.gvfs(s)>=0&&(p+=this.dwpls(e,p,i,d)),p+=this.dxlz(e,p,i,s,"2","x",d,c,h)),this.CheckDrawString(n)&&(this.gvfs(n)>=0&&(p+=this.dwpls(e,p,i,d)),p+=this.dxlz(e,p,i,n,null,"x",d,c,h)),this.CheckDrawString(l)&&(this.gvfs(l)>=0&&(p+=this.dwpls(e,p,i,d)),p+=this.dxlz(e,p,i,l,null,null,d,c,h)),p-t;case 4:return this.CheckDrawString(r)&&(p+=this.dxlz(e,p,i,r,"4","x",d,c)),this.CheckDrawString(s)&&(this.gvfs(s)>=0&&(p+=this.dwpls(e,p,i,d)),p+=this.dxlz(e,p,i,s,"3","x",d,c,h)),this.CheckDrawString(n)&&(this.gvfs(n)>=0&&(p+=this.dwpls(e,p,i,d)),p+=this.dxlz(e,p,i,n,"2","x",d,c,h)),this.CheckDrawString(l)&&(this.gvfs(l)>=0&&(p+=this.dwpls(e,p,i,d)),p+=this.dxlz(e,p,i,l,null,"x",d,c,h)),this.CheckDrawString(o)&&(this.gvfs(o)>=0&&(p+=this.dwpls(e,p,i,d)),p+=this.dxlz(e,p,i,o,null,null,d,c,h)),p-t;case 5:var f=this.crfr(r,s)?-8:0;this.CheckDrawString(r)&&(u+=this.dxlz(e,u,i-7+f,r,null,"x",d,c,h)),this.CheckDrawString(s)&&(this.gvfs(s)>=0&&(u+=this.dwpls(e,u,i-7+f,d)),u+=this.dxlz(e,u,i-7+f,s,null,null,d,c,h));var g=(this.crfr(n,l),-7);return this.CheckDrawString(n)&&(m+=this.dxlz(e,m,i+20+g,n,null,"x",d,c,h)),this.CheckDrawString(l)&&(this.gvfs(l)>=0&&(m+=this.dwpls(e,m,i+20+g,d)),m+=this.dxlz(e,m,i+20+g,l,null,null,d,c,h)),w=m>u?m-t:u-t;case 6:f=this.crfr2(r,s,n)?-8:0;this.CheckDrawString(r)&&(u+=this.dxlz(e,u,i-7+f,r,"2","x",d,c,h)),this.CheckDrawString(s)&&(this.gvfs(s)>=0&&(u+=this.dwpls(e,u,i-7+f,d)),u+=this.dxlz(e,u,i-7+f,s,null,"x",d,c,h)),this.CheckDrawString(n)&&(this.gvfs(n)>=0&&(u+=this.dwpls(e,u,i-7+f,d)),u+=this.dxlz(e,u,i-7+f,n,null,null,d,c,h));g=(this.crfr(l,o),-7);this.CheckDrawString(l)&&(m+=this.dxlz(e,m,i+20+g,l,null,"x",d,c,h)),this.CheckDrawString(o)&&(this.gvfs(o)>=0&&(m+=this.dwpls(e,m,i+20+g,d)),m+=this.dxlz(e,m,i+20+g,o,null,null,d,c,h));var w=m>u?m-t:u-t;return e.strokeStyle=h,w}},t.dwpls=function(e,t,i,a){return e.font="italic "+a+"px Times New Roman",e.measureText("+").width},t.dwhpp=function(e,t,i,a,r,s,n){var l=/^-*[0-9.]*sqrt\([0-9.]+\)$/gim,o=/^-*[0-9.]*frac\((-*[0-9.]+|-*[0-9.]*sqrt\([0-9.]+\)),(-*[0-9.]+|-*[0-9.]*sqrt\([0-9.]+\))\)$/gim,h=0,d=0,c=0;e.fillStyle=n,e.font="italic 14px Times New Roman",d+=e.measureText("x").width,e.font="italic 10px Times New Roman",d+=e.measureText("2").width,!this.snepz(a)&&!isNaN(a)&&parseFloat(a)>0?(e.font="italic 14px Times New Roman",c+=e.measureText(a).width):o.test(a)?(e.font="italic 14px Times New Roman",c+=e.measureText("(").width,c+=this.dwfrz(e,t+c,i+18,a,14,!1),e.font="italic 14px Times New Roman",c+=e.measureText(")").width):l.test(a)&&(e.font="italic 14px Times New Roman",c+=e.measureText("(").width,c+=this.dwsqz(e,t+c,i+14,a,14,!1),e.font="italic 14px Times New Roman",c+=e.measureText(")").width),e.font="italic 10px Times New Roman";var p=d>(c+=e.measureText("2").width)?d:c;return e.strokeStyle=n,e.lineWidth=1,h+=p,h+=5,s?(e.font="italic 14px Times New Roman",h+=e.measureText("-").width):h+=this.dwpls(e,t+h,i,14),d=h+=5,c=h,e.fillStyle=n,e.font="italic 14px Times New Roman",d+=e.measureText("x").width,e.font="italic 10px Times New Roman",d+=e.measureText("2").width,!this.snepz(r)&&!isNaN(r)&&parseFloat(r)>0?(e.font="italic 14px Times New Roman",c+=e.measureText(r).width):o.test(r)?(e.font="italic 14px Times New Roman",c+=e.measureText("(").width,c+=this.dwfrz(e,t+c,i+18,r,14,!1),e.font="italic 14px Times New Roman",c+=e.measureText(")").width):l.test(r)&&(e.font="italic 14px Times New Roman",c+=e.measureText("(").width,c+=this.dwsqz(e,t+c,i+14,r,14,!1),e.font="italic 14px Times New Roman",c+=e.measureText(")").width),e.font="italic 10px Times New Roman",p=d>(c+=e.measureText("2").width)?d:c,e.strokeStyle=n,e.lineWidth=1,h+=p},t.dxlz=function(e,t,i,a,r,s,n,l,o,h=!1){var d,c=0;this.snepz(a)||isNaN(a)||(!1===h&&this.snepz(s)&&this.snepz(r)?(e.font="italic "+n+"px Times New Roman",c+=e.measureText(a).width):-1==(d=parseFloat(a))?(e.font="italic "+n+"px Times New Roman",c+=e.measureText("-").width):1!=d&&(e.font="italic "+n+"px Times New Roman",c+=e.measureText(a).width));if(/^-*[0-9.]*frac\((-*[0-9.]+|-*[0-9.]*sqrt\([0-9.]+\)),(-*[0-9.]+|-*[0-9.]*sqrt\([0-9.]+\))\)$/gim.test(a))if(this.snepz(s)&&this.snepz(r))c+=this.dwfrz(e,t,i,a,n,l,o);else{var p=this.gfvl(a);-1==p?(e.font="italic "+n+"px Times New Roman",c+=e.measureText("-").width):1!=p&&(c+=this.dwfrz(e,t,i,a,n,l,o))}else if(/^-*[0-9.]*sqrt\([0-9.]+\)$/gim.test(a))if(this.snepz(s)&&this.snepz(r))c+=this.dwsqz(e,t,i,a,n,o);else{var u=this.GetSquareValue(a);-1==u?(e.font="italic "+n+"px Times New Roman",c+=e.measureText("-").width):1!=u&&(c+=this.dwsqz(e,t,i,a,n,o))}return this.snepz(s)||(l&&(e.font="italic "+n+"px Times New Roman",c+=e.measureText("|").width),e.font="italic "+n+"px Times New Roman",c+=e.measureText(s).width,l&&(e.font="italic "+n+"px Times New Roman",c+=e.measureText("|").width)),this.snepz(r)||(e.font="italic "+(n-4)+"px Times New Roman",c+=e.measureText(r).width),c},t.dwfrz=function(e,t,i,a,r,s,n){var l,o,h=/^-*[0-9.]*sqrt\([0-9.]+\)$/gim,d=0,c=0,p=0,u=this.gsib(a),m=u[0],b=u[1],f=this.gpff(a);-1==f?(e.font="italic "+r+"px Times New Roman",d+=e.measureText("-").width):1!=f&&(e.font="italic "+r+"px Times New Roman",d+=e.measureText(f).width),l=this.gnmrz(a),o=this.gdenr(a),1==f&&l*o<0&&(e.font="italic "+r+"px Times New Roman",d+=e.measureText("-").width,l<0&&(m=m.replace("-","")),o<0&&(b=b.replace("-","")));c=h.test(m)?this.dwsqz(e,t+d,i-6,m,r,n):this.dxlz(e,t+d,i-6,m,null,null,r,s,n),p=h.test(b)?this.dwsqz(e,t+d,i+11,b,r,n):this.dxlz(e,t+d,i+9,b,null,null,r,s);return 10==r&&-2,e.strokeStyle=n,e.lineWidth=1,d+=c>p?c:p},t.dwsqz=function(e,t,i,a,r,s){var n=0,l=this.gpfs(a);return-1==l?(e.font="italic "+r+"px Times New Roman",n+=e.measureText("-").width):1!=l&&(e.font="italic "+r+"px Times New Roman",n+=e.measureText(l).width),e.font="italic "+r+"px Times New Roman",n+=e.measureText("√").width,e.font="italic "+r+"px Times New Roman",e.strokeStyle=s,e.lineWidth=.5,n+=e.measureText(this.gssv(a)).width},t.snepz=function(e){return null===e||""==e},t.sivd=function(e){return!this.snepz(e)&&(!isNaN(e)||(/^-*[0-9.]*sqrt\([0-9.]+\)$/gim.test(e)||/^-*[0-9.]*frac\((-*[0-9.]+|-*[0-9.]*sqrt\([0-9.]+\)),(-*[0-9.]+|-*[0-9.]*sqrt\([0-9.]+\))\)$/gim.test(e)))},t.CheckDrawString=function(e){return!this.snepz(e)&&(isNaN(e)?/^-*[0-9.]*sqrt\([0-9.]+\)$/gim.test(e)||/^-*[0-9.]*frac\((-*[0-9.]+|-*[0-9.]*sqrt\([0-9.]+\)),(-*[0-9.]+|-*[0-9.]*sqrt\([0-9.]+\))\)$/gim.test(e):0!=parseFloat(e))},t.gpff=function(e){var t=e.indexOf("f"),i=1;if(0!=t){var a=e.substring(0,t);i="-"==a?-1:parseFloat(a)}return i},t.gsib=function(e){var t=e.indexOf("("),i=e.lastIndexOf(")");return e.substring(t+1,i).split(",")},t.gpfs=function(e){var t=e.indexOf("s"),i=1;if(0!=t){var a=e.substring(0,t);i="-"==a?-1:parseFloat(a)}return i},t.gssv=function(e){var t=e.indexOf("("),i=e.indexOf(")");return e.substring(t+1,i)},t.gvfs=function(e){return this.snepz(e)?0:isNaN(e)?/^-*[0-9.]*sqrt\([0-9.]+\)$/gim.test(e)?this.GetSquareValue(e):/^-*[0-9.]*frac\((-*[0-9.]+|-*[0-9.]*sqrt\([0-9.]+\)),(-*[0-9.]+|-*[0-9.]*sqrt\([0-9.]+\))\)$/gim.test(e)?this.gfvl(e):void 0:parseFloat(e)},t.gfvl=function(e){var t=/^-*[0-9.]*sqrt\([0-9.]+\)$/gim,i=this.gpff(e),a=0,r=0,s=this.gsib(e),n=s[0];isNaN(n)?t.test(n)&&(a=this.GetSquareValue(n)):a=parseFloat(n);var l=s[1];return isNaN(l)?t.test(l)&&(r=this.GetSquareValue(l)):r=parseFloat(l),0!=r?i*(a/r):0},t.GetSquareValue=function(e){var t,i=this.gpfs(e),a=this.gssv(e);return t=parseFloat(a),Math.round(i*Math.sqrt(t))},t.gnmrz=function(e){var t=0,i=this.gsib(e)[0];return isNaN(i)?/^-*[0-9.]*sqrt\([0-9.]+\)$/gim.test(i)&&(t=this.GetSquareValue(i)):t=parseFloat(i),t},t.gdenr=function(e){var t=0,i=this.gsib(e)[1];return isNaN(i)?/^-*[0-9.]*sqrt\([0-9.]+\)$/gim.test(i)&&(t=this.GetSquareValue(i)):t=parseFloat(i),t},t.crfr=function(e,t){var i=/^-*[0-9.]*frac\((-*[0-9.]+|-*[0-9.]*sqrt\([0-9.]+\)),(-*[0-9.]+|-*[0-9.]*sqrt\([0-9.]+\))\)$/gim;return i.test(e)||i.test(t)},t.crfr2=function(e,t,i){var a=/^-*[0-9.]*frac\((-*[0-9.]+|-*[0-9.]*sqrt\([0-9.]+\)),(-*[0-9.]+|-*[0-9.]*sqrt\([0-9.]+\))\)$/gim;return a.test(e)||a.test(t)||a.test(i)},e}(),SolveFunction=function(){function e(){}var t=e.prototype;return t.SolveFunction=function(e,t,i,a,r,s,n,l,o){switch(e){case 0:return o;case 1:return this.pzfun(a,r,o);case 2:return this.qzfun(a,r,s,o);case 3:return this.ccbfu(a,r,s,n,o);case 4:return this.qtfu(a,r,s,n,l,o);case 5:return this.pzfunDivisionpzfun(a,r,s,n,o);case 6:return this.qzfunDivisionpzfun(a,r,s,n,l,o);case 7:return this.axwf(t,a,r,s,n,l,o);case 8:return this.afxwf(t,i,a,r,s,n,l,o);case 9:return this.hyfz(a,r,o);case 10:return this.elfz(a,r,o);case 11:return this.tsfz(t,i,a,r,s,n,l,o);case 12:return this.tcfz(t,i,a,r,s,n,l,o);case 13:return this.ttfz(t,i,a,r,s,n,l,o);case 14:return this.ttctfz(t,i,a,r,s,n,l,o);case 15:return this.pafz(t,i,a,r,s,n,l,o);case 16:return this.pefz(t,i,a,r,s,n,l,o);case 17:return this.lafz(t,i,a,r,s,n,l,o);case 18:return this.l0fz(t,i,a,r,s,n,l,o);case 19:return this.lefz(t,i,a,r,s,n,l,o)}},t.pzfun=function(e,t,i){return e*i+t},t.qzfun=function(e,t,i,a){return e*a*a+t*a+i},t.ccbfu=function(e,t,i,a,r){return e*r*r*r+t*r*r+i*r+a},t.qtfu=function(e,t,i,a,r,s){return e*s*s*s*s+t*s*s*s+i*s*s+a*s+r},t.pzfunDivisionpzfun=function(e,t,i,a,r){return(e*r+t)/(i*r+a)},t.qzfunDivisionpzfun=function(e,t,i,a,r,s){return(e*s*s+t*s+i)/(a*s+r)},t.axwf=function(e,t,i,a,r,s,n){switch(e){case 0:return Math.abs(t);case 1:return this.pzfun(t,i,Math.abs(n));case 2:return this.qzfun(t,i,a,Math.abs(n));case 3:return this.ccbfu(t,i,a,r,Math.abs(n));case 4:return this.qtfu(t,i,a,r,s,Math.abs(n));case 5:return this.pzfunDivisionpzfun(t,i,a,r,Math.abs(n));case 6:return this.qzfunDivisionpzfun(t,i,a,r,s,Math.abs(n))}return 0},t.afxwf=function(e,t,i,a,r,s,n,l){switch(e){case 0:return t*Math.abs(i);case 1:return Math.abs(this.pzfun(i,a,l));case 2:return Math.abs(this.qzfun(i,a,r,l));case 3:return Math.abs(this.ccbfu(i,a,r,s,l));case 4:return Math.abs(this.qtfu(i,a,r,s,n,l));case 5:return Math.abs(this.pzfunDivisionpzfun(i,a,r,s,l));case 6:return Math.abs(this.qzfunDivisionpzfun(i,a,r,s,n,l))}return 0},t.hyfz=function(e,t,i){return t/e*Math.sqrt(i*i-e*e)},t.ElipFunction=function(e,t,i){return t/e*Math.sqrt(e*e-i*i)},t.tsfz=function(e,t,i,a,r,s,n,l){switch(e){case 0:return t*Math.sin(i);case 1:return Math.sin(this.pzfun(i,a,l));case 2:return Math.sin(this.qzfun(i,a,r,l));case 3:return Math.sin(this.ccbfu(i,a,r,s,l));case 4:return Math.sin(this.qtfu(i,a,r,s,n,l));case 5:return Math.sin(this.pzfunDivisionpzfun(i,a,r,s,l));case 6:return Math.sin(this.qzfunDivisionpzfun(i,a,r,s,n,l))}return 0},t.tcfz=function(e,t,i,a,r,s,n,l){switch(e){case 0:return t*Math.cos(i);case 1:return Math.cos(this.pzfun(i,a,l));case 2:return Math.cos(this.qzfun(i,a,r,l));case 3:return Math.cos(this.ccbfu(i,a,r,s,l));case 4:return Math.cos(this.qtfu(i,a,r,s,n,l));case 5:return Math.cos(this.pzfunDivisionpzfun(i,a,r,s,l));case 6:return Math.cos(this.qzfunDivisionpzfun(i,a,r,s,n,l))}return 0},t.ttfz=function(e,t,i,a,r,s,n,l){switch(e){case 0:return Math.tan(i);case 1:return Math.tan(this.pzfun(i,a,l));case 2:return Math.tan(this.qzfun(i,a,r,l));case 3:return Math.tan(this.ccbfu(i,a,r,s,l));case 4:return Math.tan(this.qtfu(i,a,r,s,n,l));case 5:return Math.tan(this.pzfunDivisionpzfun(i,a,r,s,l));case 6:return Math.tan(this.qzfunDivisionpzfun(i,a,r,s,n,l))}return 0},t.ttctfz=function(e,t,i,a,r,s,n,l){var o=this.ttfz(e,t,i,a,r,s,n,l);return 0!=o?1/o:0},t.pafz=function(e,t,i,a,r,s,n,l){switch(e){case 0:return Math.pow(t,i);case 1:return Math.pow(t,this.pzfun(i,a,l));case 2:return Math.pow(t,this.qzfun(i,a,r,l));case 3:return Math.pow(t,this.ccbfu(i,a,r,s,l));case 4:return Math.pow(t,this.qtfu(i,a,r,s,n,l));case 5:return Math.pow(t,this.pzfunDivisionpzfun(i,a,r,s,l));case 6:return Math.pow(t,this.qzfunDivisionpzfun(i,a,r,s,n,l))}return 0},t.SquareRootFunction=function(e,t,i,a,r,s,n,l){switch(e){case 0:return Math.pow(t,i);case 1:return Math.pow(this.pzfun(i,a,l),1/t);case 2:return Math.pow(this.qzfun(i,a,r,l),1/t);case 3:return Math.pow(this.ccbfu(i,a,r,s,l),1/t);case 4:return Math.pow(this.qtfu(i,a,r,s,n,l),1/t);case 5:return Math.pow(this.pzfunDivisionpzfun(i,a,r,s,l),1/t);case 6:return Math.pow(this.qzfunDivisionpzfun(i,a,r,s,n,l),1/t)}return 0},t.pefz=function(e,t,i,a,r,s,n,l){switch(e){case 0:return t*Math.exp(i);case 1:return Math.exp(this.pzfun(i,a,l));case 2:return Math.exp(this.qzfun(i,a,r,l));case 3:return Math.exp(this.ccbfu(i,a,r,s,l));case 4:return Math.exp(this.qtfu(i,a,r,s,n,l));case 5:return Math.exp(this.pzfunDivisionpzfun(i,a,r,s,l));case 6:return Math.exp(this.qzfunDivisionpzfun(i,a,r,s,n,l))}return 0},t.lafz=function(e,t,i,a,r,s,n,l){switch(e){case 0:return Math.log10(i)/Math.log10(t);case 1:return Math.log10(this.pzfun(i,a,l))/Math.log10(t);case 2:return Math.log10(this.qzfun(i,a,r,l))/Math.log10(t);case 3:return Math.log10(this.ccbfu(i,a,r,s,l))/Math.log10(t);case 4:return Math.log10(this.qtfu(i,a,r,s,n,l))/Math.log10(t);case 5:return Math.log10(this.pzfunDivisionpzfun(i,a,r,s,l))/Math.log10(t);case 6:return Math.log10(this.qzfunDivisionpzfun(i,a,r,s,n,l))/Math.log10(t)}return 0},t.l0fz=function(e,t,i,a,r,s,n,l){switch(e){case 0:return t*Math.log10(i);case 1:return Math.log10(this.pzfun(i,a,l));case 2:return Math.log10(this.qzfun(i,a,r,l));case 3:return Math.log10(this.ccbfu(i,a,r,s,l));case 4:return Math.log10(this.qtfu(i,a,r,s,n,l));case 5:return Math.log10(this.pzfunDivisionpzfun(i,a,r,s,l));case 6:return Math.log10(this.qzfunDivisionpzfun(i,a,r,s,n,l))}return 0},t.lefz=function(e,t,i,a,r,s,n,l){switch(e){case 0:return Math.log10(i)/Math.Log(Math.E);case 1:return Math.log10(this.pzfun(i,a,l))/Math.log10(Math.E);case 2:return Math.log10(this.qzfun(i,a,r,l))/Math.log10(Math.E);case 3:return Math.log10(this.ccbfu(i,a,r,s,l))/Math.log10(Math.E);case 4:return Math.log10(this.qtfu(i,a,r,s,n,l))/Math.log10(Math.E);case 5:return Math.log10(this.pzfunDivisionpzfun(i,a,r,s,l))/Math.log10(Math.E);case 6:return Math.log10(this.qzfunDivisionpzfun(i,a,r,s,n,l))/Math.log10(Math.E)}return 0},e}(),GetPointCollection=function(){function e(){this.solveFunction=new SolveFunction}var t=e.prototype;return t.GetPoint=function(e,t,i,a,r){switch(e.graphType){case 0:return this.pzfun(0,e.a,t,i,a);case 1:return this.pzfun(e.a,e.b,t,i,a);case 2:return this.qzfun(e.a,e.b,e.c,t,i,a);case 3:return this.ccbfu(e.a,e.b,e.c,e.d,t,i,a);case 4:return this.qtfu(e.a,e.b,e.c,e.d,e.e,t,i,a);case 5:return this.pzfunDivisionpzfun(e.a,e.b,e.c,e.d,t,i,a);case 6:return this.qzfunDivisionpzfun(e.a,e.b,e.c,e.d,e.e,t,i,a);case 7:return this.axwf(e.graphLevel,e.a,e.b,e.c,e.d,e.e,t,i,a,r);case 8:return this.afxwf(e.graphLevel,e.csA,e.a,e.b,e.c,e.d,e.e,e.sign,t,i,a,r,e.add);case 9:return this.hyfz(e.a,e.b,t,i,a,r);case 10:return this.elfz(e.a,e.b,t,i,a,r);case 11:return this.tsfz(e.graphLevel,e.csA,e.a,e.b,e.c,e.d,e.e,e.sign,t,i,a,r,e.add,e.fact);case 12:return this.tcfz(e.graphLevel,e.csA,e.a,e.b,e.c,e.d,e.e,e.sign,t,i,a,r,e.add,e.fact);case 13:return this.ttfz(e.graphLevel,e.csA,e.a,e.b,e.c,e.d,e.e,e.sign,t,i,a,r,e.add,e.fact);case 14:return this.ttctfz(e.graphLevel,e.csA,e.a,e.b,e.c,e.d,e.e,e.sign,t,i,a,r,e.add,e.fact);case 15:return this.pafz(e.graphLevel,e.csA,e.a,e.b,e.c,e.d,e.e,e.sign,t,i,a,r,e.add);case 16:return this.pefz(e.graphLevel,e.csA,e.a,e.b,e.c,e.d,e.e,e.sign,t,i,a,r,e.add);case 17:return this.lafz(e.graphLevel,e.csA,e.a,e.b,e.c,e.d,e.e,e.sign,t,i,a,r,e.add,e.fact);case 18:return this.l0fz(e.graphLevel,e.csA,e.a,e.b,e.c,e.d,e.e,e.sign,t,i,a,r,e.add,e.fact);case 19:return this.lefz(e.graphLevel,e.csA,e.a,e.b,e.c,e.d,e.e,e.sign,t,i,a,r,e.add,e.fact);case 20:return this.SquareRootFunction(e.graphLevel,e.csA,e.a,e.b,e.c,e.d,e.e,e.sign,t,i,a,r,e.add)}},t.pzfun=function(e,t,i,a,r){var s,n,l=[],o=[];return s=-a.X/i,n=this.solveFunction.pzfun(e,t,s),n=a.Y-n*i,l.push({x:0,y:n}),s=(r-a.X)/i,n=this.solveFunction.pzfun(e,t,s),n=a.Y-n*i,l.push({x:r,y:n}),o.push(l),o},t.pzfunRay=function(e,t,i,a,r,s,n){var l,o,h=[],d=[];l=-a.X/i,o=this.solveFunction.pzfun(e,t,l),(o=a.Y-o*i)===-1/0&&(o=0);var c=s?{x:n.x,y:n.y}:{x:0,y:o};h.push(c),l=(r-a.X)/i,o=this.solveFunction.pzfun(e,t,l),o=a.Y-o*i;var p=s?{x:r,y:o}:{x:n.x,y:n.y};return h.push(p),d.push(h),d},t.qzfun=function(e,t,i,a,r,s){for(var n,l,o=[],h=[],d=0;d<s;d++)n=(d-r.X)/a,l=this.solveFunction.qzfun(e,t,i,n),l=r.Y-l*a,o.push({x:d,y:l});return h.push(o),h},t.ccbfu=function(e,t,i,a,r,s,n){for(var l,o,h=[],d=[],c=0;c<n;c++)l=(c-s.X)/r,o=this.solveFunction.ccbfu(e,t,i,a,l),o=s.Y-o*r,h.push({x:c,y:o});return d.push(h),d},t.qtfu=function(e,t,i,a,r,s,n,l){for(var o,h,d=[],c=[],p=0;p<l;p++)o=(p-n.X)/s,h=this.solveFunction.qtfu(e,t,i,a,r,o),h=n.Y-h*s,d.push({x:p,y:h});return c.push(d),c},t.pzfunDivisionpzfun=function(e,t,i,a,r,s,n){for(var l,o,h=[],d=[],c=-a/i*r+s.X,p=0;p<c;p++)l=(p-s.X)/r,o=this.solveFunction.pzfunDivisionpzfun(e,t,i,a,l),o=s.Y-o*r,h.push({x:p,y:o});d.push(h),h=new Array;for(p=c+1;p<n;p++)l=(p-s.X)/r,o=this.solveFunction.pzfunDivisionpzfun(e,t,i,a,l),o=s.Y-o*r,h.push({x:p,y:o});return d.push(h),d},t.qzfunDivisionpzfun=function(e,t,i,a,r,s,n,l){for(var o,h,d=[],c=[],p=-r/a*s+n.X,u=0;u<p;u++)o=(u-n.X)/s,h=this.solveFunction.qzfunDivisionpzfun(e,t,i,a,r,o),h=n.Y-h*s,d.push({x:u,y:h});c.push(d),d=new Array;for(u=p+1;u<l;u++)o=(u-n.X)/s,h=this.solveFunction.qzfunDivisionpzfun(e,t,i,a,r,o),h=n.Y-h*s,d.push({x:u,y:h});return c.push(d),c},t.axwf=function(e,t,i,a,r,s,n,l,o,h){for(var d,c,p=[],u=[],m=0;m<o;m++)d=(m-l.X)/n,6==e&&0==s&&0==d||(c=this.solveFunction.axwf(e,t,i,a,r,s,d),(c=l.Y-c*n)<0||c>h||p.push({x:m,y:c}));return u.push(p),u},t.afxwf=function(e,t,i,a,r,s,n,l,o,h,d,c,p){var u,m,b=[],f=[];if(5!=e&&6!=e){for(var g=0;g<d;g++)u=(g-h.X)/o,m=l*this.solveFunction.afxwf(e,t,i,a,r,s,n,u)+p,m=h.Y-m*o,b.push({x:g,y:m});f.push(b)}else if(5==e){var w=-s/r*o+h.X;for(g=0;g<w;g++)u=(g-h.X)/o,m=l*this.solveFunction.afxwf(e,t,i,a,r,s,n,u)+p,m=h.Y-m*o,b.push({x:g,y:m});f.push(b),b=new Array;for(g=w+1;g<d;g++)u=(g-h.X)/o,m=l*this.solveFunction.afxwf(e,t,i,a,r,s,n,u)+p,m=h.Y-m*o,b.push({x:g,y:m});f.push(b)}else{for(w=-n/s*o+h.X,g=0;g<w;g++)u=(g-h.X)/o,m=l*this.solveFunction.afxwf(e,t,i,a,r,s,n,u)+p,m=h.Y-m*o,b.push({x:g,y:m});f.push(b),b=new Array;for(g=w+1;g<d;g++)u=(g-h.X)/o,m=l*this.solveFunction.afxwf(e,t,i,a,r,s,n,u)+p,m=h.Y-m*o,b.push({x:g,y:m});f.push(b)}return f},t.hyfz=function(e,t,i,a,r,s){t*=t>0?1:-1;for(var n,l,o=[],h=[],d=(e*=e>0?1:-1)*i+a.X,c=-e*i+a.X,p=0;p<=c;p++)(n=(p-a.X)/i)*n-e*e<0||(l=this.solveFunction.hyfz(e,t,n),(l=a.Y-l*i)<0||l>s||o.push({x:p,y:l}));for(p=c;p>=0;p--)(n=(p-a.X)/i)*n-e*e<0||(l=-this.solveFunction.hyfz(e,t,n),(l=a.Y-l*i)<0||l>s||o.push({x:p,y:l}));h.push(o),o=new Array;for(p=r;p>=d;p--)(n=(p-a.X)/i)*n-e*e<0||(l=this.solveFunction.hyfz(e,t,n),(l=a.Y-l*i)<0||l>s||o.push({x:p,y:l}));for(p=d;p<=r;p++)(n=(p-a.X)/i)*n-e*e<0||(l=-this.solveFunction.hyfz(e,t,n),(l=a.Y-l*i)<0||l>s||o.push({x:p,y:l}));return h.push(o),h},t.elfz=function(e,t,i,a,r,s){t*=t>0?1:-1;for(var n,l,o=[],h=[],d=(e*=e>0?1:-1)*i+a.X,c=-e*i+a.X,p=c;p<=a.X;p++)e*e-(n=(p-a.X)/i)*n<0||(l=this.solveFunction.ElipFunction(e,t,n),l=a.Y-l*i,o.push({x:p,y:l}));for(p=a.X;p<=d;p++)e*e-(n=(p-a.X)/i)*n<0||(l=this.solveFunction.ElipFunction(e,t,n),l=a.Y-l*i,o.push({x:p,y:l}));for(p=d;p>=a.X;p--)e*e-(n=(p-a.X)/i)*n<0||(l=-this.solveFunction.ElipFunction(e,t,n),l=a.Y-l*i,o.push({x:p,y:l}));for(p=a.X;p>=c;p--)e*e-(n=(p-a.X)/i)*n<0||(l=-this.solveFunction.ElipFunction(e,t,n),l=a.Y-l*i,o.push({x:p,y:l}));return o.push({x:o[0].x,y:o[0].y}),h.push(o),h},t.tsfz=function(e,t,i,a,r,s,n,l,o,h,d,c,p,u){var m,b,f=[],g=[];if(5!=e&&6!=e){for(var w=0;w<d;w++)m=(w-h.X)/o,b=l*u*this.solveFunction.tsfz(e,t,i,a,r,s,n,m)+p,b=h.Y-b*o,f.push({x:w,y:b});g.push(f)}else if(5==e){for(w=0;w<d;w++)(m=(w-h.X)/o)!=-s/r&&(b=l*u*this.solveFunction.tsfz(e,t,i,a,r,s,n,m)+p,b=h.Y-b*o,f.push({x:w,y:b}));g.push(f)}else{for(w=0;w<d;w++)(m=(w-h.X)/o)!=-n/s&&(b=l*u*this.solveFunction.tcfz(e,t,i,a,r,s,n,m)+p,b=h.Y-b*o,f.push({x:w,y:b}));g.push(f)}return g},t.tcfz=function(e,t,i,a,r,s,n,l,o,h,d,c,p,u){var m,b,f=[],g=[];if(5!=e&&6!=e){for(var w=0;w<d;w++)m=(w-h.X)/o,b=l*u*this.solveFunction.tcfz(e,t,i,a,r,s,n,m)+p,b=h.Y-b*o,f.push({x:w,y:b});g.push(f)}else if(5==e){for(w=0;w<d;w++)(m=(w-h.X)/o)!=-s/r&&(b=l*u*this.solveFunction.tcfz(e,t,i,a,r,s,n,m)+p,b=h.Y-b*o,f.push({x:w,y:b}));g.push(f)}else{for(w=0;w<d;w++)(m=(w-h.X)/o)!=-n/s&&(b=l*u*this.solveFunction.tcfz(e,t,i,a,r,s,n,m)+p,b=h.Y-b*o,f.push({x:w,y:b}));g.push(f)}return g},t.ttfz=function(e,t,i,a,r,s,n,l,o,h,d,c,p,u){var m,b,f=[],g=[];if(5!=e&&6!=e){for(var w=0;w<d;w++)m=(w-h.X)/o,b=l*u*this.solveFunction.ttfz(e,t,i,a,r,s,n,m)+p,(b=h.Y-b*o)>c||b<0?(f.length>0&&g.push(f),f=new Array):f.push({x:w,y:b});g.push(f)}else if(5==e){for(w=0;w<d;w++)(m=(w-h.X)/o)!=-s/r&&(b=l*u*this.solveFunction.ttfz(e,t,i,a,r,s,n,m)+p,b=h.Y-b*o,f.push({x:w,y:b}));g.push(f)}else{for(w=0;w<d;w++)if((m=(w-h.X)/o)!=-n/s){if(b=l*u*this.solveFunction.ttfz(e,t,i,a,r,s,n,m)+p,(b=h.Y-b*o)>c||b<0){f.length>0&&g.push(f),f=new Array;continue}f.push({x:w,y:b})}g.push(f)}return g},t.ttctfz=function(e,t,i,a,r,s,n,l,o,h,d,c,p,u){var m,b,f=[],g=[];if(5!=e&&6!=e){for(var w=0;w<d;w++)m=(w-h.X)/o,b=l*u*this.solveFunction.ttctfz(e,t,i,a,r,s,n,m)+p,(b=h.Y-b*o)>c||b<0?(f.length>0&&g.push(f),f=new Array):f.push({x:w,y:b});g.push(f)}else if(5==e){for(w=0;w<d;w++)if((m=(w-h.X)/o)!=-s/r){if(b=l*u*this.solveFunction.ttctfz(e,t,i,a,r,s,n,m)+p,(b=h.Y-b*o)>c||b<0){f.length>0&&g.push(f),f=new Array;continue}f.push({x:w,y:b})}g.push(f)}else{for(w=0;w<d;w++)if((m=(w-h.X)/o)!=-n/s){if(b=l*u*this.solveFunction.ttctfz(e,t,i,a,r,s,n,m)+p,(b=h.Y-b*o)>c||b<0){f.length>0&&g.push(f),f=new Array;continue}f.push({x:w,y:b})}g.push(f)}return g},t.pafz=function(e,t,i,a,r,s,n,l,o,h,d,c,p){for(var u,m,b=[],f=[],g=0;g<d;g++)u=(g-h.X)/o,6==e&&0==n&&0==u||(m=l*this.solveFunction.pafz(e,t,i,a,r,s,n,u)+p,(m=h.Y-m*o)<0||m>c||b.push({x:g,y:m}));return f.push(b),f},t.SquareRootFunction=function(e,t,i,a,r,s,n,l,o,h,d,c,p){for(var u,m,b=[],f=[],g=!1,w=0;w<d;w++)u=(w-h.X)/o,6==e&&0==n&&0==u||(m=l*this.solveFunction.SquareRootFunction(e,t,i,a,r,s,n,u)+p,(m=h.Y-m*o)<0||m>c||(!1===isNaN(m)?(g=!1,b.push({x:w,y:m})):(!1===g&&(b.length>0&&f.push(b),b=[]),g=!0)));return f.push(b),f},t.pefz=function(e,t,i,a,r,s,n,l,o,h,d,c,p){for(var u,m,b=[],f=[],g=0;g<d;g++)u=(g-h.X)/o,6==e&&0==n&&0==u||(m=l*this.solveFunction.pefz(e,t,i,a,r,s,n,u)+p,(m=h.Y-m*o)<0||m>c||b.push({x:g,y:m}));return f.push(b),f},t.lafz=function(e,t,i,a,r,s,n,l,o,h,d,c,p,u){for(var m,b,f=[],g=[],w=0;w<d;w++){switch(m=(w-h.X)/o,b=0,e){case 0:break;case 1:b=u*l*this.solveFunction.pzfun(i,a,m)+p;break;case 2:b=u*l*this.solveFunction.qzfun(i,a,r,m)+p;break;case 3:b=u*l*this.solveFunction.ccbfu(i,a,r,s,m)+p;break;case 4:b=u*l*this.solveFunction.qtfu(i,a,r,s,n,m)+p;break;case 5:b=u*l*this.solveFunction.pzfunDivisionpzfun(i,a,r,s,m)+p;break;case 6:b=u*l*this.solveFunction.qzfunDivisionpzfun(i,a,r,s,n,m)+p}if(b>p){if(b=u*l*this.solveFunction.lafz(e,t,i,a,r,s,n,m)+p,(b=h.Y-b*o)<0||b>c)continue;f.push({x:w,y:b})}}return g.push(f),g},t.l0fz=function(e,t,i,a,r,s,n,l,o,h,d,c,p,u){for(var m,b,f=[],g=[],w=0;w<d;w++){switch(m=(w-h.X)/o,b=0,e){case 0:break;case 1:b=u*l*this.solveFunction.pzfun(i,a,m)+p;break;case 2:b=u*l*this.solveFunction.qzfun(i,a,r,m)+p;break;case 3:b=u*l*this.solveFunction.ccbfu(i,a,r,s,m)+p;break;case 4:b=u*l*this.solveFunction.qtfu(i,a,r,s,n,m)+p;break;case 5:b=u*l*this.solveFunction.pzfunDivisionpzfun(i,a,r,s,m)+p;break;case 6:b=u*l*this.solveFunction.qzfunDivisionpzfun(i,a,r,s,n,m)+p}if(b>p){if(b=l*u*this.solveFunction.l0fz(e,t,i,a,r,s,n,m)+p,(b=h.Y-b*o)<0||b>c)continue;f.push({x:w,y:b})}}return g.push(f),g},t.lefz=function(e,t,i,a,r,s,n,l,o,h,d,c,p,u){for(var m,b,f=[],g=[],w=0;w<d;w++){switch(m=(w-h.X)/o,b=0,e){case 0:break;case 1:b=u*l*this.solveFunction.pzfun(i,a,m)+p;break;case 2:b=u*l*this.solveFunction.qzfun(i,a,r,m)+p;break;case 3:b=u*l*this.solveFunction.ccbfu(i,a,r,s,m)+p;break;case 4:b=u*l*this.solveFunction.qtfu(i,a,r,s,n,m)+p;break;case 5:b=u*l*this.solveFunction.pzfunDivisionpzfun(i,a,r,s,m)+p;break;case 6:b=u*l*this.solveFunction.qzfunDivisionpzfun(i,a,r,s,n,m)+p}if(b>p){if(b=l*u*this.solveFunction.lefz(e,t,i,a,r,s,n,m)+p,(b=h.Y-b*o)<0||b>c)continue;f.push({x:w,y:b})}}return g.push(f),g},e}(),GetPointAsymtotics=function(){function e(){this.solveFunction=new SolveFunction}var t=e.prototype;return t.GetPointCollection=function(e,t,i,a,r,s,n){var l,o,h=[],d=[];return i?0!=e?(l=e*a+r.X,h.push({x:l,y:0}),l=e*a+r.X,h.push({x:l,y:n})):(l=r.Y-t*a,h.push({x:0,y:l}),l=r.Y-t*a,h.push({x:s,y:l})):(l=-r.X/a,o=this.solveFunction.pzfun(e,t,l),o=r.Y-o*a,h.push({x:0,y:o}),l=(s-r.X)/a,o=this.solveFunction.pzfun(e,t,l),o=r.Y-o*a,h.push({x:s,y:o})),d.push(h),d},t.GetFirstAsymtotic=function(e,t,i,a,r,s,n){var l=null;switch(e){case 5:l={coefficientA:0,coefficientB:i/r,isXZero:!0,isYZero:!1};break;case 6:l={coefficientA:i/s,coefficientB:(a*s-i*n)/(s*s),isXZero:!1,isYZero:!1};break;case 7:3==t?l={coefficientA:0,coefficientB:i/r,isXZero:!1,isYZero:!1}:4==t&&(l={coefficientA:i/s,coefficientB:(a*s-i*n)/(s*s),isXZero:!1,isYZero:!1});break;case 8:3==t?l={coefficientA:0,coefficientB:i/r,isXZero:!1,isYZero:!1}:4==t&&(l={coefficientA:-n/s,coefficientB:0,isXZero:!0,isYZero:!1});break;case 9:l={coefficientA:a/i,coefficientB:0,isXZero:!1,isYZero:!1}}return l},t.GetSecondAsymtotic=function(e,t,i,a,r,s,n){var l=null;switch(e){case 5:l={coefficientA:-s/r,coefficientB:0,isXZero:!1,isYZero:!0};break;case 6:l={coefficientA:-n/s,coefficientB:0,isXZero:!1,isYZero:!0};break;case 7:4==t&&(l={coefficientA:-s/r,coefficientB:0,isXZero:!1,isYZero:!1});break;case 8:3==t&&(l={coefficientA:-s/r,coefficientB:0,isXZero:!1,isYZero:!1});break;case 9:l={coefficientA:-a/i,coefficientB:0,isXZero:!1,isYZero:!1}}return l},e}(),DrawLabelHelper=function(){function e(){}var t=e.prototype;return t.dwgrLabel=function(e,t,i,a,r,s,n,l,o,h,d,c){var p=t;switch(e.font="italic 14px Times New Roman",e.fillStyle=c,e.fillText("y=",t,i),p+=e.measureText("y=").width,h){case 0:p+=this.dequa(e,t+e.measureText("y=").width,i,0,a,r,s,n,l,c);break;case 1:p+=this.dequa(e,t+e.measureText("y=").width,i,1,a,r,s,n,l,c);break;case 2:p+=this.dequa(e,t+e.measureText("y=").width,i,2,a,r,s,n,l,c);break;case 3:p+=this.dequa(e,t+e.measureText("y=").width,i,3,a,r,s,n,l,c);break;case 4:p+=this.dequa(e,t+e.measureText("y=").width,i,4,a,r,s,n,l,c);break;case 5:p+=this.dequa(e,t+e.measureText("y=").width,i,5,a,r,s,n,l,c);break;case 6:p+=this.dequa(e,t+e.measureText("y=").width,i,6,a,r,s,n,l,c);break;case 7:p+=this.dequa(e,t+e.measureText("y=").width,i,d,a,r,s,n,l,c,14,!0);break;case 8:e.font="italic 14px Times New Roman",e.fillText("|",p,i-2),p+=e.measureText("|").width,p+=this.dequa(e,p,i,d,a,r,s,n,l,c),e.font="italic 14px Times New Roman",e.fillText("|",p,i-2),p+=e.measureText("|").width;break;case 9:p+=this.dwhpp(e,p,i,a,r,!0,c);break;case 10:p+=this.dwhpp(e,p,i,a,r,!1,c);break;case 11:e.font="italic 14px Times New Roman",e.fillText("sin( ",p,i),p+=e.measureText("sin( ").width,p+=this.dequa(e,p,i,d,a,r,s,n,l,c),e.font="italic 14px Times New Roman",e.fillText(" )",p,i),p+=e.measureText(" )").width;break;case 12:e.font="italic 14px Times New Roman",e.fillText("cos( ",p,i),p+=e.measureText("cos( ").width,p+=this.dequa(e,p,i,d,a,r,s,n,l,c),e.font="italic 14px Times New Roman",e.fillText(" )",p,i),p+=e.measureText(" )").width;break;case 13:e.font="italic 14px Times New Roman",e.fillText("tan( ",p,i),p+=e.measureText("tan( ").width,p+=this.dequa(e,p,i,d,a,r,s,n,l,c),e.font="italic 14px Times New Roman",e.fillText(" )",p,i),p+=e.measureText(" )").width;break;case 14:e.font="italic 14px Times New Roman",e.fillText("cotan( ",p,i),p+=e.measureText("cotan( ").width,p+=this.dequa(e,p,i,d,a,r,s,n,l,c),e.font="italic 14px Times New Roman",e.fillText(" )",p,i),p+=e.measureText(" )").width;break;case 15:p+=this.dxlz(e,p,i,o,null,null,14,!1,c),p+=this.dequa(e,p,i-14,d,a,r,s,n,l,c,10);break;case 16:p+=this.dxlz(e,p,i,"1",null,"e",14,!1,c),p+=this.dequa(e,p,i-14,d,a,r,s,n,l,c,10);break;case 17:e.font="italic 14px Times New Roman",e.fillText("log",p,i),p+=e.measureText("log").width,p+=this.dxlz(e,p,i+10,o,null,null,10,!1),e.font="italic 14px Times New Roman",e.fillText("( ",p,i),p+=e.measureText("( ").width,p+=this.dequa(e,p,i,d,a,r,s,n,l,c),e.font="italic 14px Times New Roman",e.fillText(" )",p,i),p+=e.measureText(" )").width;break;case 18:e.font="italic 14px Times New Roman",e.fillText("log",p,i),p+=e.measureText("log").width,e.font="italic 14px Times New Roman",e.fillText("( ",p,i),p+=e.measureText("( ").width,p+=this.dequa(e,p,i,d,a,r,s,n,l,c),e.font="italic 14px Times New Roman",e.fillText(" )",p,i),p+=e.measureText(" )").width;break;case 19:e.font="italic 14px Times New Roman",e.fillText("ln",p,i),p+=e.measureText("ln").width,e.font="italic 14px Times New Roman",e.fillText("( ",p,i),p+=e.measureText("( ").width,p+=this.dequa(e,p,i,d,a,r,s,n,l,c),e.font="italic 14px Times New Roman",e.fillText(" )",p,i),p+=e.measureText(" )").width}return p},t.dequa=function(e,t,i,a,r,s,n,l,o,h,d,c){void 0===d&&(d=14),void 0===c&&(c=!1);var p=t,u=t,m=t;switch(a){case 0:return(p+=this.dxlz(e,p,i,r,null,null,d,c,h))-t;case 1:var b=!1;return this.sivd(r)&&0==parseFloat(r)&&(b=!0),this.CheckDrawString(r)&&(p+=this.dxlz(e,p,i,r,null,"x",d,c)),this.CheckDrawString(s)&&(this.gvfs(s)>=0&&!b&&(p+=this.dwpls(e,p,i,d)),p+=this.dxlz(e,p,i,s,null,null,d,c,h)),p-t;case 2:return this.CheckDrawString(r)&&(p+=this.dxlz(e,p,i,r,"2","x",d,c)),this.CheckDrawString(s)&&(this.gvfs(s)>=0&&(p+=this.dwpls(e,p,i,d)),p+=this.dxlz(e,p,i,s,null,"x",d,c,h)),this.CheckDrawString(n)&&(this.gvfs(n)>=0&&(p+=this.dwpls(e,p,i,d)),p+=this.dxlz(e,p,i,n,null,null,d,c,h)),p-t;case 3:return this.CheckDrawString(r)&&(p+=this.dxlz(e,p,i,r,"3","x",d,c)),this.CheckDrawString(s)&&(this.gvfs(s)>=0&&(p+=this.dwpls(e,p,i,d)),p+=this.dxlz(e,p,i,s,"2","x",d,c,h)),this.CheckDrawString(n)&&(this.gvfs(n)>=0&&(p+=this.dwpls(e,p,i,d)),p+=this.dxlz(e,p,i,n,null,"x",d,c,h)),this.CheckDrawString(l)&&(this.gvfs(l)>=0&&(p+=this.dwpls(e,p,i,d)),p+=this.dxlz(e,p,i,l,null,null,d,c,h)),p-t;case 4:return this.CheckDrawString(r)&&(p+=this.dxlz(e,p,i,r,"4","x",d,c)),this.CheckDrawString(s)&&(this.gvfs(s)>=0&&(p+=this.dwpls(e,p,i,d)),p+=this.dxlz(e,p,i,s,"3","x",d,c,h)),this.CheckDrawString(n)&&(this.gvfs(n)>=0&&(p+=this.dwpls(e,p,i,d)),p+=this.dxlz(e,p,i,n,"2","x",d,c,h)),this.CheckDrawString(l)&&(this.gvfs(l)>=0&&(p+=this.dwpls(e,p,i,d)),p+=this.dxlz(e,p,i,l,null,"x",d,c,h)),this.CheckDrawString(o)&&(this.gvfs(o)>=0&&(p+=this.dwpls(e,p,i,d)),p+=this.dxlz(e,p,i,o,null,null,d,c,h)),p-t;case 5:var f=this.crfr(r,s)?-8:0;this.CheckDrawString(r)&&(u+=this.dxlz(e,u,i-7+f,r,null,"x",d,c,h)),this.CheckDrawString(s)&&(this.gvfs(s)>=0&&(u+=this.dwpls(e,u,i-7+f,d)),u+=this.dxlz(e,u,i-7+f,s,null,null,d,c,h));var g=(this.crfr(n,l),-7);this.CheckDrawString(n)&&(m+=this.dxlz(e,m,i+20+g,n,null,"x",d,c,h)),this.CheckDrawString(l)&&(this.gvfs(l)>=0&&(m+=this.dwpls(e,m,i+20+g,d)),m+=this.dxlz(e,m,i+20+g,l,null,null,d,c,h));var w=m>u?m-t:u-t;return e.strokeStyle=h,e.lineWidth=1,e.beginPath(),e.moveTo(t+1,i-4),e.lineTo(t+w,i-4),e.stroke(),e.closePath(),w;case 6:f=this.crfr2(r,s,n)?-8:0;this.CheckDrawString(r)&&(u+=this.dxlz(e,u,i-7+f,r,"2","x",d,c,h)),this.CheckDrawString(s)&&(this.gvfs(s)>=0&&(u+=this.dwpls(e,u,i-7+f,d)),u+=this.dxlz(e,u,i-7+f,s,null,"x",d,c,h)),this.CheckDrawString(n)&&(this.gvfs(n)>=0&&(u+=this.dwpls(e,u,i-7+f,d)),u+=this.dxlz(e,u,i-7+f,n,null,null,d,c,h));g=(this.crfr(l,o),-7);this.CheckDrawString(l)&&(m+=this.dxlz(e,m,i+20+g,l,null,"x",d,c,h)),this.CheckDrawString(o)&&(this.gvfs(o)>=0&&(m+=this.dwpls(e,m,i+20+g,d)),m+=this.dxlz(e,m,i+20+g,o,null,null,d,c,h));w=m>u?m-t:u-t;return e.strokeStyle=h,e.lineWidth=1,e.beginPath(),e.moveTo(t+1,i-4),e.lineTo(t+w,i-4),e.stroke(),e.closePath(),w}},t.dwpls=function(e,t,i,a){return e.font="italic "+a+"px Times New Roman",e.fillText("+",t,i),e.measureText("+").width},t.dwhpp=function(e,t,i,a,r,s,n){var l=/^-*[0-9.]*sqrt\([0-9.]+\)$/gim,o=/^-*[0-9.]*frac\((-*[0-9.]+|-*[0-9.]*sqrt\([0-9.]+\)),(-*[0-9.]+|-*[0-9.]*sqrt\([0-9.]+\))\)$/gim,h=0,d=0,c=0;e.fillStyle=n,e.font="italic 14px Times New Roman",e.fillText("x",t+d,i-9),d+=e.measureText("x").width,e.font="italic 10px Times New Roman",e.fillText("2",t+d,i-15),d+=e.measureText("2").width,!this.snepz(a)&&!isNaN(a)&&parseFloat(a)>0?(e.font="italic 14px Times New Roman",e.fillText(a,t,i+14),c+=e.measureText(a).width):o.test(a)?(e.font="italic 14px Times New Roman",e.fillText("(",t+c,i+18),c+=e.measureText("(").width,c+=this.dwfrz(e,t+c,i+18,a,14,!1),e.font="italic 14px Times New Roman",e.fillText(")",t+c,i+18),c+=e.measureText(")").width):l.test(a)&&(e.font="italic 14px Times New Roman",e.fillText("(",t+c,i+14),c+=e.measureText("(").width,c+=this.dwsqz(e,t+c,i+14,a,14,!1),e.font="italic 14px Times New Roman",e.fillText(")",t+c,i+14),c+=e.measureText(")").width),e.font="italic 10px Times New Roman",e.fillText("2",t+c,i+7);var p=d>(c+=e.measureText("2").width)?d:c;return e.strokeStyle=n,e.lineWidth=1,e.beginPath(),e.moveTo(t+h+1,i-4),e.lineTo(t+h+p,i-4),e.stroke(),e.closePath(),h+=p,h+=5,s?(e.font="italic 14px Times New Roman",e.fillText("-",t+h,i-1),h+=e.measureText("-").width):h+=this.dwpls(e,t+h,i,14),d=h+=5,c=h,e.fillStyle=n,e.font="italic 14px Times New Roman",e.fillText("y",t+d,i-9),d+=e.measureText("x").width,e.font="italic 10px Times New Roman",e.fillText("2",t+d,i-15),d+=e.measureText("2").width,!this.snepz(r)&&!isNaN(r)&&parseFloat(r)>0?(e.font="italic 14px Times New Roman",e.fillText(r,t,i+14),c+=e.measureText(r).width):o.test(r)?(e.font="italic 14px Times New Roman",e.fillText("(",t+c,i+18),c+=e.measureText("(").width,c+=this.dwfrz(e,t+c,i+18,r,14,!1),e.font="italic 14px Times New Roman",e.fillText(")",t+c,i+18),c+=e.measureText(")").width):l.test(r)&&(e.font="italic 14px Times New Roman",e.fillText("(",t+c,i+14),c+=e.measureText("(").width,c+=this.dwsqz(e,t+c,i+14,r,14,!1),e.font="italic 14px Times New Roman",e.fillText(")",t+c,i+14),c+=e.measureText(")").width),e.font="italic 10px Times New Roman",e.fillText("2",t+c,i+7),p=d>(c+=e.measureText("2").width)?d:c,e.strokeStyle=n,e.lineWidth=1,e.beginPath(),e.moveTo(t+h+1,i-4),e.lineTo(t+p,i-4),e.stroke(),e.closePath(),h+=p},t.dxlz=function(e,t,i,a,r,s,n,l,o){var h=0;if(!this.snepz(a)&&!isNaN(a)){var d=parseFloat(a);(1!=d||1==d&&this.snepz(s)&&this.snepz(r))&&(e.font="italic "+n+"px Times New Roman",e.fillText(a,t,i),h+=e.measureText(a).width)}return/^-*[0-9.]*frac\((-*[0-9.]+|-*[0-9.]*sqrt\([0-9.]+\)),(-*[0-9.]+|-*[0-9.]*sqrt\([0-9.]+\))\)$/gim.test(a)?h+=this.dwfrz(e,t,i,a,n,l,o):/^-*[0-9.]*sqrt\([0-9.]+\)$/gim.test(a)&&(h+=this.dwsqz(e,t,i,a,n,o)),this.snepz(s)||(l&&(e.font="italic "+n+"px Times New Roman",e.fillText("|",t+h,i-2),h+=e.measureText("|").width),e.font="italic "+n+"px Times New Roman",e.fillText(s,t+h,i),h+=e.measureText(s).width,l&&(e.font="italic "+n+"px Times New Roman",e.fillText("|",t+h,i-2),h+=e.measureText("|").width)),this.snepz(r)||(e.font="italic "+(n-4)+"px Times New Roman",e.fillText(r,t+h,i-4),h+=e.measureText(r).width),h},t.dwfrz=function(e,t,i,a,r,s,n){var l,o,h=/^-*[0-9.]*sqrt\([0-9.]+\)$/gim,d=0,c=0,p=0,u=this.gsib(a),m=u[0],b=u[1],f=this.gpff(a);-1==f?(e.font="italic "+r+"px Times New Roman",e.fillText("-",t+d,i-1),d+=e.measureText("-").width):1!=f&&(e.font="italic "+r+"px Times New Roman",e.fillText(f,t+d,i-1),d+=e.measureText(f).width),l=this.gnmrz(a),o=this.gdenr(a),1==f&&l*o<0&&(e.font="italic "+r+"px Times New Roman",e.fillText("-",t+d,i-1),d+=e.measureText("-").width,l<0&&(m=m.replace("-","")),o<0&&(b=b.replace("-","")));var g=(c=h.test(m)?this.dwsqz(e,t+d,i-6,m,r,n):this.dxlz(e,t+d,i-6,m,null,null,r,s,n))>(p=h.test(b)?this.dwsqz(e,t+d,i+11,b,r,n):this.dxlz(e,t+d,i+9,b,null,null,r,s))?c:p,w=0;return 10==r&&(w=-2),e.strokeStyle=n,e.lineWidth=1,e.beginPath(),e.moveTo(t+d+1,i+10+w-r),e.lineTo(t+d+g,i+10+w-r),e.stroke(),e.closePath(),d+=c>p?c:p},t.dwsqz=function(e,t,i,a,r,s){var n=0,l=this.gpfs(a);return-1==l?(e.font="italic "+r+"px Times New Roman",e.fillText("-",t+n,i-1),n+=e.measureText("-").width):1!=l&&(e.font="italic "+r+"px Times New Roman",e.fillText(l,t+n,i),n+=e.measureText(l).width),e.font="italic "+r+"px Times New Roman",e.fillText("√",t+n,i),n+=e.measureText("√").width,e.font="italic "+r+"px Times New Roman",e.fillText(this.gssv(a),t+n,i),e.strokeStyle=s,e.lineWidth=.5,e.beginPath(),e.moveTo(t+n,i-r+1),e.lineTo(t+n+e.measureText(this.gssv(a)).width,i-r+1),e.stroke(),e.closePath(),n+=e.measureText(this.gssv(a)).width},t.snepz=function(e){return null===e||""==e},t.sivd=function(e){return!this.snepz(e)&&(!isNaN(e)||(/^-*[0-9.]*sqrt\([0-9.]+\)$/gim.test(e)||/^-*[0-9.]*frac\((-*[0-9.]+|-*[0-9.]*sqrt\([0-9.]+\)),(-*[0-9.]+|-*[0-9.]*sqrt\([0-9.]+\))\)$/gim.test(e)))},t.CheckDrawString=function(e){return!this.snepz(e)&&(isNaN(e)?/^-*[0-9.]*sqrt\([0-9.]+\)$/gim.test(e)||/^-*[0-9.]*frac\((-*[0-9.]+|-*[0-9.]*sqrt\([0-9.]+\)),(-*[0-9.]+|-*[0-9.]*sqrt\([0-9.]+\))\)$/gim.test(e):0!=parseFloat(e))},t.gpff=function(e){var t=e.indexOf("f"),i=1;if(0!=t){var a=e.substring(0,t);i="-"==a?-1:parseFloat(a)}return i},t.gsib=function(e){var t=e.indexOf("("),i=e.lastIndexOf(")");return e.substring(t+1,i).split(",")},t.gpfs=function(e){var t=e.indexOf("s"),i=1;if(0!=t){var a=e.substring(0,t);i="-"==a?-1:parseFloat(a)}return i},t.gssv=function(e){var t=e.indexOf("("),i=e.indexOf(")");return e.substring(t+1,i)},t.gvfs=function(e){return this.snepz(e)?0:isNaN(e)?/^-*[0-9.]*sqrt\([0-9.]+\)$/gim.test(e)?this.GetSquareValue(e):/^-*[0-9.]*frac\((-*[0-9.]+|-*[0-9.]*sqrt\([0-9.]+\)),(-*[0-9.]+|-*[0-9.]*sqrt\([0-9.]+\))\)$/gim.test(e)?this.gfvl(e):void 0:parseFloat(e)},t.gfvl=function(e){var t=/^-*[0-9.]*sqrt\([0-9.]+\)$/gim,i=this.gpff(e),a=0,r=0,s=this.gsib(e),n=s[0];isNaN(n)?t.test(n)&&(a=this.GetSquareValue(n)):a=parseFloat(n);var l=s[1];return isNaN(l)?t.test(l)&&(r=this.GetSquareValue(l)):r=parseFloat(l),0!=r?i*(a/r):0},t.GetSquareValue=function(e){var t,i=this.gpfs(e),a=this.gssv(e);return t=parseFloat(a),Math.round(i*Math.sqrt(t))},t.gnmrz=function(e){var t=0,i=this.gsib(e)[0];return isNaN(i)?/^-*[0-9.]*sqrt\([0-9.]+\)$/gim.test(i)&&(t=this.GetSquareValue(i)):t=parseFloat(i),t},t.gdenr=function(e){var t=0,i=this.gsib(e)[1];return isNaN(i)?/^-*[0-9.]*sqrt\([0-9.]+\)$/gim.test(i)&&(t=this.GetSquareValue(i)):t=parseFloat(i),t},t.crfr=function(e,t){var i=/^-*[0-9.]*frac\((-*[0-9.]+|-*[0-9.]*sqrt\([0-9.]+\)),(-*[0-9.]+|-*[0-9.]*sqrt\([0-9.]+\))\)$/gim;return i.test(e)||i.test(t)},t.crfr2=function(e,t,i){var a=/^-*[0-9.]*frac\((-*[0-9.]+|-*[0-9.]*sqrt\([0-9.]+\)),(-*[0-9.]+|-*[0-9.]*sqrt\([0-9.]+\))\)$/gim;return a.test(e)||a.test(t)||a.test(i)},e}(),SetLabelHelper=function(){function e(){this.solveFunction=new SolveFunction}var t=e.prototype;return t.SetLabel=function(e,t,i,a,r,s,n,l,o,h){return 0==o?this.slcfz(e,t,i):1==o?this.SetLabelpzfun(e,t,i,a,r,s,n,l):11==o||12==o?this.slbscf(e,t,i,h):1==e.length?this.SetLabelqtfu(e,t,i,h):2==e.length?this.SetLabelPrimaryOnThepzfun(e,t,i,h):{left:0,top:20}},t.slcfz=function(e,t,i){var a;return e.forEach((function(e){e.forEach((function(e){a={left:0,top:e.y+10}}))})),a},t.SetLabelpzfun=function(e,t,i,a,r,s,n,l){var o=this.cvdgr({x:0,y:i},a,r,s),h=this.solveFunction.pzfun(n,l,o.x),d=this.cvgrdY(h,r,s),c=this.cvgrdY(o.y,r,s),p=this.cvgrdX((o.y-l)/n,a,s);return{left:p>0&&p<t?p-25:5,top:d>i||d<100?c-30:d-30}},t.slbscf=function(e,t,i,a){var r=Number.MAX_VALUE,s=0,n=!1;if(0!=e[0].length){for(var l=0;l<e.length;l++)for(var o=e[l],h=0;h<o.length;h++){var d=o[h];d.y>0&&d.y<i&&(d.y<r&&(r=d.y),d.y>s&&(s=d.y),n=!0)}return n?{left:10,top:r-30>30?r-30:s+20}:{left:null,top:null}}return{left:null,top:null}},t.SetLabelqtfu=function(e,t,i,a){var r=0,s=0;if(0!=e[0].length){for(var n=0;n<e.length;n++)for(var l=e[n],o=0;o<l.length;o++){var h=l[o];if(h.y>0&&h.y<i){r=t-h.x<a?h.x-a:h.x,s=i-h.y<50?h.y-50:h.y+20;break}r=null,s=null}return{left:r,top:s}}return{left:null,top:null}},t.SetLabelPrimaryOnThepzfun=function(e,t,i,a){var r=0,s=0;if(0==e[0].length)for(var n=0;n<e[1].length;n++){var l=e[1][n];l.y<i&&l.y>0&&l.x>0?(r=l.x>0?l.x:0,s=l.y+20):(r=null,s=null)}else{for(var o=!1,h=!1,d=0;d<e[0].length;d++){var c=e[0][d];if(c.y<i&&c.y>0){r=c.x,s=c.y>100?c.y-30:30,o=!0;break}}if(!o)for(var p=0;p<e[1].length;p++){var u=e[1][p];if(u.y<i&&u.y>0){r=u.x,s=u.y>100?u.y-30:30,h=!0;break}}o||h||(r=null,s=null)}return{left:r,top:s}},t.cvdgr=function(e,t,i,a){return{x:this.Round((e.x-t)/a,3),y:this.Round((i-e.y)/a,3)}},t.cvgrd=function(e,t,i,a,r){return{x:e=e*r+i,y:t=a-r*t}},t.cvgrdY=function(e,t,i){return t-i*e},t.cvgrdX=function(e,t,i){return e*i+t},t.Round=function(e,t){return Number(Math.round(e+"e"+t)+"e-"+t)},e}(),DrawLabelSVG=function(){function e(){}var t=e.prototype;return t.dwgrLabel=function(e,t,i,a,r,s,n,l,o,h,d,c,p,u,m){var b=t;e.font="italic 14px Times New Roman",b+=e.measureText("y =").width+3;var f=new TextGraph("y =",new Point(t,i),"Times New Roman",14,"italic",u).getElement();switch(m.appendChild(f),c){case 0:b+=this.dequa(m,e,t+e.measureText("y =").width+3,i,0,a,r,s,n,l,u);break;case 1:b+=this.dequa(m,e,t+e.measureText("y =").width+3,i,1,a,r,s,n,l,u);break;case 2:b+=this.dequa(m,e,t+e.measureText("y =").width+3,i,2,a,r,s,n,l,u);break;case 3:b+=this.dequa(m,e,t+e.measureText("y =").width+3,i,3,a,r,s,n,l,u);break;case 4:b+=this.dequa(m,e,t+e.measureText("y =").width+3,i,4,a,r,s,n,l,u);break;case 5:b+=this.dequa(m,e,t+e.measureText("y =").width+3,i,5,a,r,s,n,l,u);break;case 6:b+=this.dequa(m,e,t+e.measureText("y =").width+3,i,6,a,r,s,n,l,u);break;case 7:b+=this.dequa(m,e,t+e.measureText("y =").width+3,i,p,a,r,s,n,l,u,14,!0);break;case 8:e.font="italic 14px Times New Roman";var g=new TextGraph("|",new Point(b,i-2),"Times New Roman",14,"italic",u).getElement();m.appendChild(g),b+=e.measureText("|").width,b+=this.dequa(m,e,b,i,p,a,r,s,n,l,u),e.font="italic 14px Times New Roman";g=new TextGraph("|",new Point(b,i-2),"Times New Roman",14,"italic",u).getElement();m.appendChild(g),b+=e.measureText("|").width;break;case 9:b+=this.dwhpp(m,e,b,i,a,r,!0,u);break;case 10:b+=this.dwhpp(m,e,b,i,a,r,!1,u);break;case 11:e.font="italic 14px Times New Roman",b+=this.dxlz(m,e,b,i,d,null,null,14,!1,u,!0);f=new TextGraph("sin(",new Point(b,i),"Times New Roman",14,"italic",u).getElement();m.appendChild(f),b+=e.measureText("sin( ").width,b+=this.dequa(m,e,b,i,p,a,r,s,n,l,u),e.font="italic 14px Times New Roman";f=new TextGraph(" )",new Point(b,i),"Times New Roman",14,"italic",u).getElement();m.appendChild(f),b+=e.measureText(" )").width;break;case 12:e.font="italic 14px Times New Roman",b+=this.dxlz(m,e,b,i,d,null,null,14,!1,u,!0);f=new TextGraph("cos(",new Point(b,i),"Times New Roman",14,"italic",u).getElement();m.appendChild(f),b+=e.measureText("cos( ").width,b+=this.dequa(m,e,b,i,p,a,r,s,n,l,u),e.font="italic 14px Times New Roman";f=new TextGraph(" )",new Point(b,i),"Times New Roman",14,"italic",u).getElement();m.appendChild(f),b+=e.measureText(" )").width;break;case 13:e.font="italic 14px Times New Roman",b+=this.dxlz(m,e,b,i,d,null,null,14,!1,u,!0);f=new TextGraph("tan(",new Point(b,i),"Times New Roman",14,"italic",u).getElement();m.appendChild(f),b+=e.measureText("tan( ").width,b+=this.dequa(m,e,b,i,p,a,r,s,n,l,u),e.font="italic 14px Times New Roman";f=new TextGraph(" )",new Point(b,i),"Times New Roman",14,"italic",u).getElement();m.appendChild(f),b+=e.measureText(" )").width;break;case 14:e.font="italic 14px Times New Roman",b+=this.dxlz(m,e,b,i,d,null,null,14,!1,u,!0);f=new TextGraph("cotan(",new Point(b,i),"Times New Roman",14,"italic",u).getElement();m.appendChild(f),b+=e.measureText("cotan( ").width,b+=this.dequa(m,e,b,i,p,a,r,s,n,l,u),e.font="italic 14px Times New Roman";f=new TextGraph(" )",new Point(b,i),"Times New Roman",14,"italic",u).getElement();m.appendChild(f),b+=e.measureText(" )").width;break;case 15:b+=this.dxlz(m,e,b,i,o,null,null,14,!1,u),b+=this.dequa(m,e,b,i-14,p,a,r,s,n,l,u,10);break;case 16:b+=this.dxlz(m,e,b,i,"1",null,"e",14,!1,u),b+=this.dequa(m,e,b,i-14,p,a,r,s,n,l,u,10);break;case 17:e.font="italic 14px Times New Roman",b+=this.dxlz(m,e,b,i,d,null,null,14,!1,u,!0);f=new TextGraph("log",new Point(b,i),"Times New Roman",14,"italic",u).getElement();m.appendChild(f),b+=e.measureText("log").width,b+=this.dxlz(m,e,b,i+10,o,null,null,10,!1,u),e.font="italic 14px Times New Roman";f=new TextGraph("( ",new Point(b,i),"Times New Roman",14,"italic",u).getElement();m.appendChild(f),b+=e.measureText("( ").width,b+=this.dequa(m,e,b,i,p,a,r,s,n,l,u),e.font="italic 14px Times New Roman";f=new TextGraph(" )",new Point(b,i),"Times New Roman",14,"italic",u).getElement();m.appendChild(f),b+=e.measureText(" )").width;break;case 18:e.font="italic 14px Times New Roman",b+=this.dxlz(m,e,b,i,d,null,null,14,!1,u,!0);f=new TextGraph("log",new Point(b,i),"Times New Roman",14,"italic",u).getElement();m.appendChild(f),b+=e.measureText("log").width,e.font="italic 14px Times New Roman";f=new TextGraph("( ",new Point(b,i),"Times New Roman",14,"italic",u).getElement();m.appendChild(f),b+=e.measureText("( ").width,b+=this.dequa(m,e,b,i,p,a,r,s,n,l,u),e.font="italic 14px Times New Roman";f=new TextGraph(" )",new Point(b,i),"Times New Roman",14,"italic",u).getElement();m.appendChild(f),b+=e.measureText(" )").width;break;case 19:e.font="italic 14px Times New Roman",b+=this.dxlz(m,e,b,i,d,null,null,14,!1,u,!0);f=new TextGraph("ln",new Point(b,i),"Times New Roman",14,"italic",u).getElement();m.appendChild(f),b+=e.measureText("ln").width,e.font="italic 14px Times New Roman";f=new TextGraph("( ",new Point(b,i),"Times New Roman",14,"italic",u).getElement();m.appendChild(f),b+=e.measureText("( ").width,b+=this.dequa(m,e,b,i,p,a,r,s,n,l,u),e.font="italic 14px Times New Roman";f=new TextGraph(" )",new Point(b,i),"Times New Roman",14,"italic",u).getElement();m.appendChild(f),b+=e.measureText(" )").width;break;case 20:switch(e.font="italic 14px Times New Roman",b+=this.dxlz(m,e,b,i,d,null,null,14,!1,u,!0),this.CheckFracGraph(p,a,r,s,n,l)){case 0:var w=new LineGraph(new Point(b,i-14+5),new Point(b+3,i-14+13.5),u,.5).getElement();m.appendChild(w),w=new LineGraph(new Point(b+3,i-14+13.5),new Point(b+5,i-14-2),u,.5).getElement(),m.appendChild(w),this.DrawFuncBaseSquareRoot(m,e,b-1,i-5,o,u,8),b+=6;var y=this.dequa(m,e,b,i,p,a,r,s,n,l,u);w=new LineGraph(new Point((b+=y)-1-y,i-14-2),new Point(b,i-14-2),u,.5).getElement(),m.appendChild(w);break;case 1:w=new LineGraph(new Point(b,i-14+12),new Point(b+3,i-14+20.5),u,.5).getElement();m.appendChild(w),w=new LineGraph(new Point(b+3,i-14+20.5),new Point(b+5,i-14-6),u,.5).getElement(),m.appendChild(w),this.DrawFuncBaseSquareRoot(m,e,b-1,i-6,o,u,8),b+=6;y=this.dequa(m,e,b,i,p,a,r,s,n,l,u);w=new LineGraph(new Point((b+=y)-1-y,i-14-6),new Point(b,i-14-6),u,.5).getElement(),m.appendChild(w);break;case 2:w=new LineGraph(new Point(b,i-14+12),new Point(b+3,i-14+20.5),u,.5).getElement();m.appendChild(w),w=new LineGraph(new Point(b+3,i-14+20.5),new Point(b+5,i-14-20),u,.5).getElement(),m.appendChild(w),this.DrawFuncBaseSquareRoot(m,e,b-1,i-23,o,u,8),b+=6;y=this.dequa(m,e,b,i,p,a,r,s,n,l,u);w=new LineGraph(new Point((b+=y)-1-y,i-14-20),new Point(b,i-14-20),u,.5).getElement(),m.appendChild(w);break;case 3:w=new LineGraph(new Point(b,i-14+12),new Point(b+3,i-14+35),u,.5).getElement();m.appendChild(w),w=new LineGraph(new Point(b+3,i-14+35),new Point(b+5,i-14-6),u,.5).getElement(),m.appendChild(w),this.DrawFuncBaseSquareRoot(m,e,b-1,i-9,o,u,8),b+=6;y=this.dequa(m,e,b,i,p,a,r,s,n,l,u);w=new LineGraph(new Point((b+=y)-1-y,i-14-6),new Point(b,i-14-6),u,.5).getElement(),m.appendChild(w);break;case 4:w=new LineGraph(new Point(b,i-14+12),new Point(b+3,i-14+35),u,.5).getElement();m.appendChild(w),w=new LineGraph(new Point(b+3,i-14+35),new Point(b+5,i-14-20),u,.5).getElement(),m.appendChild(w),this.DrawFuncBaseSquareRoot(m,e,b-1,i-23,o,u,8),b+=6;y=this.dequa(m,e,b,i,p,a,r,s,n,l,u);w=new LineGraph(new Point((b+=y)-1-y,i-14-20),new Point(b,i-14-20),u,.5).getElement(),m.appendChild(w)}}return this.sivd(h)&&0!=parseFloat(h)&&(this.gvfs(h)>=0&&(b+=this.dwpls(m,e,b,i,14,u)),b+=this.dxlz(m,e,b,i,h,null,null,14,!1,u)),b},t.DrawFuncBaseSquareRoot=function(e,t,i,a,r,s,n){var l=this.gvfs(r);l>0&&2!==l&&(/^-*[0-9.]*sqrt\([0-9.]+\)$/gim.test(r)?this.dxlz(e,t,i-4,a-8,r,null,null,n,!1,s,!0):/^-*[0-9.]*frac\((-*[0-9.]+|-*[0-9.]*sqrt\([0-9.]+\)),(-*[0-9.]+|-*[0-9.]*sqrt\([0-9.]+\))\)$/gim.test(r)?this.dxlz(e,t,i-1,a-8-8,r,null,null,10,!1,s,!0):this.dxlz(e,t,i,a-8,r,null,null,n,!1,s,!0))},t.CheckFracGraph=function(e,t,i,a,r,s){var n=0,l=/^-*[0-9.]*frac\((-*[0-9.]+|-*[0-9.]*sqrt\([0-9.]+\)),(-*[0-9.]+|-*[0-9.]*sqrt\([0-9.]+\))\)$/gim,o=!1,h=!1;switch(e){case 0:l.test(t)&&(n=1);break;case 1:(l.test(t)||l.test(i))&&(n=1);break;case 2:(l.test(t)||l.test(i)||l.test(a))&&(n=1);break;case 3:(l.test(t)||l.test(i)||l.test(a)||l.test(r))&&(n=1);break;case 4:(l.test(t)||l.test(i)||l.test(a)||l.test(r)||l.test(s))&&(n=1);break;case 5:n=1,(l.test(t)||l.test(i))&&(o=!0),(l.test(a)||l.test(r))&&(h=!0),h&&o?n=4:o?n=2:h&&(n=3);break;case 6:n=1,(l.test(t)||l.test(i))&&(o=!0),(l.test(a)||l.test(r)||l.test(s))&&(h=!0),h&&o?n=4:o?n=2:h&&(n=3)}return n},t.dwgrLabelCanvas=async function(e,t,i,a,r,s,n,l,o,h,d,c,p,u,m){e.save();var b=t;e.font="italic 14px Times New Roman",b+=e.measureText("y =").width+3;var f=new TextGraph("y =",new Point(t,i),"Times New Roman",14,"italic",u);switch(await f.drawCanvas(e),c){case 0:b+=await this.dequaCanvas(m,e,t+e.measureText("y =").width+3,i,0,a,r,s,n,l,u);break;case 1:b+=await this.dequaCanvas(m,e,t+e.measureText("y =").width+3,i,1,a,r,s,n,l,u);break;case 2:b+=await this.dequaCanvas(m,e,t+e.measureText("y =").width+3,i,2,a,r,s,n,l,u);break;case 3:b+=await this.dequaCanvas(m,e,t+e.measureText("y =").width+3,i,3,a,r,s,n,l,u);break;case 4:b+=await this.dequaCanvas(m,e,t+e.measureText("y =").width+3,i,4,a,r,s,n,l,u);break;case 5:b+=await this.dequaCanvas(m,e,t+e.measureText("y =").width+3,i,5,a,r,s,n,l,u);break;case 6:b+=await this.dequaCanvas(m,e,t+e.measureText("y =").width+3,i,6,a,r,s,n,l,u);break;case 7:b+=await this.dequaCanvas(m,e,t+e.measureText("y =").width+3,i,p,a,r,s,n,l,u,14,!0);break;case 8:e.font="italic 14px Times New Roman";var g=new TextGraph("|",new Point(b,i-2),"Times New Roman",14,"italic",u);await g.drawCanvas(e),b+=e.measureText("|").width,b+=await this.dequaCanvas(m,e,b,i,p,a,r,s,n,l,u),e.font="italic 14px Times New Roman";g=new TextGraph("|",new Point(b,i-2),"Times New Roman",14,"italic",u);await g.drawCanvas(e),b+=e.measureText("|").width;break;case 9:b+=await this.dwhppCanvas(m,e,b,i,a,r,!0,u);break;case 10:b+=await this.dwhppCanvas(m,e,b,i,a,r,!1,u);break;case 11:e.font="italic 14px Times New Roman",b+=await this.dxlzCanvas(m,e,b,i,d,null,null,14,!1,u,!0);f=new TextGraph("sin(",new Point(b,i),"Times New Roman",14,"italic",u);await f.drawCanvas(e),b+=e.measureText("sin( ").width,b+=await this.dequaCanvas(m,e,b,i,p,a,r,s,n,l,u),e.font="italic 14px Times New Roman";f=new TextGraph(" )",new Point(b,i),"Times New Roman",14,"italic",u);await f.drawCanvas(e),b+=e.measureText(" )").width;break;case 12:e.font="italic 14px Times New Roman",b+=await this.dxlzCanvas(m,e,b,i,d,null,null,14,!1,u,!0);f=new TextGraph("cos(",new Point(b,i),"Times New Roman",14,"italic",u);await f.drawCanvas(e),b+=e.measureText("cos( ").width,b+=await this.dequaCanvas(m,e,b,i,p,a,r,s,n,l,u),e.font="italic 14px Times New Roman";f=new TextGraph(" )",new Point(b,i),"Times New Roman",14,"italic",u);await f.drawCanvas(e),b+=e.measureText(" )").width;break;case 13:e.font="italic 14px Times New Roman",b+=await this.dxlzCanvas(m,e,b,i,d,null,null,14,!1,u,!0);f=new TextGraph("tan(",new Point(b,i),"Times New Roman",14,"italic",u);await f.drawCanvas(e),b+=e.measureText("tan( ").width,b+=await this.dequaCanvas(m,e,b,i,p,a,r,s,n,l,u),e.font="italic 14px Times New Roman";f=new TextGraph(" )",new Point(b,i),"Times New Roman",14,"italic",u);await f.drawCanvas(e),b+=e.measureText(" )").width;break;case 14:e.font="italic 14px Times New Roman",b+=await this.dxlzCanvas(m,e,b,i,d,null,null,14,!1,u,!0);f=new TextGraph("cotan(",new Point(b,i),"Times New Roman",14,"italic",u);await f.drawCanvas(e),b+=e.measureText("cotan( ").width,b+=await this.dequaCanvas(m,e,b,i,p,a,r,s,n,l,u),e.font="italic 14px Times New Roman";f=new TextGraph(" )",new Point(b,i),"Times New Roman",14,"italic",u);await f.drawCanvas(e),b+=e.measureText(" )").width;break;case 15:b+=await this.dxlzCanvas(m,e,b,i,o,null,null,14,!1,u),b+=await this.dequaCanvas(m,e,b,i-14,p,a,r,s,n,l,u,10);break;case 16:b+=await this.dxlzCanvas(m,e,b,i,"1",null,"e",14,!1,u),b+=await this.dequaCanvas(m,e,b,i-14,p,a,r,s,n,l,u,10);break;case 17:e.font="italic 14px Times New Roman",b+=await this.dxlzCanvas(m,e,b,i,d,null,null,14,!1,u,!0);f=new TextGraph("log",new Point(b,i),"Times New Roman",14,"italic",u);await f.drawCanvas(e),b+=e.measureText("log").width,b+=await this.dxlzCanvas(m,e,b,i+10,o,null,null,10,!1,u),e.font="italic 14px Times New Roman";f=new TextGraph("( ",new Point(b,i),"Times New Roman",14,"italic",u);await f.drawCanvas(e),b+=e.measureText("( ").width,b+=await this.dequaCanvas(m,e,b,i,p,a,r,s,n,l,u),e.font="italic 14px Times New Roman";f=new TextGraph(" )",new Point(b,i),"Times New Roman",14,"italic",u);await f.drawCanvas(e),b+=e.measureText(" )").width;break;case 18:e.font="italic 14px Times New Roman",b+=await this.dxlzCanvas(m,e,b,i,d,null,null,14,!1,u,!0);f=new TextGraph("log",new Point(b,i),"Times New Roman",14,"italic",u);await f.drawCanvas(e),b+=e.measureText("log").width,e.font="italic 14px Times New Roman";f=new TextGraph("( ",new Point(b,i),"Times New Roman",14,"italic",u);await f.drawCanvas(e),b+=e.measureText("( ").width,b+=await this.dequaCanvas(m,e,b,i,p,a,r,s,n,l,u),e.font="italic 14px Times New Roman";f=new TextGraph(" )",new Point(b,i),"Times New Roman",14,"italic",u);await f.drawCanvas(e),b+=e.measureText(" )").width;break;case 19:e.font="italic 14px Times New Roman",b+=await this.dxlzCanvas(m,e,b,i,d,null,null,14,!1,u,!0);f=new TextGraph("ln",new Point(b,i),"Times New Roman",14,"italic",u);await f.drawCanvas(e),b+=e.measureText("ln").width,e.font="italic 14px Times New Roman";f=new TextGraph("( ",new Point(b,i),"Times New Roman",14,"italic",u);await f.drawCanvas(e),b+=e.measureText("( ").width,b+=await this.dequaCanvas(m,e,b,i,p,a,r,s,n,l,u),e.font="italic 14px Times New Roman";f=new TextGraph(" )",new Point(b,i),"Times New Roman",14,"italic",u);await f.drawCanvas(e),b+=e.measureText(" )").width}return this.sivd(h)&&0!=parseFloat(h)&&(this.gvfs(h)>=0&&(b+=await this.dwplsCanvas(m,e,b,i,14,u)),b+=await this.dxlzCanvas(m,e,b,i,h,null,null,14,!1,u)),e.restore(),b},t.dequa=function(e,t,i,a,r,s,n,l,o,h,d,c,p){void 0===c&&(c=14),void 0===p&&(p=!1);var u=i,m=i,b=i;switch(r){case 0:return(u+=this.dxlz(e,t,u,a,s,null,null,c,p,d))-i;case 1:var f=!1;return this.sivd(s)&&0==parseFloat(s)&&(f=!0),this.CheckDrawString(s)&&(u+=this.dxlz(e,t,u,a,s,null,"x",c,p,d)),this.CheckDrawString(n)&&(this.gvfs(n)>=0&&!f&&(u+=this.dwpls(e,t,u,a,c,d)),u+=this.dxlz(e,t,u,a,n,null,null,c,p,d)),u-i;case 2:return this.CheckDrawString(s)&&(u+=this.dxlz(e,t,u,a,s,"2","x",c,p,d)),this.CheckDrawString(n)&&(this.gvfs(n)>=0&&(u+=this.dwpls(e,t,u,a,c,d)),u+=this.dxlz(e,t,u,a,n,null,"x",c,p,d)),this.CheckDrawString(l)&&(this.gvfs(l)>=0&&(u+=this.dwpls(e,t,u,a,c,d)),u+=this.dxlz(e,t,u,a,l,null,null,c,p,d)),u-i;case 3:return this.CheckDrawString(s)&&(u+=this.dxlz(e,t,u,a,s,"3","x",c,p,d)),this.CheckDrawString(n)&&(this.gvfs(n)>=0&&(u+=this.dwpls(e,t,u,a,c,d)),u+=this.dxlz(e,t,u,a,n,"2","x",c,p,d)),this.CheckDrawString(l)&&(this.gvfs(l)>=0&&(u+=this.dwpls(e,t,u,a,c,d)),u+=this.dxlz(e,t,u,a,l,null,"x",c,p,d)),this.CheckDrawString(o)&&(this.gvfs(o)>=0&&(u+=this.dwpls(e,t,u,a,c,d)),u+=this.dxlz(e,t,u,a,o,null,null,c,p,d)),u-i;case 4:return this.CheckDrawString(s)&&(u+=this.dxlz(e,t,u,a,s,"4","x",c,p,d)),this.CheckDrawString(n)&&(this.gvfs(n)>=0&&(u+=this.dwpls(e,t,u,a,c,d)),u+=this.dxlz(e,t,u,a,n,"3","x",c,p,d)),this.CheckDrawString(l)&&(this.gvfs(l)>=0&&(u+=this.dwpls(e,t,u,a,c,d)),u+=this.dxlz(e,t,u,a,l,"2","x",c,p,d)),this.CheckDrawString(o)&&(this.gvfs(o)>=0&&(u+=this.dwpls(e,t,u,a,c,d)),u+=this.dxlz(e,t,u,a,o,null,"x",c,p,d)),this.CheckDrawString(h)&&(this.gvfs(h)>=0&&(u+=this.dwpls(e,t,u,a,c,d)),u+=this.dxlz(e,t,u,a,h,null,null,c,p,d)),u-i;case 5:var g=this.crfr(s,n)?-8:0;this.CheckDrawString(s)&&(m+=this.dxlz(e,t,m,a-7+g,s,null,"x",c,p,d)),this.CheckDrawString(n)&&(this.gvfs(n)>=0&&(m+=this.dwpls(e,t,m,a-7+g,c,d)),m+=this.dxlz(e,t,m,a-7+g,n,null,null,c,p,d));var w=(this.crfr(l,o),-7);this.CheckDrawString(l)&&(b+=this.dxlz(e,t,b,a+c+6+w,l,null,"x",c,p,d)),this.CheckDrawString(o)&&(this.gvfs(o)>=0&&(b+=this.dwpls(e,t,b,a+c+6+w,c,d)),b+=this.dxlz(e,t,b,a+c+6+w,o,null,null,c,p,d));var y=b>m?b-i:m-i,v=new LineGraph(new Point(i+1,a-4),new Point(i+y,a-4),d,1).getElement();return e.appendChild(v),y;case 6:g=this.crfr2(s,n,l)?-8:0;this.CheckDrawString(s)&&(m+=this.dxlz(e,t,m,a-7+g,s,"2","x",c,p,d)),this.CheckDrawString(n)&&(this.gvfs(n)>=0&&(m+=this.dwpls(e,t,m,a-7+g,c,d)),m+=this.dxlz(e,t,m,a-7+g,n,null,"x",c,p,d)),this.CheckDrawString(l)&&(this.gvfs(l)>=0&&(m+=this.dwpls(e,t,m,a-7+g,c,d)),m+=this.dxlz(e,t,m,a-7+g,l,null,null,c,p,d));w=(this.crfr(o,h),-7);this.CheckDrawString(o)&&(b+=this.dxlz(e,t,b,a+c+6+w,o,null,"x",c,p,d)),this.CheckDrawString(h)&&(this.gvfs(h)>=0&&(b+=this.dwpls(e,t,b,a+c+6+w,c,d)),b+=this.dxlz(e,t,b,a+c+6+w,h,null,null,c,p,d));y=b>m?b-i:m-i,v=new LineGraph(new Point(i+1,a-4),new Point(i+y,a-4),d,1).getElement();return e.appendChild(v),y}},t.dequaCanvas=async function(e,t,i,a,r,s,n,l,o,h,d,c,p){t.save(),void 0===c&&(c=14),void 0===p&&(p=!1);var u=i,m=i,b=i;switch(r){case 0:return(u+=await this.dxlzCanvas(e,t,u,a,s,null,null,c,p,d))-i;case 1:var f=!1;return this.sivd(s)&&0==parseFloat(s)&&(f=!0),this.CheckDrawString(s)&&(u+=await this.dxlzCanvas(e,t,u,a,s,null,"x",c,p,d)),this.CheckDrawString(n)&&(this.gvfs(n)>=0&&!f&&(u+=await this.dwplsCanvas(e,t,u,a,c,d)),u+=await this.dxlzCanvas(e,t,u,a,n,null,null,c,p,d)),u-i;case 2:return this.CheckDrawString(s)&&(u+=await this.dxlzCanvas(e,t,u,a,s,"2","x",c,p,d)),this.CheckDrawString(n)&&(this.gvfs(n)>=0&&(u+=await this.dwplsCanvas(e,t,u,a,c,d)),u+=await this.dxlzCanvas(e,t,u,a,n,null,"x",c,p,d)),this.CheckDrawString(l)&&(this.gvfs(l)>=0&&(u+=await this.dwplsCanvas(e,t,u,a,c,d)),u+=await this.dxlzCanvas(e,t,u,a,l,null,null,c,p,d)),u-i;case 3:return this.CheckDrawString(s)&&(u+=await this.dxlzCanvas(e,t,u,a,s,"3","x",c,p,d)),this.CheckDrawString(n)&&(this.gvfs(n)>=0&&(u+=await this.dwplsCanvas(e,t,u,a,c,d)),u+=await this.dxlzCanvas(e,t,u,a,n,"2","x",c,p,d)),this.CheckDrawString(l)&&(this.gvfs(l)>=0&&(u+=await this.dwplsCanvas(e,t,u,a,c,d)),u+=await this.dxlzCanvas(e,t,u,a,l,null,"x",c,p,d)),this.CheckDrawString(o)&&(this.gvfs(o)>=0&&(u+=await this.dwplsCanvas(e,t,u,a,c,d)),u+=await this.dxlzCanvas(e,t,u,a,o,null,null,c,p,d)),u-i;case 4:return this.CheckDrawString(s)&&(u+=await this.dxlzCanvas(e,t,u,a,s,"4","x",c,p,d)),this.CheckDrawString(n)&&(this.gvfs(n)>=0&&(u+=await this.dwplsCanvas(e,t,u,a,c,d)),u+=await this.dxlzCanvas(e,t,u,a,n,"3","x",c,p,d)),this.CheckDrawString(l)&&(this.gvfs(l)>=0&&(u+=await this.dwplsCanvas(e,t,u,a,c,d)),u+=await this.dxlzCanvas(e,t,u,a,l,"2","x",c,p,d)),this.CheckDrawString(o)&&(this.gvfs(o)>=0&&(u+=await this.dwplsCanvas(e,t,u,a,c,d)),u+=await this.dxlzCanvas(e,t,u,a,o,null,"x",c,p,d)),this.CheckDrawString(h)&&(this.gvfs(h)>=0&&(u+=await this.dwplsCanvas(e,t,u,a,c,d)),u+=await this.dxlzCanvas(e,t,u,a,h,null,null,c,p,d)),u-i;case 5:var g=this.crfr(s,n)?-8:0;this.CheckDrawString(s)&&(m+=await this.dxlzCanvas(e,t,m,a-7+g,s,null,"x",c,p,d)),this.CheckDrawString(n)&&(this.gvfs(n)>=0&&(m+=await this.dwplsCanvas(e,t,m,a-7+g,c,d)),m+=await this.dxlzCanvas(e,t,m,a-7+g,n,null,null,c,p,d));var w=(this.crfr(l,o),-7);this.CheckDrawString(l)&&(b+=await this.dxlzCanvas(e,t,b,a+c+6+w,l,null,"x",c,p,d)),this.CheckDrawString(o)&&(this.gvfs(o)>=0&&(b+=await this.dwplsCanvas(e,t,b,a+c+6+w,c,d)),b+=await this.dxlzCanvas(e,t,b,a+c+6+w,o,null,null,c,p,d));var y=b>m?b-i:m-i,v=new LineGraph(new Point(i+1,a-4),new Point(i+y,a-4),d,1);return await v.drawCanvas(t),y;case 6:g=this.crfr2(s,n,l)?-8:0;this.CheckDrawString(s)&&(m+=await this.dxlzCanvas(e,t,m,a-7+g,s,"2","x",c,p,d)),this.CheckDrawString(n)&&(this.gvfs(n)>=0&&(m+=await this.dwplsCanvas(e,t,m,a-7+g,c,d)),m+=await this.dxlzCanvas(e,t,m,a-7+g,n,null,"x",c,p,d)),this.CheckDrawString(l)&&(this.gvfs(l)>=0&&(m+=await this.dwplsCanvas(e,t,m,a-7+g,c,d)),m+=await this.dxlzCanvas(e,t,m,a-7+g,l,null,null,c,p,d));w=(this.crfr(o,h),-7);this.CheckDrawString(o)&&(b+=await this.dxlzCanvas(e,t,b,a+c+6+w,o,null,"x",c,p,d)),this.CheckDrawString(h)&&(this.gvfs(h)>=0&&(b+=await this.dwplsCanvas(e,t,b,a+c+6+w,c,d)),b+=await this.dxlzCanvas(e,t,b,a+c+6+w,h,null,null,c,p,d));y=b>m?b-i:m-i,v=new LineGraph(new Point(i+1,a-4),new Point(i+y,a-4),d,1);return await v.drawCanvas(t),y}t.restore()},t.dwhpp=function(e,t,i,a,r,s,n,l){var o=0,h=0,d=0;t.fillStyle=l,t.font="italic 14px Times New Roman";var c=new TextGraph("x",new Point(i+h,a-9),"Times New Roman",14,"italic",l).getElement();e.appendChild(c),h+=t.measureText("x").width,t.font="italic 10px Times New Roman";var p=new TextGraph("2",new Point(i+h,a-15),"Times New Roman",10,"italic",l).getElement();if(e.appendChild(p),h+=t.measureText("2").width,!this.snepz(r)&&!isNaN(r)&&parseFloat(r)>0){t.font="italic 14px Times New Roman";c=new TextGraph(r,new Point(i,a+14),"Times New Roman",14,"italic",l).getElement();e.appendChild(c),d+=t.measureText(r).width}else if(/^-*[0-9.]*frac\((-*[0-9.]+|-*[0-9.]*sqrt\([0-9.]+\)),(-*[0-9.]+|-*[0-9.]*sqrt\([0-9.]+\))\)$/gim.test(r)){t.font="italic 14px Times New Roman";var u=new TextGraph("(",new Point(i+d,a+18),"Times New Roman",14,"italic",l).getElement();e.appendChild(u),d+=t.measureText("(").width,d+=this.dwfrz(e,t,i+d,a+18,r,14,!1,l),t.font="italic 14px Times New Roman";u=new TextGraph(")",new Point(i+d,a+18),"Times New Roman",14,"italic",l).getElement();e.appendChild(u),d+=t.measureText(")").width}else if(/^-*[0-9.]*sqrt\([0-9.]+\)$/gim.test(r)){t.font="italic 14px Times New Roman";u=new TextGraph("(",new Point(i+d,a+14),"Times New Roman",14,"italic",l).getElement();e.appendChild(u),d+=t.measureText("(").width,d+=this.dwsqz(e,t,i+d,a+14,r,14,l),t.font="italic 14px Times New Roman";u=new TextGraph(")",new Point(i+d,a+14),"Times New Roman",14,"italic",l).getElement();e.appendChild(u),d+=t.measureText(")").width}t.font="italic 10px Times New Roman";var m=new TextGraph("2",new Point(i+d,a+7),"Times New Roman",10,"italic",l).getElement();e.appendChild(m);var b=h>(d+=t.measureText("2").width)?h:d,f=new LineGraph(new Point(i+o+1,a-4),new Point(i+o+b,a-4),l,1).getElement();if(e.appendChild(f),o+=b,o+=5,n){t.font="italic 14px Times New Roman";var g=new TextGraph("-",new Point(i+o,a-1),"Times New Roman",14,"italic",l).getElement();e.appendChild(g),o+=t.measureText("-").width}else o+=this.dwpls(e,t,i+o,a,14,l);h=o+=5,d=o,t.fillStyle=l,t.font="italic 14px Times New Roman";var w=new TextGraph("y",new Point(i+h,a-9),"Times New Roman",14,"italic",l).getElement();e.appendChild(w),h+=t.measureText("y").width,t.font="italic 10px Times New Roman";p=new TextGraph("2",new Point(i+h,a-15),"Times New Roman",10,"italic",l).getElement();if(e.appendChild(p),h+=t.measureText("2").width,!this.snepz(s)&&!isNaN(s)&&parseFloat(s)>0){t.font="italic 14px Times New Roman";w=new TextGraph(s,new Point(i+d,a+14),"Times New Roman",14,"italic",l).getElement();e.appendChild(w),d+=t.measureText(s).width}else if(/^-*[0-9.]*frac\((-*[0-9.]+|-*[0-9.]*sqrt\([0-9.]+\)),(-*[0-9.]+|-*[0-9.]*sqrt\([0-9.]+\))\)$/gim.test(s)){t.font="italic 14px Times New Roman";u=new TextGraph("(",new Point(i+d,a+18),"Times New Roman",14,"italic",l).getElement();e.appendChild(u),d+=t.measureText("(").width,d+=this.dwfrz(e,t,i+d,a+18,s,14,!1,l),t.font="italic 14px Times New Roman";u=new TextGraph(")",new Point(i+d,a+18),"Times New Roman",14,"italic",l).getElement();e.appendChild(u),d+=t.measureText(")").width}else if(/^-*[0-9.]*sqrt\([0-9.]+\)$/gim.test(s)){t.font="italic 14px Times New Roman";u=new TextGraph("(",new Point(i+d,a+14),"Times New Roman",14,"italic",l).getElement();e.appendChild(u),d+=t.measureText("(").width,d+=this.dwsqz(e,t,i+d,a+14,s,14,l),t.font="italic 14px Times New Roman";u=new TextGraph(")",new Point(i+d,a+14),"Times New Roman",14,"italic",l).getElement();e.appendChild(u),d+=t.measureText(")").width}t.font="italic 10px Times New Roman";m=new TextGraph("2",new Point(i+d,a+7),"Times New Roman",10,"italic",l).getElement();e.appendChild(m),b=h>(d+=t.measureText("2").width)?h:d;f=new LineGraph(new Point(i+o+1,a-4),new Point(i+b,a-4),l,1).getElement();return e.appendChild(f),o+=b},t.dwhppCanvas=async function(e,t,i,a,r,s,n,l){var o=0,h=0,d=0;t.fillStyle=l,t.font="italic 14px Times New Roman";var c=new TextGraph("x",new Point(i+h,a-9),"Times New Roman",14,"italic",l);await c.drawCanvas(t),h+=t.measureText("x").width,t.font="italic 10px Times New Roman";var p=new TextGraph("2",new Point(i+h,a-15),"Times New Roman",10,"italic",l);if(await p.drawCanvas(t),h+=t.measureText("2").width,!this.snepz(r)&&!isNaN(r)&&parseFloat(r)>0){t.font="italic 14px Times New Roman";c=new TextGraph(r,new Point(i,a+14),"Times New Roman",14,"italic",l);await c.drawCanvas(t),d+=t.measureText(r).width}else if(/^-*[0-9.]*frac\((-*[0-9.]+|-*[0-9.]*sqrt\([0-9.]+\)),(-*[0-9.]+|-*[0-9.]*sqrt\([0-9.]+\))\)$/gim.test(r)){t.font="italic 14px Times New Roman";var u=new TextGraph("(",new Point(i+d,a+18),"Times New Roman",14,"italic",l);await u.drawCanvas(t),d+=t.measureText("(").width,d+=await this.dwfrzCanvas(e,t,i+d,a+18,r,14,!1,l),t.font="italic 14px Times New Roman";u=new TextGraph(")",new Point(i+d,a+18),"Times New Roman",14,"italic",l);await u.drawCanvas(t),d+=t.measureText(")").width}else if(/^-*[0-9.]*sqrt\([0-9.]+\)$/gim.test(r)){t.font="italic 14px Times New Roman";u=new TextGraph("(",new Point(i+d,a+14),"Times New Roman",14,"italic",l);await u.drawCanvas(t),d+=t.measureText("(").width,d+=await this.dwsqzCanvas(e,t,i+d,a+14,r,14,l),t.font="italic 14px Times New Roman";u=new TextGraph(")",new Point(i+d,a+14),"Times New Roman",14,"italic",l);await u.drawCanvas(t),d+=t.measureText(")").width}t.font="italic 10px Times New Roman";var m=new TextGraph("2",new Point(i+d,a+7),"Times New Roman",10,"italic",l);await m.drawCanvas(t);var b=h>(d+=t.measureText("2").width)?h:d,f=new LineGraph(new Point(i+o+1,a-4),new Point(i+o+b,a-4),l,1);if(await f.drawCanvas(t),o+=b,o+=5,n){t.font="italic 14px Times New Roman";var g=new TextGraph("-",new Point(i+o,a-1),"Times New Roman",14,"italic",l);await g.drawCanvas(t),o+=t.measureText("-").width}else o+=this.dwpls(e,t,i+o,a,14,l);h=o+=5,d=o,t.fillStyle=l,t.font="italic 14px Times New Roman";var w=new TextGraph("y",new Point(i+h,a-9),"Times New Roman",14,"italic",l);await w.drawCanvas(t),h+=t.measureText("y").width,t.font="italic 10px Times New Roman";p=new TextGraph("2",new Point(i+h,a-15),"Times New Roman",10,"italic",l);if(await p.drawCanvas(t),h+=t.measureText("2").width,!this.snepz(s)&&!isNaN(s)&&parseFloat(s)>0){t.font="italic 14px Times New Roman";w=new TextGraph(s,new Point(i+d,a+14),"Times New Roman",14,"italic",l);await w.drawCanvas(t),d+=t.measureText(s).width}else if(/^-*[0-9.]*frac\((-*[0-9.]+|-*[0-9.]*sqrt\([0-9.]+\)),(-*[0-9.]+|-*[0-9.]*sqrt\([0-9.]+\))\)$/gim.test(s)){t.font="italic 14px Times New Roman";u=new TextGraph("(",new Point(i+d,a+18),"Times New Roman",14,"italic",l);await u.drawCanvas(t),d+=t.measureText("(").width,d+=await this.dwfrzCanvas(e,t,i+d,a+18,s,14,!1,l),t.font="italic 14px Times New Roman";u=new TextGraph(")",new Point(i+d,a+18),"Times New Roman",14,"italic",l);await u.drawCanvas(t),d+=t.measureText(")").width}else if(/^-*[0-9.]*sqrt\([0-9.]+\)$/gim.test(s)){t.font="italic 14px Times New Roman";u=new TextGraph("(",new Point(i+d,a+14),"Times New Roman",14,"italic",l);await u.drawCanvas(t),d+=t.measureText("(").width,d+=await this.dwsqzCanvas(e,t,i+d,a+14,s,14,l),t.font="italic 14px Times New Roman";u=new TextGraph(")",new Point(i+d,a+14),"Times New Roman",14,"italic",l);await u.drawCanvas(t),d+=t.measureText(")").width}t.font="italic 10px Times New Roman";m=new TextGraph("2",new Point(i+d,a+7),"Times New Roman",10,"italic",l);await m.drawCanvas(t),b=h>(d+=t.measureText("2").width)?h:d;f=new LineGraph(new Point(i+o+1,a-4),new Point(i+b,a-4),l,1);return await f.drawCanvas(t),o+=b},t.dxlz=function(e,t,i,a,r,s,n,l,o,h,d=!1){var c=0;if(!this.snepz(r)&&!isNaN(r))if(!1===d)if(this.snepz(n)&&this.snepz(s)){t.font="italic "+l+"px Times New Roman",c+=t.measureText(r).width;var p=new TextGraph(r,new Point(i,a),"Times New Roman",l,"italic",h).getElement();e.appendChild(p)}else{var u;if(-1==(u=parseFloat(r))){t.font="italic "+l+"px Times New Roman";var m=new TextGraph("-",new Point(i+c,a-1),"Times New Roman",l,"italic",h).getElement();e.appendChild(m),c+=t.measureText("-").width}else if(1!=u){t.font="italic "+l+"px Times New Roman",c+=t.measureText(r).width;p=new TextGraph(r,new Point(i,a),"Times New Roman",l,"italic",h).getElement();e.appendChild(p)}}else if(-1==(u=parseFloat(r))){t.font="italic "+l+"px Times New Roman";m=new TextGraph("-",new Point(i+c,a-1),"Times New Roman",l,"italic",h).getElement();e.appendChild(m),c+=t.measureText("-").width}else if(1!=u){t.font="italic "+l+"px Times New Roman",c+=t.measureText(r).width;p=new TextGraph(r,new Point(i,a),"Times New Roman",l,"italic",h).getElement();e.appendChild(p)}if(/^-*[0-9.]*frac\((-*[0-9.]+|-*[0-9.]*sqrt\([0-9.]+\)),(-*[0-9.]+|-*[0-9.]*sqrt\([0-9.]+\))\)$/gim.test(r))if(this.snepz(n)&&this.snepz(s))c+=this.dwfrz(e,t,i,a,r,l,o,h);else{var b=this.gfvl(r);if(-1==b){t.font="italic "+l+"px Times New Roman";m=new TextGraph("-",new Point(i+c,a-1),"Times New Roman",l,"italic",h).getElement();e.appendChild(m),c+=t.measureText("-").width}else 1!=b&&(c+=this.dwfrz(e,t,i,a,r,l,o,h))}else if(/^-*[0-9.]*sqrt\([0-9.]+\)$/gim.test(r))if(this.snepz(n)&&this.snepz(s))c+=this.dwsqz(e,t,i,a,r,l,h);else{var f=this.GetSquareValue(r);if(-1==f){t.font="italic "+l+"px Times New Roman";m=new TextGraph("-",new Point(i+c,a-1),"Times New Roman",l,"italic",h).getElement();e.appendChild(m),c+=t.measureText("-").width}else 1!=f&&(c+=this.dwsqz(e,t,i,a,r,l,h))}if(!this.snepz(n)){if(o){t.font="italic "+l+"px Times New Roman";var g=new TextGraph("|",new Point(i+c,a-2),"Times New Roman",l,"italic",h).getElement();e.appendChild(g),c+=t.measureText("|").width}t.font="italic "+l+"px Times New Roman";var w=new TextGraph(n,new Point(i+c,a),"Times New Roman",l,"italic",h).getElement();if(e.appendChild(w),c+=t.measureText(n).width,o){t.font="italic "+l+"px Times New Roman";g=new TextGraph("|",new Point(i+c,a-2),"Times New Roman",l,"italic",h).getElement();e.appendChild(g),c+=t.measureText("|").width}}if(!this.snepz(s)){t.font="italic "+(l-4)+"px Times New Roman";var y=new TextGraph(s,new Point(i+c,a-4),"Times New Roman",l-4,"italic",h).getElement();e.appendChild(y),c+=t.measureText(s).width}return c},t.dxlzCanvas=async function(e,t,i,a,r,s,n,l,o,h,d=!1){t.save();var c=0;if(!this.snepz(r)&&!isNaN(r))if(!1===d)if(this.snepz(n)&&this.snepz(s)){t.font="italic "+l+"px Times New Roman",c+=t.measureText(r).width;var p=new TextGraph(r,new Point(i,a),"Times New Roman",l,"italic",h);await p.drawCanvas(t)}else{var u;if(-1==(u=parseFloat(r))){t.font="italic "+l+"px Times New Roman";var m=new TextGraph("-",new Point(i+c,a-1),"Times New Roman",l,"italic",h);await m.drawCanvas(t),c+=t.measureText("-").width}else if(1!=u){t.font="italic "+l+"px Times New Roman",c+=t.measureText(r).width;p=new TextGraph(r,new Point(i,a),"Times New Roman",l,"italic",h);await p.drawCanvas(t)}}else if(-1==(u=parseFloat(r))){t.font="italic "+l+"px Times New Roman";m=new TextGraph("-",new Point(i+c,a-1),"Times New Roman",l,"italic",h);await m.drawCanvas(t),c+=t.measureText("-").width}else if(1!=u){t.font="italic "+l+"px Times New Roman",c+=t.measureText(r).width;p=new TextGraph(r,new Point(i,a),"Times New Roman",l,"italic",h);await p.drawCanvas(t)}if(/^-*[0-9.]*frac\((-*[0-9.]+|-*[0-9.]*sqrt\([0-9.]+\)),(-*[0-9.]+|-*[0-9.]*sqrt\([0-9.]+\))\)$/gim.test(r))if(this.snepz(n)&&this.snepz(s))c+=await this.dwfrzCanvas(e,t,i,a,r,l,o,h);else{var b=this.gfvl(r);if(-1==b){t.font="italic "+l+"px Times New Roman";m=new TextGraph("-",new Point(i+c,a-1),"Times New Roman",l,"italic",h);await m.drawCanvas(t),c+=t.measureText("-").width}else 1!=b&&(c+=await this.dwfrzCanvas(e,t,i,a,r,l,o,h))}else if(/^-*[0-9.]*sqrt\([0-9.]+\)$/gim.test(r))if(this.snepz(n)&&this.snepz(s))c+=await this.dwsqzCanvas(e,t,i,a,r,l,h);else{var f=this.GetSquareValue(r);if(-1==f){t.font="italic "+l+"px Times New Roman";m=new TextGraph("-",new Point(i+c,a-1),"Times New Roman",l,"italic",h);await m.drawCanvas(t),c+=t.measureText("-").width}else 1!=f&&(c+=await this.dwsqzCanvas(e,t,i,a,r,l,h))}if(!this.snepz(n)){if(o){t.font="italic "+l+"px Times New Roman";var g=new TextGraph("|",new Point(i+c,a-2),"Times New Roman",l,"italic",h);await g.drawCanvas(t),c+=t.measureText("|").width}t.font="italic "+l+"px Times New Roman";var w=new TextGraph(n,new Point(i+c,a),"Times New Roman",l,"italic",h);if(await w.drawCanvas(t),c+=t.measureText(n).width,o){t.font="italic "+l+"px Times New Roman";g=new TextGraph("|",new Point(i+c,a-2),"Times New Roman",l,"italic",h);await g.drawCanvas(t),c+=t.measureText("|").width}}if(!this.snepz(s)){t.font="italic "+(l-4)+"px Times New Roman";var y=new TextGraph(s,new Point(i+c,a-4),"Times New Roman",l-4,"italic",h);await y.drawCanvas(t),c+=t.measureText(s).width}return t.restore(),c},t.dwfrz=function(e,t,i,a,r,s,n,l){var o=/^-*[0-9.]*sqrt\([0-9.]+\)$/gim,h=0,d=0,c=0,p=0,u=0,m=this.gsib(r),b=m[0],f=m[1],g=this.gpff(r);if(-1==g){t.font="italic "+s+"px Times New Roman";var w=new TextGraph("-",new Point(i+h,a-1),"Times New Roman",s,"italic",l).getElement();e.appendChild(w),h+=t.measureText("-").width}else if(1!=g){t.font="italic "+s+"px Times New Roman";var y=new TextGraph(g,new Point(i+h,a-1),"Times New Roman",s,"italic",l).getElement();e.appendChild(y),h+=t.measureText(g).width}if(p=this.gnmrz(r),u=this.gdenr(r),Math.abs(p%1)<=100*Number.EPSILON&&Math.abs(u%1)<=100*Number.EPSILON){var v=this.UCLN(parseInt(p),parseInt(u));0!=v&&(p/=Math.abs(v),u/=Math.abs(v))}if(1==g&&p*u<0){t.font="italic "+s+"px Times New Roman";var C=new TextGraph("-",new Point(i+h,a-1),"Times New Roman",s,"italic",l).getElement();e.appendChild(C),h+=t.measureText("-").width,p<0&&(b=b.replace("-",""),p=-p),u<0&&(f=f.replace("-",""),u=-u)}if(1!=u){var T=(d=o.test(b)?this.dwsqz(e,t,i+h,a-6,b,s,l):this.dxlz(e,t,i+h,a-6,p,null,null,s,n,l))>(c=o.test(f)?this.dwsqz(e,t,i+h,a+11,f,s,l):this.dxlz(e,t,i+h,a+9,u,null,null,s,n,l))?d:c,S=0;10==s&&(S=-2);var x=new LineGraph(new Point(i+h+1,a+10+S-s),new Point(i+h+T,a+10+S-s),l,1).getElement();e.appendChild(x),h+=d>c?d:c}else h+=d=o.test(b)?this.dwsqz(e,t,i+h,a,b,s,l):this.dxlz(e,t,i+h,a,p,null,null,s,n,l);return h+=2},t.dwfrzCanvas=async function(e,t,i,a,r,s,n,l){t.save();var o=/^-*[0-9.]*sqrt\([0-9.]+\)$/gim,h=0,d=0,c=0,p=0,u=0,m=this.gsib(r),b=m[0],f=m[1],g=this.gpff(r);if(-1==g){t.font="italic "+s+"px Times New Roman";var w=new TextGraph("-",new Point(i+h,a-1),"Times New Roman",s,"italic",l);await w.drawCanvas(t),h+=t.measureText("-").width}else if(1!=g){t.font="italic "+s+"px Times New Roman";var y=new TextGraph(g,new Point(i+h,a-1),"Times New Roman",s,"italic",l);await y.drawCanvas(t),h+=t.measureText(g).width}if(p=this.gnmrz(r),u=this.gdenr(r),Math.abs(p%1)<=100*Number.EPSILON&&Math.abs(u%1)<=100*Number.EPSILON){var v=this.UCLN(parseInt(p),parseInt(u));0!=v&&(p/=Math.abs(v),u/=Math.abs(v))}if(1==g&&p*u<0){t.font="italic "+s+"px Times New Roman";var C=new TextGraph("-",new Point(i+h,a-1),"Times New Roman",s,"italic",l);await C.drawCanvas(t),h+=t.measureText("-").width,p<0&&(b=b.replace("-",""),p=-p),u<0&&(f=f.replace("-",""),u=-u)}if(1!=u){var T=(d=o.test(b)?await this.dwsqzCanvas(e,t,i+h,a-6,b,s,l):await this.dxlzCanvas(e,t,i+h,a-6,p,null,null,s,n,l))>(c=o.test(f)?await this.dwsqzCanvas(e,t,i+h,a+11,f,s,l):await this.dxlzCanvas(e,t,i+h,a+9,u,null,null,s,n,l))?d:c,S=0;10==s&&(S=-2);var x=new LineGraph(new Point(i+h+1,a+10+S-s),new Point(i+h+T,a+10+S-s),l,1);await x.drawCanvas(t),h+=d>c?d:c}else h+=d=o.test(b)?await this.dwsqzCanvas(e,t,i+h,a,b,s,l):await this.dxlzCanvas(e,t,i+h,a,p,null,null,s,n,l);return h+=2,t.restore(),h},t.dwsqz=function(e,t,i,a,r,s,n){var l=0,o=this.gpfs(r);if(-1==o){t.font="italic "+s+"px Times New Roman";var h=new TextGraph("-",new Point(i+l,a-1),"Times New Roman",s,"italic",n).getElement();e.appendChild(h),l+=t.measureText("-").width}else if(1!=o){t.font="italic "+s+"px Times New Roman";var d=new TextGraph(o,new Point(i+l,a),"Times New Roman",s,"italic",n).getElement();e.appendChild(d),l+=t.measureText(o).width}t.font="italic "+s+"px Times New Roman";var c=new TextGraph("√",new Point(i+l,a),"Times New Roman",s,"italic",n).getElement();e.appendChild(c),l+=t.measureText("√").width,t.font="italic "+s+"px Times New Roman";var p=new TextGraph(this.gssv(r),new Point(i+l,a),"Times New Roman",s,"italic",n).getElement();e.appendChild(p);var u=new LineGraph(new Point(i+l,a-s+1),new Point(i+l+t.measureText(this.gssv(r)).width,a-s+1),n,.5).getElement();return e.appendChild(u),l+=t.measureText(this.gssv(r)).width},t.dwsqzCanvas=async function(e,t,i,a,r,s,n){var l=0,o=this.gpfs(r);if(-1==o){t.font="italic "+s+"px Times New Roman";var h=new TextGraph("-",new Point(i+l,a-1),"Times New Roman",s,"italic",n);await h.drawCanvas(t),l+=t.measureText("-").width}else if(1!=o){t.font="italic "+s+"px Times New Roman";var d=new TextGraph(o,new Point(i+l,a),"Times New Roman",s,"italic",n);await d.drawCanvas(t),l+=t.measureText(o).width}t.font="italic "+s+"px Times New Roman";var c=new TextGraph("√",new Point(i+l,a),"Times New Roman",s,"italic",n);await c.drawCanvas(t),l+=t.measureText("√").width,t.font="italic "+s+"px Times New Roman";var p=new TextGraph(this.gssv(r),new Point(i+l,a),"Times New Roman",s,"italic",n);await p.drawCanvas(t);var u=new LineGraph(new Point(i+l,a-s+1),new Point(i+l+t.measureText(this.gssv(r)).width,a-s+1),n,.5);return await u.drawCanvas(t),l+=t.measureText(this.gssv(r)).width},t.dwpls=function(e,t,i,a,r,s){t.font="italic "+r+"px Times New Roman";var n=new TextGraph("+",new Point(i,a),"Times New Roman",r,"italic",s).getElement();return e.appendChild(n),t.measureText("+").width},t.dwplsCanvas=async function(e,t,i,a,r,s){t.font="italic "+r+"px Times New Roman";var n=new TextGraph("+",new Point(i,a),"Times New Roman",r,"italic",s);return await n.drawCanvas(t),t.measureText("+").width},t.snepz=function(e){return null===e||""==e},t.sivd=function(e){return!this.snepz(e)&&(!isNaN(e)||(/^-*[0-9.]*sqrt\([0-9.]+\)$/gim.test(e)||/^-*[0-9.]*frac\((-*[0-9.]+|-*[0-9.]*sqrt\([0-9.]+\)),(-*[0-9.]+|-*[0-9.]*sqrt\([0-9.]+\))\)$/gim.test(e)))},t.CheckDrawString=function(e){return!this.snepz(e)&&(isNaN(e)?/^-*[0-9.]*sqrt\([0-9.]+\)$/gim.test(e)||/^-*[0-9.]*frac\((-*[0-9.]+|-*[0-9.]*sqrt\([0-9.]+\)),(-*[0-9.]+|-*[0-9.]*sqrt\([0-9.]+\))\)$/gim.test(e):0!=parseFloat(e))},t.gpff=function(e){var t=e.indexOf("f"),i=1;if(0!=t){var a=e.substring(0,t);i="-"==a?-1:parseFloat(a)}return i},t.gsib=function(e){var t=e.indexOf("("),i=e.lastIndexOf(")");return e.substring(t+1,i).split(",")},t.gpfs=function(e){var t=e.indexOf("s"),i=1;if(0!=t){var a=e.substring(0,t);i="-"==a?-1:parseFloat(a)}return i},t.gssv=function(e){var t=e.indexOf("("),i=e.indexOf(")");return e.substring(t+1,i)},t.gvfs=function(e){return this.snepz(e)?0:isNaN(e)?/^-*[0-9.]*sqrt\([0-9.]+\)$/gim.test(e)?this.GetSquareValue(e):/^-*[0-9.]*frac\((-*[0-9.]+|-*[0-9.]*sqrt\([0-9.]+\)),(-*[0-9.]+|-*[0-9.]*sqrt\([0-9.]+\))\)$/gim.test(e)?this.gfvl(e):void 0:parseFloat(e)},t.gfvl=function(e){var t=/^-*[0-9.]*sqrt\([0-9.]+\)$/gim,i=this.gpff(e),a=0,r=0,s=this.gsib(e),n=s[0];isNaN(n)?t.test(n)&&(a=this.GetSquareValue(n)):a=parseFloat(n);var l=s[1];return isNaN(l)?t.test(l)&&(r=this.GetSquareValue(l)):r=parseFloat(l),0!=r?i*(a/r):0},t.GetSquareValue=function(e){var t,i=this.gpfs(e),a=this.gssv(e);return t=parseFloat(a),i*Math.sqrt(t)},t.gnmrz=function(e){var t=0,i=this.gsib(e)[0];return isNaN(i)?/^-*[0-9.]*sqrt\([0-9.]+\)$/gim.test(i)&&(t=this.GetSquareValue(i)):t=parseFloat(i),t},t.gdenr=function(e){var t=0,i=this.gsib(e)[1];return isNaN(i)?/^-*[0-9.]*sqrt\([0-9.]+\)$/gim.test(i)&&(t=this.GetSquareValue(i)):t=parseFloat(i),t},t.crfr=function(e,t){var i=/^-*[0-9.]*frac\((-*[0-9.]+|-*[0-9.]*sqrt\([0-9.]+\)),(-*[0-9.]+|-*[0-9.]*sqrt\([0-9.]+\))\)$/gim;return i.test(e)||i.test(t)},t.crfr2=function(e,t,i){var a=/^-*[0-9.]*frac\((-*[0-9.]+|-*[0-9.]*sqrt\([0-9.]+\)),(-*[0-9.]+|-*[0-9.]*sqrt\([0-9.]+\))\)$/gim;return a.test(e)||a.test(t)||a.test(i)},t.UCLN=function(e,t){for(var i;0!=t;)i=e%t,e=t,t=i;return e},e}(),dgrs=function(){function e(e){this.graph=e,this.svg=glhp.crgs("svg","","graph"),this.svg.setAttribute("width",e.w),this.svg.setAttribute("height",e.h),this.div=document.createElement("div"),this.div.appendChild(this.svg);var t=document.createElement("canvas").getContext("2d");this.ctx=t,this.getPoint=new GetPointCollection,this.getPointAsymtotics=new GetPointAsymtotics,this.setLabelHelper=new SetLabelHelper,this.widthLabelHelper=new WidthLabelHelper,this.labelHelper=new DrawLabelSVG,this.dwgr()}var t=e.prototype;return t.gdcv=function(e){return this.div.style.transformOrigin="0 0",this.div.style.transform="scale("+e+","+e+")",this.div},t.dwgr=function(){this.drcax(),this.dwar(),this.dwnbs(),this.dwxy(),this.dwpzs(),this.dwfgs()},t.drcax=function(){var e=glhp.crgs("g","","coordinates");if(this.graph.fi&&this.graph.str){let t=new RectBackground(this.graph.w,this.graph.h,this.graph.fi,this.graph.str,this.graph.tN,this.graph.cT,this.graph.jT,this.graph.dT,e);e.appendChild(t.getElement())}if(this.graph.oX>0&&this.graph.oX<this.graph.w){var t=new LineGraph(new Point(this.graph.oX,0),new Point(this.graph.oX,this.graph.h),"black",1).getElement();e.appendChild(t)}if(this.graph.oY>0&&this.graph.oY<this.graph.h){var i=new LineGraph(new Point(0,this.graph.oY),new Point(this.graph.w,this.graph.oY),"black",1).getElement();e.appendChild(i)}this.svg.appendChild(e)},t.dwar=function(){var e=glhp.crgs("g","","arrow");if(this.graph.oX>=0&&this.graph.oX<=this.graph.w){var t=new PolylineGraph(this.graph.oX+",0 "+(this.graph.oX-5)+",5 "+(this.graph.oX+5)+",5","black","black",0).getElement();e.appendChild(t)}if(this.graph.oY>=0&&this.graph.oY<=this.graph.h){var i=new PolylineGraph(this.graph.w+","+this.graph.oY+" "+(this.graph.w-5)+","+(this.graph.oY-5)+" "+(this.graph.w-5)+","+(this.graph.oY+5),"black","black",0).getElement();e.appendChild(i)}this.svg.appendChild(e)},t.dwnbs=function(){this.graph.elaS<10||(this.graph.elaS>=10&&this.graph.elaS<13?(this.dwnb(this.graph.elaS,9*this.graph.elaS,9),this.dwgl(9*this.graph.elaS)):this.graph.elaS>=13&&this.graph.elaS<15?(this.dwnb(this.graph.elaS,8.5*this.graph.elaS,8.5),this.dwgl(8.5*this.graph.elaS)):this.graph.elaS>=15&&this.graph.elaS<17?(this.dwnb(this.graph.elaS,8*this.graph.elaS,8),this.dwgl(8*this.graph.elaS)):this.graph.elaS>=17&&this.graph.elaS<20?(this.dwnb(this.graph.elaS,7.5*this.graph.elaS,7.5),this.dwgl(7.5*this.graph.elaS)):this.graph.elaS>=20&&this.graph.elaS<23&&(this.dwnb(this.graph.elaS,7*this.graph.elaS,7),this.dwgl(7*this.graph.elaS)),this.graph.elaS>=23&&this.graph.elaS<25?(this.dwnb(this.graph.elaS,6.5*this.graph.elaS,6.5),this.dwgl(6.5*this.graph.elaS)):this.graph.elaS>=25&&this.graph.elaS<27?(this.dwnb(this.graph.elaS,6*this.graph.elaS,6),this.dwgl(6*this.graph.elaS)):this.graph.elaS>=27&&this.graph.elaS<30?(this.dwnb(this.graph.elaS,5.5*this.graph.elaS,5.5),this.dwgl(5.5*this.graph.elaS)):this.graph.elaS>=30&&this.graph.elaS<32?this.dwnb(this.graph.elaS,5*this.graph.elaS,5):this.graph.elaS>=32&&this.graph.elaS<35?(this.dwnb(this.graph.elaS,4.5*this.graph.elaS,4.5),this.dwgl(4.5*this.graph.elaS)):this.graph.elaS>=35&&this.graph.elaS<37?(this.dwnb(this.graph.elaS,4*this.graph.elaS,4),this.dwgl(4*this.graph.elaS)):this.graph.elaS>=37&&this.graph.elaS<40?(this.dwnb(this.graph.elaS,3.5*this.graph.elaS,3.5),this.dwgl(3.5*this.graph.elaS)):this.graph.elaS>=40&&this.graph.elaS<43?(this.dwnb(this.graph.elaS,3*this.graph.elaS,3),this.dwgl(3*this.graph.elaS)):this.graph.elaS>=43&&this.graph.elaS<45?(this.dwnb(this.graph.elaS,2.5*this.graph.elaS,2.5),this.dwgl(2.5*this.graph.elaS)):this.graph.elaS>=45&&this.graph.elaS<47?(this.dwnb(this.graph.elaS,2*this.graph.elaS,2),this.dwgl(2*this.graph.elaS)):this.graph.elaS>=47&&this.graph.elaS<50?(this.dwnb(this.graph.elaS,1.5*this.graph.elaS,1.5),this.dwgl(1.5*this.graph.elaS)):this.graph.elaS>=50&&this.graph.elaS<100?(this.dwnb(this.graph.elaS,this.graph.elaS,1),this.dwgl(this.graph.elaS)):this.graph.elaS>=100&&this.graph.elaS<200?(this.dwnb(this.graph.elaS,this.graph.elaS/2,.5),this.dwgl(.5*this.graph.elaS)):this.graph.elaS>=200&&this.graph.elaS<400?(this.dwnb(this.graph.elaS,this.graph.elaS/5,.2),this.dwgl(.2*this.graph.elaS)):this.graph.elaS>=400&&this.graph.elaS<1500?(this.dwnb(this.graph.elaS,this.graph.elaS/10,.1),this.dwgl(.1*this.graph.elaS)):this.graph.elaS>=1500&&this.graph.elaS<3500?(this.dwnb(this.graph.elaS,this.graph.elaS/20,.05),this.dwgl(.05*this.graph.elaS)):this.graph.elaS>=3500&&(this.dwnb(this.graph.elaS,this.graph.elaS/40,.025),this.dwgl(.025*this.graph.elaS)))},t.dwnb=function(e,t,i){i=this.setLabelHelper.Round(i,1);for(var a=this.graph.oX-t,r=this.setLabelHelper.Round(i,1),s=glhp.crgs("g","","number");a>0;){if(a-8>0&&a-8<this.graph.w&&this.graph.oY>0&&this.graph.oY<this.graph.h){var n=new TextGraph(-this.setLabelHelper.Round(r,1),new Point(a-8,this.graph.oY+15),"Times New Roman",14,"bold","black").getElement();s.appendChild(n);var l=new CircleGraph(new Point(a,this.graph.oY),1.5,"red","red",1.5).getElement();s.appendChild(l)}r+=i,a-=t}var o=this.graph.oX+t;for(r=this.setLabelHelper.Round(i,1);o<this.graph.w;){if(o-3>0&&o-3<this.graph.w&&this.graph.oY-5>0&&this.graph.oY-5<this.graph.h){n=new TextGraph(this.setLabelHelper.Round(r,1),new Point(o-3,this.graph.oY-5),"Times New Roman",14,"bold","black").getElement();s.appendChild(n);l=new CircleGraph(new Point(o,this.graph.oY),1.5,"red","red",1.5).getElement();s.appendChild(l)}r+=i,o+=t}var h=this.graph.oY-t;for(r=this.setLabelHelper.Round(i,1);h>0;){if(this.graph.oX-12>0&&this.graph.oX-12<this.graph.w&&h+4>0&&h+4<this.graph.h){n=new TextGraph(this.setLabelHelper.Round(r,1),new Point(this.graph.oX-12,h+4),"Times New Roman",14,"bold","black").getElement();s.appendChild(n);l=new CircleGraph(new Point(this.graph.oX,h),1.5,"red","red",1.5).getElement();s.appendChild(l)}r+=i,h-=t}var d=this.graph.oY+t;for(r=this.setLabelHelper.Round(i,1);d<this.graph.h;){if(this.graph.oX+5>0&&this.graph.oX+5<this.graph.w&&d+4>0&&d+4<this.graph.h){n=new TextGraph(-this.setLabelHelper.Round(r,1),new Point(this.graph.oX+5,d+4),"Times New Roman",14,"bold","black").getElement();s.appendChild(n);l=new CircleGraph(new Point(this.graph.oX,d),1.5,"red","red",1.5).getElement();s.appendChild(l)}d+=t,r+=i}this.svg.appendChild(s)},t.dwxy=function(){var e=glhp.crgs("g","","OXY");if(this.graph.oX+5>=0&&this.graph.oX+5<=this.graph.w&&this.graph.oY-5>0&&this.graph.oY-5<=this.graph.h){var t=glhp.crgs("text","","");t.setAttribute("x",this.graph.oX+5),t.setAttribute("y",this.graph.oY-5),t.textContent="O",t.setAttribute("style","font:bold 21px Times New Roman"),e.appendChild(t)}if(this.graph.oY+25>=0&&this.graph.oY<=this.graph.h){var i=glhp.crgs("text","","");i.setAttribute("x",this.graph.w-20),i.setAttribute("y",this.graph.oY+25),i.textContent="x",i.setAttribute("style","font:bold 21px Times New Roman"),e.appendChild(i)}if(this.graph.oX+5>=0&&this.graph.oX+5<=this.graph.w){var a=glhp.crgs("text","","");a.setAttribute("x",this.graph.oX+5),a.setAttribute("y",20),a.textContent="y",a.setAttribute("style","font:bold 21px Times New Roman"),e.appendChild(a)}this.svg.appendChild(e)},t.dwgl=function(e){if(this.graph.vsbL){for(var t=glhp.crgs("g","","gridLine"),i=this.graph.oX-e;i>0;){if(i>0&&i<this.graph.w){var a=new LineGraph(new Point(i,0),new Point(i,this.graph.h),"black",.5).getElement();t.appendChild(a)}i-=e}for(var r=this.graph.oX+e;r<this.graph.w;){if(r>0&&r<this.graph.w){a=new LineGraph(new Point(r,0),new Point(r,this.graph.h),"black",.5).getElement();t.appendChild(a)}r+=e}for(var s=this.graph.oY-e;s>0;){if(s>0&&s<this.graph.h){a=new LineGraph(new Point(0,s),new Point(this.graph.w,s),"black",.5).getElement();t.appendChild(a)}s-=e}for(var n=this.graph.oY+e;n<this.graph.h;){if(n>0&&n<this.graph.h){a=new LineGraph(new Point(0,n),new Point(this.graph.w,n),"black",.5).getElement();t.appendChild(a)}n+=e}this.svg.appendChild(t)}},t.dwpzs=function(){var e=this,t=glhp.crgs("g","","points");this.graph.lstP.forEach((function(i){var a=e.dwpz(i);null!=a&&t.appendChild(a)})),this.svg.appendChild(t)},t.dwpz=function(e){var t=null;if(e.vsB){t=glhp.crgs("g","","");var i=e.ptNa+"("+e.coorX+";"+e.coorY+")";this.ctx.font="bold 14px Times New Roman";var a=this.ctx.measureText(i),r=new RectGraph(new Point(e.coorX*this.graph.elaS+this.graph.oX,this.graph.oY-e.coorY*this.graph.elaS+4),a.width+1,22,"#f5f5dc","black",.2).getElement();t.appendChild(r);var s=new TextGraph(i,new Point(e.coorX*this.graph.elaS+this.graph.oX,this.graph.oY-e.coorY*this.graph.elaS+17),"Times New Roman",14,"bold","black").getElement();if(t.appendChild(s),e.vsbL){var n=this.graph.oY-0*this.graph.elaS;n<0?n=0:n>this.graph.w&&(n=this.graph.w);var l=new LineGraph(new Point(e.coorX*this.graph.elaS+this.graph.oX,this.graph.oY-e.coorY*this.graph.elaS),new Point(e.coorX*this.graph.elaS+this.graph.oX,n),"black",1,"Square","Miter","Dash").getElement();t.appendChild(l);var o=this.graph.oX;o<0?o=0:o>this.graph.h&&(o=this.graph.h);var h=new LineGraph(new Point(e.coorX*this.graph.elaS+this.graph.oX,this.graph.oY-e.coorY*this.graph.elaS),new Point(o,this.graph.oY-e.coorY*this.graph.elaS),"black",1,"Square","Miter","Dash").getElement();t.appendChild(h)}var d=new CircleGraph(new Point(e.coorX*this.graph.elaS+this.graph.oX,this.graph.oY-e.coorY*this.graph.elaS),4,"red","black",.5).getElement();t.appendChild(d)}return t},t.dwfgs=function(){var e=this,t=glhp.crgs("g","","funcGraphs"),i=document.createElement("clipPath");i.setAttribute("id","cut-off");var a=document.createElement("rect");a.setAttribute("x",0),a.setAttribute("y",0),a.setAttribute("width",this.graph.w),a.setAttribute("height",this.graph.h),i.appendChild(a),t.appendChild(i),this.graph.lstG.forEach((function(i){var a=e.dwfg(i);null!=a&&t.appendChild(a)})),this.svg.appendChild(t),this.svg.innerHTML=this.svg.outerHTML},t.dwfg=function(e){var t=null;t=glhp.crgs("g","","");var i=this.getPoint.GetPoint({a:this.labelHelper.gvfs(e.a),b:this.labelHelper.gvfs(e.b),c:this.labelHelper.gvfs(e.c),d:this.labelHelper.gvfs(e.d),e:this.labelHelper.gvfs(e.e),graphType:e.gType,graphLevel:e.gLevel,sign:e.siG,csA:this.labelHelper.gvfs(e.fuBa),add:this.labelHelper.gvfs(e.addi),fact:this.labelHelper.gvfs(e.fact)},this.graph.elaS,{X:this.graph.oX,Y:this.graph.oY},this.graph.w,this.graph.h);i.forEach((function(i){var a="";i.forEach((function(e){isNaN(e.y)||(a+=e.x+","+e.y+" ")}));var r=new PolylineGraph(a,"transparent",e.stR.col,e.thK,e.dT).getElement();r.setAttribute("clip-path","url(#cut-off)"),t.appendChild(r)}));var a=this.getPointAsymtotics.GetFirstAsymtotic(e.gType,e.gLevel,this.labelHelper.gvfs(e.a),this.labelHelper.gvfs(e.b),this.labelHelper.gvfs(e.c),this.labelHelper.gvfs(e.d),this.labelHelper.gvfs(e.e)),r=this.getPointAsymtotics.GetSecondAsymtotic(e.gType,e.gLevel,this.labelHelper.gvfs(e.a),this.labelHelper.gvfs(e.b),this.labelHelper.gvfs(e.c),this.labelHelper.gvfs(e.d),this.labelHelper.gvfs(e.e));if(e.vsbAs){if(null!=a)this.getPointAsymtotics.GetPointCollection(a.coefficientA,a.coefficientB,a.isYZero,this.graph.elaS,{X:this.graph.oX,Y:this.graph.oY},this.graph.w,this.graph.h).forEach((function(i){var a="";i.forEach((function(e){a+=e.x+","+e.y+" "}));var r=new PolylineGraph(a,"transparent",e.stR.col,1).getElement();r.setAttribute("clip-path","url(#cut-off)"),t.appendChild(r)}));if(null!=r)this.getPointAsymtotics.GetPointCollection(r.coefficientA,r.coefficientB,r.isYZero,this.graph.elaS,{X:this.graph.oX,Y:this.graph.oY},this.graph.w,this.graph.h).forEach((function(i){var a="";i.forEach((function(e){a+=e.x+","+e.y+" "}));var r=new PolylineGraph(a,"transparent",e.stR.col,1).getElement();r.setAttribute("clip-path","url(#cut-off)"),t.appendChild(r)}))}var s={left:null,top:null};if(e.iMl)s.left=e.lLa,s.top=e.tLa+20;else{var n=this.widthLabelHelper.GetWidthLabel(this.ctx,5,25,e.a,e.b,e.c,e.d,e.e,e.fuBa,e.addi,e.fact,e.gType,e.gLevel,e.stR.col);s=this.setLabelHelper.SetLabel(i,this.graph.w,this.graph.h,this.graph.oX,this.graph.oY,this.graph.elaS,this.labelHelper.gvfs(e.a),this.labelHelper.gvfs(e.b),e.gType,n)}return null!==s.left&&null!==s.top&&e.vsbLa&&s.left>=0&&s.left<=this.graph.w&&s.top>=0&&s.top<=this.graph.h&&this.labelHelper.dwgrLabel(this.ctx,s.left+5,s.top+15,e.a,e.b,e.c,e.d,e.e,e.fuBa,e.addi,e.fact,e.gType,e.gLevel,e.stR.col,t),t},e.prototype.drawCanvas=async function(e){await this.drcaxCanvas(e),await this.dwarCanvas(e),await this.dwnbsCanvas(e),await this.dwxyCanvas(e),await this.dwpzsCanvas(e),await this.dwfgsCanvas(e)},t.drcaxCanvas=async function(e){var t=glhp.crgs("g","","coordinates");if(this.graph.fi&&this.graph.str){let i=new RectBackground(this.graph.w,this.graph.h,this.graph.fi,this.graph.str,this.graph.tN,this.graph.cT,this.graph.jT,this.graph.dT,t);await i.drawCanvas(e)}if(this.graph.oX>0&&this.graph.oX<this.graph.w){var i=new LineGraph(new Point(this.graph.oX,0),new Point(this.graph.oX,this.graph.h),"black",1);await i.drawCanvas(e)}if(this.graph.oY>0&&this.graph.oY<this.graph.h){var a=new LineGraph(new Point(0,this.graph.oY),new Point(this.graph.w,this.graph.oY),"black",1);await a.drawCanvas(e)}},t.dwarCanvas=async function(e){var t=glhp.crgs("g","","arrow");if(this.graph.oX>=0&&this.graph.oX<=this.graph.w){var i=new PolylineGraph(this.graph.oX+",0 "+(this.graph.oX-5)+",5 "+(this.graph.oX+5)+",5","black","black",0);await i.drawCanvas(e)}if(this.graph.oY>=0&&this.graph.oY<=this.graph.h){var a=new PolylineGraph(this.graph.w+","+this.graph.oY+" "+(this.graph.w-5)+","+(this.graph.oY-5)+" "+(this.graph.w-5)+","+(this.graph.oY+5),"black","black",0);await a.drawCanvas(e)}this.svg.appendChild(t)},t.dwnbsCanvas=async function(e){this.graph.elaS<10||(this.graph.elaS>=10&&this.graph.elaS<13?(await this.dwnbCanvas(this.graph.elaS,9*this.graph.elaS,9,e),await this.dwglCanvas(9*this.graph.elaS,e)):this.graph.elaS>=13&&this.graph.elaS<15?(await this.dwnbCanvas(this.graph.elaS,8.5*this.graph.elaS,8.5,e),await this.dwglCanvas(8.5*this.graph.elaS,e)):this.graph.elaS>=15&&this.graph.elaS<17?(await this.dwnbCanvas(this.graph.elaS,8*this.graph.elaS,8,e),await this.dwglCanvas(8*this.graph.elaS,e)):this.graph.elaS>=17&&this.graph.elaS<20?(await this.dwnbCanvas(this.graph.elaS,7.5*this.graph.elaS,7.5,e),await this.dwglCanvas(7.5*this.graph.elaS,e)):this.graph.elaS>=20&&this.graph.elaS<23&&(await this.dwnbCanvas(this.graph.elaS,7*this.graph.elaS,7,e),await this.dwglCanvas(7*this.graph.elaS,e)),this.graph.elaS>=23&&this.graph.elaS<25?(await this.dwnbCanvas(this.graph.elaS,6.5*this.graph.elaS,6.5,e),await this.dwglCanvas(6.5*this.graph.elaS,e)):this.graph.elaS>=25&&this.graph.elaS<27?(await this.dwnbCanvas(this.graph.elaS,6*this.graph.elaS,6,e),await this.dwglCanvas(6*this.graph.elaS,e)):this.graph.elaS>=27&&this.graph.elaS<30?(await this.dwnbCanvas(this.graph.elaS,5.5*this.graph.elaS,5.5,e),await this.dwglCanvas(5.5*this.graph.elaS,e)):this.graph.elaS>=30&&this.graph.elaS<32?await this.dwnbCanvas(this.graph.elaS,5*this.graph.elaS,5,e):this.graph.elaS>=32&&this.graph.elaS<35?(await this.dwnbCanvas(this.graph.elaS,4.5*this.graph.elaS,4.5,e),await this.dwglCanvas(4.5*this.graph.elaS,e)):this.graph.elaS>=35&&this.graph.elaS<37?(await this.dwnbCanvas(this.graph.elaS,4*this.graph.elaS,4,e),await this.dwglCanvas(4*this.graph.elaS,e)):this.graph.elaS>=37&&this.graph.elaS<40?(await this.dwnbCanvas(this.graph.elaS,3.5*this.graph.elaS,3.5,e),await this.dwglCanvas(3.5*this.graph.elaS,e)):this.graph.elaS>=40&&this.graph.elaS<43?(await this.dwnbCanvas(this.graph.elaS,3*this.graph.elaS,3,e),await this.dwglCanvas(3*this.graph.elaS,e)):this.graph.elaS>=43&&this.graph.elaS<45?(await this.dwnbCanvas(this.graph.elaS,2.5*this.graph.elaS,2.5,e),await this.dwglCanvas(2.5*this.graph.elaS,e)):this.graph.elaS>=45&&this.graph.elaS<47?(await this.dwnbCanvas(this.graph.elaS,2*this.graph.elaS,2,e),await this.dwglCanvas(2*this.graph.elaS,e)):this.graph.elaS>=47&&this.graph.elaS<50?(await this.dwnbCanvas(this.graph.elaS,1.5*this.graph.elaS,1.5,e),await this.dwglCanvas(1.5*this.graph.elaS,e)):this.graph.elaS>=50&&this.graph.elaS<100?(await this.dwnbCanvas(this.graph.elaS,this.graph.elaS,1,e),await this.dwglCanvas(this.graph.elaS,e)):this.graph.elaS>=100&&this.graph.elaS<200?(await this.dwnbCanvas(this.graph.elaS,this.graph.elaS/2,.5,e),await this.dwglCanvas(.5*this.graph.elaS,e)):this.graph.elaS>=200&&this.graph.elaS<400?(await this.dwnbCanvas(this.graph.elaS,this.graph.elaS/5,.2,e),await this.dwglCanvas(.2*this.graph.elaS,e)):this.graph.elaS>=400&&this.graph.elaS<1500?(await this.dwnbCanvas(this.graph.elaS,this.graph.elaS/10,.1,e),await this.dwglCanvas(.1*this.graph.elaS,e)):this.graph.elaS>=1500&&this.graph.elaS<3500?(await this.dwnbCanvas(this.graph.elaS,this.graph.elaS/20,.05,e),await this.dwglCanvas(.05*this.graph.elaS,e)):this.graph.elaS>=3500&&(await this.dwnbCanvas(this.graph.elaS,this.graph.elaS/40,.025,e),await this.dwglCanvas(.025*this.graph.elaS,e)))},t.dwnbCanvas=async function(e,t,i,a){i=this.setLabelHelper.Round(i,1);var r=this.graph.oX-t,s=this.setLabelHelper.Round(i,1);for(glhp.crgs("g","","number");r>0;){if(r-8>0&&r-8<this.graph.w&&this.graph.oY>0&&this.graph.oY<this.graph.h){var n=new TextGraph(-this.setLabelHelper.Round(s,1),new Point(r-8,this.graph.oY+15),"Times New Roman",14,"bold","black");await n.drawCanvas(a);var l=new CircleGraph(new Point(r,this.graph.oY),1.5,"red","red",1.5);await l.drawCanvas(a)}s+=i,r-=t}var o=this.graph.oX+t;for(s=this.setLabelHelper.Round(i,1);o<this.graph.w;){if(o-3>0&&o-3<this.graph.w&&this.graph.oY-5>0&&this.graph.oY-5<this.graph.h){n=new TextGraph(this.setLabelHelper.Round(s,1),new Point(o-3,this.graph.oY-5),"Times New Roman",14,"bold","black");await n.drawCanvas(a),(l=new CircleGraph(new Point(o,this.graph.oY),1.5,"red","red",1.5)).drawCanvas(a)}s+=i,o+=t}var h=this.graph.oY-t;for(s=this.setLabelHelper.Round(i,1);h>0;){if(this.graph.oX-12>0&&this.graph.oX-12<this.graph.w&&h+4>0&&h+4<this.graph.h){n=new TextGraph(this.setLabelHelper.Round(s,1),new Point(this.graph.oX-12,h+4),"Times New Roman",14,"bold","black");await n.drawCanvas(a),(l=new CircleGraph(new Point(this.graph.oX,h),1.5,"red","red",1.5)).drawCanvas(a)}s+=i,h-=t}var d=this.graph.oY+t;for(s=this.setLabelHelper.Round(i,1);d<this.graph.h;){if(this.graph.oX+5>0&&this.graph.oX+5<this.graph.w&&d+4>0&&d+4<this.graph.h){(n=new TextGraph(-this.setLabelHelper.Round(s,1),new Point(this.graph.oX+5,d+4),"Times New Roman",14,"bold","black")).drawCanvas(a);l=new CircleGraph(new Point(this.graph.oX,d),1.5,"red","red",1.5);await l.drawCanvas(a)}d+=t,s+=i}},t.dwglCanvas=async function(e,t){if(this.graph.vsbL){for(var i=this.graph.oX-e;i>0;){if(i>0&&i<this.graph.w){var a=new LineGraph(new Point(i,0),new Point(i,this.graph.h),"black",.5);await a.drawCanvas(t)}i-=e}for(var r=this.graph.oX+e;r<this.graph.w;){if(r>0&&r<this.graph.w){a=new LineGraph(new Point(r,0),new Point(r,this.graph.h),"black",.5);await a.drawCanvas(t)}r+=e}for(var s=this.graph.oY-e;s>0;){if(s>0&&s<this.graph.h){a=new LineGraph(new Point(0,s),new Point(this.graph.w,s),"black",.5);await a.drawCanvas(t)}s-=e}for(var n=this.graph.oY+e;n<this.graph.h;){if(n>0&&n<this.graph.h){a=new LineGraph(new Point(0,n),new Point(this.graph.w,n),"black",.5);await a.drawCanvas(t)}n+=e}}},t.dwxyCanvas=async function(e){this.graph.oX+5>=0&&this.graph.oX+5<=this.graph.w&&this.graph.oY-5>0&&this.graph.oY-5<=this.graph.h&&(e.save(),e.font="bold 21px Times New Roman",e.fillText("O",this.graph.oX+5,this.graph.oY-5),e.restore()),this.graph.oY+25>=0&&this.graph.oY<=this.graph.h&&(e.save(),e.font="bold 21px Times New Roman",e.fillText("x",this.graph.w-20,this.graph.oY+25),e.restore()),this.graph.oX+5>=0&&this.graph.oX+5<=this.graph.w&&(e.save(),e.font="bold 21px Times New Roman",e.fillText("y",this.graph.oX+5,20),e.restore())},t.dwpzsCanvas=async function(e){var t=this;this.graph.lstP.forEach((async function(i){await t.dwpzCanvas(i,e)}))},t.dwpzCanvas=async function(e,t){var i=null;if(e.vsB){i=glhp.crgs("g","","");var a=e.ptNa+"("+e.coorX+";"+e.coorY+")";this.ctx.font="bold 14px Times New Roman";var r=this.ctx.measureText(a),s=new RectGraph(new Point(e.coorX*this.graph.elaS+this.graph.oX,this.graph.oY-e.coorY*this.graph.elaS+4),r.width+1,22,"#f5f5dc","black",.2);await s.drawCanvas(t);var n=new TextGraph(a,new Point(e.coorX*this.graph.elaS+this.graph.oX,this.graph.oY-e.coorY*this.graph.elaS+17),"Times New Roman",14,"bold","black");if(await n.drawCanvas(t),e.vsbL){var l=this.graph.oY-0*this.graph.elaS;l<0?l=0:l>this.graph.w&&(l=this.graph.w);var o=new LineGraph(new Point(e.coorX*this.graph.elaS+this.graph.oX,this.graph.oY-e.coorY*this.graph.elaS),new Point(e.coorX*this.graph.elaS+this.graph.oX,l),"black",1,"Square","Miter","Dash");await o.drawCanvas(t);var h=this.graph.oX;h<0?h=0:h>this.graph.h&&(h=this.graph.h),new LineGraph(new Point(e.coorX*this.graph.elaS+this.graph.oX,this.graph.oY-e.coorY*this.graph.elaS),new Point(h,this.graph.oY-e.coorY*this.graph.elaS),"black",1,"Square","Miter","Dash").drawCanvas(t)}new CircleGraph(new Point(e.coorX*this.graph.elaS+this.graph.oX,this.graph.oY-e.coorY*this.graph.elaS),4,"red","black",.5).drawCanvas(t)}return i},t.dwfgsCanvas=async function(e){var t=this;e.save(),e.strokeStyle="black",e.rect(0,0,this.graph.w,this.graph.h),e.stroke(),e.restore(),this.graph.lstG.forEach((async function(i){await t.dwfgCanvas(i,e)}))},t.dwfgCanvas=async function(e,t){var i;t.save(),i=glhp.crgs("g","","");var a=this.getPoint.GetPoint({a:this.labelHelper.gvfs(e.a),b:this.labelHelper.gvfs(e.b),c:this.labelHelper.gvfs(e.c),d:this.labelHelper.gvfs(e.d),e:this.labelHelper.gvfs(e.e),graphType:e.gType,graphLevel:e.gLevel,sign:e.siG,csA:this.labelHelper.gvfs(e.fuBa),add:this.labelHelper.gvfs(e.addi),fact:this.labelHelper.gvfs(e.fact)},this.graph.elaS,{X:this.graph.oX,Y:this.graph.oY},this.graph.w,this.graph.h);a.forEach((async function(i){var a="";i.forEach((function(e){a+=e.x+","+e.y+" "}));var r=new PolylineGraph(a,"transparent",e.stR.col,e.thK,e.dT);await r.drawCanvas(t)}));var r=this.getPointAsymtotics.GetFirstAsymtotic(e.gType,e.gLevel,this.labelHelper.gvfs(e.a),this.labelHelper.gvfs(e.b),this.labelHelper.gvfs(e.c),this.labelHelper.gvfs(e.d),this.labelHelper.gvfs(e.e)),s=this.getPointAsymtotics.GetSecondAsymtotic(e.gType,e.gLevel,this.labelHelper.gvfs(e.a),this.labelHelper.gvfs(e.b),this.labelHelper.gvfs(e.c),this.labelHelper.gvfs(e.d),this.labelHelper.gvfs(e.e));if(e.vsbAs){if(null!=r)this.getPointAsymtotics.GetPointCollection(r.coefficientA,r.coefficientB,r.isYZero,this.graph.elaS,{X:this.graph.oX,Y:this.graph.oY},this.graph.w,this.graph.h).forEach((async function(i){var a="";i.forEach((function(e){a+=e.x+","+e.y+" "}));var r=new PolylineGraph(a,"transparent",e.stR.col,1);await r.drawCanvas(t)}));if(null!=s)this.getPointAsymtotics.GetPointCollection(s.coefficientA,s.coefficientB,s.isYZero,this.graph.elaS,{X:this.graph.oX,Y:this.graph.oY},this.graph.w,this.graph.h).forEach((async function(i){var a="";i.forEach((function(e){a+=e.x+","+e.y+" "}));var r=new PolylineGraph(a,"transparent",e.stR.col,1);await r.drawCanvas(t)}))}var n={left:null,top:null};if(e.iMl)n.left=e.lLa,n.top=e.tLa+20;else{var l=this.widthLabelHelper.GetWidthLabel(t,5,25,e.a,e.b,e.c,e.d,e.e,e.fuBa,e.addi,e.fact,e.gType,e.gLevel,e.stR.col);n=this.setLabelHelper.SetLabel(a,this.graph.w,this.graph.h,this.graph.oX,this.graph.oY,this.graph.elaS,this.labelHelper.gvfs(e.a),this.labelHelper.gvfs(e.b),e.gType,l)}null!==n.left&&null!==n.top&&e.vsbLa&&n.left>=0&&n.left<=this.graph.w&&n.top>=0&&n.top<=this.graph.h&&await this.labelHelper.dwgrLabelCanvas(t,n.left+5,n.top+15,e.a,e.b,e.c,e.d,e.e,e.fuBa,e.addi,e.fact,e.gType,e.gLevel,e.stR.col,i),t.restore()},e}(),DrawMathGeometrySVG=function(){function e(e){this.mathGeometry=e,this.svg=glhp.crgs("svg","","mathGeometry"),this.svg.setAttribute("width",e.w),this.svg.setAttribute("height",e.h),this.div=document.createElement("div"),this.svg.setAttribute("style","overflow: hidden;"),this.div.appendChild(this.svg);var t=document.createElement("canvas").getContext("2d");this.ctx=t,this.getPoint=new GetPointCollection,this.getPointAsymtotics=new GetPointAsymtotics,this.setLabelHelper=new SetLabelHelper,this.widthLabelHelper=new WidthLabelHelper,this.labelHelper=new DrawLabelSVG,this.DrawMathGeometry()}var t=e.prototype;return t.gdcv=function(e){return this.div.style.transformOrigin="0 0",this.div.style.transform="scale("+e+","+e+")",this.div},t.DrawMathGeometry=function(){var e=glhp.crgs("g","","coordinates");if(this.mathGeometry.fi&&this.mathGeometry.str){let t=new RectMathBackground(this.mathGeometry.w,this.mathGeometry.h,this.mathGeometry.fi,this.mathGeometry.str,this.mathGeometry.tN,this.mathGeometry.cT,this.mathGeometry.jT,this.mathGeometry.dT,e);e.appendChild(t.getElement())}this.svg.appendChild(e),this.mathGeometry.vscA&&(this.drcax(),this.dwar(),this.dwnbs(),this.dwxy()),this.mathGeometry.vsbL&&this.dwgls(),this.DrawPolygons(),this.DrawCircles(),this.DrawLines(),this.DrawPerpendiculars(),this.DrawEllipses(),this.DrawAngles(),this.DrawTexts(),this.dwpzs()},t.drcax=function(){var e=glhp.crgs("g","","coordinates");if(this.mathGeometry.fi&&this.mathGeometry.str){let t=new RectMathBackground(this.mathGeometry.w,this.mathGeometry.h,this.mathGeometry.fi,this.mathGeometry.str,this.mathGeometry.tN,this.mathGeometry.cT,this.mathGeometry.jT,this.mathGeometry.dT,e);e.appendChild(t.getElement())}if(this.mathGeometry.oX>0&&this.mathGeometry.oX<this.mathGeometry.w){var t=new LineMathGeometry(new Point(this.mathGeometry.oX,0),new Point(this.mathGeometry.oX,this.mathGeometry.h),"black",1).getElement();e.appendChild(t)}if(this.mathGeometry.oY>0&&this.mathGeometry.oY<this.mathGeometry.h){var i=new LineMathGeometry(new Point(0,this.mathGeometry.oY),new Point(this.mathGeometry.w,this.mathGeometry.oY),"black",1).getElement();e.appendChild(i)}this.svg.appendChild(e)},t.dwar=function(){var e=glhp.crgs("g","","arrow");if(this.mathGeometry.oX>=0&&this.mathGeometry.oX<=this.mathGeometry.w){var t=new PolylineMathGeometry(this.mathGeometry.oX+",0 "+(this.mathGeometry.oX-5)+",5 "+(this.mathGeometry.oX+5)+",5","black","black",0).getElement();e.appendChild(t)}if(this.mathGeometry.oY>=0&&this.mathGeometry.oY<=this.mathGeometry.h){var i=new PolylineMathGeometry(this.mathGeometry.w+","+this.mathGeometry.oY+" "+(this.mathGeometry.w-5)+","+(this.mathGeometry.oY-5)+" "+(this.mathGeometry.w-5)+","+(this.mathGeometry.oY+5),"black","black",0).getElement();e.appendChild(i)}this.svg.appendChild(e)},t.dwnbs=function(){this.mathGeometry.elaS<10||(this.mathGeometry.elaS>=10&&this.mathGeometry.elaS<13?(this.dwnb(this.mathGeometry.elaS,9*this.mathGeometry.elaS,9),this.dwgl(9*this.mathGeometry.elaS)):this.mathGeometry.elaS>=13&&this.mathGeometry.elaS<15?(this.dwnb(this.mathGeometry.elaS,8.5*this.mathGeometry.elaS,8.5),this.dwgl(8.5*this.mathGeometry.elaS)):this.mathGeometry.elaS>=15&&this.mathGeometry.elaS<17?(this.dwnb(this.mathGeometry.elaS,8*this.mathGeometry.elaS,8),this.dwgl(8*this.mathGeometry.elaS)):this.mathGeometry.elaS>=17&&this.mathGeometry.elaS<20?(this.dwnb(this.mathGeometry.elaS,7.5*this.mathGeometry.elaS,7.5),this.dwgl(7.5*this.mathGeometry.elaS)):this.mathGeometry.elaS>=20&&this.mathGeometry.elaS<23&&(this.dwnb(this.mathGeometry.elaS,7*this.mathGeometry.elaS,7),this.dwgl(7*this.mathGeometry.elaS)),this.mathGeometry.elaS>=23&&this.mathGeometry.elaS<25?(this.dwnb(this.mathGeometry.elaS,6.5*this.mathGeometry.elaS,6.5),this.dwgl(6.5*this.mathGeometry.elaS)):this.mathGeometry.elaS>=25&&this.mathGeometry.elaS<27?(this.dwnb(this.mathGeometry.elaS,6*this.mathGeometry.elaS,6),this.dwgl(6*this.mathGeometry.elaS)):this.mathGeometry.elaS>=27&&this.mathGeometry.elaS<30?(this.dwnb(this.mathGeometry.elaS,5.5*this.mathGeometry.elaS,5.5),this.dwgl(5.5*this.mathGeometry.elaS)):this.mathGeometry.elaS>=30&&this.mathGeometry.elaS<32?this.dwnb(this.mathGeometry.elaS,5*this.mathGeometry.elaS,5):this.mathGeometry.elaS>=32&&this.mathGeometry.elaS<35?(this.dwnb(this.mathGeometry.elaS,4.5*this.mathGeometry.elaS,4.5),this.dwgl(4.5*this.mathGeometry.elaS)):this.mathGeometry.elaS>=35&&this.mathGeometry.elaS<37?(this.dwnb(this.mathGeometry.elaS,4*this.mathGeometry.elaS,4),this.dwgl(4*this.mathGeometry.elaS)):this.mathGeometry.elaS>=37&&this.mathGeometry.elaS<40?(this.dwnb(this.mathGeometry.elaS,3.5*this.mathGeometry.elaS,3.5),this.dwgl(3.5*this.mathGeometry.elaS)):this.mathGeometry.elaS>=40&&this.mathGeometry.elaS<43?(this.dwnb(this.mathGeometry.elaS,3*this.mathGeometry.elaS,3),this.dwgl(3*this.mathGeometry.elaS)):this.mathGeometry.elaS>=43&&this.mathGeometry.elaS<45?(this.dwnb(this.mathGeometry.elaS,2.5*this.mathGeometry.elaS,2.5),this.dwgl(2.5*this.mathGeometry.elaS)):this.mathGeometry.elaS>=45&&this.mathGeometry.elaS<47?(this.dwnb(this.mathGeometry.elaS,2*this.mathGeometry.elaS,2),this.dwgl(2*this.mathGeometry.elaS)):this.mathGeometry.elaS>=47&&this.mathGeometry.elaS<50?(this.dwnb(this.mathGeometry.elaS,1.5*this.mathGeometry.elaS,1.5),this.dwgl(1.5*this.mathGeometry.elaS)):this.mathGeometry.elaS>=50&&this.mathGeometry.elaS<100?(this.dwnb(this.mathGeometry.elaS,this.mathGeometry.elaS,1),this.dwgl(this.mathGeometry.elaS)):this.mathGeometry.elaS>=100&&this.mathGeometry.elaS<200?(this.dwnb(this.mathGeometry.elaS,this.mathGeometry.elaS/2,.5),this.dwgl(.5*this.mathGeometry.elaS)):this.mathGeometry.elaS>=200&&this.mathGeometry.elaS<400?(this.dwnb(this.mathGeometry.elaS,this.mathGeometry.elaS/5,.2),this.dwgl(.2*this.mathGeometry.elaS)):this.mathGeometry.elaS>=400&&this.mathGeometry.elaS<1500?(this.dwnb(this.mathGeometry.elaS,this.mathGeometry.elaS/10,.1),this.dwgl(.1*this.mathGeometry.elaS)):this.mathGeometry.elaS>=1500&&this.mathGeometry.elaS<3500?(this.dwnb(this.mathGeometry.elaS,this.mathGeometry.elaS/20,.05),this.dwgl(.05*this.mathGeometry.elaS)):this.mathGeometry.elaS>=3500&&(this.dwnb(this.mathGeometry.elaS,this.mathGeometry.elaS/40,.025),this.dwgl(.025*this.mathGeometry.elaS)))},t.dwnb=function(e,t,i){i=this.setLabelHelper.Round(i,1);for(var a=this.mathGeometry.oX-t,r=this.setLabelHelper.Round(i,1),s=glhp.crgs("g","","number");a>0;){if(a-8>0&&a-8<this.mathGeometry.w&&this.mathGeometry.oY>0&&this.mathGeometry.oY<this.mathGeometry.h){var n=new TextMathGeometry(-this.setLabelHelper.Round(r,1),new Point(a-8,this.mathGeometry.oY+15),"Times New Roman",14,"bold","black").getElement();s.appendChild(n);var l=new CircleMathGeometry(new Point(a,this.mathGeometry.oY),1.5,"red","red",1.5).getElement();s.appendChild(l)}r+=i,a-=t}var o=this.mathGeometry.oX+t;for(r=this.setLabelHelper.Round(i,1);o<this.mathGeometry.w;){if(o-3>0&&o-3<this.mathGeometry.w&&this.mathGeometry.oY-5>0&&this.mathGeometry.oY-5<this.mathGeometry.h){n=new TextMathGeometry(this.setLabelHelper.Round(r,1),new Point(o-3,this.mathGeometry.oY-5),"Times New Roman",14,"bold","black").getElement();s.appendChild(n);l=new CircleMathGeometry(new Point(o,this.mathGeometry.oY),1.5,"red","red",1.5).getElement();s.appendChild(l)}r+=i,o+=t}var h=this.mathGeometry.oY-t;for(r=this.setLabelHelper.Round(i,1);h>0;){if(this.mathGeometry.oX-12>0&&this.mathGeometry.oX-12<this.mathGeometry.w&&h+4>0&&h+4<this.mathGeometry.h){n=new TextMathGeometry(this.setLabelHelper.Round(r,1),new Point(this.mathGeometry.oX-12,h+4),"Times New Roman",14,"bold","black").getElement();s.appendChild(n);l=new CircleMathGeometry(new Point(this.mathGeometry.oX,h),1.5,"red","red",1.5).getElement();s.appendChild(l)}r+=i,h-=t}var d=this.mathGeometry.oY+t;for(r=this.setLabelHelper.Round(i,1);d<this.mathGeometry.h;){if(this.mathGeometry.oX+5>0&&this.mathGeometry.oX+5<this.mathGeometry.w&&d+4>0&&d+4<this.mathGeometry.h){n=new TextMathGeometry(-this.setLabelHelper.Round(r,1),new Point(this.mathGeometry.oX+5,d+4),"Times New Roman",14,"bold","black").getElement();s.appendChild(n);l=new CircleMathGeometry(new Point(this.mathGeometry.oX,d),1.5,"red","red",1.5).getElement();s.appendChild(l)}d+=t,r+=i}this.svg.appendChild(s)},t.dwgls=function(){var e=glhp.crgs("g","","coordinates");if(this.mathGeometry.oX>0&&this.mathGeometry.oX<this.mathGeometry.w){var t=new LineMathGeometry(new Point(this.mathGeometry.oX,0),new Point(this.mathGeometry.oX,this.mathGeometry.h),"rgba(0, 0, 0, 0.5)",.5).getElement();e.appendChild(t)}if(this.mathGeometry.oY>0&&this.mathGeometry.oY<this.mathGeometry.h){var i=new LineMathGeometry(new Point(0,this.mathGeometry.oY),new Point(this.mathGeometry.w,this.mathGeometry.oY),"rgba(0, 0, 0, 0.5)",.5).getElement();e.appendChild(i)}this.svg.appendChild(e),this.mathGeometry.elaS<10||(this.mathGeometry.elaS>=10&&this.mathGeometry.elaS<13?this.dwgl(9*this.mathGeometry.elaS):this.mathGeometry.elaS>=13&&this.mathGeometry.elaS<15?this.dwgl(8.5*this.mathGeometry.elaS):this.mathGeometry.elaS>=15&&this.mathGeometry.elaS<17?this.dwgl(8*this.mathGeometry.elaS):this.mathGeometry.elaS>=17&&this.mathGeometry.elaS<20?this.dwgl(7.5*this.mathGeometry.elaS):this.mathGeometry.elaS>=20&&this.mathGeometry.elaS<23&&this.dwgl(7*this.mathGeometry.elaS),this.mathGeometry.elaS>=23&&this.mathGeometry.elaS<25?this.dwgl(6.5*this.mathGeometry.elaS):this.mathGeometry.elaS>=25&&this.mathGeometry.elaS<27?this.dwgl(6*this.mathGeometry.elaS):this.mathGeometry.elaS>=27&&this.mathGeometry.elaS<30?this.dwgl(5.5*this.mathGeometry.elaS):this.mathGeometry.elaS>=30&&this.mathGeometry.elaS<32||(this.mathGeometry.elaS>=32&&this.mathGeometry.elaS<35?this.dwgl(4.5*this.mathGeometry.elaS):this.mathGeometry.elaS>=35&&this.mathGeometry.elaS<37?this.dwgl(4*this.mathGeometry.elaS):this.mathGeometry.elaS>=37&&this.mathGeometry.elaS<40?this.dwgl(3.5*this.mathGeometry.elaS):this.mathGeometry.elaS>=40&&this.mathGeometry.elaS<43?this.dwgl(3*this.mathGeometry.elaS):this.mathGeometry.elaS>=43&&this.mathGeometry.elaS<45?this.dwgl(2.5*this.mathGeometry.elaS):this.mathGeometry.elaS>=45&&this.mathGeometry.elaS<47?this.dwgl(2*this.mathGeometry.elaS):this.mathGeometry.elaS>=47&&this.mathGeometry.elaS<50?this.dwgl(1.5*this.mathGeometry.elaS):this.mathGeometry.elaS>=50&&this.mathGeometry.elaS<100?this.dwgl(this.mathGeometry.elaS):this.mathGeometry.elaS>=100&&this.mathGeometry.elaS<200?this.dwgl(.5*this.mathGeometry.elaS):this.mathGeometry.elaS>=200&&this.mathGeometry.elaS<400?this.dwgl(.2*this.mathGeometry.elaS):this.mathGeometry.elaS>=400&&this.mathGeometry.elaS<1500?this.dwgl(.1*this.mathGeometry.elaS):this.mathGeometry.elaS>=1500&&this.mathGeometry.elaS<3500?this.dwgl(.05*this.mathGeometry.elaS):this.mathGeometry.elaS>=3500&&this.dwgl(.025*this.mathGeometry.elaS)))},t.dwxy=function(){var e=glhp.crgs("g","","OXY");if(this.mathGeometry.oX+5>=0&&this.mathGeometry.oX+5<=this.mathGeometry.w&&this.mathGeometry.oY-5>0&&this.mathGeometry.oY-5<=this.mathGeometry.h){var t=glhp.crgs("text","","");t.setAttribute("x",this.mathGeometry.oX+5),t.setAttribute("y",this.mathGeometry.oY-5),t.textContent="O",t.setAttribute("style","font:bold 21px Times New Roman"),e.appendChild(t)}if(this.mathGeometry.oY+25>=0&&this.mathGeometry.oY<=this.mathGeometry.h){var i=glhp.crgs("text","","");i.setAttribute("x",this.mathGeometry.w-20),i.setAttribute("y",this.mathGeometry.oY+25),i.textContent="x",i.setAttribute("style","font:bold 21px Times New Roman"),e.appendChild(i)}if(this.mathGeometry.oX+5>=0&&this.mathGeometry.oX+5<=this.mathGeometry.w){var a=glhp.crgs("text","","");a.setAttribute("x",this.mathGeometry.oX+5),a.setAttribute("y",20),a.textContent="y",a.setAttribute("style","font:bold 21px Times New Roman"),e.appendChild(a)}this.svg.appendChild(e)},t.dwgl=function(e){if(this.mathGeometry.vsbL){for(var t=glhp.crgs("g","","gridLine"),i=this.mathGeometry.oX-e;i>0;){if(i>0&&i<this.mathGeometry.w){var a=new LineMathGeometry(new Point(i,0),new Point(i,this.mathGeometry.h),"rgba(0, 0, 0, 0.3)",.5).getElement();t.appendChild(a)}i-=e}for(var r=this.mathGeometry.oX+e;r<this.mathGeometry.w;){if(r>0&&r<this.mathGeometry.w){a=new LineMathGeometry(new Point(r,0),new Point(r,this.mathGeometry.h),"rgba(0, 0, 0, 0.3)",.5).getElement();t.appendChild(a)}r+=e}for(var s=this.mathGeometry.oY-e;s>0;){if(s>0&&s<this.mathGeometry.h){a=new LineMathGeometry(new Point(0,s),new Point(this.mathGeometry.w,s),"rgba(0, 0, 0, 0.3)",.5).getElement();t.appendChild(a)}s-=e}for(var n=this.mathGeometry.oY+e;n<this.mathGeometry.h;){if(n>0&&n<this.mathGeometry.h){a=new LineMathGeometry(new Point(0,n),new Point(this.mathGeometry.w,n),"rgba(0, 0, 0, 0.3)",.5).getElement();t.appendChild(a)}n+=e}this.svg.appendChild(t)}if(this.mathGeometry.vsbL){var l=e/5;for(t=glhp.crgs("g","","gridLineMini"),i=this.mathGeometry.oX-l;i>0;){if(i>0&&i<this.mathGeometry.w){a=new LineMathGeometry(new Point(i,0),new Point(i,this.mathGeometry.h),"rgba(0, 0, 0, 0.1)",.5).getElement();t.appendChild(a)}i-=l}for(r=this.mathGeometry.oX+l;r<this.mathGeometry.w;){if(r>0&&r<this.mathGeometry.w){a=new LineMathGeometry(new Point(r,0),new Point(r,this.mathGeometry.h),"rgba(0, 0, 0, 0.1)",.5).getElement();t.appendChild(a)}r+=l}for(s=this.mathGeometry.oY-l;s>0;){if(s>0&&s<this.mathGeometry.h){a=new LineMathGeometry(new Point(0,s),new Point(this.mathGeometry.w,s),"rgba(0, 0, 0, 0.1)",.5).getElement();t.appendChild(a)}s-=l}for(n=this.mathGeometry.oY+l;n<this.mathGeometry.h;){if(n>0&&n<this.mathGeometry.h){a=new LineMathGeometry(new Point(0,n),new Point(this.mathGeometry.w,n),"rgba(0, 0, 0, 0.1)",.5).getElement();t.appendChild(a)}n+=l}this.svg.appendChild(t)}},t.dwpzs=function(){var e=this,t=glhp.crgs("g","","points"),i=document.createElement("clipPath");i.setAttribute("id","cut-off");var a=document.createElement("rect");a.setAttribute("x",0),a.setAttribute("y",0),a.setAttribute("width",this.mathGeometry.w),a.setAttribute("height",this.mathGeometry.h),i.appendChild(a),t.appendChild(i),this.mathGeometry.lstP.forEach((function(i){var a=e.dwpz(i);null!=a&&t.appendChild(a)})),this.svg.appendChild(t)},t.dwpz=function(e){var t=null;if(e.vsB){t=glhp.crgs("g","","");var i,a=e.ptNa;if(e.poS)switch(e.poS){case"BottomType":i=new Point(e.coorX*this.mathGeometry.elaS+this.mathGeometry.oX-4,this.mathGeometry.oY-e.coorY*this.mathGeometry.elaS+18);break;case"TopType":i=new Point(e.coorX*this.mathGeometry.elaS+this.mathGeometry.oX-4,this.mathGeometry.oY-e.coorY*this.mathGeometry.elaS-10);break;case"LeftType":i=new Point(e.coorX*this.mathGeometry.elaS+this.mathGeometry.oX-18,this.mathGeometry.oY-e.coorY*this.mathGeometry.elaS+4);break;case"RightType":default:i=new Point(e.coorX*this.mathGeometry.elaS+this.mathGeometry.oX+7,this.mathGeometry.oY-e.coorY*this.mathGeometry.elaS+4)}this.ctx.font="bold 14px Times New Roman";var r=new TextMathGeometry(a,i,"Times New Roman",14,"bold","black").getElement();r.setAttribute("clip-path","url(#cut-off)"),t.appendChild(r);var s=e.prM?"#ADD8E6":"#1E90FF";e.prMr&&(s="black");var n=new CircleMathGeometry(new Point(e.coorX*this.mathGeometry.elaS+this.mathGeometry.oX,this.mathGeometry.oY-e.coorY*this.mathGeometry.elaS),3,e.isCe?"black":s,"black",.5).getElement();n.setAttribute("clip-path","url(#cut-off)"),t.appendChild(n)}return t},t.DrawTexts=function(){var e=this,t=glhp.crgs("g","","texts"),i=document.createElement("clipPath");i.setAttribute("id","cut-off");var a=document.createElement("rect");a.setAttribute("x",0),a.setAttribute("y",0),a.setAttribute("width",this.mathGeometry.w),a.setAttribute("height",this.mathGeometry.h),i.appendChild(a),t.appendChild(i),this.mathGeometry.lstT.forEach((function(i){var a=e.DrawText(i);null!=a&&t.appendChild(a)})),this.svg.appendChild(t)},t.DrawText=function(e){var t=null;if(e.vsB){t=glhp.crgs("g","","");var i=e.tCo;this.ctx.font="bold 14px Times New Roman",(e=new TextMathGeometry(i,new Point(e.coorX*this.mathGeometry.elaS+this.mathGeometry.oX+7,this.mathGeometry.oY-e.coorY*this.mathGeometry.elaS),"Times New Roman",14,"bold","black").getElement()).setAttribute("clip-path","url(#cut-off)"),t.appendChild(e)}return t},t.DrawCircles=function(){var e=this,t=glhp.crgs("g","","circles"),i=document.createElement("clipPath");i.setAttribute("id","cut-off");var a=document.createElement("rect");a.setAttribute("x",0),a.setAttribute("y",0),a.setAttribute("width",this.mathGeometry.w),a.setAttribute("height",this.mathGeometry.h),i.appendChild(a),t.appendChild(i),this.mathGeometry.lstG.forEach((function(i){var a=e.DrawCircle(i);null!=a&&t.appendChild(a)})),this.svg.appendChild(t)},t.DrawCircle=function(e){var t=null;if(e){t=glhp.crgs("g","","");var i=e.thK,a=e.dT;if(this.ctx.font="bold 14px Times New Roman",e.isThreePoint&&e.lstPoint&&e.lstPoint.length>2){var r=new Point(e.lstPoint[0].coorX*this.mathGeometry.elaS+this.mathGeometry.oX,this.mathGeometry.oY-e.lstPoint[0].coorY*this.mathGeometry.elaS),s=new Point(e.lstPoint[1].coorX*this.mathGeometry.elaS+this.mathGeometry.oX,this.mathGeometry.oY-e.lstPoint[1].coorY*this.mathGeometry.elaS),n=new Point(e.lstPoint[2].coorX*this.mathGeometry.elaS+this.mathGeometry.oX,this.mathGeometry.oY-e.lstPoint[2].coorY*this.mathGeometry.elaS),l=s.x-r.x,o=s.y-r.y,h=n.x-r.x,d=n.y-r.y,c=(l*(r.x+s.x)+o*(r.y+s.y))/2,p=(h*(r.x+n.x)+d*(r.y+n.y))/2,u=new Point((d*c-o*p)/(l*d-o*h),(l*p-h*c)/(l*d-o*h));(f=new CircleMathGeometry(u,u.distance(r),"transparent","black",i,a).getElement()).setAttribute("clip-path","url(#cut-off)"),t.appendChild(f)}else if(e.isWidthRadius&&null!=e.radius){var m=e.lstPoint.find(t=>t.id===e.centerID);r=new Point(m.coorX*this.mathGeometry.elaS+this.mathGeometry.oX,this.mathGeometry.oY-m.coorY*this.mathGeometry.elaS),s=new Point((m.coorX+e.radius)*this.mathGeometry.elaS+this.mathGeometry.oX,this.mathGeometry.oY-m.coorY*this.mathGeometry.elaS);(f=new CircleMathGeometry(r,r.distance(s),"transparent","black",i,a).getElement()).setAttribute("clip-path","url(#cut-off)"),t.appendChild(f)}else if(e.isThreePoint){if(e.lstPoint.length>2){m=e.lstPoint[0],g=e.lstPoint[1],g=e.lstPoint[2],r=new Point(m.coorX*this.mathGeometry.elaS+this.mathGeometry.oX,this.mathGeometry.oY-m.coorY*this.mathGeometry.elaS),s=new Point(g.coorX*this.mathGeometry.elaS+this.mathGeometry.oX,this.mathGeometry.oY-g.coorY*this.mathGeometry.elaS),n=new Point(p3.coorX*this.mathGeometry.elaS+this.mathGeometry.oX,this.mathGeometry.oY-p3.coorY*this.mathGeometry.elaS),l=s.X-r.X,o=s.Y-r.Y,h=n.X-r.X,d=n.Y-r.Y,c=(l*(r.X+s.X)+o*(r.Y+s.Y))/2,p=(h*(r.X+n.X)+d*(r.Y+n.Y))/2;var b=new Point((d*c-o*p)/(l*d-o*h),(l*p-h*c)/(l*d-o*h));(f=new CircleMathGeometry(b,b.distance(r),"transparent","black",i,a).getElement()).setAttribute("clip-path","url(#cut-off)"),t.appendChild(f)}}else{var f,m=e.lstPoint.find(t=>t.id===e.centerID),g=e.lstPoint.find(t=>t.id===e.marginalID),r=new Point(m.coorX*this.mathGeometry.elaS+this.mathGeometry.oX,this.mathGeometry.oY-m.coorY*this.mathGeometry.elaS),s=new Point(g.coorX*this.mathGeometry.elaS+this.mathGeometry.oX,this.mathGeometry.oY-g.coorY*this.mathGeometry.elaS);(f=new CircleMathGeometry(r,r.distance(s),"transparent","black",i,a).getElement()).setAttribute("clip-path","url(#cut-off)"),t.appendChild(f)}}return t},t.DrawLines=function(){var e=this,t=glhp.crgs("g","","lines"),i=document.createElement("clipPath");i.setAttribute("id","cut-off");var a=document.createElement("rect");a.setAttribute("x",0),a.setAttribute("y",0),a.setAttribute("width",this.mathGeometry.w),a.setAttribute("height",this.mathGeometry.h),i.appendChild(a),t.appendChild(i),this.mathGeometry.lstL.forEach((function(i){var a=e.DrawLine(i);null!=a&&t.appendChild(a)})),this.svg.appendChild(t)},t.DrawLine=function(e){var t=null;if(e&&e.vsB){t=glhp.crgs("g","",""),this.ctx.font="bold 14px Times New Roman";var i,a=e.lstPoint.find(t=>t.id===e.firstID),r=e.lstPoint.find(t=>t.id===e.lastID),s=new Point(a.coorX*this.mathGeometry.elaS+this.mathGeometry.oX,this.mathGeometry.oY-a.coorY*this.mathGeometry.elaS);r&&(i=new Point(r.coorX*this.mathGeometry.elaS+this.mathGeometry.oX,this.mathGeometry.oY-r.coorY*this.mathGeometry.elaS));var n=e.thK,l=e.dT;if("Segment"===e.typel)(e=new LineMathGeometry(s,i,"black",n,"Square","Miter",l).getElement()).setAttribute("clip-path","url(#cut-off)"),t.appendChild(e);if("Line"===e.typel){var o=0,h=0;o=(r.coorY-a.coorY)/(r.coorX-a.coorX),h=a.coorY-o*a.coorX,this.getPoint.pzfun(o,h,this.mathGeometry.elaS,{X:this.mathGeometry.oX,Y:this.mathGeometry.oY},this.mathGeometry.w).forEach((function(e){var i="";e.forEach((function(e){i+=e.x+","+e.y+" "}));var a=new PolylineMathGeometry(i,"transparent","black",n,l).getElement();a.setAttribute("clip-path","url(#cut-off)"),t.appendChild(a)}))}if("Ray"===e.typel){o=0,h=0;o=(r.coorY-a.coorY)/(r.coorX-a.coorX),h=a.coorY-o*a.coorX;var d=!1;d=r.coorX>a.coorX,this.getPoint.pzfunRay(o,h,this.mathGeometry.elaS,{X:this.mathGeometry.oX,Y:this.mathGeometry.oY},this.mathGeometry.w,d,s).forEach((function(e){var i="";e.forEach((function(e){i+=e.x+","+e.y+" "}));var a=new PolylineMathGeometry(i,"transparent","black",n,l).getElement();a.setAttribute("clip-path","url(#cut-off)"),t.appendChild(a)}))}"MulLine"===e.typel&&e.lstPoint.forEach(e=>{i=new Point(e.coorX*this.mathGeometry.elaS+this.mathGeometry.oX,this.mathGeometry.oY-e.coorY*this.mathGeometry.elaS);var a=new LineMathGeometry(s,i,"black",1).getElement();t.appendChild(a),s=i})}return t},t.DrawPolygons=function(){var e=this,t=glhp.crgs("g","","polygons"),i=document.createElement("clipPath");i.setAttribute("id","cut-off");var a=document.createElement("rect");a.setAttribute("x",0),a.setAttribute("y",0),a.setAttribute("width",this.mathGeometry.w),a.setAttribute("height",this.mathGeometry.h),i.appendChild(a),t.appendChild(i),this.mathGeometry.lstPo.forEach((function(i){var a=e.DrawPolygon(i);null!=a&&t.appendChild(a)})),this.svg.appendChild(t)},t.DrawPolygon=function(e){var t=null;if(e){t=glhp.crgs("g","",""),this.ctx.font="bold 14px Times New Roman";var i,a="";e.lstLine&&e.lstLine.length>0&&(e.lstLine.forEach(e=>{e.lstPoint&&e.lstPoint.length>0&&(i=new Point(e.lstPoint[0].coorX*this.mathGeometry.elaS+this.mathGeometry.oX,this.mathGeometry.oY-e.lstPoint[0].coorY*this.mathGeometry.elaS),a+=i.x+","+i.y+" ")}),e.lstLine[0].lstPoint&&e.lstLine[0].lstPoint.length>0&&(i=new Point(e.lstLine[0].lstPoint[0].coorX*this.mathGeometry.elaS+this.mathGeometry.oX,this.mathGeometry.oY-e.lstLine[0].lstPoint[0].coorY*this.mathGeometry.elaS),a+=i.x+","+i.y+" "));var r=new PolylineMathGeometry(a,"#FFE4E1","#F08080",1.5).getElement();r.setAttribute("clip-path","url(#cut-off)"),t.appendChild(r)}return t},t.DrawPerpendiculars=function(){var e=this,t=glhp.crgs("g","","perpendiculars"),i=document.createElement("clipPath");i.setAttribute("id","cut-off");var a=document.createElement("rect");a.setAttribute("x",0),a.setAttribute("y",0),a.setAttribute("width",this.mathGeometry.w),a.setAttribute("height",this.mathGeometry.h),i.appendChild(a),t.appendChild(i),this.mathGeometry.lstPer.forEach((function(i){var a=e.DrawPerpendicular(i);null!=a&&t.appendChild(a)})),this.svg.appendChild(t)},t.DrawPerpendicular=function(e){var t=null;if(e){t=glhp.crgs("g","",""),this.ctx.font="bold 14px Times New Roman";var i,a,r=e.lstPoint.find(t=>t.id===e.firstID);i=(e.mapY-r.coorY)/(e.mapX-r.coorX),a=r.coorY-i*r.coorX;var s=this.getPoint.pzfun(i,a,this.mathGeometry.elaS,{X:this.mathGeometry.oX,Y:this.mathGeometry.oY},this.mathGeometry.w),n=e.thK,l=e.dT;s.forEach((function(e){var i="";e.forEach((function(e){i+=e.x+","+e.y+" "}));var a=new PolylineMathGeometry(i,"transparent","black",n,l).getElement();a.setAttribute("clip-path","url(#cut-off)"),t.appendChild(a)}))}return t},t.DrawEllipses=function(){var e=this,t=glhp.crgs("g","","ellipses");this.mathGeometry.lstE.forEach((function(i){var a=e.DrawEllipse(i);null!=a&&t.appendChild(a)})),this.svg.appendChild(t)},t.DrawEllipse=function(e){var t=null;if(e){t=glhp.crgs("g","",""),this.ctx.font="bold 14px Times New Roman";var i,a,r=e.lstPoint.find(t=>t.id===e.centerID),s=e.lstPoint.find(t=>t.id===e.centerTwoID),n=e.lstPoint.find(t=>t.id===e.marginalID),l=new Point(r.coorX*this.mathGeometry.elaS+this.mathGeometry.oX,this.mathGeometry.oY-r.coorY*this.mathGeometry.elaS);if(!s)return;if(i=new Point(s.coorX*this.mathGeometry.elaS+this.mathGeometry.oX,this.mathGeometry.oY-s.coorY*this.mathGeometry.elaS),!n)return;a=new Point(n.coorX*this.mathGeometry.elaS+this.mathGeometry.oX,this.mathGeometry.oY-n.coorY*this.mathGeometry.elaS);var o=new Point((r.coorX+s.coorX)*this.mathGeometry.elaS/2+this.mathGeometry.oX,this.mathGeometry.oY-(r.coorY+s.coorY)/2*this.mathGeometry.elaS),h=l.distance(a),d=i.distance(a),c=l.distance(i),p=(h+d)/2,u=180*Math.atan2(i.y-l.y,i.x-l.x)/Math.PI;const v=`rotate(${u} ${o.x} ${o.y})`,C=`rotate(${360-u} ${o.x} ${o.y})`;var m=Math.sqrt(Math.pow(p,2)-Math.pow(c/2,2)),b=e.thK,f=e.dT,g=new EllipseMathGeometry(o,p,m,"transparent","black",b,"Square","Miter",f,v).getElement(),w=document.createElement("clipPath");w.setAttribute("id","cut-off-ellipse"+e.id);var y=document.createElement("rect");y.setAttribute("x",0),y.setAttribute("y",0),y.setAttribute("width",this.mathGeometry.w),y.setAttribute("height",this.mathGeometry.h),y.setAttribute("transform",C),w.appendChild(y),t.appendChild(w),g.setAttribute("clip-path",`url(#cut-off-ellipse${e.id})`),t.appendChild(g)}return t},t.DrawAngles=function(){var e=this,t=glhp.crgs("g","","angles");this.mathGeometry.lstA.forEach((function(i){var a=e.DrawAngle(i);null!=a&&t.appendChild(a)})),this.svg.appendChild(t)},t.DrawAngle=function(e){var t=null;if(e){t=glhp.crgs("g","",""),this.ctx.font="bold 14px Times New Roman";var i,a,r=e.lstPoint.find(t=>t.id===e.firstID),s=e.lstPoint.find(t=>t.id===e.secondID),n=e.lstPoint.find(t=>t.id===e.thirdID),l=new Point(r.coorX*this.mathGeometry.elaS+this.mathGeometry.oX,this.mathGeometry.oY-r.coorY*this.mathGeometry.elaS);if(s&&(i=new Point(s.coorX*this.mathGeometry.elaS+this.mathGeometry.oX,this.mathGeometry.oY-s.coorY*this.mathGeometry.elaS)),n&&(a=new Point(n.coorX*this.mathGeometry.elaS+this.mathGeometry.oX,this.mathGeometry.oY-n.coorY*this.mathGeometry.elaS)),!a||!i)return;var o=180*Math.atan2(l.y-i.y,l.x-i.x)/Math.PI-180*Math.atan2(a.y-i.y,a.x-i.x)/Math.PI,h=o<0?360+o:o,d=Math.abs(h.toFixed(1)).toString()+"°";this.ctx.font="bold 14px Times New Roman";var c=new TextMathGeometry(d,new Point(s.coorX*this.mathGeometry.elaS+this.mathGeometry.oX+20,this.mathGeometry.oY-s.coorY*this.mathGeometry.elaS+6),"Times New Roman",14,"bold","black").getElement();t.appendChild(c);var p=new AngleMathGeometry(l,i,a,"transparent","blue",1).getElement();t.appendChild(p)}return t},e.prototype.drawCanvas=async function(e){var t=glhp.crgs("g","","coordinates");if(this.mathGeometry.fi&&this.mathGeometry.str){let i=new RectMathBackground(this.mathGeometry.w,this.mathGeometry.h,this.mathGeometry.fi,this.mathGeometry.str,this.mathGeometry.tN,this.mathGeometry.cT,this.mathGeometry.jT,this.mathGeometry.dT,t);await i.drawCanvas(e)}this.mathGeometry.vscA&&(await this.drcaxCanvasMath(e),await this.dwarCanvasMath(e),await this.dwxyCanvasMath(e),await this.dwnbsCanvasMath(e)),this.mathGeometry.vsbL&&await this.dwglsDrawCanvas(e),await this.DrawPolygonsCanvasMath(e),await this.DrawCirclesCanvasMath(e),await this.DrawLinesCanvasMath(e),await this.DrawPerpendicularsCanvasMath(e),await this.DrawEllipsesCanvasMath(e),await this.DrawAnglesCanvasMath(e),await this.DrawTextsCanvasMath(e),await this.dwpzsCanvasMath(e)},t.drcaxCanvasMath=async function(e){if(this.mathGeometry.oX>0&&this.mathGeometry.oX<this.mathGeometry.w){var t=new LineMathGeometry(new Point(this.mathGeometry.oX,0),new Point(this.mathGeometry.oX,this.mathGeometry.h),"black",1);await t.drawCanvas(e)}if(this.mathGeometry.oY>0&&this.mathGeometry.oY<this.mathGeometry.h){var i=new LineMathGeometry(new Point(0,this.mathGeometry.oY),new Point(this.mathGeometry.w,this.mathGeometry.oY),"black",1);await i.drawCanvas(e)}},t.dwarCanvasMath=async function(e){var t=glhp.crgs("g","","arrow");if(this.mathGeometry.oX>=0&&this.mathGeometry.oX<=this.mathGeometry.w){var i=new PolylineMathGeometry(this.mathGeometry.oX+",0 "+(this.mathGeometry.oX-5)+",5 "+(this.mathGeometry.oX+5)+",5","black","black",0);await i.drawCanvas(e)}if(this.mathGeometry.oY>=0&&this.mathGeometry.oY<=this.mathGeometry.h){var a=new PolylineMathGeometry(this.mathGeometry.w+","+this.mathGeometry.oY+" "+(this.mathGeometry.w-5)+","+(this.mathGeometry.oY-5)+" "+(this.mathGeometry.w-5)+","+(this.mathGeometry.oY+5),"black","black",0);await a.drawCanvas(e)}this.svg.appendChild(t)},t.dwnbsCanvasMath=async function(e){this.mathGeometry.elaS<10||(this.mathGeometry.elaS>=10&&this.mathGeometry.elaS<13?(await this.dwnbCanvas(this.mathGeometry.elaS,9*this.mathGeometry.elaS,9,e),await this.dwglCanvas(9*this.mathGeometry.elaS,e)):this.mathGeometry.elaS>=13&&this.mathGeometry.elaS<15?(await this.dwnbCanvas(this.mathGeometry.elaS,8.5*this.mathGeometry.elaS,8.5,e),await this.dwglCanvas(8.5*this.mathGeometry.elaS,e)):this.mathGeometry.elaS>=15&&this.mathGeometry.elaS<17?(await this.dwnbCanvas(this.mathGeometry.elaS,8*this.mathGeometry.elaS,8,e),await this.dwglCanvas(8*this.mathGeometry.elaS,e)):this.mathGeometry.elaS>=17&&this.mathGeometry.elaS<20?(await this.dwnbCanvas(this.mathGeometry.elaS,7.5*this.mathGeometry.elaS,7.5,e),await this.dwglCanvas(7.5*this.mathGeometry.elaS,e)):this.mathGeometry.elaS>=20&&this.mathGeometry.elaS<23&&(await this.dwnbCanvas(this.mathGeometry.elaS,7*this.mathGeometry.elaS,7,e),await this.dwglCanvas(7*this.mathGeometry.elaS,e)),this.mathGeometry.elaS>=23&&this.mathGeometry.elaS<25?(await this.dwnbCanvas(this.mathGeometry.elaS,6.5*this.mathGeometry.elaS,6.5,e),await this.dwglCanvas(6.5*this.mathGeometry.elaS,e)):this.mathGeometry.elaS>=25&&this.mathGeometry.elaS<27?(await this.dwnbCanvas(this.mathGeometry.elaS,6*this.mathGeometry.elaS,6,e),await this.dwglCanvas(6*this.mathGeometry.elaS,e)):this.mathGeometry.elaS>=27&&this.mathGeometry.elaS<30?(await this.dwnbCanvas(this.mathGeometry.elaS,5.5*this.mathGeometry.elaS,5.5,e),await this.dwglCanvas(5.5*this.mathGeometry.elaS,e)):this.mathGeometry.elaS>=30&&this.mathGeometry.elaS<32?await this.dwnbCanvas(this.mathGeometry.elaS,5*this.mathGeometry.elaS,5,e):this.mathGeometry.elaS>=32&&this.mathGeometry.elaS<35?(await this.dwnbCanvas(this.mathGeometry.elaS,4.5*this.mathGeometry.elaS,4.5,e),await this.dwglCanvas(4.5*this.mathGeometry.elaS,e)):this.mathGeometry.elaS>=35&&this.mathGeometry.elaS<37?(await this.dwnbCanvas(this.mathGeometry.elaS,4*this.mathGeometry.elaS,4,e),await this.dwglCanvas(4*this.mathGeometry.elaS,e)):this.mathGeometry.elaS>=37&&this.mathGeometry.elaS<40?(await this.dwnbCanvas(this.mathGeometry.elaS,3.5*this.mathGeometry.elaS,3.5,e),await this.dwglCanvas(3.5*this.mathGeometry.elaS,e)):this.mathGeometry.elaS>=40&&this.mathGeometry.elaS<43?(await this.dwnbCanvas(this.mathGeometry.elaS,3*this.mathGeometry.elaS,3,e),await this.dwglCanvas(3*this.mathGeometry.elaS,e)):this.mathGeometry.elaS>=43&&this.mathGeometry.elaS<45?(await this.dwnbCanvas(this.mathGeometry.elaS,2.5*this.mathGeometry.elaS,2.5,e),await this.dwglCanvas(2.5*this.mathGeometry.elaS,e)):this.mathGeometry.elaS>=45&&this.mathGeometry.elaS<47?(await this.dwnbCanvas(this.mathGeometry.elaS,2*this.mathGeometry.elaS,2,e),await this.dwglCanvas(2*this.mathGeometry.elaS,e)):this.mathGeometry.elaS>=47&&this.mathGeometry.elaS<50?(await this.dwnbCanvas(this.mathGeometry.elaS,1.5*this.mathGeometry.elaS,1.5,e),await this.dwglCanvas(1.5*this.mathGeometry.elaS,e)):this.mathGeometry.elaS>=50&&this.mathGeometry.elaS<100?(await this.dwnbCanvas(this.mathGeometry.elaS,this.mathGeometry.elaS,1,e),await this.dwglCanvas(this.mathGeometry.elaS,e)):this.mathGeometry.elaS>=100&&this.mathGeometry.elaS<200?(await this.dwnbCanvas(this.mathGeometry.elaS,this.mathGeometry.elaS/2,.5,e),await this.dwglCanvas(.5*this.mathGeometry.elaS,e)):this.mathGeometry.elaS>=200&&this.mathGeometry.elaS<400?(await this.dwnbCanvas(this.mathGeometry.elaS,this.mathGeometry.elaS/5,.2,e),await this.dwglCanvas(.2*this.mathGeometry.elaS,e)):this.mathGeometry.elaS>=400&&this.mathGeometry.elaS<1500?(await this.dwnbCanvas(this.mathGeometry.elaS,this.mathGeometry.elaS/10,.1,e),await this.dwglCanvas(.1*this.mathGeometry.elaS,e)):this.mathGeometry.elaS>=1500&&this.mathGeometry.elaS<3500?(await this.dwnbCanvas(this.mathGeometry.elaS,this.mathGeometry.elaS/20,.05,e),await this.dwglCanvas(.05*this.mathGeometry.elaS,e)):this.mathGeometry.elaS>=3500&&(await this.dwnbCanvas(this.mathGeometry.elaS,this.mathGeometry.elaS/40,.025,e),await this.dwglCanvas(.025*this.mathGeometry.elaS,e)))},t.dwnbCanvas=async function(e,t,i,a){i=this.setLabelHelper.Round(i,1);var r=this.mathGeometry.oX-t,s=this.setLabelHelper.Round(i,1);for(glhp.crgs("g","","number");r>0;){if(r-8>0&&r-8<this.mathGeometry.w&&this.mathGeometry.oY>0&&this.mathGeometry.oY<this.mathGeometry.h){var n=new TextMathGeometry(-this.setLabelHelper.Round(s,1),new Point(r-8,this.mathGeometry.oY+15),"Times New Roman",14,"bold","black");await n.drawCanvas(a);var l=new CircleMathGeometry(new Point(r,this.mathGeometry.oY),1.5,"red","red",1.5);await l.drawCanvas(a)}s+=i,r-=t}var o=this.mathGeometry.oX+t;for(s=this.setLabelHelper.Round(i,1);o<this.mathGeometry.w;){if(o-3>0&&o-3<this.mathGeometry.w&&this.mathGeometry.oY-5>0&&this.mathGeometry.oY-5<this.mathGeometry.h){n=new TextMathGeometry(this.setLabelHelper.Round(s,1),new Point(o-3,this.mathGeometry.oY-5),"Times New Roman",14,"bold","black");await n.drawCanvas(a),(l=new CircleMathGeometry(new Point(o,this.mathGeometry.oY),1.5,"red","red",1.5)).drawCanvas(a)}s+=i,o+=t}var h=this.mathGeometry.oY-t;for(s=this.setLabelHelper.Round(i,1);h>0;){if(this.mathGeometry.oX-12>0&&this.mathGeometry.oX-12<this.mathGeometry.w&&h+4>0&&h+4<this.mathGeometry.h){n=new TextMathGeometry(this.setLabelHelper.Round(s,1),new Point(this.mathGeometry.oX-12,h+4),"Times New Roman",14,"bold","black");await n.drawCanvas(a),(l=new CircleMathGeometry(new Point(this.mathGeometry.oX,h),1.5,"red","red",1.5)).drawCanvas(a)}s+=i,h-=t}var d=this.mathGeometry.oY+t;for(s=this.setLabelHelper.Round(i,1);d<this.mathGeometry.h;){if(this.mathGeometry.oX+5>0&&this.mathGeometry.oX+5<this.mathGeometry.w&&d+4>0&&d+4<this.mathGeometry.h){(n=new TextMathGeometry(-this.setLabelHelper.Round(s,1),new Point(this.mathGeometry.oX+5,d+4),"Times New Roman",14,"bold","black")).drawCanvas(a);l=new CircleMathGeometry(new Point(this.mathGeometry.oX,d),1.5,"red","red",1.5);await l.drawCanvas(a)}d+=t,s+=i}},t.dwglsDrawCanvas=async function(e){var t=glhp.crgs("g","","coordinates");if(this.mathGeometry.fi&&this.mathGeometry.str){new RectMathBackground(this.mathGeometry.w,this.mathGeometry.h,this.mathGeometry.fi,this.mathGeometry.str,this.mathGeometry.tN,this.mathGeometry.cT,this.mathGeometry.jT,this.mathGeometry.dT,t).drawCanvas(e)}if(this.mathGeometry.oX>0&&this.mathGeometry.oX<this.mathGeometry.w){var i=new LineMathGeometry(new Point(this.mathGeometry.oX,0),new Point(this.mathGeometry.oX,this.mathGeometry.h),"rgba(0, 0, 0, 0.3)",.5);await i.drawCanvas(e)}if(this.mathGeometry.oY>0&&this.mathGeometry.oY<this.mathGeometry.h){var a=new LineMathGeometry(new Point(0,this.mathGeometry.oY),new Point(this.mathGeometry.w,this.mathGeometry.oY),"rgba(0, 0, 0, 0.3)",.5);await a.drawCanvas(e)}this.mathGeometry.elaS<10||(this.mathGeometry.elaS>=10&&this.mathGeometry.elaS<13?await this.dwglCanvas(9*this.mathGeometry.elaS,e):this.mathGeometry.elaS>=13&&this.mathGeometry.elaS<15?await this.dwglCanvas(8.5*this.mathGeometry.elaS,e):this.mathGeometry.elaS>=15&&this.mathGeometry.elaS<17?await this.dwglCanvas(8*this.mathGeometry.elaS,e):this.mathGeometry.elaS>=17&&this.mathGeometry.elaS<20?await this.dwglCanvas(7.5*this.mathGeometry.elaS,e):this.mathGeometry.elaS>=20&&this.mathGeometry.elaS<23&&await this.dwglCanvas(7*this.mathGeometry.elaS,e),this.mathGeometry.elaS>=23&&this.mathGeometry.elaS<25?await this.dwglCanvas(6.5*this.mathGeometry.elaS,e):this.mathGeometry.elaS>=25&&this.mathGeometry.elaS<27?await this.dwglCanvas(6*this.mathGeometry.elaS,e):this.mathGeometry.elaS>=27&&this.mathGeometry.elaS<30?await this.dwglCanvas(5.5*this.mathGeometry.elaS,e):this.mathGeometry.elaS>=30&&this.mathGeometry.elaS<32||(this.mathGeometry.elaS>=32&&this.mathGeometry.elaS<35?await this.dwglCanvas(4.5*this.mathGeometry.elaS,e):this.mathGeometry.elaS>=35&&this.mathGeometry.elaS<37?await this.dwglCanvas(4*this.mathGeometry.elaS,e):this.mathGeometry.elaS>=37&&this.mathGeometry.elaS<40?await this.dwglCanvas(3.5*this.mathGeometry.elaS,e):this.mathGeometry.elaS>=40&&this.mathGeometry.elaS<43?await this.dwglCanvas(3*this.mathGeometry.elaS,e):this.mathGeometry.elaS>=43&&this.mathGeometry.elaS<45?await this.dwglCanvas(2.5*this.mathGeometry.elaS,e):this.mathGeometry.elaS>=45&&this.mathGeometry.elaS<47?await this.dwglCanvas(2*this.mathGeometry.elaS,e):this.mathGeometry.elaS>=47&&this.mathGeometry.elaS<50?await this.dwglCanvas(1.5*this.mathGeometry.elaS,e):this.mathGeometry.elaS>=50&&this.mathGeometry.elaS<100?await this.dwglCanvas(this.mathGeometry.elaS,e):this.mathGeometry.elaS>=100&&this.mathGeometry.elaS<200?await this.dwglCanvas(.5*this.mathGeometry.elaS,e):this.mathGeometry.elaS>=200&&this.mathGeometry.elaS<400?await this.dwglCanvas(.2*this.mathGeometry.elaS,e):this.mathGeometry.elaS>=400&&this.mathGeometry.elaS<1500?await this.dwglCanvas(.1*this.mathGeometry.elaS,e):this.mathGeometry.elaS>=1500&&this.mathGeometry.elaS<3500?await this.dwglCanvas(.05*this.mathGeometry.elaS,e):this.mathGeometry.elaS>=3500&&await this.dwglCanvas(.025*this.mathGeometry.elaS,e)))},t.dwglCanvas=async function(e,t){if(this.mathGeometry.vsbL){for(var i=this.mathGeometry.oX-e;i>0;){if(i>0&&i<this.mathGeometry.w){var a=new LineMathGeometry(new Point(i,0),new Point(i,this.mathGeometry.h),"rgba(0, 0, 0, 0.5)",.5);await a.drawCanvas(t)}i-=e}for(var r=this.mathGeometry.oX+e;r<this.mathGeometry.w;){if(r>0&&r<this.mathGeometry.w){a=new LineMathGeometry(new Point(r,0),new Point(r,this.mathGeometry.h),"rgba(0, 0, 0, 0.5)",.5);await a.drawCanvas(t)}r+=e}for(var s=this.mathGeometry.oY-e;s>0;){if(s>0&&s<this.mathGeometry.h){a=new LineMathGeometry(new Point(0,s),new Point(this.mathGeometry.w,s),"rgba(0, 0, 0, 0.5)",.5);await a.drawCanvas(t)}s-=e}for(var n=this.mathGeometry.oY+e;n<this.mathGeometry.h;){if(n>0&&n<this.mathGeometry.h){a=new LineMathGeometry(new Point(0,n),new Point(this.mathGeometry.w,n),"rgba(0, 0, 0, 0.5)",.5);await a.drawCanvas(t)}n+=e}if(this.mathGeometry.vsbL){var l=e/5;for(glhp.crgs("g","","gridLineMini"),i=this.mathGeometry.oX-l;i>0;){if(i>0&&i<this.mathGeometry.w){a=new LineMathGeometry(new Point(i,0),new Point(i,this.mathGeometry.h),"rgba(0, 0, 0, 0.1)",.5);await a.drawCanvas(t)}i-=l}for(r=this.mathGeometry.oX+l;r<this.mathGeometry.w;){if(r>0&&r<this.mathGeometry.w){a=new LineMathGeometry(new Point(r,0),new Point(r,this.mathGeometry.h),"rgba(0, 0, 0, 0.1)",.5);await a.drawCanvas(t)}r+=l}for(s=this.mathGeometry.oY-l;s>0;){if(s>0&&s<this.mathGeometry.h){a=new LineMathGeometry(new Point(0,s),new Point(this.mathGeometry.w,s),"rgba(0, 0, 0, 0.1)",.5);await a.drawCanvas(t)}s-=l}for(n=this.mathGeometry.oY+l;n<this.mathGeometry.h;){if(n>0&&n<this.mathGeometry.h){a=new LineMathGeometry(new Point(0,n),new Point(this.mathGeometry.w,n),"rgba(0, 0, 0, 0.1)",.5);await a.drawCanvas(t)}n+=l}}}},t.dwxyCanvasMath=async function(e){this.mathGeometry.oX+5>=0&&this.mathGeometry.oX+5<=this.mathGeometry.w&&this.mathGeometry.oY-5>0&&this.mathGeometry.oY-5<=this.mathGeometry.h&&(e.save(),e.font="bold 21px Times New Roman",e.fillText("O",this.mathGeometry.oX+5,this.mathGeometry.oY-5),e.restore()),this.mathGeometry.oY+25>=0&&this.mathGeometry.oY<=this.mathGeometry.h&&(e.save(),e.font="bold 21px Times New Roman",e.fillText("x",this.mathGeometry.w-20,this.mathGeometry.oY+25),e.restore()),this.mathGeometry.oX+5>=0&&this.mathGeometry.oX+5<=this.mathGeometry.w&&(e.save(),e.font="bold 21px Times New Roman",e.fillText("y",this.mathGeometry.oX+5,20),e.restore())},t.dwpzsCanvasMath=async function(e){var t=this;this.mathGeometry.lstP.forEach((async function(i){await t.dwpzCanvas(i,e)}))},t.dwpzCanvas=async function(e,t){var i=null;if(e.vsB){i=glhp.crgs("g","","");var a,r=e.ptNa;if(e.poS)switch(e.poS){case"BottomType":a=new Point(e.coorX*this.mathGeometry.elaS+this.mathGeometry.oX-4,this.mathGeometry.oY-e.coorY*this.mathGeometry.elaS+18);break;case"TopType":a=new Point(e.coorX*this.mathGeometry.elaS+this.mathGeometry.oX-4,this.mathGeometry.oY-e.coorY*this.mathGeometry.elaS-10);break;case"LeftType":a=new Point(e.coorX*this.mathGeometry.elaS+this.mathGeometry.oX-18,this.mathGeometry.oY-e.coorY*this.mathGeometry.elaS+4);break;case"RightType":default:a=new Point(e.coorX*this.mathGeometry.elaS+this.mathGeometry.oX+7,this.mathGeometry.oY-e.coorY*this.mathGeometry.elaS+4)}this.ctx.font="bold 14px Times New Roman";var s=new TextMathGeometry(r,a,"Times New Roman",14,"bold","black");await s.drawCanvas(t);var n=e.prM?"#ADD8E6":"#1E90FF";e.prMr&&(n="black"),new CircleMathGeometry(new Point(e.coorX*this.mathGeometry.elaS+this.mathGeometry.oX,this.mathGeometry.oY-e.coorY*this.mathGeometry.elaS),3,e.isCe?"black":n,"black",.5).drawCanvas(t)}return i},t.DrawPolygonsCanvasMath=function(e){var t=this;this.mathGeometry.lstPo.forEach((async function(i){await t.DrawPolygonCanvas(i,e)}))},t.DrawPolygonCanvas=async function(e,t){if(e){var i,a="";e.lstLine&&e.lstLine.length>0&&(e.lstLine.forEach(e=>{e.lstPoint&&e.lstPoint.length>0&&(i=new Point(e.lstPoint[0].coorX*this.mathGeometry.elaS+this.mathGeometry.oX,this.mathGeometry.oY-e.lstPoint[0].coorY*this.mathGeometry.elaS),a+=i.x+","+i.y+" ")}),e.lstLine[0].lstPoint&&e.lstLine[0].lstPoint.length>0&&(i=new Point(e.lstLine[0].lstPoint[0].coorX*this.mathGeometry.elaS+this.mathGeometry.oX,this.mathGeometry.oY-e.lstLine[0].lstPoint[0].coorY*this.mathGeometry.elaS),a+=i.x+","+i.y+" "));var r=new PolylineMathGeometry(a,"#FFE4E1","#F08080",1.5);await r.drawCanvas(t)}},t.DrawCirclesCanvasMath=async function(e){var t=this;this.mathGeometry.lstG.forEach((async function(i){await t.DrawCircleCanvas(i,e)}))},t.DrawCircleCanvas=async function(e,t){if(e){var i=e.thK,a=e.dT;if(this.ctx.font="bold 14px Times New Roman",e.isThreePoint&&e.lstPoint&&e.lstPoint.length>2){var r=new Point(e.lstPoint[0].coorX*this.mathGeometry.elaS+this.mathGeometry.oX,this.mathGeometry.oY-e.lstPoint[0].coorY*this.mathGeometry.elaS),s=new Point(e.lstPoint[1].coorX*this.mathGeometry.elaS+this.mathGeometry.oX,this.mathGeometry.oY-e.lstPoint[1].coorY*this.mathGeometry.elaS),n=new Point(e.lstPoint[2].coorX*this.mathGeometry.elaS+this.mathGeometry.oX,this.mathGeometry.oY-e.lstPoint[2].coorY*this.mathGeometry.elaS),l=s.x-r.x,o=s.y-r.y,h=n.x-r.x,d=n.y-r.y,c=(l*(r.x+s.x)+o*(r.y+s.y))/2,p=(h*(r.x+n.x)+d*(r.y+n.y))/2,u=new Point((d*c-o*p)/(l*d-o*h),(l*p-h*c)/(l*d-o*h));new CircleMathGeometry(u,u.distance(r),"transparent","black",i,a).drawCanvas(t)}else if(e.isWidthRadius&&null!=e.radius){var m=e.lstPoint.find(t=>t.id===e.centerID);r=new Point(m.coorX*this.mathGeometry.elaS+this.mathGeometry.oX,this.mathGeometry.oY-m.coorY*this.mathGeometry.elaS),s=new Point((m.coorX+e.radius)*this.mathGeometry.elaS+this.mathGeometry.oX,this.mathGeometry.oY-m.coorY*this.mathGeometry.elaS);new CircleMathGeometry(r,r.distance(s),"transparent","black",i,a).drawCanvas(t)}else if(e.isThreePoint){if(e.lstPoint.length>2){m=e.lstPoint[0],f=e.lstPoint[1],f=e.lstPoint[2],r=new Point(m.coorX*this.mathGeometry.elaS+this.mathGeometry.oX,this.mathGeometry.oY-m.coorY*this.mathGeometry.elaS),s=new Point(f.coorX*this.mathGeometry.elaS+this.mathGeometry.oX,this.mathGeometry.oY-f.coorY*this.mathGeometry.elaS),n=new Point(p3.coorX*this.mathGeometry.elaS+this.mathGeometry.oX,this.mathGeometry.oY-p3.coorY*this.mathGeometry.elaS),l=s.X-r.X,o=s.Y-r.Y,h=n.X-r.X,d=n.Y-r.Y,c=(l*(r.X+s.X)+o*(r.Y+s.Y))/2,p=(h*(r.X+n.X)+d*(r.Y+n.Y))/2;var b=new Point((d*c-o*p)/(l*d-o*h),(l*p-h*c)/(l*d-o*h));new CircleMathGeometry(b,b.distance(r),"transparent","black",i,a).drawCanvas(t)}}else{var m=e.lstPoint.find(t=>t.id===e.centerID),f=e.lstPoint.find(t=>t.id===e.marginalID),r=new Point(m.coorX*this.mathGeometry.elaS+this.mathGeometry.oX,this.mathGeometry.oY-m.coorY*this.mathGeometry.elaS),s=new Point(f.coorX*this.mathGeometry.elaS+this.mathGeometry.oX,this.mathGeometry.oY-f.coorY*this.mathGeometry.elaS);new CircleMathGeometry(r,r.distance(s),"transparent","black",i,a).drawCanvas(t)}}},t.DrawLinesCanvasMath=function(e){var t=this;this.mathGeometry.lstL.forEach((async function(i){t.DrawLineCanvas(i,e)}))},t.DrawLineCanvas=function(e,t){if(e&&e.vsB){this.ctx.font="bold 14px Times New Roman";var i,a=e.lstPoint.find(t=>t.id===e.firstID),r=e.lstPoint.find(t=>t.id===e.lastID),s=new Point(a.coorX*this.mathGeometry.elaS+this.mathGeometry.oX,this.mathGeometry.oY-a.coorY*this.mathGeometry.elaS);r&&(i=new Point(r.coorX*this.mathGeometry.elaS+this.mathGeometry.oX,this.mathGeometry.oY-r.coorY*this.mathGeometry.elaS));var n=e.thK,l=e.dT;if("Segment"===e.typel)(e=new LineMathGeometry(s,i,"black",n,"Square","Miter",l)).drawCanvas(t);if("Line"===e.typel){var o=0,h=0;o=(r.coorY-a.coorY)/(r.coorX-a.coorX),h=a.coorY-o*a.coorX,this.getPoint.pzfun(o,h,this.mathGeometry.elaS,{X:this.mathGeometry.oX,Y:this.mathGeometry.oY},this.mathGeometry.w).forEach((function(e){var i="";e.forEach((function(e){i+=e.x+","+e.y+" "})),new PolylineMathGeometry(i,"transparent","black",n,l).drawCanvas(t)}))}if("Ray"===e.typel){o=0,h=0;o=(r.coorY-a.coorY)/(r.coorX-a.coorX),h=a.coorY-o*a.coorX;var d=!1;d=r.coorX>a.coorX,this.getPoint.pzfunRay(o,h,this.mathGeometry.elaS,{X:this.mathGeometry.oX,Y:this.mathGeometry.oY},this.mathGeometry.w,d,s).forEach((function(e){var i="";e.forEach((function(e){i+=e.x+","+e.y+" "})),new PolylineMathGeometry(i,"transparent","black",n,l).drawCanvas(t)}))}"MulLine"===e.typel&&e.lstPoint.forEach(e=>{i=new Point(e.coorX*this.mathGeometry.elaS+this.mathGeometry.oX,this.mathGeometry.oY-e.coorY*this.mathGeometry.elaS),new LineMathGeometry(s,i,"black",1).drawCanvas(t),s=i})}},t.DrawPerpendicularsCanvasMath=function(e){var t=this;this.mathGeometry.lstPer.forEach((async function(i){await t.DrawPerpendicularCanvas(i,e)}))},t.DrawPerpendicularCanvas=function(e,t){if(e){this.ctx.font="bold 14px Times New Roman";var i,a,r=e.lstPoint.find(t=>t.id===e.firstID);i=(e.mapY-r.coorY)/(e.mapX-r.coorX),a=r.coorY-i*r.coorX;var s=this.getPoint.pzfun(i,a,this.mathGeometry.elaS,{X:this.mathGeometry.oX,Y:this.mathGeometry.oY},this.mathGeometry.w),n=e.thK,l=e.dT;s.forEach((function(e){var i="";e.forEach((function(e){i+=e.x+","+e.y+" "})),new PolylineMathGeometry(i,"transparent","black",n,l).drawCanvas(t)}))}},t.DrawEllipsesCanvasMath=function(e){var t=this;this.mathGeometry.lstE.forEach((async function(i){await t.DrawEllipseCanvas(i,e)}))},t.DrawEllipseCanvas=function(e,t){if(e){this.ctx.font="bold 14px Times New Roman";var i,a,r=e.lstPoint.find(t=>t.id===e.centerID),s=e.lstPoint.find(t=>t.id===e.centerTwoID),n=e.lstPoint.find(t=>t.id===e.marginalID),l=new Point(r.coorX*this.mathGeometry.elaS+this.mathGeometry.oX,this.mathGeometry.oY-r.coorY*this.mathGeometry.elaS);if(!s)return;if(i=new Point(s.coorX*this.mathGeometry.elaS+this.mathGeometry.oX,this.mathGeometry.oY-s.coorY*this.mathGeometry.elaS),!n)return;a=new Point(n.coorX*this.mathGeometry.elaS+this.mathGeometry.oX,this.mathGeometry.oY-n.coorY*this.mathGeometry.elaS);var o=new Point((r.coorX+s.coorX)*this.mathGeometry.elaS/2+this.mathGeometry.oX,this.mathGeometry.oY-(r.coorY+s.coorY)/2*this.mathGeometry.elaS),h=l.distance(a),d=i.distance(a),c=l.distance(i),p=(h+d)/2,u=180*Math.atan2(i.y-l.y,i.x-l.x)/Math.PI;const g=`rotate(${u} ${o.x} ${o.y})`;o.x,o.y;var m=Math.sqrt(Math.pow(p,2)-Math.pow(c/2,2)),b=e.thK,f=e.dT;new EllipseMathGeometry(o,p,m,"transparent","black",b,"Square","Miter",f,g).drawCanvas(t)}},t.DrawAnglesCanvasMath=function(e){var t=this;this.mathGeometry.lstA.forEach((async function(i){await t.DrawAngleCanvas(i,e)}))},t.DrawAngleCanvas=function(e,t){if(e){this.ctx.font="bold 14px Times New Roman";var i,a,r=e.lstPoint.find(t=>t.id===e.firstID),s=e.lstPoint.find(t=>t.id===e.secondID),n=e.lstPoint.find(t=>t.id===e.thirdID),l=new Point(r.coorX*this.mathGeometry.elaS+this.mathGeometry.oX,this.mathGeometry.oY-r.coorY*this.mathGeometry.elaS);if(s&&(i=new Point(s.coorX*this.mathGeometry.elaS+this.mathGeometry.oX,this.mathGeometry.oY-s.coorY*this.mathGeometry.elaS)),n&&(a=new Point(n.coorX*this.mathGeometry.elaS+this.mathGeometry.oX,this.mathGeometry.oY-n.coorY*this.mathGeometry.elaS)),!a||!i)return;var o=180*Math.atan2(l.y-i.y,l.x-i.x)/Math.PI-180*Math.atan2(a.y-i.y,a.x-i.x)/Math.PI,h=o<0?360+o:o,d=Math.abs(h.toFixed(1)).toString()+"°";this.ctx.font="bold 14px Times New Roman",new TextMathGeometry(d,new Point(s.coorX*this.mathGeometry.elaS+this.mathGeometry.oX+20,this.mathGeometry.oY-s.coorY*this.mathGeometry.elaS+6),"Times New Roman",14,"bold","black").drawCanvas(t),new AngleMathGeometry(l,i,a,"transparent","blue",1).drawCanvas(t)}},t.DrawTextsCanvasMath=function(e){var t=this;this.mathGeometry.lstT.forEach((async function(i){await t.DrawTextCanvas(i,e)}))},t.DrawTextCanvas=function(e,t){if(e.vsB){var i=e.tCo;this.ctx.font="bold 14px Times New Roman",(e=new TextMathGeometry(i,new Point(e.coorX*this.mathGeometry.elaS+this.mathGeometry.oX+7,this.mathGeometry.oY-e.coorY*this.mathGeometry.elaS),"Times New Roman",14,"bold","black")).drawCanvas(t)}},e}(),Graph=function(){function e(e){this.options=e}return e.prototype.genGraph=function(){var e=new dgrs(this.options),t=0==isMobile?this.options.rtwdkt:isTabletLandscape?this.options.rtwtls:isTabletPortrait?this.options.rtwtpt:isMobileLandscape?this.options.rtwmls:isMobilePortrait?this.options.rtwmpt:1,i=0==isMobile?this.options.rthdkt:isTabletLandscape?this.options.rthtls:isTabletPortrait?this.options.rthtpt:isMobileLandscape?this.options.rthmls:isMobilePortrait?this.options.rthmpt:1,a=Math.min(t,i);return e.gdcv(a)},e.prototype.drawCanvas=async function(e){var t=new dgrs(this.options);return await t.drawCanvas(e)},e}(),LineGraph=function(){function e(e,t,i,a,r,s,n){void 0===n&&(n="Solid"),this.point1=e,this.point2=t,this.color=i||"black",this.lineWidth=0!=a?a||1:a,this.strokeLineCap=r||"Square",this.strokeLineJoin=s||"Miter",this.typeDashArray=n}return e.prototype.getElement=function(){var e=glhp.crgs("line");return e.setAttribute("x1",this.point1.x),e.setAttribute("y1",this.point1.y),e.setAttribute("x2",this.point2.x),e.setAttribute("y2",this.point2.y),e.setAttribute("stroke",this.color),e.setAttribute("stroke-width",this.lineWidth),e.setAttribute("stroke-linecap",this.strokeLineCap),e.setAttribute("stroke-linejoin",this.strokeLineJoin),e.setAttribute("stroke-dasharray",shzp.dskz(this.typeDashArray,this.lineWidth)),e},e.prototype.drawCanvas=async function(e){e.save(),e.beginPath(),e.moveTo(this.point1.x,this.point1.y),e.lineTo(this.point2.x,this.point2.y),e.strokeStyle=this.color,e.lineWidth=this.lineWidth,e.lineCap=this.strokeLineCap,e.lineJoin=this.strokeLineJoin,e.stroke(),e.closePath(),e.restore()},e}(),RectGraph=function(){function e(e,t,i,a,r,s,n,l,o){void 0===o&&(o="Solic"),void 0===s&&(s=0),this.point=e,this.w=t,this.h=i,this.colorStroke=r,this.strokeWidth=s,this.strokeLineCap=n||"Square",this.strokeLineJoin=l||"Miter",this.typeDashArray=o,this.fill=a}return e.prototype.getElement=function(){var e=glhp.crgs("rect");return e.setAttribute("x",this.point.x),e.setAttribute("y",this.point.y),e.setAttribute("width",this.w),e.setAttribute("height",this.h),e.setAttribute("fill",this.fill),this.colorStroke&&e.setAttribute("stroke",this.colorStroke),"number"==typeof this.strokeWidth&&e.setAttribute("stroke-width",this.strokeWidth),e.setAttribute("stroke-linecap",this.strokeLineCap),e.setAttribute("stroke-linejoin",this.strokeLineJoin),e.setAttribute("stroke-dasharray",shzp.dskz(this.typeDashArray)),e},e.prototype.drawCanvas=async function(e){e.save(),e.beginPath(),e.fillStyle=this.fill,this.colorStroke&&(e.strokeStyle=this.colorStroke),"number"==typeof this.strokeWidth&&(e.lineWidth=this.strokeWidth),e.rect(this.point.x,this.point.y,this.w,this.h),e.fill(),e.stroke(),e.closePath(),e.restore()},e}(),RectBackground=function(){function e(e,t,i,a,r,s,n,l,o){void 0===l&&(l="Solic"),void 0===r&&(r=0),this.w=e,this.h=t,this.colorStroke=a,this.strokeWidth=r,this.strokeLineCap=s||"Square",this.strokeLineJoin=n||"Miter",this.typeDashArray=l,this.fill=i,this.g=o}return e.prototype.calculatorOpacity=function(e){return e/255},e.prototype.calculatorOffset=function(e){return 100*e},e.prototype.makeId=function(){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=0;i<5;i++)e+=t.charAt(Math.floor(Math.random()*t.length));return e},e.prototype.getElement=function(){var e=glhp.crgs("rect");if(e.setAttribute("x",0),e.setAttribute("y",0),e.setAttribute("width",this.w),e.setAttribute("height",this.h),"Solid"===this.fill.CoT)e.setAttribute("fill",this.fill.col);else if("Gradient"==this.fill.CoT&&"Linear"==this.fill.gT){var t,i=document.createElementNS(xmlNs,"defs"),a=document.createElementNS(xmlNs,"linearGradient"),r=this.makeId();a.setAttribute("id",r),a.setAttribute("gradientTransform","rotate("+this.fill.agl+", 0.5, 0.5)");for(var s=this.fill,n=0;n<s.sts.length;n++){var l=s.sts[n],o=this.calculatorOffset(l.ofs)+"%",h=this.calculatorOpacity(l.opc);t=createStop(o,l.col,h),a.appendChild(t)}i.appendChild(a);var d=glhp.crgs("g","","linear");d.appendChild(i),this.g.appendChild(d),e.setAttribute("fill","url(#"+r+")")}return this.colorStroke&&"Solid"===this.colorStroke.CoT&&e.setAttribute("stroke",this.colorStroke.col),"number"==typeof this.strokeWidth&&e.setAttribute("stroke-width",this.strokeWidth),e.setAttribute("stroke-linecap",this.strokeLineCap),e.setAttribute("stroke-linejoin",this.strokeLineJoin),e.setAttribute("stroke-dasharray",shzp.dskz(this.typeDashArray)),e},e.prototype.drawCanvas=async function(e){e.save(),e.beginPath(),e.strokeStyle=this.fill.col,e.lineWidth=this.strokeWidth,e.rect(0,0,this.w,this.h),e.stroke()},e}(),TextGraph=function(){function e(e,t,i,a,r,s,n,l){this.point=t,this.text=e,this.font=i,this.size=a,this.color=s||"black",this.textAlign=n||"start",this.textBaseline=l||"hanging",this.weight=r}return e.prototype.getElement=function(e){void 0===e&&(e=!1);var t=glhp.crgs("text");t.setAttribute("x",this.point.x),t.setAttribute("y",this.point.y),t.setAttribute("fill",this.color),t.setAttribute("font-size",this.size),"bold"==this.weight?t.setAttribute("font-weight",this.weight):"italic"==this.weight&&t.setAttribute("font-style",this.weight),t.setAttribute("text-anchor",this.textAlign),t.setAttribute("baseline",this.textBaseline),t.setAttribute("font-family",this.font),t.setAttribute("whiteSpace","pre");var i=document.createTextNode(this.text);return t.appendChild(i),t},e.prototype.drawCanvas=async function(e){e.font=this.weight+" "+this.size+"px "+this.font,e.textAlign=this.textAlign,e.fillStyle=this.color,e.fillText(this.text,this.point.x,this.point.y)},e}(),CircleGraph=function(){function e(e,t,i,a,r){this.point=e,this.radius=t,this.fill=i,this.stroke=a,this.thickness=r}return e.prototype.getElement=function(){var e=glhp.crgs("circle");return e.setAttribute("cx",this.point.x),e.setAttribute("cy",this.point.y),e.setAttribute("r",this.radius),e.setAttribute("fill",this.fill),this.stroke&&e.setAttribute("stroke",this.stroke),"number"==typeof this.thickness&&e.setAttribute("stroke-width",this.thickness),e},e.prototype.drawCanvas=async function(e){e.save(),e.beginPath(),e.fillStyle=this.fill,e.strokeStyle=this.stroke,e.arc(this.point.x,this.point.y,this.radius,0,2*Math.PI),e.stroke(),e.fill(),e.closePath(),e.restore()},e}(),PolylineGraph=function(){function e(e,t,i,a,r){void 0===r&&(r="Solid"),this.points=e,this.fill=t,this.stroke=i,this.thickness=a,this.typeDashArray=r}return e.prototype.GetDashArray=function(e,t){switch(e){case"Solid":return"";case"RoundDot":return"1,"+1.5*t;case"SquareDot":return.15*t+","+1.5*t;case"Dash":return 2*t+","+2*t;case"DashDot":return 1.9*t+","+1.9*t+","+.2*t+","+1.9*t;case"LongDash":return 2.75*t+","+1.75*t;case"LongDashDot":return 3*t+","+2*t+","+.25*t+","+2*t;case"LongDashDotDot":return 3*t+","+1.8*t+","+.5*t+","+1.8*t+","+.5*t+","+1.8*t}return""},e.prototype.getElement=function(){var e=document.createElementNS("http://www.w3.org/2000/svg","polyline");return e.setAttribute("points",this.points),e.setAttribute("fill",this.fill),this.stroke&&e.setAttribute("stroke",this.stroke),"number"==typeof this.thickness&&e.setAttribute("stroke-width",this.thickness),e.setAttribute("stroke-dasharray",this.GetDashArray(this.typeDashArray,this.thickness)),e},e.prototype.drawCanvas=async function(e){e.save(),e.beginPath(),this.points.split` `.map((t,i)=>{var a;a=t.split`,`,0==i?e.moveTo(a[0],a[1]):a.length>1&&e.lineTo(a[0],a[1])}),e.strokeStyle=this.stroke,e.lineWidth=this.thickness,e.fillStyle=this.fill,e.fill(),e.stroke(),e.closePath(),e.restore()},e}();glrs.addModule({Level:glen.ModuleLevel.Element,ContentType:"Graph",grez:function(e,t){return new Graph(e).genGraph()},drawCanvas:async function(e,t,i){var a=new Graph(e),r=0==isMobile?e.rtwdkt:isTabletLandscape?e.rtwtls:isTabletPortrait?e.rtwtpt:isMobileLandscape?e.rtwmls:isMobilePortrait?e.rtwmpt:e.w,s=0==isMobile?e.rthdkt:isTabletLandscape?e.rthtls:isTabletPortrait?e.rthtpt:isMobileLandscape?e.rthmls:isMobilePortrait?e.rthmpt:e.h,n=Math.min(r,s);return i.scale(n,n),await a.drawCanvas(i)}});var MathGeometry=function(){function e(e){this.options=e}return e.prototype.genMathGeometry=function(){var e=new DrawMathGeometrySVG(this.options),t=0==isMobile?this.options.rtwdkt:isTabletLandscape?this.options.rtwtls:isTabletPortrait?this.options.rtwtpt:isMobileLandscape?this.options.rtwmls:isMobilePortrait?this.options.rtwmpt:1,i=0==isMobile?this.options.rthdkt:isTabletLandscape?this.options.rthtls:isTabletPortrait?this.options.rthtpt:isMobileLandscape?this.options.rthmls:isMobilePortrait?this.options.rthmpt:1,a=Math.min(t,i);return e.gdcv(a)},e.prototype.drawCanvas=async function(e){var t=new DrawMathGeometrySVG(this.options);return await t.drawCanvas(e)},e}(),LineMathGeometry=function(){function e(e,t,i,a,r,s,n){void 0===n&&(n="Solid"),this.point1=e,this.point2=t,this.color=i||"black",this.lineWidth=0!=a?a||1:a,this.strokeLineCap=r||"Square",this.strokeLineJoin=s||"Miter",this.typeDashArray=n}return e.prototype.getElement=function(){"RoundDot"==this.typeDashArray&&(this.strokeLineCap="round");var e=glhp.crgs("line");return e.setAttribute("x1",this.point1.x),e.setAttribute("y1",this.point1.y),e.setAttribute("x2",this.point2.x),e.setAttribute("y2",this.point2.y),e.setAttribute("stroke",this.color),e.setAttribute("stroke-width",this.lineWidth),e.setAttribute("stroke-linecap",this.strokeLineCap),e.setAttribute("stroke-linejoin",this.strokeLineJoin),e.setAttribute("stroke-dasharray",shzp.dskz(this.typeDashArray,this.lineWidth)),e},e.prototype.drawCanvas=async function(e){e.save(),e.beginPath(),e.moveTo(this.point1.x,this.point1.y),e.lineTo(this.point2.x,this.point2.y),e.strokeStyle=this.color,e.lineWidth=this.lineWidth,e.lineCap=this.strokeLineCap,e.lineJoin=this.strokeLineJoin,e.stroke(),e.closePath(),e.restore()},e}(),RectMathGeometry=function(){function e(e,t,i,a,r,s,n,l,o){void 0===o&&(o="Solic"),void 0===s&&(s=0),this.point=e,this.w=t,this.h=i,this.colorStroke=r,this.strokeWidth=s,this.strokeLineCap=n||"Square",this.strokeLineJoin=l||"Miter",this.typeDashArray=o,this.fill=a}return e.prototype.getElement=function(){var e=glhp.crgs("rect");return e.setAttribute("x",this.point.x),e.setAttribute("y",this.point.y),e.setAttribute("width",this.w),e.setAttribute("height",this.h),e.setAttribute("fill",this.fill),this.colorStroke&&e.setAttribute("stroke",this.colorStroke),"number"==typeof this.strokeWidth&&e.setAttribute("stroke-width",this.strokeWidth),e.setAttribute("stroke-linecap",this.strokeLineCap),e.setAttribute("stroke-linejoin",this.strokeLineJoin),e.setAttribute("stroke-dasharray",shzp.dskz(this.typeDashArray)),e},e.prototype.drawCanvas=async function(e){e.save(),e.beginPath(),e.fillStyle=this.fill,this.colorStroke&&(e.strokeStyle=this.colorStroke),"number"==typeof this.strokeWidth&&(e.lineWidth=this.strokeWidth),e.rect(this.point.x,this.point.y,this.w,this.h),e.fill(),e.stroke(),e.closePath(),e.restore()},e}(),RectMathBackground=function(){function e(e,t,i,a,r,s,n,l,o){void 0===l&&(l="Solic"),void 0===r&&(r=0),this.w=e,this.h=t,this.colorStroke=a,this.strokeWidth=r,this.strokeLineCap=s||"Square",this.strokeLineJoin=n||"Miter",this.typeDashArray=l,this.fill=i,this.g=o}return e.prototype.calculatorOpacity=function(e){return e/255},e.prototype.calculatorOffset=function(e){return 100*e},e.prototype.makeId=function(){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=0;i<5;i++)e+=t.charAt(Math.floor(Math.random()*t.length));return e},e.prototype.getElement=function(){var e=glhp.crgs("rect");if(e.setAttribute("x",0),e.setAttribute("y",0),e.setAttribute("width",this.w),e.setAttribute("height",this.h),"Solid"===this.fill.CoT)e.setAttribute("fill",this.fill.col);else if("Gradient"==this.fill.CoT&&"Linear"==this.fill.gT){var t,i=document.createElementNS(xmlNs,"defs"),a=document.createElementNS(xmlNs,"linearGradient"),r=this.makeId();a.setAttribute("id",r),a.setAttribute("gradientTransform","rotate("+this.fill.agl+", 0.5, 0.5)");for(var s=this.fill,n=0;n<s.sts.length;n++){var l=s.sts[n],o=this.calculatorOffset(l.ofs)+"%",h=this.calculatorOpacity(l.opc);t=createStop(o,l.col,h),a.appendChild(t)}i.appendChild(a);var d=glhp.crgs("g","","linear");d.appendChild(i),this.g.appendChild(d),e.setAttribute("fill","url(#"+r+")")}return this.colorStroke&&"Solid"===this.colorStroke.CoT&&e.setAttribute("stroke",this.colorStroke.col),"number"==typeof this.strokeWidth&&e.setAttribute("stroke-width",this.strokeWidth),e.setAttribute("stroke-linecap",this.strokeLineCap),e.setAttribute("stroke-linejoin",this.strokeLineJoin),e.setAttribute("stroke-dasharray",shzp.dskz(this.typeDashArray)),e},e.prototype.drawCanvas=async function(e){e.save(),e.beginPath(),e.fillStyle=this.fill.col,e.strokeStyle=this.fill.col,e.lineWidth=this.strokeWidth,e.rect(0,0,this.w,this.h),e.stroke(),e.fill()},e}(),TextMathGeometry=function(){function e(e,t,i,a,r,s,n,l){this.point=t,this.text=e,this.font=i,this.size=a,this.color=s||"black",this.textAlign=n||"start",this.textBaseline=l||"hanging",this.weight=r}return e.prototype.getElement=function(e){void 0===e&&(e=!1);var t=glhp.crgs("text");t.setAttribute("x",this.point.x),t.setAttribute("y",this.point.y),t.setAttribute("fill",this.color),t.setAttribute("font-size",this.size),"bold"==this.weight?t.setAttribute("font-weight",this.weight):"italic"==this.weight&&t.setAttribute("font-style",this.weight),t.setAttribute("text-anchor",this.textAlign),t.setAttribute("baseline",this.textBaseline),t.setAttribute("font-family",this.font),t.setAttribute("whiteSpace","pre");var i=document.createTextNode(this.text);return t.appendChild(i),t},e.prototype.drawCanvas=async function(e){e.font=this.weight+" "+this.size+"px "+this.font,e.textAlign=this.textAlign,e.fillStyle=this.color,e.fillText(this.text,this.point.x,this.point.y)},e}(),CircleMathGeometry=function(){function e(e,t,i,a,r,s){void 0===s&&(s="Solid"),this.point=e,this.radius=t,this.fill=i,this.stroke=a,this.thickness=r,this.typeDashArray=s}return e.prototype.GetDashArray=function(e,t){switch(e){case"Solid":return"";case"RoundDot":return"1,"+1.5*t;case"SquareDot":return 1.5*t+","+.5*t;case"Dash":return 2*t+","+2*t;case"DashDot":return 1.9*t+","+1.9*t+","+.2*t+","+1.9*t;case"LongDash":return 2.75*t+","+1.75*t;case"LongDashDot":return 3*t+","+2*t+","+.25*t+","+2*t;case"LongDashDotDot":return 3*t+","+1.8*t+","+.5*t+","+1.8*t+","+.5*t+","+1.8*t}return""},e.prototype.getElement=function(){var e=glhp.crgs("circle");return e.setAttribute("cx",this.point.x),e.setAttribute("cy",this.point.y),e.setAttribute("r",this.radius),e.setAttribute("fill",this.fill),this.stroke&&e.setAttribute("stroke",this.stroke),"number"==typeof this.thickness&&e.setAttribute("stroke-width",this.thickness),e.setAttribute("stroke-dasharray",this.GetDashArray(this.typeDashArray,this.thickness)),"RoundDot"==this.typeDashArray&&(this.strokeLineCap="round",e.setAttribute("stroke-linecap",this.strokeLineCap)),e},e.prototype.drawCanvas=async function(e){e.save(),e.beginPath(),e.fillStyle=this.fill,e.strokeStyle=this.stroke,e.arc(this.point.x,this.point.y,this.radius,0,2*Math.PI),e.lineWidth=this.thickness,e.stroke(),e.fill(),e.closePath(),e.restore()},e}(),PolylineMathGeometry=function(){function e(e,t,i,a,r){void 0===r&&(r="Solid"),this.points=e,this.fill=t,this.stroke=i,this.thickness=a,this.typeDashArray=r}return e.prototype.GetDashArray=function(e,t){switch(e){case"Solid":return"";case"RoundDot":return"1,"+1.5*t;case"SquareDot":return 1.5*t+","+.5*t;case"Dash":return 2*t+","+2*t;case"DashDot":return 1.9*t+","+1.9*t+","+.2*t+","+1.9*t;case"LongDash":return 2.75*t+","+1.75*t;case"LongDashDot":return 3*t+","+2*t+","+.25*t+","+2*t;case"LongDashDotDot":return 3*t+","+1.8*t+","+.5*t+","+1.8*t+","+.5*t+","+1.8*t}return""},e.prototype.getElement=function(){var e=document.createElementNS("http://www.w3.org/2000/svg","polyline");return e.setAttribute("points",this.points),e.setAttribute("fill",this.fill),this.stroke&&e.setAttribute("stroke",this.stroke),"number"==typeof this.thickness&&e.setAttribute("stroke-width",this.thickness),e.setAttribute("stroke-dasharray",this.GetDashArray(this.typeDashArray,this.thickness)),"RoundDot"==this.typeDashArray&&(this.strokeLineCap="round",e.setAttribute("stroke-linecap",this.strokeLineCap)),e},e.prototype.drawCanvas=async function(e){e.save(),e.beginPath(),this.points.split` `.map((t,i)=>{var a;a=t.split`,`,0==i?e.moveTo(a[0],a[1]):a.length>1&&e.lineTo(a[0],a[1])}),e.strokeStyle=this.stroke,e.lineWidth=this.thickness,e.fillStyle=this.fill,e.fill(),e.stroke(),e.closePath(),e.restore()},e}(),EllipseMathGeometry=function(){function e(e,t,i,a,r,s,n,l,o,h){void 0===o&&(o="Solid"),this.point=e,this.radiusX=t,this.radiusY=i,this.fill=a,this.stroke=r,this.thickness=s,this.transform=h,this.strokeLineCap=n||"Square",this.strokeLineJoin=l||"Miter",this.typeDashArray=o}return e.prototype.GetDashArray=function(e,t){switch(e){case"Solid":return"";case"RoundDot":return"1,"+1.5*t;case"SquareDot":return 1.5*t+","+.5*t;case"Dash":return 2*t+","+2*t;case"DashDot":return 1.9*t+","+1.9*t+","+.2*t+","+1.9*t;case"LongDash":return 2.75*t+","+1.75*t;case"LongDashDot":return 3*t+","+2*t+","+.25*t+","+2*t;case"LongDashDotDot":return 3*t+","+1.8*t+","+.5*t+","+1.8*t+","+.5*t+","+1.8*t}return""},e.prototype.getElement=function(){"RoundDot"==this.typeDashArray&&(this.strokeLineCap="round");var e=glhp.crgs("ellipse");return e.setAttribute("cx",this.point.x),e.setAttribute("cy",this.point.y),e.setAttribute("rx",this.radiusX),e.setAttribute("ry",this.radiusY),e.setAttribute("stroke-dasharray",this.GetDashArray(this.typeDashArray,this.thickness)),e.setAttribute("stroke-linejoin",this.strokeLineJoin),e.setAttribute("stroke-linecap",this.strokeLineCap),e.setAttribute("fill",this.fill),e.setAttribute("transform",this.transform),this.stroke&&e.setAttribute("stroke",this.stroke),"number"==typeof this.thickness&&e.setAttribute("stroke-width",this.thickness),e},e.prototype.drawCanvas=async function(e){e.save(),e.beginPath();var t=this.GetDashArray(this.typeDashArray,this.thickness);e.setLineDash(t.split`,`.map(e=>+e)),e.strokeStyle=this.stroke,e.ellipse(this.point.x,this.point.y,this.radiusX,this.radiusY,0,0,2*Math.PI),e.lineWidth=this.thickness,e.stroke(),e.closePath(),e.restore()},e}(),AngleMathGeometry=function(){function e(e,t,i,a,r,s){this.endPoint=i,this.secondPoint=t,this.fill=a,this.startPoint=e,this.stroke=r,this.thickness=s}return e.prototype.getElement=function(){var e=180*Math.atan2(this.startPoint.y-this.secondPoint.y,this.startPoint.x-this.secondPoint.x)/Math.PI,t=180*Math.atan2(this.endPoint.y-this.secondPoint.y,this.endPoint.x-this.secondPoint.x)/Math.PI,i=20,a=e-t,r=a<0?360+a:a;Math.abs(r-90)<=.01&&(i=12),e=e*Math.PI/180,t=t*Math.PI/180;var s=this.secondPoint.x+i*Math.cos(e),n=this.secondPoint.y+i*Math.sin(e),l=this.secondPoint.x+i*Math.cos(t),o=this.secondPoint.y+i*Math.sin(t),h=r>180?"1":"0",d=glhp.crgs("path"),c=`M  ${this.secondPoint.x} ${this.secondPoint.y} L ${s} ${n} A ${i} ${i} 0 ${h} 0 ${l} ${o}  L ${this.secondPoint.x} ${this.secondPoint.y} Z`;Math.abs(r-90)<=.01&&(c=`M ${s} ${n} L ${s+l-this.secondPoint.x} ${n+o-this.secondPoint.y}  L ${l} ${o} L ${this.secondPoint.x} ${this.secondPoint.y} Z`);return d.setAttribute("d",c),d.setAttribute("fill",this.fill),this.stroke&&d.setAttribute("stroke",this.stroke),"number"==typeof this.thickness&&d.setAttribute("stroke-width",this.thickness),d},e.prototype.drawCanvas=async function(e){e.save(),e.beginPath();var t=180*Math.atan2(this.startPoint.y-this.secondPoint.y,this.startPoint.x-this.secondPoint.x)/Math.PI,i=180*Math.atan2(this.endPoint.y-this.secondPoint.y,this.endPoint.x-this.secondPoint.x)/Math.PI,a=20,r=t-i,s=r<0?360+r:r;Math.abs(s-90)<=.01&&(a=12),t=t*Math.PI/180,i=i*Math.PI/180;var n=this.secondPoint.x+a*Math.cos(t),l=this.secondPoint.y+a*Math.sin(t),o=this.secondPoint.x+a*Math.cos(i),h=this.secondPoint.y+a*Math.sin(i),d=s>180?"1":"0",c=`M  ${this.secondPoint.x} ${this.secondPoint.y} L ${n} ${l} A ${a} ${a} 0 ${d} 0 ${o} ${h}  L ${this.secondPoint.x} ${this.secondPoint.y} Z`;Math.abs(s-90)<=.01&&(c=`M ${n} ${l} L ${n+o-this.secondPoint.x} ${l+h-this.secondPoint.y}  L ${o} ${h} L ${this.secondPoint.x} ${this.secondPoint.y} Z`);let p=new Path2D(c);e.lineWidth=this.thickness,e.strokeStyle=this.stroke,e.stroke(p),e.closePath(),e.restore()},e}();glrs.addModule({Level:glen.ModuleLevel.Element,ContentType:"MathGeometry",grez:function(e,t){return new MathGeometry(e).genMathGeometry()},drawCanvas:async function(e,t,i){var a=new MathGeometry(e);return await a.drawCanvas(i)}}),glrs.addModule({Level:glen.ModuleLevel.Element,ContentType:"MindMap",grez:function(e,t){var i=glhp.crgs("div","","mindmap"),a=0==isMobile?e.rtwdkt:isTabletLandscape?e.rtwtls:isTabletPortrait?e.rtwtpt:isMobileLandscape?e.rtwmls:isMobilePortrait?e.rtwmpt:1,r=0==isMobile?e.rthdkt:isTabletLandscape?e.rthtls:isTabletPortrait?e.rthtpt:isMobileLandscape?e.rthmls:isMobilePortrait?e.rthmpt:1,s=Math.min(a,r);return e.es.forEach((function(e){var t=(e=new MindMapElement(e)).gdcv();null!=t&&(t.style.transformOrigin="0 0",t.style.transform="scale("+s+","+s+")",i.appendChild(t))})),i},drawCanvas:async function(e,t,i){e.es&&e.es.length>0&&e.es.sort((e,t)=>e.zin-t.zin);for(let t=0;t<e.es.length;t++){const l=e.es[t];if(l&&l.visible){var a=new MindMapElement(l),r=0==isMobile?e.rtwdkt:isTabletLandscape?e.rtwtls:isTabletPortrait?e.rtwtpt:isMobileLandscape?e.rtwmls:isMobilePortrait?e.rtwmpt:e.w,s=0==isMobile?e.rthdkt:isTabletLandscape?e.rthtls:isTabletPortrait?e.rthtpt:isMobileLandscape?e.rthmls:isMobilePortrait?e.rthmpt:e.h,n=Math.min(r,s);i.scale(n,n),await a.drawCanvas(i)}}}});var MindMapElement=function(){function e(e){this.Data=e,this.div=glhp.crgs("div","","mindmap"),this.div.style.position="relative";var t=glhp.crgs("svg","","");if(t.style.zIndex=e.zin,t.style.position="absolute",t.setAttribute("width",e.w),t.setAttribute("height",e.h),t.style.transform="translate("+e.l+"px ,"+e.T+"px)","Connected"==e.ct){var i=glhp.crgs("path","","");if(""!=e.arr&&i.setAttribute("stroke-dasharray",e.arr),null!=e.dt&&i.setAttribute("d",e.dt.replace("F1","")),i.setAttribute("stroke",e.fil.col),0==e.li?(i.setAttribute("fill",e.fil.col),i.setAttribute("stroke-width",0)):(i.setAttribute("fill","transparent"),i.setAttribute("stroke-width",1)),t.appendChild(i),""!==e.ard){var a=glhp.crgs("path","","");a.setAttribute("d",e.ard),a.setAttribute("stroke-width",0),a.setAttribute("stroke","transparent"),a.setAttribute("fill",e.fil.col),t.appendChild(a)}if(!e.hs){var r=glhp.crgs("text","","");r.setAttribute("fill",e.col.col),r.style="display: inline-flex;text-align: "+e.ta+"; font-size: "+e.fs+"px;font-family: "+e.ff+";font-weight: "+e.fw+";font-style: "+e.fst+";text-decoration: "+e.u+";color: "+e.col.col+";  transform: translate("+"0, "+"0px)",r.setAttribute("x",e.tps);var s=new glhp.crgs("path","textpath"+e.ID,"");null!=e.tp&&s.setAttribute("d",e.tp.replace("F1","")),s.setAttribute("stroke-width","1"),s.setAttribute("stroke","transparent"),s.setAttribute("fill","transparent");var n=document.createElementNS(xmlNs,"textPath");n.setAttribute("xlink:href","#textpath"+e.ID);var l=glhp.crgs("tspan","","");l.setAttribute("dy",-e.tsp),l.setAttribute("dx",e.tsp),l.textContent=e.tx,n.appendChild(l),r.appendChild(n),t.appendChild(s),t.appendChild(r)}}else if("content"==e.ct){if(e.hs){var o=glhp.crgs("path","","");o.style.zIndex=e.zin,o.setAttribute("d",e.dt),o.setAttribute("stroke-width",2),o.setAttribute("stroke",e.fil.col),null==e.fil?o.setAttribute("fill","transparent"):o.setAttribute("fill",e.sfl.col),t.appendChild(o)}if(""!=e.sr){var h=glhp.crgs("defs","","");(p=glhp.crgs("pattern","partent"+e.ID,"")).setAttribute("width",e.w),p.setAttribute("height",e.h),p.setAttribute("patternUnits","userSpaceOnUse"),(u=glhp.crgs("image","image"+e.ID,"image")).setAttribute("width",e.w),u.setAttribute("height",e.h),u.setAttribute("xlink:href",e.sr),u.setAttribute("preserveAspectRatio","none"),p.appendChild(u),h.appendChild(p),t.appendChild(h),(m=glhp.crgs("rect","","")).setAttribute("width",e.w),m.setAttribute("height",e.h),m.setAttribute("fill","url(#partent"+e.ID+")"),t.appendChild(m)}var d=glhp.crgs("div","divtext"+e.ID,"");d.style.position="absolute",d.style="position: absolute;width: "+e.w+"px;height: "+e.h+"px;left: "+e.l+"px; top: "+e.T+"px; z-index: "+e.zin+";justify-content: center;justify-items: center;display: flex;vertical-align: middle;align-items: center;    word-break: break-word;overflow: -webkit-paged-x;white-space: pre-line";var c=glhp.crgs("text","","");c.textContent=e.tx,c.style="display: inline-flex;text-align: "+e.ta+"; font-size: "+e.fs+"px;font-family: "+e.ff+";font-weight: "+e.fw+";font-style: "+e.fst+";text-decoration: "+e.u+";color: "+e.col.col+"; ",d.appendChild(c),this.divT=d;$("#divtext"+e.ID).height()}else if("Image"==e.ct){var p;h=glhp.crgs("defs","","");(p=glhp.crgs("pattern","partent"+e.ID,"")).setAttribute("width",e.w),p.setAttribute("height",e.h),p.setAttribute("patternUnits","userSpaceOnUse");var u,m,b=glhp.crgs("line","","");b.setAttribute("x1",e.x1),b.setAttribute("x2",e.x2),b.setAttribute("y1",e.y1),b.setAttribute("y2",e.y2),b.setAttribute("stroke-dasharray","5 5"),b.setAttribute("stroke-width",1),b.setAttribute("stroke","red"),b.setAttribute("fill","transparent"),t.appendChild(b),(u=glhp.crgs("image","image"+e.ID,"image")).setAttribute("width",e.w),u.setAttribute("height",e.h),u.setAttribute("xlink:href",e.sr),u.setAttribute("preserveAspectRatio","none"),p.appendChild(u),h.appendChild(p),t.appendChild(h),(m=glhp.crgs("rect","","")).setAttribute("width",e.w),m.setAttribute("height",e.h),m.setAttribute("fill","url(#partent"+e.ID+")"),t.appendChild(m)}this.div.appendChild(t),null!=this.divT&&this.div.appendChild(this.divT),this.div.innerHTML=this.div.outerHTML}var t=e.prototype;return t.gdcv=function(){return this.div},t.drawPath=function(e,t){e.save(),e.strokeStyle="red",e.lineWidth=1,e.beginPath(),e.moveTo(t[0],t[1]);for(var i=2;i<t.length;i+=2)e.lineTo(t[i],t[i+1]);return e.stroke(),e.restore(),""},t.drawCanvas=async function(e){e.save();var t=this.Data;if(e.translate(t.l,t.T),"Connected"==t.ct){var i=new Path2D(t.dt.replace("F1",""));e.strokeStyle=t.fil.col,0==t.li?(e.fillStyle=t.fil.col,e.lineWidth=0):(e.fillStyle="transparent",e.lineWidth=1,""!=t.arr&&e.setLineDash(t.arr.split` `.map(e=>+e))),e.stroke(i),e.fill(i),""!==t.ard&&(i=new Path2D(t.ard),e.lineWidth=0,e.fillStyle=t.fil.col,e.setLineDash([]),e.stroke(i),e.fill(i)),!t.hs&&t.tp&&drwtOnPath(t,e)}else if("content"==t.ct){if(t.hs){i=new Path2D(t.dt);e.lineWidth=4,e.strokeStyle=t.fil.col,null==t.fil?e.fillStyle="transparent":e.fillStyle=t.sfl.col,e.stroke(i),e.fill(i,"evenodd")}if(a=glrs.getBase64Resource(t.ID))(r=await loadImage(a))&&e.drawImage(r,0,0,t.w,t.h);switch(e.font=t.fst+" "+t.fw+" "+t.fs+"px "+t.ff,e.fillStyle=t.col.col,e.globalAlpha=t.opt,t.ta){case"Center":e.textAlign="center",e.fillText(t.tx,t.w/2,t.h/2);break;case"Left":e.textAlign="left",e.fillText(t.tx,0,t.h/2);break;case"Right":e.textAlign="right",e.fillText(t.tx,t.w,t.h/2)}}else if("Image"==t.ct){var a,r;if(a=glrs.getBase64Resource(t.ID))(r=await loadImage(a))&&(e.save(),e.beginPath(),e.moveTo(t.x1,t.y1),e.lineTo(t.x2,t.y2),e.setLineDash([5,5]),e.lineWidth=1,e.strokeStyle="red",e.stroke(),e.translate(t.w/2,t.h/2),e.rotate(t.ag/180*Math.PI),e.translate(-t.w/2,-t.h/2),e.drawImage(r,0,0,t.w,t.h),e.restore())}e.restore()},e}();function loadImage(e){return new Promise((t,i)=>{let a=document.createElement("img");a.onload=()=>{t(a)},a.onerror=i,a.src=e})}function getIntersectionPoints(e,t,i,a){var r=e.split("L"),s=[],n=r[0].replace("M","").split(",");s.push(new mmPoint(+n[0],+n[1]));for(let e=1;e<r.length;e++){const t=r[e].split(",");2==t.length&&s.push(new mmPoint(+t[0],+t[1]))}var l=[],o=0,h=1,d=0,c=0,p=GetWidthFromPoints(s);switch(i){case"Left":d=0;for(var u=0;u<s.length-1;u++)if((d+=Math.sqrt(Math.pow(s[u+1].x-s[u].x,2)+Math.pow(s[u+1].y-s[u].y,2)))>=0){o=u;break}break;case"Right":if(d=0,a>p-0)break;c=p-a-0;for(u=0;u<s.length-1;u++)if((d+=Math.sqrt(Math.pow(s[u+1].x-s[u].x,2)+Math.pow(s[u+1].y-s[u].y,2)))>=c){o=u;break}break;case"Center":if(d=0,a>p)break;c=p/2-a/2;for(u=0;u<s.length-1;u++)if((d+=Math.sqrt(Math.pow(s[u+1].x-s[u].x,2)+Math.pow(s[u+1].y-s[u].y,2)))>=c){o=u;break}}var m=s[o];for(l.push(m);o<s.length-1&&h<t.length+1;){var b=getIntersectionOfSegmentAndCircle(s[o],s[o+1],m,t[h-1]);null==b?o++:(l.push(b),m=b,s[o]=m,h++)}return l}function GetWidthFromPoints(e){for(var t=0,i=0;i<e.length-1;i++)t+=Math.sqrt(Math.pow(e[i+1].x-e[i].x,2)+Math.pow(e[i+1].y-e[i].y,2));return t}function drwtOnPath(e,t){t.save(),t.font=e.fst+" "+e.fw+" "+e.fs+"px "+e.ff,t.fillStyle=e.col.col;for(var i=e.tp.replace("F1",""),a=e.tx,r=getCharLengths(a,t),s=t.measureText(a),n=getIntersectionPoints(i,r,e.ta,s.width),l=0;l<n.length-1;l++){var o=Math.sqrt(Math.pow(n[l].x+r[l]-n[l+1].x,2)+Math.pow(n[l].y-n[l+1].y,2))/2/Math.sqrt(Math.pow(n[l].x-n[l+1].x,2)+Math.pow(n[l].y-n[l+1].y,2));o>1?o=1:o<-1&&(o=-1);var h=2*Math.asin(o)*180/Math.PI;n[l].x+r[l]>n[l].x?n[l+1].y<n[l].y&&(h=-h):n[l+1].y>n[l].y&&(h=-h),t.save(),t.translate(n[l].x,n[l].y),t.rotate(h/180*Math.PI),t.translate(0,-e.tsp),t.fillText(a[l],0,0),t.restore()}t.restore()}function getIntersectionOfSegmentAndCircle(e,t,i,a){var r=(t.y-e.y)/(t.x-e.x),s=e.y-r*e.x;if(r===1/0||r===-1/0){if((o=Math.pow(a,2)-Math.pow(e.x-i.x,2))<0)return null;var n=new mmPoint(p=e.x,u=i.y-Math.sqrt(o));if(isBetween(p,e.x,t.x)&&isBetween(u,e.y,t.y))return n;var l=new mmPoint(m=e.x,b=i.y+Math.sqrt(o));if(isBetween(m,e.x,t.x)&&isBetween(b,e.y,t.y))return l}else{var o,h=1+Math.pow(r,2),d=-2*i.x+2*(s-i.y)*r,c=Math.pow(i.x,2)+Math.pow(s-i.y,2)-Math.pow(a,2);if((o=Math.pow(d,2)-4*h*c)<0)return null;var p,u;n=new mmPoint(p=(-d+Math.sqrt(o))/(2*h),u=r*p+s);if(isBetween(p,e.x,t.x)&&isBetween(u,e.y,t.y))return n;var m,b;l=new mmPoint(m=(-d-Math.sqrt(o))/(2*h),b=r*m+s);if(isBetween(m,e.x,t.x)&&isBetween(b,e.y,t.y))return l}return null}function isBetween(e,t,i){return e=Math.round(e),(t=Math.round(t))>=(i=Math.round(i))&&e<=t&&e>=i||t<=i&&e>=t&&e<=i}function getCharLengths(e,t){var i=[];for(let r=0;r<e.length;r++){const s=e[r];var a=t.measureText(s);i.push(a.width)}return i}function mmPoint(e,t){this.x=e,this.y=t}glrs.addModule({Level:glen.ModuleLevel.Element,ContentType:"crossword",grez:function(e,t){return CrosswordModule.GetCrossword(e)},drawCanvas:async function(e,t,i){var a=0==isMobile?e.rtwdkt:isTabletLandscape?e.rtwtls:isTabletPortrait?e.rtwtpt:isMobileLandscape?e.rtwmls:isMobilePortrait?e.rtwmpt:e.w,r=0==isMobile?e.rthdkt:isTabletLandscape?e.rthtls:isTabletPortrait?e.rthtpt:isMobileLandscape?e.rthmls:isMobilePortrait?e.rthmpt:e.h,s=Math.min(a,r);i.scale(s,s),await CrosswordModule.GetCrosswordDrawCanvas(e,i)}}),glrs.addModule({Level:glen.ModuleLevel.Element,ContentType:"crosswordinput",grez:function(e,t){return CrosswordInputModule.GetCrosswordInput(e)}}),glrs.addModule({Level:glen.ModuleLevel.Element,ContentType:"crosswordbutton",grez:function(e,t){return ButtonSubmitModule.GetCrosswordButton(e)},drawCanvas:async function(e,t,i){await ButtonSubmitModule.GetCrosswordButtonDrawCanvas(e,i)}});var CrosswordModule=function(){function e(e){if(glhp.DataLocal.Crosswords||(glhp.DataLocal.Crosswords=[]),!function(e){for(var t=0;t<glhp.DataLocal.Crosswords.length;t++){if(glhp.DataLocal.Crosswords[t].id==e.id)return!0}return!1}(e)){for(var t=[],i=0;i<e.rs.length;i++){var a=e.rs[i],r={id:a.id,answer:a.as,layerId:a.ql,rowId:a.rId,answeruser:"none"};t.push(r)}var s={id:e.id,keyword:e.kw,rows:t,hk:e.hk,layerId:e.ql,rowId:e.rId,answeruser:"none"};glhp.DataLocal.Crosswords.push(s)}}function t(e){setTimeout((function(){CrosswordModule.ShowQuestionLayer("",e)}),1)}function i(e,t){var i=glhp.crgs("div","row"+e.rId,"crossword"+t);i.style.position="absolute",i.style.transform="translate("+e.l+"px ,"+e.t+"px)",i.style.width=e.w+"px",i.style.height=e.h+"px",i.style.cursor="pointer";for(var a=0;a<e.crs.length;a++){var s=r(e.crs[a]);s.className="crosswordunit",i.appendChild(s)}var n=r(e.hd,!0);n.id="header"+e.id,n.style.width=e.crs[e.crs.length-1].l+e.crs[e.crs.length-1].h+"px",n.className="questionrow",i.appendChild(n);e.hd;var l=glhp.crgs("div");l.setAttribute("style"," width:"+e.hd.w+"px;height:"+e.hd.h+"px;position: absolute;"),l.style.transform="translate("+e.hd.l+e.hd.w+"px ,"+e.hd.t+"px)";var o=glhp.crgs("svg");o.setAttribute("style"," width:12px;height:12px;position: absolute;transform: translate("+(e.hd.w-12)/2+"px,"+(e.hd.w-12)/2+"px);"),o.setAttribute("viewBox"," 0 0 490.434 490.433"),l.appendChild(o);var h=glhp.crgs("g"),d=glhp.crgs("path","result"+e.rId,"");h.appendChild(d),o.appendChild(h),i.appendChild(l);var c=CrosswordModule.GetCrossworData(t),p=CrosswordModule.GetRowData(c,e.rId);if(null!=p){if(1==p.answeruser?(d.setAttribute("d",CrosswordModule.correctPath),d.setAttribute("fill",CrosswordModule.successColor)):0==p.answeruser&&(d.setAttribute("d",CrosswordModule.failPath),d.setAttribute("fill",CrosswordModule.failColor)),"none"!=p.answeruser||"none"!=c.answeruser){var u=i.getElementsByClassName("crosswordunit");for(a=0;a<u.length;a++){u[a].getElementsByTagName("span")[0].innerHTML=p.answer.charAt(a)}n.style.pointerEvents="none"}"none"!=c.answeruser&&(n.style.pointerEvents="none")}return i}async function a(e,t,i){i.save(),i.translate(e.l,e.t);for(var a=0;a<e.crs.length;a++)i.save(),await s(e.crs[a],!1,i),i.restore();await s(e.hd,!0,i);var r=CrosswordModule.GetCrossworData(t),n=CrosswordModule.GetRowData(r,e.rId);if(null!=n){if(1==n.answeruser){i.save(),i.translate((e.hd.w-12)/2+e.hd.l+e.hd.w,(e.hd.w-12)/2+e.hd.t),i.lineWidth=2;var l=new Path2D(CrosswordModule.correctPath12);i.fillStyle=CrosswordModule.successColor,i.strokeStyle=CrosswordModule.successColor,i.fill(l),i.stroke(l),i.restore()}else if(0==n.answeruser){i.save(),i.translate(e.hd.w/2-12+e.hd.l+e.hd.w,e.hd.w/2-12+e.hd.t);l=new Path2D(CrosswordModule.failPath12);i.fillStyle=CrosswordModule.failColor,i.strokeStyle=CrosswordModule.failColor,i.fill(l),i.stroke(l),i.restore()}if("none"!=n.answeruser||"none"!=r.answeruser)for(a=0;a<e.crs.length;a++)i.save(),await s(e.crs[a],!0,i,n.answer.charAt(a)),i.restore()}i.restore()}function r(e,t){void 0===t&&(t=!1);var i=glhp.crgs("div",e.id,"");i.style.position="absolute",i.style.transform="translate("+e.l+"px ,"+e.t+"px)",i.style.width=e.w+"px",i.style.height=e.h+"px";var a=glhp.crgs("svg","","cwsvg");a.style.position="absolute";var r=glhp.crgs("path");r.setAttribute("d",e.dt),r.setAttribute("fill",e.fil.col),r.setAttribute("stroke-width",e.tn),r.setAttribute("stroke",e.str.col),a.appendChild(r),i.appendChild(a);var s=glhp.crgs("span","","crosswordcontent");return s.setAttribute("style","position: absolute;width: "+e.w+"px;height:"+e.h+"px;font-size:"+e.fs+"px;font-family:"+e.fm+";font-style:"+e.fst+";text-decoration:"+e.td+";color:"+e.fg.col+";font-weight:"+e.fw+";fontvertical-align: middle;position: absolute;text-align: center;display: inline-flex;align-items: center;justify-content: center;"),t&&(s.innerHTML=e.tex),i.appendChild(s),i}function s(e,t,i,a){a&&(e.tex=a),void 0===t&&(t=!1),i.save(),i.translate(e.l,e.t);var r=new Path2D(e.dt);i.fillStyle=e.fil.col,i.lineWidth=e.tn,i.fill(r),t&&(i.font=e.fw+" "+e.fs+"px "+e.fm,i.textAlign="center",i.fillStyle=e.fg.col,i.fillText(e.tex,e.w/2,e.h/2+5,e.w)),i.restore()}return{GetCrossword:function(a){return e(a),function(e){var a=0==isMobile?e.rtwdkt:isTabletLandscape?e.rtwtls:isTabletPortrait?e.rtwtpt:isMobileLandscape?e.rtwmls:isMobilePortrait?e.rtwmpt:1,s=0==isMobile?e.rthdkt:isTabletLandscape?e.rthtls:isTabletPortrait?e.rthtpt:isMobileLandscape?e.rthmls:isMobilePortrait?e.rthmpt:1,n=Math.min(a,s),l=glhp.crgs("div","container"+e.id,"");l.setAttribute("style","position: absolute; width:"+e.w+"px;height:"+e.h+"px;    overflow: hidden");var o=glhp.crgs("div");o.setAttribute("style","position: absolute; width:"+e.w+"px;height:"+e.rct.h+"px;transform: translate("+e.rct.l+"px ,"+e.rct.t+"px);overflow-x: hidden;overflow-y: auto;");for(var h=0;h<e.rs.length;h++){var d=i(e.rs[h],e.id);d.style.width=e.w+"px",o.appendChild(d),t(e.rs[h])}if(l.appendChild(o),e.hk){var c=r(e.kas,!0);c.style.cursor="pointer",c.id="header"+e.id,c.className="keyword"+e.id;t(e);var p=glhp.crgs("div","row"+e.rId,"");p.className="crossword"+e.id,p.appendChild(c),l.appendChild(p)}var u=CrosswordModule.GetCrossworData(e.id);if(u.hk&&"none"!=u.answeruser){c.style.pointerEvents="none";var m=c.getElementsByTagName("span")[0],b=c.getElementsByTagName("path")[0];let e="",t="";switch(DOC.Lang.toLowerCase()){case"vi-vn":e="CHÍNH XÁC",t="CHƯA CHÍNH XÁC";break;case"en-us":e="CORRECT",t="FAILURE";break;case"th-th":e="ถูกต้อง",t="ไม่สําเร็จ";break;default:e="CORRECT",t="FAILURE"}1==u.answeruser?(b.setAttribute("fill",CrosswordModule.successColor),m.innerHTML=e):0==u.answeruser&&(b.setAttribute("fill",CrosswordModule.failColor),m.innerHTML=t)}return l.addEventListener("mouseup",e=>e.stopPropagation()),l.style.transformOrigin="0 0",l.style.transform="scale("+n+","+n+")",l&&DOC.isPresentation&&l.addEventListener("mouseup",(function(e){e.stopPropagation()})),l}(a)},ShowQuestionLayer:function(e,t){var i=t;$("#header"+i.id).click((function(){var e=glrs.crsl.lwid(i.ql),t=document.getElementById("row"+i.rId);t.parentNode&&(t.parentNode.style.pointerEvents="none"),null!=e&&e.show(!0)}))},GetCrossworData:function(e){for(var t=0;t<glhp.DataLocal.Crosswords.length;t++)if(glhp.DataLocal.Crosswords[t].id==e)return glhp.DataLocal.Crosswords[t]},GetRowData:function(e,t){for(var i=0;i<e.rows.length;i++)if(e.rows[i].rowId==t)return e.rows[i]},get correctPath(){return"M472.003,58.36l-13.132-11.282c-21.798-18.732-54.554-16.644-73.799,4.697L165.39,295.359l-66.312-57.112c-21.775-18.753-54.536-16.707-73.804,4.611l-11.611,12.848c-9.416,10.413-14.305,24.149-13.595,38.18c0.717,14.023,6.973,27.188,17.402,36.6l121.553,111.311c10.524,9.883,24.628,15.037,39.044,14.272c14.416-0.763,27.894-7.386,37.311-18.329l262.245-304.71c9.162-10.646,13.717-24.494,12.661-38.496C489.229,80.522,482.655,67.512,472.003,58.36z"},get failPath(){return"m415.402344 495.421875-159.40625-159.410156-159.40625 159.410156c-22.097656 22.09375-57.921875 22.09375-80.019532 0-22.09375-22.097656-22.09375-57.921875 0-80.019531l159.410157-159.40625-159.410157-159.40625c-22.09375-22.097656-22.09375-57.921875 0-80.019532 22.097657-22.09375 57.921876-22.09375 80.019532 0l159.40625 159.410157 159.40625-159.410157c22.097656-22.09375 57.921875-22.09375 80.019531 0 22.09375 22.097657 22.09375 57.921876 0 80.019532l-159.410156 159.40625 159.410156 159.40625c22.09375 22.097656 22.09375 57.921875 0 80.019531-22.097656 22.09375-57.921875 22.09375-80.019531 0zm0 0"},get correctPath12(){return"M 4.5 8.101562 L 2.398438 6 L 1.699219 6.699219 L 4.5 9.5 L 10.5 3.5 L 9.800781 2.800781 Z M 4.5 8.101562 "},get failPath12(){return"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"},get successColor(){return"rgba(124, 186, 17, 1)"},get failColor(){return"rgba(220, 90, 76, 1)"},GetCrosswordDrawCanvas:async function(e,t){var i=e;t.save(),t.translate(i.rct.l,i.rct.t);for(var r=0;r<i.rs.length;r++)await a(i.rs[r],i.id,t);t.restore()}}}(),SizeEnum={NoAnswer:1,True:2,False:3},CrosswordInputModule={GetCrosswordInput:function(e){return function(e){var t=glhp.crgs("div",e.id,"");t.style.position="absolute";var i=0==isMobile?e.widdkt:isTabletLandscape?e.widtls:isTabletPortrait?e.widtpt:isMobileLandscape?e.widmls:isMobilePortrait?e.widmpt:e.w,a=0==isMobile?e.heidkt:isTabletLandscape?e.heitls:isTabletPortrait?e.heitpt:isMobileLandscape?e.heimls:isMobilePortrait?e.heimpt:e.h,r=glhp.crgs("textarea","textarea"+e.rId,"crosswordinput");return r.setAttribute("style"," width:"+i+"px;height:"+a+`px;position: absolute;display: inline-grid;justify-items: center;align-items: center;font-size: ${16*scale}px;overflow: auto`),setTimeout((function(){CrosswordInputModule.Upercase(e)}),1),t.appendChild(r),t.addEventListener("mouseup",e=>e.stopPropagation()),t}(e)},Upercase:function(e){$("#textarea"+e.rId).keyup((function(){this.value=this.value.toUpperCase()}))}},ButtonSubmitModule=function(){function e(e,t){if(null!=document.getElementById("container"+e.id)){for(var i=0;i<e.rows.length;i++){var a=e.rows[i];if("none"==a.answeruser){var r=document.getElementById("row"+a.rowId);if(null!=r)for(var s=r.getElementsByClassName("crosswordunit"),n=0;n<s.length;n++){s[n].getElementsByTagName("span")[0].innerHTML=a.answer.charAt(n)}document.getElementById("result"+a.rowId);r.getElementsByClassName("questionrow")[0].style.pointerEvents="none"}}var l=document.getElementById("header"+e.id),o=l.getElementsByTagName("span")[0],h=l.getElementsByTagName("path")[0];l.style.pointerEvents="none";let d="",c="";switch(DOC.Lang.toLowerCase()){case"vi-vn":d="CHÍNH XÁC",c="CHƯA CHÍNH XÁC";break;case"en-us":d="CORRECT",c="FAILURE";break;case"th-th":d="ถูกต้อง",c="ไม่สําเร็จ";break;default:d="CORRECT",c="FAILURE"}if(t){h.setAttribute("fill",CrosswordModule.successColor),o.innerHTML=d;for(i=0;i<glhp.DataLocal.Crosswords.length;i++)glhp.DataLocal.Crosswords[i].id==e.id&&(glhp.DataLocal.Crosswords[i].answeruser=!0)}else{h.setAttribute("fill",CrosswordModule.failColor),o.innerHTML=c;for(i=0;i<glhp.DataLocal.Crosswords.length;i++)glhp.DataLocal.Crosswords[i].id==e.id&&(glhp.DataLocal.Crosswords[i].answeruser=!1)}}}function t(e,t,i){for(var a=0;a<glhp.DataLocal.Crosswords.length;a++)if(glhp.DataLocal.Crosswords[a].id==e)for(var r=0;r<glhp.DataLocal.Crosswords[a].rows.length;r++)glhp.DataLocal.Crosswords[a].rows[r].id==t&&(glhp.DataLocal.Crosswords[a].rows[r].answeruser=i)}return{GetCrosswordButton:function(e){return function(e){var t=glhp.crgs("div","submit"+e.id,""),i=0==isMobile?e.widdkt:isTabletLandscape?e.widtls:isTabletPortrait?e.widtpt:isMobileLandscape?e.widmls:isMobilePortrait?e.widmpt:e.w,a=0==isMobile?e.heidkt:isTabletLandscape?e.heitls:isTabletPortrait?e.heitpt-10:isMobileLandscape?e.heimls-10:isMobilePortrait?e.heimpt-10:e.h,r=0==isMobile?16:isTabletLandscape?18:10;return t.setAttribute("style"," width:"+i+"px;height:"+a+"px;position: absolute;text-align: center;display: inline-grid;justify-items: center;align-items: center;font-size: "+r+"px;"),t.innerHTML=e.til,setTimeout((function(){ButtonSubmitModule.Submit("",e)}),1),t}(e)},GetCrosswordButtonDrawCanvas:async function(e,t){t.save(),t.font="16px Arial",t.textAlign="center",t.fillText(e.til,e.w/2,e.h/2+5),t.restore()},Submit:function(i,a){var r=a;$("#submit"+a.id).click((function(){if(null==document.getElementById("contain-message")){var i=glrs.crsl.lwid(r.lId),a=document.getElementById("row"+r.rId);if(a.parentNode&&(a.parentNode.style.pointerEvents="all"),null!=i){if(!r.isb)return void i.hide();var s=document.getElementById("textarea"+r.rId);if(null!=s){var n=s.value;if(""==n){var l=ButtonSubmitModule.CreateNotifyInvalid(),o=document.getElementById("content");return void(o&&l&&o.appendChild(l))}var h=document.getElementById("row"+r.rId);if(null!=h){var d,c=h.getElementsByClassName("crosswordunit"),p=h.className.replace("crossword",""),u=null;if(d=CrosswordModule.GetCrossworData(p),u=CrosswordModule.GetRowData(d,r.rId),d.hk&&d.rowId==r.rId)return i.hide(),void(n.replace(/\s/g,"")==d.keyword?e(d,!0):e(d,!1));for(var m=0;m<c.length;m++){c[m].getElementsByTagName("span")[0].innerHTML=u.answer.charAt(m)}var b=document.getElementById("result"+r.rId);n.replace(/\s/g,"")==u.answer?(b.setAttribute("d",CrosswordModule.correctPath),b.setAttribute("fill",CrosswordModule.successColor),t(d.id,u.id,!0)):(b.setAttribute("d",CrosswordModule.failPath),b.setAttribute("fill",CrosswordModule.failColor),t(d.id,u.id,!1)),h.getElementsByClassName("questionrow")[0].style.pointerEvents="none"}}i.hide()}}}))},CreateNotifyInvalid:function(){var e=glhp.crgs("div","contain-message");e.position="absolute";var t=glhp.crgs("div"),i=glhp.crgs("div"),a=glhp.crgs("div");if(isMobileLandscape)t.setAttribute("style"," width: 270px; height: 30px; top: 93px; left: 227px; z-index: 3;background: rgba(220,90,76,1);font-size:13px;font-weight:bold;fontvertical-align: middle;position: absolute;text-align: center;display: inline-flex;align-items: center;justify-content: center;"),e.appendChild(t),i.setAttribute("style","position: absolute;  width: 270px; height: 120px; top: 122px; left: 227px; z-index: 4; background: white;"),e.appendChild(i),a.setAttribute("style","width: 158px; height: 33px; top: 145px; left: 286px; z-index: 4;font-size:14px;fontvertical-align: middle;position: absolute;text-align: center;display: inline-flex;align-items: center;justify-content: center;"),e.appendChild(a),(r=glhp.crgs("div","hiddencrosswordnotify")).setAttribute("style"," width: 84px; height: 24px; top: 206px; left: 322px; z-index: 4;font-size:10px;background:rgba(74,151,207,1); font-weight:bold;fontvertical-align: middle;position: absolute;text-align: center;display: inline-flex;align-items: center;justify-content: center;    border-radius: 10px;");else if(isMobilePortrait){t.setAttribute("style"," width: 215px; height: 30px; top: 93px; left: 68px; z-index: 3;background: rgba(220,90,76,1);font-size:13px;font-weight:bold;fontvertical-align: middle;position: absolute;text-align: center;display: inline-flex;align-items: center;justify-content: center;"),e.appendChild(t),i.setAttribute("style","position: absolute;  width: 215px; height: 100px; top: 122px; left: 68px; z-index: 4; background: white;"),e.appendChild(i),a.setAttribute("style","width: 158px; height: 33px; top: 145px; left: 106px; z-index: 4;font-size:14px;fontvertical-align: middle;position: absolute;text-align: center;display: inline-flex;align-items: center;justify-content: center;"),e.appendChild(a),(r=glhp.crgs("div","hiddencrosswordnotify")).setAttribute("style"," width: 84px; height: 24px; top: 190px; left: 135px; z-index: 4;font-size:10px;background:rgba(74,151,207,1); font-weight:bold;fontvertical-align: middle;position: absolute;text-align: center;display: inline-flex;align-items: center;justify-content: center;    border-radius: 10px;")}else if(isTabletPortrait){t.setAttribute("style"," width: 270px; height: 30px; top: 93px; left: 100px; z-index: 3;background: rgba(220,90,76,1);font-size:13px;font-weight:bold;fontvertical-align: middle;position: absolute;text-align: center;display: inline-flex;align-items: center;justify-content: center;"),e.appendChild(t),i.setAttribute("style","position: absolute;  width: 270px; height: 120px; top: 122px; left: 100px; z-index: 4; background: white;"),e.appendChild(i),a.setAttribute("style","width: 158px; height: 33px; top: 145px; left: 163px; z-index: 4;font-size:14px;fontvertical-align: middle;position: absolute;text-align: center;display: inline-flex;align-items: center;justify-content: center;"),e.appendChild(a),(r=glhp.crgs("div","hiddencrosswordnotify")).setAttribute("style"," width: 84px; height: 24px; top: 206px; left: 198px; z-index: 4;font-size:10px;background:rgba(74,151,207,1); font-weight:bold;fontvertical-align: middle;position: absolute;text-align: center;display: inline-flex;align-items: center;justify-content: center;    border-radius: 10px;")}else{var r;t.setAttribute("style"," width: 370px; height: 40px; top: 193px; left: 327px; z-index: 3;background: rgba(220,90,76,1);font-size:13px;font-weight:bold;fontvertical-align: middle;position: absolute;text-align: center;display: inline-flex;align-items: center;justify-content: center;"),e.appendChild(t),i.setAttribute("style","position: absolute;  width: 370px; height: 120px; top: 233px; left: 327px; z-index: 4; background: white;"),e.appendChild(i),a.setAttribute("style","width: 224px; height: 33px; top: 260px; left: 400px; z-index: 4;font-size:16px;fontvertical-align: middle;position: absolute;text-align: center;display: inline-flex;align-items: center;justify-content: center;"),e.appendChild(a),(r=glhp.crgs("div","hiddencrosswordnotify")).setAttribute("style"," width: 84px; height: 30px; top: 310px; left: 479.488px; z-index: 4;font-size:13px;background:rgba(74,151,207,1); font-weight:bold;fontvertical-align: middle;position: absolute;text-align: center;display: inline-flex;align-items: center;justify-content: center;    border-radius: 10px;")}switch(DOC.Lang.toLowerCase()){case"en-us":a.innerHTML="Please input your answer!",t.innerHTML="Notifycation",r.innerHTML="OK";break;case"vi-vn":a.innerHTML="Vui lòng nhập câu trả lời!",t.innerHTML="Thông Báo",r.innerHTML="Đồng ý";break;case"th-th":a.innerHTML="กรุณาระบุคําตอบของคุณ!",t.innerHTML="การแจ้งเตือน",r.innerHTML="ตกลง";break;default:a.innerHTML="Please input your answer!",t.innerHTML="Notifycation",r.innerHTML="OK"}return e.appendChild(r),setTimeout((function(){ButtonSubmitModule.HiddenNotify()}),1),a.addEventListener("mouseup",e=>{e.stopPropagation()}),e.addEventListener("mouseup",e=>e.stopPropagation()),e},HiddenNotify:function(){$("#hiddencrosswordnotify").click((function(){var e=document.getElementById("contain-message");e&&e.parentNode.removeChild(e)}))}}}();function loadMb(){1==isMobile&&(pcsMb(),numberSlide(),$("#wrapper").addClass("isMb"),$("#rightPanelMb").addClass("isMb"),$("#mainContentWrapper").addClass("isMb"),$("#popup1").addClass("isMb"),$(".noneMb").removeClass("noneMb"),$("#sidePanel").css("display","none"))}loadMb();var GraphicHelper={createSvgTag:function(e,t,i){if(null==e||null==t||null==i)return null;var a=glhp.crgs("svg",glhp.generateBranchId(e,"s"),"");return a.setAttribute("style","position: absolute; overflow: unset;"),a.setAttribute("width",t+"px"),a.setAttribute("height",i+"px"),a},createGraphicTag:function(e){return null==e?null:glhp.crgs("g",glhp.generateBranchId(e,"sh"),"")},createPathTag:function(e,t,i,a,r,s,n,l){if(null==e||null==t||null==i||null==a||null==l||""==l)return null;var o=glhp.crgs("path",glhp.generateBranchId(t,"gp"),"");o.setAttribute("d",l),o.setAttribute("stroke-width",n),r=GraphicHelper.createBrush(e,r,t,i,a),s=GraphicHelper.createBrush(e,s,t,i,a),r&&o.setAttribute("fill",r),s&&o.setAttribute("stroke",s),e.appendChild(o)},createBrush:function(e,t,i,a,r){if(null==e)return null;var s=FillColorHelper.genGTag(t,{id:i,width:a,height:r});return null==s?null:(s.Tag&&e.appendChild(s.Tag),s.ID)},setStyle:function(e,t){if(null!=e&&null!=t&&0!=t.length){var i="";for(let e=0;e<t.length;e++){let a=t[e];i+=a[0]+": "+a[1]+"; "}i.length>2&&(i=i.substring(0,i.length-2),e.setAttribute("style",i))}},setPosition:function(e,t,i,a,r){let s=e,n=t,l=s+a,o=n,h=(90+i/2-r)*Math.PI/180,d=Math.cos(h),c=Math.sin(h);return{X:d*(l-s)+c*(o-n)+s,Y:d*(o-n)-c*(l-s)+n}},calculatePercent:function(e,t,i){let a=Math.abs(t-e);return 0==a?0:i/a},calculateRotate:function(e,t,i,a){return Math.atan2(t,e)-Math.atan2(a,i)},angleBetweens:function(e,t,i){let a=this.calculateRotate(t.X-e.X,t.Y-e.Y,i.X-e.X,i.Y-e.Y);return Math.abs(a)>Math.PI&&(a-=2*Math.round(a/2/Math.PI)*Math.PI),a},createTextTag:function(e,t,i){let a=glhp.crgs("div",e+"_txt","");return this.setStyle(a,[["width",t+"px"],["text-align",i.align],["font-size",i.fontSize+"px"],["font-family",i.fontFamily],["font-weight",i.fontWeight],["text-decoration",i.textDecoration],["color",i.color]]),a.innerHTML=i.content,a}};class InteractiveHelper{static someUserClicksTrigger(e,t){return e.some(e=>"UserClicks"==e.E&&e.Ta==t)}static stopPropagation(e,t,i){if(null!=e&&e.length>0){InteractiveHelper.someUserClicksTrigger(e,t)||i.addEventListener("mouseup",e=>e.stopPropagation())}else i.addEventListener("mouseup",e=>e.stopPropagation())}}var ButtonObject=function(){function e(e){this.options=e}return e.prototype.genButtonObject=function(){if(null==this.options)return null;var e=0==isMobile?this.options.widdkt:isTabletLandscape?this.options.widtls:isTabletPortrait?this.options.widtpt:isMobileLandscape?this.options.widmls:isMobilePortrait?this.options.widmpt:this.options.w,t=0==isMobile?this.options.heidkt:isTabletLandscape?this.options.heitls:isTabletPortrait?this.options.heitpt:isMobileLandscape?this.options.heimls:isMobilePortrait?this.options.heimpt:this.options.h,i=0==isMobile?this.options.rtwdkt:isTabletLandscape?this.options.rtwtls:isTabletPortrait?this.options.rtwtpt:isMobileLandscape?this.options.rtwmls:isMobilePortrait?this.options.rtwmpt:1,a=this.options.id,r=e,s=t;if(null==a||null==r||null==s)return null;var n=this.options.i,l=s/2,o=this.options.col,h=this.options.txt,d=glhp.crgs("div",a,""),c=GraphicHelper.createSvgTag(a+"_svg",r,s);d.appendChild(c),GraphicHelper.setStyle(c,[["overflow","hidden"]]);var p=0==isMobile?this.options.bacdt:isTabletLandscape?this.options.bactls:isTabletPortrait?this.options.bactp:isMobileLandscape?this.options.bacmls:isMobilePortrait?this.options.bacmp:this.options.bac;this.options.bac&&p.forEach(e=>{Math.floor(100*Math.random());var t="p"+Math.floor(100*Math.random())+"path",i=glhp.crgs("g","","");c.appendChild(i),GraphicHelper.createPathTag(i,t,r,s,e.fi,e.str,e.stw,e.d)});var u=glhp.crgs("div","","");d.appendChild(u);var m=(Math.min(r,50*i)-l)/2,b=(this.options.h-this.options.h/2)/2*i;GraphicHelper.setStyle(u,[["position","absolute"],["left",m+"px"],["top",b+"px"],["width",l+"px"],["height",l+"px"]]);var f=glhp.crgs("i","","icon icon-"+n);u.appendChild(f);var g="transparent",w=FillColorHelper.genGTag(o,{id:a,width:r,height:s});if(w&&(g=w.ID),GraphicHelper.setStyle(f,[["font-size",l+"px"],["color",g],["width",l+"px"]]),h){var y=TextModule.grezByParas(h);let e=`translate(${50*i}, ${(s-l)/16}) scale(${i}, ${i})`;y.style.cssText=`transform: ${e} !important;`,y.setAttribute("transform",e),c.appendChild(y)}var{tri:v}=this.options;return InteractiveHelper.stopPropagation(v,this.options.id,d),d},e.prototype.drawCanvas=async function(e){if(null==this.options)return null;var t=this.options.id,i=this.options.w,a=this.options.h;if(null==t||null==i||null==a)return null;var r=this.options.i,s=a/2,n=this.options.col,l=this.options.txt;e.save(),e.textAlign="center",e.font=s+"px FontAwesome";const o=new FontFace("FontAwesome","url(https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/fonts/fontawesome-webfont.woff2)");await o.load();var h=document.querySelector(".icon-"+r);if(h){var d=window.getComputedStyle(h,":before").getPropertyValue("content");d=function(e){var t=e.replace(/"/g,"").charCodeAt(0).toString(16).toUpperCase();for(;t.length<4;)t="0"+t;return t}(d);var c="transparent",p=FillColorHelper.genGTag(n,{id:t,width:i,height:a});p&&(c=p.ID),e.fillStyle=c,e.translate(25,2*a/3),e.fillText(String.fromCharCode(parseInt(d,16)),0,0),e.restore()}l&&l.pr.map(t=>{t.inls.map(t=>{e.textAlign="center",e.globalCompositeOperation="destination-over",e.font=t.fw+" "+t.fs+"px "+t.ff,e.fillText(t.Txt,i/2,2*a/3)})}),this.options.bac&&this.options.bac.forEach(async t=>{e.save();var r=new Path2D(t.d);if("Gradient"==t.fi.CoT){if("Linear"==t.fi.gT){var s=await this.getCanvasgdlz(t.fi,i,a,e);e.fillStyle=s}if("Radial"==t.fi.gT){s=await this.getCanvasgdrz(t.fi,i,a,e);e.fillStyle=s}}else e.fillStyle=t.fi.col;e.lineWidth=t.stw,e.strokeStyle=t.str.col,e.stroke(r),e.fill(r),e.restore()}),e.restore()},e.prototype.getCanvasgdlz=async function(e,t,i,a){var r,s,n,l,o=e.agl,h=.5*Math.abs(t*Math.cos(o))+Math.abs(i*Math.sin(o)),d=0+t/2,c=0+i/2;r=d+h*Math.cos(o),s=c-h*Math.sin(o),n=d+h*Math.cos(o),l=c+h*Math.sin(o);for(var p=a.createLinearGradient(r,s,n,l),u=0;u<e.sts.length;u++){var m=e.sts[u];p.addColorStop(m.ofs,m.col)}return p},e.prototype.getCanvasgdrz=async function(e,t,i,a){for(var r=Math.min(t,i),s=t/r,n=i/r,l=e.cX*r,o=e.cY*r,h=r,d=a.createRadialGradient(l,o,0,l,o,h),c=0;c<e.sts.length;c++){var p=e.sts[c];d.addColorStop(p.ofs,p.col)}return a.setTransform(s,0,0,n,0,0),d},e}();glrs.addModule({Level:glen.ModuleLevel.Element,ContentType:"Button",grez:function(e,t){return new ButtonObject(e).genButtonObject()},drawCanvas:async function(e,t,i){var a=0==isMobile?e.rtwdkt:isTabletLandscape?e.rtwtls:isTabletPortrait?e.rtwtpt:isMobileLandscape?e.rtwmls:isMobilePortrait?e.rtwmpt:e.w,r=0==isMobile?e.rthdkt:isTabletLandscape?e.rthtls:isTabletPortrait?e.rthtpt:isMobileLandscape?e.rthmls:isMobilePortrait?e.rthmpt:e.h,s=Math.min(a,r);return i.scale(s,s),await new ButtonObject(e).drawCanvas(i)}});var SliderObject=function(){function e(e){this.options=e}return e.prototype.genSliderObject=function(){if(null==this.options)return null;let e=this.options.id,t=0==isMobile?this.options.widdkt:isTabletLandscape?this.options.widtls:isTabletPortrait?this.options.widtpt:isMobileLandscape?this.options.widmls:isMobilePortrait?this.options.widmpt:this.options.w,i=0==isMobile?this.options.heidkt:isTabletLandscape?this.options.heitls:isTabletPortrait?this.options.heitpt:isMobileLandscape?this.options.heimls:isMobilePortrait?this.options.heimpt:this.options.h,a=this.options.thbwid*scale,r=this.options.thbhei*scale,s=this.options.thby*scale,n=this.options.min,l=this.options.max,o=this.options.ste,h=this.options.val,d=this.options.var,c=this.options;if(null==e||null==t||null==i)return null;var p=glhp.crgs("div","",""),u=GraphicHelper.createSvgTag(e,t,i);p.appendChild(u);var m=0==isMobile?this.options.bacdt:isTabletLandscape?this.options.bactls:isTabletPortrait?this.options.bactp:isMobileLandscape?this.options.bacmls:isMobilePortrait?this.options.bacmp:this.options.bac;this.options.bac&&m.forEach(e=>{Math.floor(100*Math.random());var a="p"+Math.floor(100*Math.random())+"path",r=glhp.crgs("g","","");u.appendChild(r),GraphicHelper.createPathTag(r,a,t,i,e.fi,e.str,e.stw,e.d)});var b=glhp.crgs("div","","pointer-container");p.appendChild(b);var f=glhp.crgs("div","","pointer");function g(){let e=(h-n)/(l-n);GraphicHelper.setStyle(f,[["left",e*(t-a)+"px"],["top",s+"px"],["width",a+"px"],["height",r+"px"]])}b.appendChild(f),g();let w=!1,y=null,v=0,C=0;function T(){let e=gvaez(d,DOC);e&&!isNaN(h)&&(e.val=h,vbcwg(e))}function S(){w=!1}$(b).mousedown((function(i){$("#content")&&$("#"+e)&&(w=!0,y={X:i.clientX,Y:i.clientY},v=$("#"+e).offset().left,C=v+t)})),$("body").mousemove((function(e){if(f&&(f.style.cursor="pointer"),w){let i={X:e.clientX,Y:e.clientY},r=i.X-y.X,s=Math.abs(l-n),d=(t-a)*(0==s?0:o/s),p=0==d?0:Math.round(r/d);i.X>=v&&i.X<=C?Math.abs(r)%d>d/2&&(h=Math.max(n,Math.min(h+p,Math.abs(l-n))),c.value=h,y=i,g(),T()):(h=i.X<v?n:Math.abs(l-n),c.value=h,y=i,g(),T())}})),$("body").mouseup((function(e){w=!1})),$(window).resize(S),$(window).blur(S);var x=GraphicHelper.createSvgTag("svg"+Math.floor(100*Math.random()),t,i);f.appendChild(x);m=0==isMobile?this.options.thbdt:isTabletLandscape?this.options.thbtls:isTabletPortrait?this.options.thbtp:isMobileLandscape?this.options.thbmls:isMobilePortrait?this.options.thbmp:this.options.thb;this.options.thb&&m.forEach(e=>{Math.floor(100*Math.random());var a="p"+Math.floor(100*Math.random())+"path",r=glhp.crgs("g","","");x.appendChild(r),GraphicHelper.createPathTag(r,a,t,i,e.fi,e.str,e.stw,e.d)});var{tri:A}=this.options;return null!=A&&A.length>0?A.forEach(e=>{"UserClicks"==e.E&&e.Ta==this.options.id||p.addEventListener("mouseup",e=>{w=!1,e.stopPropagation()})}):p.addEventListener("mouseup",e=>{w=!1,e.stopPropagation()}),p},e.prototype.drawCanvas=async function(e){if(null==this.options)return null;let t=this.options.id,i=this.options.w,a=this.options.h,r=this.options.thbwid,s=(this.options.thbhei,this.options.thby),n=this.options.min,l=this.options.max,o=(this.options.ste,this.options.value?parseInt(this.options.value):parseInt(this.options.varval));this.options.var,this.options.l,this.options.T,this.options.thb,this.options.bac;if(null==t||null==i||null==a)return null;if(e.save(),this.options.bac&&this.options.bac.forEach(t=>{e.save();var i=new Path2D(t.d);e.fillStyle=t.fi.col,e.strokeStyle=t.str.col,e.lineWidth=t.stw,e.fill(i),e.stroke(i),e.restore()}),this.options.thb){let t=o/(l-n)*(i-r);e.translate(t,s),this.options.thb.forEach(async t=>{e.save(),e.beginPath();var r=new Path2D(t.d);if("Gradient"==t.fi.CoT){if("Linear"==t.fi.gT){var s=await this.getCanvasgdlz(t.fi,i,a,e);e.fillStyle=s}if("Radial"==t.fi.gT){s=await this.getCanvasgdrz(t.fi,i,a,e);e.fillStyle=s}}else e.fillStyle=t.fi.col;e.strokeStyle=t.str.col,e.lineWidth=t.stw,e.fill(r),e.stroke(r),e.closePath(),e.restore()})}e.restore()},e.prototype.getCanvasgdlz=function(e,t,i,a){var r,s,n,l,o=e.agl,h=.5*Math.abs(t*Math.cos(o))+Math.abs(i*Math.sin(o)),d=0+t/2,c=0+i/2;r=d+h*Math.cos(o),s=c-h*Math.sin(o),n=d+h*Math.cos(o),l=c+h*Math.sin(o);for(var p=a.createLinearGradient(r,s,n,l),u=0;u<e.sts.length;u++){var m=e.sts[u];p.addColorStop(m.ofs,m.col)}return p},e.prototype.getCanvasgdrz=function(e,t,i,a){for(var r=Math.min(t,i),s=t/r,n=i/r,l=e.cX*r,o=e.cY*r,h=r,d=a.createRadialGradient(l,o,0,l,o,h),c=0;c<e.sts.length;c++){var p=e.sts[c];d.addColorStop(p.ofs,p.col)}return a.setTransform(s,0,0,n,0,0),d},e}();glrs.addModule({Level:glen.ModuleLevel.Element,ContentType:"Slider",grez:function(e,t){return new SliderObject(e).genSliderObject()},drawCanvas:async function(e,t,i){var a=0==isMobile?e.rtwdkt:isTabletLandscape?e.rtwtls:isTabletPortrait?e.rtwtpt:isMobileLandscape?e.rtwmls:isMobilePortrait?e.rtwmpt:e.w,r=0==isMobile?e.rthdkt:isTabletLandscape?e.rthtls:isTabletPortrait?e.rthtpt:isMobileLandscape?e.rthmls:isMobilePortrait?e.rthmpt:e.h,s=Math.min(a,r);return i.scale(s,s),await new SliderObject(e).drawCanvas(i)}});var DialObject=function(){function e(e){this.options=e}return e.prototype.genDialObject=function(){if(null==this.options)return null;var e=0==isMobile?this.options.rtwdkt:isTabletLandscape?this.options.rtwtls:isTabletPortrait?this.options.rtwtpt:isMobileLandscape?this.options.rtwmls:isMobilePortrait?this.options.rtwmpt:1;let t,i=this.options.id,a=0==isMobile?this.options.widdkt:isTabletLandscape?this.options.widtls:isTabletPortrait?this.options.widtpt:isMobileLandscape?this.options.widmls:isMobilePortrait?this.options.widmpt:this.options.w,r=0==isMobile?this.options.heidkt:isTabletLandscape?this.options.heitls:isTabletPortrait?this.options.heitpt:isMobileLandscape?this.options.heimls:isMobilePortrait?this.options.heimpt:this.options.h,s=0==isMobile?this.options.lefdkt:isTabletLandscape?this.options.leftls:isTabletPortrait?this.options.leftpt:isMobileLandscape?this.options.lefmls:isMobilePortrait?this.options.lefmpt:this.options.l,n=0==isMobile?this.options.topdkt:isTabletLandscape?this.options.toptls:isTabletPortrait?this.options.toptpt:isMobileLandscape?this.options.topmls:isMobilePortrait?this.options.topmpt:this.options.T,l=this.options.min,o=this.options.max,h=this.options.val,d=this.options.rot,c=this.options.ste,p=this.options.poirotcenx*e,u=this.options.poirotceny*e,m=this.options.rad*e,b=this.options.poiwid*e,f=this.options.poihei*e,g=this.options.var;if(null==i||null==a||null==r)return null;var w=glhp.crgs("div","",""),y=GraphicHelper.createSvgTag(i,a,r);w.appendChild(y);var v=0==isMobile?this.options.bacdt:isTabletLandscape?this.options.bactls:isTabletPortrait?this.options.bactp:isMobileLandscape?this.options.bacmls:isMobilePortrait?this.options.bacmp:this.options.bac;this.options.bac&&v.forEach(e=>{Math.floor(100*Math.random());var t="p"+Math.floor(100*Math.random())+"path",i=glhp.crgs("g","","");y.appendChild(i),GraphicHelper.createPathTag(i,t,a,r,e.fi,e.str,e.stw,e.d)});var C=glhp.crgs("div","","pointer-container");w.appendChild(C);var T=glhp.crgs("div","","pointer");C.appendChild(T),L();var S=GraphicHelper.createSvgTag("svg"+Math.floor(100*Math.random()),b,f);T.appendChild(S);let x=!1,A=null,M={X:s+a/2,Y:n+r/2},G=GraphicHelper.setPosition(M.X,M.Y,d,1,0),D=GraphicHelper.setPosition(M.X,M.Y,d,1,d);function L(){let e=GraphicHelper.calculatePercent(l,o,h)*d;t=GraphicHelper.setPosition(p,u,d,m,e),GraphicHelper.setStyle(T,[["transform","translate(-50%, -50%) rotate("+e+"deg)"],["left",t.X+"px"],["top",t.Y+"px"],["width",b+"px"],["height",f+"px"]])}function k(){x=!1}$(C).mousedown((function(e){e.stopPropagation(),window.dragging=!0,$("#content")&&$("#"+i)&&(x=!0,A={X:e.clientX,Y:e.clientY},M={X:$("#"+i).offset().left+p,Y:$("#"+i).offset().top+u})})),$(C).click(e=>{e.stopPropagation()}),document.addEventListener("mousemove",(function(e){if(e.stopPropagation(),T&&(T.style.cursor="pointer"),x){let t={X:e.clientX,Y:e.clientY},i=180*GraphicHelper.angleBetweens(M,G,t)/Math.PI,a=180*GraphicHelper.angleBetweens(M,D,t)/Math.PI,r=180*GraphicHelper.angleBetweens(M,t,A)/Math.PI,s=Math.abs(o-l),n=d*(0==s?0:c/s),p=Math.trunc(r/n);(i>=-n||a<=n)&&Math.abs(p)>=1&&(h=Math.max(l,Math.min(h+p,Math.abs(o-l))),A=t,L(),function(){let e=gvaez(g,DOC);e&&(e.val=h,vbcwg(e))}())}})),document.addEventListener("mouseup",(function(e){window.dragging=!1,x=!1})),$(window).resize(k),$(window).blur(k);var O=0==isMobile?this.options.poidt:isTabletLandscape?this.options.poitls:isTabletPortrait?this.options.poitp:isMobileLandscape?this.options.poimls:isMobilePortrait?this.options.poimp:this.options.poi;this.options.poi&&O.forEach(e=>{Math.floor(100*Math.random());var t="p"+Math.floor(100*Math.random())+"path",i=glhp.crgs("g","","");S.appendChild(i),GraphicHelper.createPathTag(i,t,a,r,e.fi,e.str,e.stw,e.d)});var{tri:E}=this.options;return InteractiveHelper.stopPropagation(E,this.options.id,w),w},e.prototype.drawCanvas=async function(e){if(null==this.options)return null;let t,i=this.options.id,a=this.options.w,r=this.options.h;this.options.l,this.options.T,this.options.min,this.options.max,this.options.varval,this.options.rot,this.options.ste,this.options.poirotcenx,this.options.poirotceny,this.options.rad,this.options.poiwid,this.options.poihei,this.options.var;if(null==i||null==a||null==r)return null;this.options.bac&&this.options.bac.forEach(async i=>{var s;s=i.str.col?i.str.col:this.getCanvasgdlz(i.str,a,r,e),t=i.fi.col,await this.drawCircleCanvas(e,i.d,i.fi.col,i.stw,s)}),this.options.poi},e.prototype.drawCircleCanvas=async function(e,t,i,a,r){e.save();let s=new Path2D(t);e.fillStyle=i,e.lineWidth=a,e.fill(s),e.strokeStyle=r,e.stroke(s),e.restore()},e.prototype.drawPointCanvas=async function(e,t,i,a,r,s){e.save(),e.fillStyle=t,e.lineWidth=i,e.strokeStyle=a,e.arc(r.X,r.Y,s/2,0,2*Math.PI),e.fill(),e.stroke(),e.restore()},e.prototype.getCanvasgdlz=function(e,t,i,a){var r,s,n,l,o=e.agl,h=t/2,d=0+t/2,c=0+i/2;r=d+h*Math.cos(o),s=c-h*Math.sin(o),n=d+h*Math.cos(o),l=c+h*Math.sin(o);for(var p=a.createLinearGradient(r,s,n,l),u=0;u<e.sts.length;u++){var m=e.sts[u];p.addColorStop(m.ofs,m.col)}return p},e}();glrs.addModule({Level:glen.ModuleLevel.Element,ContentType:"Dial",grez:function(e,t){return new DialObject(e).genDialObject()},drawCanvas:async function(e,t,i){var a=new DialObject(e),r=0==isMobile?e.rtwdkt:isTabletLandscape?e.rtwtls:isTabletPortrait?e.rtwtpt:isMobileLandscape?e.rtwmls:isMobilePortrait?e.rtwmpt:e.w,s=0==isMobile?e.rthdkt:isTabletLandscape?e.rthtls:isTabletPortrait?e.rthtpt:isMobileLandscape?e.rthmls:isMobilePortrait?e.rthmpt:e.h,n=Math.min(r,s);i.scale(n,n),a.drawCanvas(i)}});var MarkerObject=function(){function e(e){this.options=e}return e.prototype.genMarkerObject=function(){if(null==this.options)return null;var e=0==isMobile?this.options.widdkt:isTabletLandscape?this.options.widtls:isTabletPortrait?this.options.widtpt:isMobileLandscape?this.options.widmls:isMobilePortrait?this.options.widmpt:this.options.w,t=0==isMobile?this.options.heidkt:isTabletLandscape?this.options.heitls:isTabletPortrait?this.options.heitpt:isMobileLandscape?this.options.heimls:isMobilePortrait?this.options.heimpt:this.options.h,i=0==isMobile?this.options.rtwdkt:isTabletLandscape?this.options.rtwtls:isTabletPortrait?this.options.rtwtpt:isMobileLandscape?this.options.rtwmls:isMobilePortrait?this.options.rtwmpt:1;let a=this.options.id,r=e,s=t,n=this.options.ico,l=this.options.fz*i,o=this.options.col,h=this.options.cmt,d=this.options.tit,c=this.options.labwid,p=this.options.labhei;if(null==a||null==r||null==s)return null;let u=glhp.crgs("div","",""),m=glhp.crgs("div","",""),b=glhp.crgs("div","","");function f(e){var t=glhp.crgs("div","","");e.appendChild(t);var i=(r-l)/2,h=(s-l)/2;GraphicHelper.setStyle(t,[["position","absolute"],["left",i+"px"],["top",h+"px"],["width",l+"px"],["height",l+"px"]]);var d=glhp.crgs("i","","icon icon-"+n);t.appendChild(d);var c="transparent",p=FillColorHelper.genGTag(o,{id:a,width:r,height:s});p&&(c=p.ID),GraphicHelper.setStyle(d,[["font-size",l+"px"],["color",c],["width",l+"px"]])}function g(e,t){if(e){let i=GraphicHelper.createSvgTag("",r,s);t.appendChild(i),e.forEach(e=>{var t=glhp.crgs("g","","");i.appendChild(t),GraphicHelper.createPathTag(t,"",r,s,e.fi,e.str,e.stw,e.d)},this)}}u.appendChild(m),u.appendChild(b);var w=0==isMobile?this.options.bacdt:isTabletLandscape?this.options.bactls:isTabletPortrait?this.options.bactp:isMobileLandscape?this.options.bacmls:isMobilePortrait?this.options.bacmp:this.options.bac,y=0==isMobile?this.options.hovlabdt:isTabletLandscape?this.options.hovlabtls:isTabletPortrait?this.options.hovlabtp:isMobileLandscape?this.options.hovlabmls:isMobilePortrait?this.options.hovlabmp:this.options.hovlab;g.call(this,w,m),f(m),function(e,t,n){if(e){let l=Math.min(n.w,n.h),o=n.w/2,u=n.h/2,m=(o-c/2)*i,b=(u-p-l/2-10)*i;e.forEach(e=>{let i=glhp.crgs("g","",""),a=GraphicHelper.createSvgTag("",r,s);t.appendChild(a),a.appendChild(i),GraphicHelper.createPathTag(i,"",c,p,e.fi,e.str,e.stw,e.d),i.setAttribute("transform","translate("+m+","+b+")")});let f=GraphicHelper.createTextTag(a,c-20,{content:d,fontSize:13*i,fontFamily:"Arial",align:"left",fontWeight:"bold",color:"#000",textDecoration:"unset"}),g=GraphicHelper.createTextTag(a,c-20,{content:h,fontSize:13*i,fontFamily:"Arial",align:"left",fontWeight:"normal",color:"#000",textDecoration:"unset"}),w=glhp.crgs("div","","");GraphicHelper.setStyle(w,[["position","absolute"],["left",m+10+"px"],["top",b+10+"px"]]),w.appendChild(f),w.appendChild(g),t.appendChild(w)}}(y,b,this.options),g.call(this,w,b),f(b),GraphicHelper.setStyle(b,[["display","none"]]),$(m).mousemove((function(e){GraphicHelper.setStyle(b,[["display","block"]])})),$(b).mouseleave((function(){GraphicHelper.setStyle(b,[["display","none"]])}));var{tri:v}=this.options;return InteractiveHelper.stopPropagation(v,this.options.id,u),u},e.prototype.drawCanvas=async function(e){if(null==this.options)return null;let t=this.options.id,i=this.options.w,a=this.options.h,r=this.options.ico,s=this.options.fz,n=this.options.col;if(null==t||null==i||null==a)return null;e.save(),await async function(t){t&&t.forEach(async t=>{e.save();var r=new Path2D(t.d);if(e.lineWidth=t.stw,"Gradient"==t.fi.CoT){if("Linear"==t.fi.gT){var s=await this.getCanvasgdlz(t.fi,i,a,e);e.fillStyle=s}if("Radial"==t.fi.gT){s=await this.getCanvasgdrz(t.fi,i,a,e);e.fillStyle=s}}else e.fillStyle=t.fi.col;e.strokeStyle=t.str.col,e.fill(r),e.stroke(r),e.restore()},this)}.call(this,this.options.bac),await async function(){e.font=s+"px FontAwesome";const l=new FontFace("FontAwesome","url(https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/fonts/fontawesome-webfont.woff2)");var o;await l.load(),o=document.querySelector(".icon-"+r)?function(e){var t=e.replace(/"/g,"").charCodeAt(0).toString(16).toUpperCase();for(;t.length<4;)t="0"+t;return t}(o=window.getComputedStyle(document.querySelector(".icon-"+r),":before").getPropertyValue("content")):"F060";var h="transparent",d=FillColorHelper.genGTag(n,{id:t,width:i,height:a});d&&(h=d.ID),e.fillStyle=h,e.fillText(String.fromCharCode(parseInt(o,16)),(i-s)/2,(a+2*s)/3)}(),e.restore()},e.prototype.getCanvasgdlz=async function(e,t,i,a){var r,s,n,l,o=e.agl,h=.5*Math.abs(t*Math.cos(o))+Math.abs(i*Math.sin(o)),d=0+t/2,c=0+i/2;r=d+h*Math.cos(o),s=c-h*Math.sin(o),n=d+h*Math.cos(o),l=c+h*Math.sin(o);for(var p=a.createLinearGradient(r,s,n,l),u=0;u<e.sts.length;u++){var m=e.sts[u];p.addColorStop(m.ofs,m.col)}return p},e.prototype.getCanvasgdrz=async function(e,t,i,a){for(var r=Math.min(t,i),s=t/r,n=i/r,l=e.cX*r,o=e.cY*r,h=r,d=a.createRadialGradient(l,o,0,l,o,h),c=0;c<e.sts.length;c++){var p=e.sts[c];d.addColorStop(p.ofs,p.col)}return a.setTransform(s,0,0,n,0,0),d},e}();glrs.addModule({Level:glen.ModuleLevel.Element,ContentType:"Marker",grez:function(e,t){return new MarkerObject(e).genMarkerObject()},drawCanvas:async function(e,t,i){var a=0==isMobile?e.rtwdkt:isTabletLandscape?e.rtwtls:isTabletPortrait?e.rtwtpt:isMobileLandscape?e.rtwmls:isMobilePortrait?e.rtwmpt:e.w,r=0==isMobile?e.rthdkt:isTabletLandscape?e.rthtls:isTabletPortrait?e.rthtpt:isMobileLandscape?e.rthmls:isMobilePortrait?e.rthmpt:e.h,s=Math.min(a,r);return i.scale(s,s),await new MarkerObject(e).drawCanvas(i)}});var CheckBoxObject=function(){function e(e){this.options=e}return e.prototype.genCheckBoxObject=function(){if(null==this.options)return null;var e=0==isMobile?this.options.rtwdkt:isTabletLandscape?this.options.rtwtls:isTabletPortrait?this.options.rtwtpt:isMobileLandscape?this.options.rtwmls:isMobilePortrait?this.options.rtwmpt:1;let t=this.options.id,i=0==isMobile?this.options.w:isTabletLandscape?this.options.widtls:isTabletPortrait?this.options.widtpt:isMobileLandscape?this.options.widmls:isMobilePortrait?this.options.widmpt:this.options.w,a=0==isMobile?this.options.h:isTabletLandscape?this.options.heitls:isTabletPortrait?this.options.heitpt:isMobileLandscape?this.options.heimls:isMobilePortrait?this.options.heimpt:this.options.h,r=this.options.boxwid*e,s=this.options.boxhei*e,n=this.options.sel,l=this.options.for,o=this.options.txt,h=this.options.var;if(null==t||null==i||null==a)return null;var d=glhp.crgs("div","","");function c(e,t){if(e){let r=GraphicHelper.createSvgTag("",i,a);d.appendChild(r),r.style.display=t;let s=0;return e.forEach(e=>{Math.floor(100*Math.random());let t="p"+Math.floor(100*Math.random())+"path",n=glhp.crgs("g","","");r.appendChild(n),GraphicHelper.createPathTag(n,t,i,a,e.fi,e.str,e.stw,e.d),s++},this),r}}function p(t,n){if(t){let l=glhp.crgs("div","",""),o=(Math.min(i,50*e)-r)/2,h=(a-s)/2;d.appendChild(l),GraphicHelper.setStyle(l,[["position","absolute"],["left",o+"px"],["top",h+"px"],["width",r+"px"],["height",s+"px"],["display",n]]);let c=GraphicHelper.createSvgTag("",r,s);return l.appendChild(c),t.forEach(t=>{Math.floor(100*Math.random());var i="p"+Math.floor(100*Math.random())+"path",a=glhp.crgs("g","","");c.appendChild(a),t.tra&&a.setAttribute("transform","matrix("+t.tra+")"),GraphicHelper.createPathTag(a,i,r,s,t.fi,t.str,t.stw*e,t.d)}),l}}function u(e){let t=gvaez(h,DOC);t&&(t.val=e,vbcwg(t))}var m=0==isMobile?this.options.bacdt:isTabletLandscape?this.options.bactls:isTabletPortrait?this.options.bactp:isMobileLandscape?this.options.bacmls:isMobilePortrait?this.options.bacmp:this.options.bac,b=0==isMobile?this.options.selbacdt:isTabletLandscape?this.options.selbactls:isTabletPortrait?this.options.selbactp:isMobileLandscape?this.options.selbacmls:isMobilePortrait?this.options.selbacmp:this.options.selbac,f=0==isMobile?this.options.selboxdt:isTabletLandscape?this.options.selboxtls:isTabletPortrait?this.options.selboxtp:isMobileLandscape?this.options.selboxmls:isMobilePortrait?this.options.selboxmp:this.options.selbox,g=0==isMobile?this.options.boxdt:isTabletLandscape?this.options.boxtls:isTabletPortrait?this.options.boxtp:isMobileLandscape?this.options.boxmls:isMobilePortrait?this.options.boxmp:this.options.box,w=0==isMobile?this.options.chedt:isTabletLandscape?this.options.chetls:isTabletPortrait?this.options.chetp:isMobileLandscape?this.options.chemls:isMobilePortrait?this.options.chemp:this.options.che;let y=c.call(this,m,n?"none":"block"),v=c.call(this,b,0==n?"none":"block"),C=(function(r){if(r){let s=GraphicHelper.createSvgTag(t,i,a),n=TextModule.grezByParas(r),o=GraphicHelper.createBrush(n,l,t,i,a),h=`translate(${50*e}, 0) scale(${e}, ${e})`;n.style.cssText=`transform: ${h} !important;`,n.setAttribute("transform",h),o&&n.setAttribute("fill",o),d.appendChild(s),s.appendChild(n)}}(o),p(g,n?"none":"block")),T=p(f,0==n?"none":"block"),S=p(w,0==n?"none":"block");C&&$(C).mousedown((function(e){y&&v&&S&&T&&(y.style.display=C.style.display="none",v.style.display=S.style.display=T.style.display="block"),u(!0)})),S&&$(S).mousedown((function(e){y&&v&&S&&T&&(v.style.display=S.style.display=T.style.display="none",y.style.display=C.style.display="block"),u(!1)}));var{tri:x}=this.options;return InteractiveHelper.stopPropagation(x,this.options.id,d),d},e.prototype.drawCanvas=async function(e){e.save();let t="true"==this.options.varval;this.options.bac&&!t&&this.options.bac.forEach(async t=>{var i=t.fi.col?t.fi.col:this.getCanvasgdlz(t.fi,this.options.w,this.options.h,e),a=t.str.col?t.str.col:this.getCanvasgdlz(t.str,this.options.w,this.options.h,e);await this.drawRectangleCanvas(e,t.d,i,t.stw,a)}),this.options.selbac&&t&&this.options.selbac.forEach(async t=>{var i=t.fi.col?t.fi.col:this.getCanvasgdlz(t.fi,this.options.w,this.options.h,e),a=t.str.col?t.str.col:this.getCanvasgdlz(t.str,this.options.w,this.options.h,e);await this.drawRectangleCanvas(e,t.d,i,t.stw,a)}),this.options.txt&&(e.save(),e.translate(50,0),await TextModule.drawCanvasByParas(this.options.txt,e),e.restore()),this.drawBox(e,this.options.box,!t),this.drawBox(e,this.options.selbox,t),this.drawBox(e,this.options.che,t),e.restore()},e.prototype.drawBox=async function(e,t,i){t&&i&&t.forEach(async t=>{if(e.save(),e.translate((Math.min(this.options.w,50)-this.options.boxwid)/2,(this.options.h-this.options.boxhei)/2),t.tra){var i=t.tra.split(",");e.transform(i[0],i[1],i[2],i[3],i[4],i[5])}var a=t.fi.col?t.fi.col:this.getCanvasgdlz(t.fi,this.options.w,this.options.boxhei,e),r=t.str.col?t.str.col:this.getCanvasgdlz(t.str,this.options.boxwid,this.options.boxhei,e);let s=new Path2D(t.d);e.fillStyle=a,e.strokeStyle=r,e.lineWidth=t.stw,e.fill(s),t.stw>0&&e.stroke(s),e.restore()})},e.prototype.drawRectangleCanvas=async function(e,t,i,a,r){e.save(),e.beginPath();let s=new Path2D(t);e.fillStyle=i,e.strokeStyle=r,e.lineWidth=a,e.fill(s),a>0&&e.stroke(s),e.restore()},e.prototype.getCanvasgdlz=function(e,t,i,a){var r,s,n,l,o=e.agl,h=(t=t,i=i,.5*Math.abs(t*Math.cos(o))+Math.abs(i*Math.sin(o))),d=0+t/2,c=0+i/2;r=d-h*Math.cos(o),s=c-h*Math.sin(o),n=d+h*Math.cos(o),l=c+h*Math.sin(o);for(var p=a.createLinearGradient(r,s,n,l),u=0;u<e.sts.length;u++){var m=e.sts[u];p.addColorStop(m.ofs,m.col)}return p},e}();glrs.addModule({Level:glen.ModuleLevel.Element,ContentType:"CheckBox",grez:function(e,t){return new CheckBoxObject(e).genCheckBoxObject()},drawCanvas:async function(e,t,i){var a=new CheckBoxObject(e),r=0==isMobile?e.rtwdkt:isTabletLandscape?e.rtwtls:isTabletPortrait?e.rtwtpt:isMobileLandscape?e.rtwmls:isMobilePortrait?e.rtwmpt:e.w,s=0==isMobile?e.rthdkt:isTabletLandscape?e.rthtls:isTabletPortrait?e.rthtpt:isMobileLandscape?e.rthmls:isMobilePortrait?e.rthmpt:e.h,n=Math.min(r,s);i.scale(n,n),await a.drawCanvas(i)}});var RadioObject=function(){function e(e,t,i){this.options=e,this.listRadio=t,this.listVariables=i}return e.prototype.genRadioObject=function(){if(null==this.options)return null;var e=0==isMobile?this.options.widdkt:isTabletLandscape?this.options.widtls:isTabletPortrait?this.options.widtpt:isMobileLandscape?this.options.widmls:isMobilePortrait?this.options.widmpt:this.options.w,t=0==isMobile?this.options.heidkt:isTabletLandscape?this.options.heitls:isTabletPortrait?this.options.heitpt:isMobileLandscape?this.options.heimls:isMobilePortrait?this.options.heimpt:this.options.h,i=0==isMobile?this.options.rtwdkt:isTabletLandscape?this.options.rtwtls:isTabletPortrait?this.options.rtwtpt:isMobileLandscape?this.options.rtwmls:isMobilePortrait?this.options.rtwmpt:1;let a=this.options.id,r=e,s=t,n=this.options.boxwid,l=this.options.boxhei*i,o=this.options.sel,h=this.options.for,d=this.options.txt,c=this.listRadio,p=this.listVariables,u=this.options.var;if(null==a||null==r||null==s)return null;var m=glhp.crgs("div","","");function b(e,t,i){if(t){let a=glhp.crgs("div",e,""),n=GraphicHelper.createSvgTag("",r,s);return a.appendChild(n),m.appendChild(a),a.style.display=i,t.forEach(e=>{Math.floor(100*Math.random());let t="p"+Math.floor(100*Math.random())+"path",i=glhp.crgs("g","","");n.appendChild(i),GraphicHelper.createPathTag(i,t,r,s,e.fi,e.str,e.stw,e.d)},this),a}}function f(e,t,a){if(t){let o=glhp.crgs("div",e,""),h=(Math.min(r,50)-n)/2,d=(s-l)/2;m.appendChild(o),GraphicHelper.setStyle(o,[["position","absolute"],["left",h*i+"px"],["top",d+"px"],["width",n+"px"],["height",l+"px"],["display",a]]);let c=GraphicHelper.createSvgTag("",n,l);return o.appendChild(c),t.forEach(e=>{Math.floor(100*Math.random());var t="p"+Math.floor(100*Math.random())+"path",a=glhp.crgs("g","","");c.appendChild(a),e.tra&&a.setAttribute("transform","matrix("+e.tra+")"),GraphicHelper.createPathTag(a,t,n,l,e.fi,e.str,e.stw*i,e.d)}),o}}function g(e,t){let i=gvaez(t,DOC);i&&(i.val=e,vbcwg(i))}var w=0==isMobile?this.options.bacdt:isTabletLandscape?this.options.bactls:isTabletPortrait?this.options.bactp:isMobileLandscape?this.options.bacmls:isMobilePortrait?this.options.bacmp:this.options.bac,y=0==isMobile?this.options.selbacdt:isTabletLandscape?this.options.selbactls:isTabletPortrait?this.options.selbactp:isMobileLandscape?this.options.selbacmls:isMobilePortrait?this.options.selbacmp:this.options.selbac,v=0==isMobile?this.options.selboxdt:isTabletLandscape?this.options.selboxtls:isTabletPortrait?this.options.selboxtp:isMobileLandscape?this.options.selboxmls:isMobilePortrait?this.options.selboxmp:this.options.selbox,C=0==isMobile?this.options.boxdt:isTabletLandscape?this.options.boxtls:isTabletPortrait?this.options.boxtp:isMobileLandscape?this.options.boxmls:isMobilePortrait?this.options.boxmp:this.options.box,T=0==isMobile?this.options.chedt:isTabletLandscape?this.options.chetls:isTabletPortrait?this.options.chetp:isMobileLandscape?this.options.chemls:isMobilePortrait?this.options.chemp:this.options.che;let S=b.call(this,a+"_bg",w,o?"none":"block"),x=b.call(this,a+"_selbg",y,0==o?"none":"block"),A=(function(e){if(e){let t=GraphicHelper.createSvgTag("",r,s),a=TextModule.grezByParas(e,"radio"),n=GraphicHelper.createBrush(a,h,"",r,s),l=`translate(${50*i}, 0) scale(${i}, ${i})`;a.style.cssText=`transform: ${l} !important;`,a.setAttribute("transform",l),n&&a.setAttribute("fill",n),m.appendChild(t),t.appendChild(a)}}(d),f(a+"_box",C,o?"none":"block")),M=f(a+"_selbox",v,0==o?"none":"block"),G=f(a+"_che",T,0==o?"none":"block");A&&$(A).mousedown((function(e){c&&c.forEach(e=>{let t=document.getElementById(e+"_bg"),i=document.getElementById(e+"_selbg"),a=document.getElementById(e+"_che"),r=document.getElementById(e+"_box"),s=document.getElementById(e+"_selbox");t&&i&&a&&s&&(t.style.display=r.style.display="block",i.style.display=a.style.display=s.style.display="none")}),p&&p.forEach(e=>{e!=u&&g(!1,e)}),S&&x&&G&&A&&M&&(S.style.display=A.style.display="none",x.style.display=G.style.display=M.style.display="block"),g(!0,u)}));var{tri:D}=this.options;return InteractiveHelper.stopPropagation(D,this.options.id,m),m},e.prototype.drawCanvas=async function(e){e.save();this.options.id;let t=this.options.w,i=this.options.h,a=this.options.boxwid,r=this.options.boxhei,s="true"==this.options.varval,n=this.options.txt;if(this.options.bac&&this.options.bac.forEach(async a=>{e.save();var r=new Path2D(a.d),s=await FillColorHelper.getCanvasColor(a.str,{id:2,width:t,height:i},e);e.restore(),e.save(),e.strokeStyle=s,e.lineWidth=a.stw,e.stroke(r),e.restore()}),this.options.selbac&&this.options.selbac.forEach(t=>{e.save();var i=new Path2D(t.d);e.fillStyle=t.fi.col,e.strokeStyle=t.str.col,e.lineWidth=t.stw,e.fill(i),e.stroke(i),e.restore()}),this.options.box&&!s){e.save();let s=(Math.min(t,50)-a)/2,n=(i-r)/2;this.options.box.forEach(async t=>{e.save();var i=await FillColorHelper.getCanvasColor(t.fi,{id:1,width:a,height:r},e);e.restore(),e.save();var l=await FillColorHelper.getCanvasColor(t.str,{id:2,width:a,height:r},e);e.restore(),e.save(),e.fillStyle=i,e.strokeStyle=l,e.lineWidth=t.stw;var o=new Path2D(t.d);e.translate(s,n),e.fill(o),e.stroke(o),e.restore()}),e.restore()}if(this.options.selbox&&s){e.save();let s=(Math.min(t,50)-a)/2,n=(i-r)/2;this.options.selbox.forEach(async t=>{e.save();var i=await FillColorHelper.getCanvasColor(t.fi,{id:1,width:a,height:r},e);e.restore(),e.save();var l=await FillColorHelper.getCanvasColor(t.str,{id:2,width:a,height:r},e);e.restore(),e.save(),e.fillStyle=i,e.strokeStyle=l,e.lineWidth=t.stw;var o=new Path2D(t.d);e.translate(s,n),e.fill(o),e.stroke(o),e.restore()}),e.restore()}n&&(e.save(),e.translate(50,0),await TextModule.drawCanvasByParas(n,e),e.restore()),e.restore()},e}();glrs.addModule({Level:glen.ModuleLevel.Element,ContentType:"Radio",grez:function(e,t){let i=[],a=[];return t.lts.forEach(e=>{e.e.forEach(e=>{"Radio"==e.c&&(e.id&&i.push(e.id),e.var&&a.push(e.var))})}),new RadioObject(e,i,a).genRadioObject()},drawCanvas:async function(e,t,i){let a=[],r=[];t.lts.forEach(e=>{e.e.forEach(e=>{"Radio"==e.c&&(e.id&&a.push(e.id),e.var&&r.push(e.var))})});var s=0==isMobile?e.rtwdkt:isTabletLandscape?e.rtwtls:isTabletPortrait?e.rtwtpt:isMobileLandscape?e.rtwmls:isMobilePortrait?e.rtwmpt:e.w,n=0==isMobile?e.rthdkt:isTabletLandscape?e.rthtls:isTabletPortrait?e.rthtpt:isMobileLandscape?e.rthmls:isMobilePortrait?e.rthmpt:e.h,l=Math.min(s,n);return i.scale(l,l),new RadioObject(e,a,r).drawCanvas(i)}});var TextBoxObject=function(){function e(e){this.options=e}return e.prototype.genTextBoxObject=function(){if(null==this.options)return null;var e=0==isMobile?this.options.widdkt:isTabletLandscape?this.options.widtls:isTabletPortrait?this.options.widtpt:isMobileLandscape?this.options.widmls:isMobilePortrait?this.options.widmpt:this.options.w,t=0==isMobile?this.options.heidkt:isTabletLandscape?this.options.heitls:isTabletPortrait?this.options.heitpt:isMobileLandscape?this.options.heimls:isMobilePortrait?this.options.heimpt:this.options.h;let i=this.options.id,a=e,r=t,s=this.options.for,n=this.options.txt,l=this.options.var,o=this.options;if(null==i||null==a||null==r)return null;var h=glhp.crgs("div","","");function d(e,t){if(e){let s=GraphicHelper.createSvgTag(i,a,r);return h.appendChild(s),s.style.display=t,e.forEach(e=>{Math.floor(100*Math.random());let t="p"+Math.floor(100*Math.random())+"path",i=glhp.crgs("g","","");s.appendChild(i),GraphicHelper.createPathTag(i,t,a,r,e.fi,e.str,e.stw,e.d)},this),s}}var c=0==isMobile?this.options.bacdt:isTabletLandscape?this.options.bactls:isTabletPortrait?this.options.bactp:isMobileLandscape?this.options.bacmls:isMobilePortrait?this.options.bacmp:this.options.bac;d.call(this,c,"block"),d.call(this,this.options.selbac,"block");let p=function(e){{let t=glhp.crgs("input","","");return $(t).val(e),GraphicHelper.setStyle(t,[["font-size",r/2+"px"],["color",s],["position","absolute"],["top",r/5+"px"],["left",a/20+"px"]]),$(t).css("width",a-30+"px"),h.appendChild(t),t}}(n);$(p).change((function(){!function(e){if(""!==e){let t=gvaez(l,DOC);t&&(t.val=e,vbcwg(t))}o.currentText=e}($(this).val())}));var{tri:u}=this.options;return InteractiveHelper.stopPropagation(u,this.options.id,h),h},e.prototype.drawCanvas=async function(e){e.save();let t=this.options.w,i=this.options.h,a=this.options.for,r=this.options.currentText?this.options.currentText:this.options.varval;(function(a){a&&a.forEach(async a=>{e.save();var r=new Path2D(a.d);if(e.lineWidth=a.stw,"Gradient"==a.fi.CoT){if("Linear"==a.fi.gT){var s=await this.getCanvasgdlz(a.fi,t,i,e);e.fillStyle=s}if("Radial"==a.fi.gT){s=await this.getCanvasgdrz(a.fi,t,i,e);e.fillStyle=s}}else e.fillStyle=a.fi.col;e.strokeStyle=a.str.col,e.fill(r),e.stroke(r),e.restore()},this)}).call(this,this.options.bac);r&&(e.font=this.options.h/2+"px sans-serif",e.fillStyle=a,e.fillText(r,2,2*i/3)),e.restore()},e.prototype.getCanvasgdlz=async function(e,t,i,a){var r,s,n,l,o=e.agl,h=.5*Math.abs(t*Math.cos(o))+Math.abs(i*Math.sin(o)),d=0+t/2,c=0+i/2;r=d+h*Math.cos(o),s=c-h*Math.sin(o),n=d+h*Math.cos(o),l=c+h*Math.sin(o);for(var p=a.createLinearGradient(r,s,n,l),u=0;u<e.sts.length;u++){var m=e.sts[u];p.addColorStop(m.ofs,m.col)}return p},e.prototype.getCanvasgdrz=async function(e,t,i,a){for(var r=Math.min(t,i),s=t/r,n=i/r,l=e.cX*r,o=e.cY*r,h=r,d=a.createRadialGradient(l,o,0,l,o,h),c=0;c<e.sts.length;c++){var p=e.sts[c];d.addColorStop(p.ofs,p.col)}return a.setTransform(s,0,0,n,0,0),d},e}();glrs.addModule({Level:glen.ModuleLevel.Element,ContentType:"TextBox",grez:function(e,t){return new TextBoxObject(e).genTextBoxObject()},drawCanvas:async function(e,t,i){var a=0==isMobile?e.rtwdkt:isTabletLandscape?e.rtwtls:isTabletPortrait?e.rtwtpt:isMobileLandscape?e.rtwmls:isMobilePortrait?e.rtwmpt:e.w,r=0==isMobile?e.rthdkt:isTabletLandscape?e.rthtls:isTabletPortrait?e.rthtpt:isMobileLandscape?e.rthmls:isMobilePortrait?e.rthmpt:e.h,s=Math.min(a,r);return i.scale(s,s),await new TextBoxObject(e).drawCanvas(i)}}),$(window).on("variableValueChanged",(function(e){var t,i=[],a=0;t=glrs.crsl.Data.lts;for(var r=0;r<t.length;r++)for(var s=glrs.crsl.Data.lts[r].tri,n=0;n<s.length;n++)null!=glrs.crsl.Data.lts[r].tri[n]&&null!=glrs.crsl.Data.lts[r].tri[n].tD&&i.push(glrs.crsl.Data.lts[r].tri[n]);if(i.length>0&&(a=i.filter((function(t){if(t.tD.oI==e.variable.id)return t}))).length>0)for(let e=0;e<a.length;e++){const t=a[e];tzacmd.getTriggerAction(t)}for(var l=0;l<DOC.slds.length;l++){var o=DOC.slds[l].lts;for(r=0;r<o.length;r++){var h=o[r].e;for(n=0;n<h.length;n++)null!=h[n].ref&&tfew2(h[n])}}}));var PhetObject=function(){function e(e){this.options=e}return e.prototype.render=function(){let e=this.options.w,t=this.options.h,i=this.options.mU,a=this.options.id;var r=glhp.crgs("div"),s=0==isMobile?this.options.rtwdkt:isTabletLandscape?this.options.rtwtls:isTabletPortrait?this.options.rtwtpt:isMobileLandscape?this.options.rtwmls:isMobilePortrait?this.options.rtwmpt:1,n=0==isMobile?this.options.rthdkt:isTabletLandscape?this.options.rthtls:isTabletPortrait?this.options.rthtpt:isMobileLandscape?this.options.rthmls:isMobilePortrait?this.options.rthmpt:1,l=Math.min(s,n);r.style.transformOrigin="0 0",r.style.transform="scale("+l+","+l+")";var o=document.createElement("iframe");return o.setAttribute("src",i),o.setAttribute("width",e),o.setAttribute("height",t),o.setAttribute("title",a),o.setAttribute("frameborder","0"),o.setAttribute("allowfullscreen","true"),r.appendChild(o),r},e}();glrs.addModule({Level:glen.ModuleLevel.Element,ContentType:"Phet",grez:function(e,t){return new PhetObject(e).render()}});